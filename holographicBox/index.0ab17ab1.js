function $parcel$export(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var $parcel$global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function $parcel$interopDefault(e){return e&&e.__esModule?e.default:e}var $parcel$modules={},$parcel$inits={},parcelRequire=$parcel$global.parcelRequire94c2;null==parcelRequire&&(parcelRequire=function(e){if(e in $parcel$modules)return $parcel$modules[e].exports;if(e in $parcel$inits){var t=$parcel$inits[e];delete $parcel$inits[e];var r={id:e,exports:{}};return $parcel$modules[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n},parcelRequire.register=function(e,t){$parcel$inits[e]=t},$parcel$global.parcelRequire94c2=parcelRequire),parcelRequire.register("ilwiq",(function(e,t){$parcel$export(e.exports,"REVISION",(()=>r)),$parcel$export(e.exports,"MOUSE",(()=>n)),$parcel$export(e.exports,"TOUCH",(()=>i)),$parcel$export(e.exports,"CullFaceNone",(()=>a)),$parcel$export(e.exports,"CullFaceBack",(()=>o)),$parcel$export(e.exports,"CullFaceFront",(()=>s)),$parcel$export(e.exports,"CullFaceFrontBack",(()=>c)),$parcel$export(e.exports,"BasicShadowMap",(()=>l)),$parcel$export(e.exports,"PCFShadowMap",(()=>d)),$parcel$export(e.exports,"PCFSoftShadowMap",(()=>u)),$parcel$export(e.exports,"VSMShadowMap",(()=>h)),$parcel$export(e.exports,"FrontSide",(()=>f)),$parcel$export(e.exports,"BackSide",(()=>p)),$parcel$export(e.exports,"DoubleSide",(()=>m)),$parcel$export(e.exports,"FlatShading",(()=>v)),$parcel$export(e.exports,"SmoothShading",(()=>$)),$parcel$export(e.exports,"NoBlending",(()=>g)),$parcel$export(e.exports,"NormalBlending",(()=>b)),$parcel$export(e.exports,"AdditiveBlending",(()=>x)),$parcel$export(e.exports,"SubtractiveBlending",(()=>y)),$parcel$export(e.exports,"MultiplyBlending",(()=>w)),$parcel$export(e.exports,"CustomBlending",(()=>_)),$parcel$export(e.exports,"AddEquation",(()=>S)),$parcel$export(e.exports,"SubtractEquation",(()=>T)),$parcel$export(e.exports,"ReverseSubtractEquation",(()=>M)),$parcel$export(e.exports,"MinEquation",(()=>E)),$parcel$export(e.exports,"MaxEquation",(()=>A)),$parcel$export(e.exports,"ZeroFactor",(()=>C)),$parcel$export(e.exports,"OneFactor",(()=>L)),$parcel$export(e.exports,"SrcColorFactor",(()=>R)),$parcel$export(e.exports,"OneMinusSrcColorFactor",(()=>P)),$parcel$export(e.exports,"SrcAlphaFactor",(()=>D)),$parcel$export(e.exports,"OneMinusSrcAlphaFactor",(()=>O)),$parcel$export(e.exports,"DstAlphaFactor",(()=>I)),$parcel$export(e.exports,"OneMinusDstAlphaFactor",(()=>N)),$parcel$export(e.exports,"DstColorFactor",(()=>B)),$parcel$export(e.exports,"OneMinusDstColorFactor",(()=>z)),$parcel$export(e.exports,"SrcAlphaSaturateFactor",(()=>U)),$parcel$export(e.exports,"NeverDepth",(()=>k)),$parcel$export(e.exports,"AlwaysDepth",(()=>F)),$parcel$export(e.exports,"LessDepth",(()=>q)),$parcel$export(e.exports,"LessEqualDepth",(()=>G)),$parcel$export(e.exports,"EqualDepth",(()=>V)),$parcel$export(e.exports,"GreaterEqualDepth",(()=>H)),$parcel$export(e.exports,"GreaterDepth",(()=>j)),$parcel$export(e.exports,"NotEqualDepth",(()=>W)),$parcel$export(e.exports,"MultiplyOperation",(()=>X)),$parcel$export(e.exports,"MixOperation",(()=>K)),$parcel$export(e.exports,"AddOperation",(()=>Y)),$parcel$export(e.exports,"NoToneMapping",(()=>Z)),$parcel$export(e.exports,"LinearToneMapping",(()=>J)),$parcel$export(e.exports,"ReinhardToneMapping",(()=>Q)),$parcel$export(e.exports,"CineonToneMapping",(()=>ee)),$parcel$export(e.exports,"ACESFilmicToneMapping",(()=>te)),$parcel$export(e.exports,"CustomToneMapping",(()=>re)),$parcel$export(e.exports,"UVMapping",(()=>ne)),$parcel$export(e.exports,"CubeReflectionMapping",(()=>ie)),$parcel$export(e.exports,"CubeRefractionMapping",(()=>ae)),$parcel$export(e.exports,"EquirectangularReflectionMapping",(()=>oe)),$parcel$export(e.exports,"EquirectangularRefractionMapping",(()=>se)),$parcel$export(e.exports,"CubeUVReflectionMapping",(()=>ce)),$parcel$export(e.exports,"CubeUVRefractionMapping",(()=>le)),$parcel$export(e.exports,"RepeatWrapping",(()=>de)),$parcel$export(e.exports,"ClampToEdgeWrapping",(()=>ue)),$parcel$export(e.exports,"MirroredRepeatWrapping",(()=>he)),$parcel$export(e.exports,"NearestFilter",(()=>fe)),$parcel$export(e.exports,"NearestMipmapNearestFilter",(()=>pe)),$parcel$export(e.exports,"NearestMipMapNearestFilter",(()=>me)),$parcel$export(e.exports,"NearestMipmapLinearFilter",(()=>ve)),$parcel$export(e.exports,"NearestMipMapLinearFilter",(()=>$e)),$parcel$export(e.exports,"LinearFilter",(()=>ge)),$parcel$export(e.exports,"LinearMipmapNearestFilter",(()=>be)),$parcel$export(e.exports,"LinearMipMapNearestFilter",(()=>xe)),$parcel$export(e.exports,"LinearMipmapLinearFilter",(()=>ye)),$parcel$export(e.exports,"LinearMipMapLinearFilter",(()=>we)),$parcel$export(e.exports,"UnsignedByteType",(()=>_e)),$parcel$export(e.exports,"ByteType",(()=>Se)),$parcel$export(e.exports,"ShortType",(()=>Te)),$parcel$export(e.exports,"UnsignedShortType",(()=>Me)),$parcel$export(e.exports,"IntType",(()=>Ee)),$parcel$export(e.exports,"UnsignedIntType",(()=>Ae)),$parcel$export(e.exports,"FloatType",(()=>Ce)),$parcel$export(e.exports,"HalfFloatType",(()=>Le)),$parcel$export(e.exports,"UnsignedShort4444Type",(()=>Re)),$parcel$export(e.exports,"UnsignedShort5551Type",(()=>Pe)),$parcel$export(e.exports,"UnsignedInt248Type",(()=>De)),$parcel$export(e.exports,"AlphaFormat",(()=>Oe)),$parcel$export(e.exports,"RGBFormat",(()=>Ie)),$parcel$export(e.exports,"RGBAFormat",(()=>Ne)),$parcel$export(e.exports,"LuminanceFormat",(()=>Be)),$parcel$export(e.exports,"LuminanceAlphaFormat",(()=>ze)),$parcel$export(e.exports,"DepthFormat",(()=>Ue)),$parcel$export(e.exports,"DepthStencilFormat",(()=>ke)),$parcel$export(e.exports,"RedFormat",(()=>Fe)),$parcel$export(e.exports,"RedIntegerFormat",(()=>qe)),$parcel$export(e.exports,"RGFormat",(()=>Ge)),$parcel$export(e.exports,"RGIntegerFormat",(()=>Ve)),$parcel$export(e.exports,"RGBAIntegerFormat",(()=>He)),$parcel$export(e.exports,"RGB_S3TC_DXT1_Format",(()=>je)),$parcel$export(e.exports,"RGBA_S3TC_DXT1_Format",(()=>We)),$parcel$export(e.exports,"RGBA_S3TC_DXT3_Format",(()=>Xe)),$parcel$export(e.exports,"RGBA_S3TC_DXT5_Format",(()=>Ke)),$parcel$export(e.exports,"RGB_PVRTC_4BPPV1_Format",(()=>Ye)),$parcel$export(e.exports,"RGB_PVRTC_2BPPV1_Format",(()=>Ze)),$parcel$export(e.exports,"RGBA_PVRTC_4BPPV1_Format",(()=>Je)),$parcel$export(e.exports,"RGBA_PVRTC_2BPPV1_Format",(()=>Qe)),$parcel$export(e.exports,"RGB_ETC1_Format",(()=>et)),$parcel$export(e.exports,"RGB_ETC2_Format",(()=>tt)),$parcel$export(e.exports,"RGBA_ETC2_EAC_Format",(()=>rt)),$parcel$export(e.exports,"RGBA_ASTC_4x4_Format",(()=>nt)),$parcel$export(e.exports,"RGBA_ASTC_5x4_Format",(()=>it)),$parcel$export(e.exports,"RGBA_ASTC_5x5_Format",(()=>at)),$parcel$export(e.exports,"RGBA_ASTC_6x5_Format",(()=>ot)),$parcel$export(e.exports,"RGBA_ASTC_6x6_Format",(()=>st)),$parcel$export(e.exports,"RGBA_ASTC_8x5_Format",(()=>ct)),$parcel$export(e.exports,"RGBA_ASTC_8x6_Format",(()=>lt)),$parcel$export(e.exports,"RGBA_ASTC_8x8_Format",(()=>dt)),$parcel$export(e.exports,"RGBA_ASTC_10x5_Format",(()=>ut)),$parcel$export(e.exports,"RGBA_ASTC_10x6_Format",(()=>ht)),$parcel$export(e.exports,"RGBA_ASTC_10x8_Format",(()=>ft)),$parcel$export(e.exports,"RGBA_ASTC_10x10_Format",(()=>pt)),$parcel$export(e.exports,"RGBA_ASTC_12x10_Format",(()=>mt)),$parcel$export(e.exports,"RGBA_ASTC_12x12_Format",(()=>vt)),$parcel$export(e.exports,"RGBA_BPTC_Format",(()=>$t)),$parcel$export(e.exports,"LoopOnce",(()=>gt)),$parcel$export(e.exports,"LoopRepeat",(()=>bt)),$parcel$export(e.exports,"LoopPingPong",(()=>xt)),$parcel$export(e.exports,"InterpolateDiscrete",(()=>yt)),$parcel$export(e.exports,"InterpolateLinear",(()=>wt)),$parcel$export(e.exports,"InterpolateSmooth",(()=>_t)),$parcel$export(e.exports,"ZeroCurvatureEnding",(()=>St)),$parcel$export(e.exports,"ZeroSlopeEnding",(()=>Tt)),$parcel$export(e.exports,"WrapAroundEnding",(()=>Mt)),$parcel$export(e.exports,"NormalAnimationBlendMode",(()=>Et)),$parcel$export(e.exports,"AdditiveAnimationBlendMode",(()=>At)),$parcel$export(e.exports,"TrianglesDrawMode",(()=>Ct)),$parcel$export(e.exports,"TriangleStripDrawMode",(()=>Lt)),$parcel$export(e.exports,"TriangleFanDrawMode",(()=>Rt)),$parcel$export(e.exports,"LinearEncoding",(()=>Pt)),$parcel$export(e.exports,"sRGBEncoding",(()=>Dt)),$parcel$export(e.exports,"BasicDepthPacking",(()=>Ot)),$parcel$export(e.exports,"RGBADepthPacking",(()=>It)),$parcel$export(e.exports,"TangentSpaceNormalMap",(()=>Nt)),$parcel$export(e.exports,"ObjectSpaceNormalMap",(()=>Bt)),$parcel$export(e.exports,"ZeroStencilOp",(()=>zt)),$parcel$export(e.exports,"KeepStencilOp",(()=>Ut)),$parcel$export(e.exports,"ReplaceStencilOp",(()=>kt)),$parcel$export(e.exports,"IncrementStencilOp",(()=>Ft)),$parcel$export(e.exports,"DecrementStencilOp",(()=>qt)),$parcel$export(e.exports,"IncrementWrapStencilOp",(()=>Gt)),$parcel$export(e.exports,"DecrementWrapStencilOp",(()=>Vt)),$parcel$export(e.exports,"InvertStencilOp",(()=>Ht)),$parcel$export(e.exports,"NeverStencilFunc",(()=>jt)),$parcel$export(e.exports,"LessStencilFunc",(()=>Wt)),$parcel$export(e.exports,"EqualStencilFunc",(()=>Xt)),$parcel$export(e.exports,"LessEqualStencilFunc",(()=>Kt)),$parcel$export(e.exports,"GreaterStencilFunc",(()=>Yt)),$parcel$export(e.exports,"NotEqualStencilFunc",(()=>Zt)),$parcel$export(e.exports,"GreaterEqualStencilFunc",(()=>Jt)),$parcel$export(e.exports,"AlwaysStencilFunc",(()=>Qt)),$parcel$export(e.exports,"StaticDrawUsage",(()=>er)),$parcel$export(e.exports,"DynamicDrawUsage",(()=>tr)),$parcel$export(e.exports,"StreamDrawUsage",(()=>rr)),$parcel$export(e.exports,"StaticReadUsage",(()=>nr)),$parcel$export(e.exports,"DynamicReadUsage",(()=>ir)),$parcel$export(e.exports,"StreamReadUsage",(()=>ar)),$parcel$export(e.exports,"StaticCopyUsage",(()=>or)),$parcel$export(e.exports,"DynamicCopyUsage",(()=>sr)),$parcel$export(e.exports,"StreamCopyUsage",(()=>cr)),$parcel$export(e.exports,"GLSL1",(()=>lr)),$parcel$export(e.exports,"GLSL3",(()=>dr)),$parcel$export(e.exports,"_SRGBAFormat",(()=>ur)),$parcel$export(e.exports,"EventDispatcher",(()=>hr)),$parcel$export(e.exports,"Math",(()=>Sr)),$parcel$export(e.exports,"Vector2",(()=>Tr)),$parcel$export(e.exports,"Matrix3",(()=>Mr)),$parcel$export(e.exports,"Color",(()=>Br)),$parcel$export(e.exports,"ImageUtils",(()=>Ur)),$parcel$export(e.exports,"Texture",(()=>Fr)),$parcel$export(e.exports,"Vector4",(()=>Gr)),$parcel$export(e.exports,"WebGLRenderTarget",(()=>Vr)),$parcel$export(e.exports,"WebGLMultipleRenderTargets",(()=>Hr)),$parcel$export(e.exports,"WebGLMultisampleRenderTarget",(()=>jr)),$parcel$export(e.exports,"Quaternion",(()=>Wr)),$parcel$export(e.exports,"Vector3",(()=>Xr)),$parcel$export(e.exports,"Box3",(()=>Zr)),$parcel$export(e.exports,"Sphere",(()=>$n)),$parcel$export(e.exports,"Ray",(()=>Tn)),$parcel$export(e.exports,"Matrix4",(()=>Mn)),$parcel$export(e.exports,"Euler",(()=>Nn)),$parcel$export(e.exports,"Layers",(()=>Bn)),$parcel$export(e.exports,"Object3D",(()=>Zn)),$parcel$export(e.exports,"Triangle",(()=>ci)),$parcel$export(e.exports,"Material",(()=>di)),$parcel$export(e.exports,"MeshBasicMaterial",(()=>ui)),$parcel$export(e.exports,"BufferAttribute",(()=>pi)),$parcel$export(e.exports,"Int8BufferAttribute",(()=>mi)),$parcel$export(e.exports,"Uint8BufferAttribute",(()=>vi)),$parcel$export(e.exports,"Uint8ClampedBufferAttribute",(()=>$i)),$parcel$export(e.exports,"Int16BufferAttribute",(()=>gi)),$parcel$export(e.exports,"Uint16BufferAttribute",(()=>bi)),$parcel$export(e.exports,"Int32BufferAttribute",(()=>xi)),$parcel$export(e.exports,"Uint32BufferAttribute",(()=>yi)),$parcel$export(e.exports,"Float16BufferAttribute",(()=>wi)),$parcel$export(e.exports,"Float32BufferAttribute",(()=>_i)),$parcel$export(e.exports,"Float64BufferAttribute",(()=>Si)),$parcel$export(e.exports,"BufferGeometry",(()=>Pi)),$parcel$export(e.exports,"Mesh",(()=>Yi)),$parcel$export(e.exports,"BoxBufferGeometry",(()=>Ji)),$parcel$export(e.exports,"UniformsUtils",(()=>ta)),$parcel$export(e.exports,"ShaderMaterial",(()=>ra)),$parcel$export(e.exports,"Camera",(()=>na)),$parcel$export(e.exports,"PerspectiveCamera",(()=>ia)),$parcel$export(e.exports,"CubeCamera",(()=>oa)),$parcel$export(e.exports,"CubeTexture",(()=>sa)),$parcel$export(e.exports,"WebGLCubeRenderTarget",(()=>ca)),$parcel$export(e.exports,"Plane",(()=>ha)),$parcel$export(e.exports,"Frustum",(()=>ma)),$parcel$export(e.exports,"PlaneBufferGeometry",(()=>ga)),$parcel$export(e.exports,"ShaderChunk",(()=>ba)),$parcel$export(e.exports,"UniformsLib",(()=>xa)),$parcel$export(e.exports,"ShaderLib",(()=>ya)),$parcel$export(e.exports,"OrthographicCamera",(()=>Aa)),$parcel$export(e.exports,"RawShaderMaterial",(()=>Ca)),$parcel$export(e.exports,"PMREMGenerator",(()=>Ga)),$parcel$export(e.exports,"DataTexture2DArray",(()=>to)),$parcel$export(e.exports,"DataTexture3D",(()=>so)),$parcel$export(e.exports,"MeshDepthMaterial",(()=>js)),$parcel$export(e.exports,"MeshDistanceMaterial",(()=>Ws)),$parcel$export(e.exports,"WebGLUtils",(()=>Zs)),$parcel$export(e.exports,"ArrayCamera",(()=>Js)),$parcel$export(e.exports,"Group",(()=>Qs)),$parcel$export(e.exports,"DepthTexture",(()=>rc)),$parcel$export(e.exports,"WebGLRenderer",(()=>ac)),$parcel$export(e.exports,"WebGL1Renderer",(()=>oc)),$parcel$export(e.exports,"FogExp2",(()=>sc)),$parcel$export(e.exports,"Fog",(()=>cc)),$parcel$export(e.exports,"Scene",(()=>lc)),$parcel$export(e.exports,"InterleavedBuffer",(()=>dc)),$parcel$export(e.exports,"InterleavedBufferAttribute",(()=>hc)),$parcel$export(e.exports,"SpriteMaterial",(()=>fc)),$parcel$export(e.exports,"Sprite",(()=>Ec)),$parcel$export(e.exports,"LOD",(()=>Rc)),$parcel$export(e.exports,"SkinnedMesh",(()=>Bc)),$parcel$export(e.exports,"Bone",(()=>zc)),$parcel$export(e.exports,"DataTexture",(()=>Uc)),$parcel$export(e.exports,"Skeleton",(()=>qc)),$parcel$export(e.exports,"InstancedBufferAttribute",(()=>Gc)),$parcel$export(e.exports,"InstancedMesh",(()=>Xc)),$parcel$export(e.exports,"LineBasicMaterial",(()=>Kc)),$parcel$export(e.exports,"Line",(()=>tl)),$parcel$export(e.exports,"LineSegments",(()=>il)),$parcel$export(e.exports,"LineLoop",(()=>al)),$parcel$export(e.exports,"PointsMaterial",(()=>ol)),$parcel$export(e.exports,"Points",(()=>ul)),$parcel$export(e.exports,"VideoTexture",(()=>fl)),$parcel$export(e.exports,"FramebufferTexture",(()=>pl)),$parcel$export(e.exports,"CompressedTexture",(()=>ml)),$parcel$export(e.exports,"CanvasTexture",(()=>vl)),$parcel$export(e.exports,"CircleBufferGeometry",(()=>$l)),$parcel$export(e.exports,"CylinderBufferGeometry",(()=>gl)),$parcel$export(e.exports,"ConeBufferGeometry",(()=>bl)),$parcel$export(e.exports,"PolyhedronBufferGeometry",(()=>xl)),$parcel$export(e.exports,"DodecahedronBufferGeometry",(()=>yl)),$parcel$export(e.exports,"EdgesGeometry",(()=>Ml)),$parcel$export(e.exports,"Curve",(()=>El)),$parcel$export(e.exports,"EllipseCurve",(()=>Al)),$parcel$export(e.exports,"ArcCurve",(()=>Cl)),$parcel$export(e.exports,"CatmullRomCurve3",(()=>Il)),$parcel$export(e.exports,"CubicBezierCurve",(()=>Ul)),$parcel$export(e.exports,"CubicBezierCurve3",(()=>kl)),$parcel$export(e.exports,"LineCurve",(()=>Fl)),$parcel$export(e.exports,"LineCurve3",(()=>ql)),$parcel$export(e.exports,"QuadraticBezierCurve",(()=>Gl)),$parcel$export(e.exports,"QuadraticBezierCurve3",(()=>Vl)),$parcel$export(e.exports,"SplineCurve",(()=>Hl)),$parcel$export(e.exports,"CurvePath",(()=>Wl)),$parcel$export(e.exports,"Path",(()=>Xl)),$parcel$export(e.exports,"Shape",(()=>Kl)),$parcel$export(e.exports,"ShapeUtils",(()=>yd)),$parcel$export(e.exports,"ExtrudeBufferGeometry",(()=>Sd)),$parcel$export(e.exports,"IcosahedronBufferGeometry",(()=>Md)),$parcel$export(e.exports,"LatheBufferGeometry",(()=>Ed)),$parcel$export(e.exports,"OctahedronBufferGeometry",(()=>Ad)),$parcel$export(e.exports,"RingBufferGeometry",(()=>Cd)),$parcel$export(e.exports,"ShapeBufferGeometry",(()=>Ld)),$parcel$export(e.exports,"SphereBufferGeometry",(()=>Rd)),$parcel$export(e.exports,"TetrahedronBufferGeometry",(()=>Pd)),$parcel$export(e.exports,"TorusBufferGeometry",(()=>Dd)),$parcel$export(e.exports,"TorusKnotBufferGeometry",(()=>Od)),$parcel$export(e.exports,"TubeBufferGeometry",(()=>Id)),$parcel$export(e.exports,"WireframeGeometry",(()=>Nd)),$parcel$export(e.exports,"ShadowMaterial",(()=>Ud)),$parcel$export(e.exports,"MeshStandardMaterial",(()=>kd)),$parcel$export(e.exports,"MeshPhysicalMaterial",(()=>Fd)),$parcel$export(e.exports,"MeshPhongMaterial",(()=>qd)),$parcel$export(e.exports,"MeshToonMaterial",(()=>Gd)),$parcel$export(e.exports,"MeshNormalMaterial",(()=>Vd)),$parcel$export(e.exports,"MeshLambertMaterial",(()=>Hd)),$parcel$export(e.exports,"MeshMatcapMaterial",(()=>jd)),$parcel$export(e.exports,"LineDashedMaterial",(()=>Wd)),$parcel$export(e.exports,"AnimationUtils",(()=>Kd)),$parcel$export(e.exports,"Interpolant",(()=>Yd)),$parcel$export(e.exports,"CubicInterpolant",(()=>Zd)),$parcel$export(e.exports,"LinearInterpolant",(()=>Jd)),$parcel$export(e.exports,"DiscreteInterpolant",(()=>Qd)),$parcel$export(e.exports,"KeyframeTrack",(()=>eu)),$parcel$export(e.exports,"BooleanKeyframeTrack",(()=>tu)),$parcel$export(e.exports,"ColorKeyframeTrack",(()=>ru)),$parcel$export(e.exports,"NumberKeyframeTrack",(()=>nu)),$parcel$export(e.exports,"QuaternionLinearInterpolant",(()=>iu)),$parcel$export(e.exports,"QuaternionKeyframeTrack",(()=>au)),$parcel$export(e.exports,"StringKeyframeTrack",(()=>ou)),$parcel$export(e.exports,"VectorKeyframeTrack",(()=>su)),$parcel$export(e.exports,"AnimationClip",(()=>cu)),$parcel$export(e.exports,"Cache",(()=>du)),$parcel$export(e.exports,"LoadingManager",(()=>uu)),$parcel$export(e.exports,"DefaultLoadingManager",(()=>hu)),$parcel$export(e.exports,"Loader",(()=>fu)),$parcel$export(e.exports,"FileLoader",(()=>mu)),$parcel$export(e.exports,"AnimationLoader",(()=>vu)),$parcel$export(e.exports,"CompressedTextureLoader",(()=>$u)),$parcel$export(e.exports,"ImageLoader",(()=>gu)),$parcel$export(e.exports,"CubeTextureLoader",(()=>bu)),$parcel$export(e.exports,"DataTextureLoader",(()=>xu)),$parcel$export(e.exports,"TextureLoader",(()=>yu)),$parcel$export(e.exports,"Light",(()=>wu)),$parcel$export(e.exports,"HemisphereLight",(()=>_u)),$parcel$export(e.exports,"SpotLight",(()=>Cu)),$parcel$export(e.exports,"PointLight",(()=>Ou)),$parcel$export(e.exports,"DirectionalLight",(()=>Nu)),$parcel$export(e.exports,"AmbientLight",(()=>Bu)),$parcel$export(e.exports,"RectAreaLight",(()=>zu)),$parcel$export(e.exports,"SphericalHarmonics3",(()=>Uu)),$parcel$export(e.exports,"LightProbe",(()=>ku)),$parcel$export(e.exports,"MaterialLoader",(()=>Fu)),$parcel$export(e.exports,"LoaderUtils",(()=>qu)),$parcel$export(e.exports,"InstancedBufferGeometry",(()=>Gu)),$parcel$export(e.exports,"BufferGeometryLoader",(()=>Vu)),$parcel$export(e.exports,"ObjectLoader",(()=>Hu)),$parcel$export(e.exports,"ImageBitmapLoader",(()=>Ku)),$parcel$export(e.exports,"AudioContext",(()=>Zu)),$parcel$export(e.exports,"AudioLoader",(()=>Ju)),$parcel$export(e.exports,"HemisphereLightProbe",(()=>Qu)),$parcel$export(e.exports,"AmbientLightProbe",(()=>eh)),$parcel$export(e.exports,"StereoCamera",(()=>ih)),$parcel$export(e.exports,"Clock",(()=>ah)),$parcel$export(e.exports,"AudioListener",(()=>uh)),$parcel$export(e.exports,"Audio",(()=>hh)),$parcel$export(e.exports,"PositionalAudio",(()=>$h)),$parcel$export(e.exports,"AudioAnalyser",(()=>gh)),$parcel$export(e.exports,"PropertyMixer",(()=>bh)),$parcel$export(e.exports,"PropertyBinding",(()=>Lh)),$parcel$export(e.exports,"AnimationObjectGroup",(()=>Rh)),$parcel$export(e.exports,"AnimationMixer",(()=>Dh)),$parcel$export(e.exports,"Uniform",(()=>Oh)),$parcel$export(e.exports,"InstancedInterleavedBuffer",(()=>Ih)),$parcel$export(e.exports,"GLBufferAttribute",(()=>Nh)),$parcel$export(e.exports,"Raycaster",(()=>Bh)),$parcel$export(e.exports,"Spherical",(()=>kh)),$parcel$export(e.exports,"Cylindrical",(()=>Fh)),$parcel$export(e.exports,"Box2",(()=>Gh)),$parcel$export(e.exports,"Line3",(()=>jh)),$parcel$export(e.exports,"SpotLightHelper",(()=>Xh)),$parcel$export(e.exports,"SkeletonHelper",(()=>Jh)),$parcel$export(e.exports,"PointLightHelper",(()=>ef)),$parcel$export(e.exports,"HemisphereLightHelper",(()=>af)),$parcel$export(e.exports,"GridHelper",(()=>of)),$parcel$export(e.exports,"PolarGridHelper",(()=>sf)),$parcel$export(e.exports,"DirectionalLightHelper",(()=>uf)),$parcel$export(e.exports,"CameraHelper",(()=>pf)),$parcel$export(e.exports,"BoxHelper",(()=>$f)),$parcel$export(e.exports,"Box3Helper",(()=>gf)),$parcel$export(e.exports,"PlaneHelper",(()=>bf)),$parcel$export(e.exports,"ArrowHelper",(()=>_f)),$parcel$export(e.exports,"AxesHelper",(()=>Sf)),$parcel$export(e.exports,"ShapePath",(()=>Tf)),$parcel$export(e.exports,"DataUtils",(()=>Af)),$parcel$export(e.exports,"LineStrip",(()=>Cf)),$parcel$export(e.exports,"LinePieces",(()=>Lf)),$parcel$export(e.exports,"NoColors",(()=>Rf)),$parcel$export(e.exports,"FaceColors",(()=>Pf)),$parcel$export(e.exports,"VertexColors",(()=>Df)),$parcel$export(e.exports,"MeshFaceMaterial",(()=>Of)),$parcel$export(e.exports,"MultiMaterial",(()=>If)),$parcel$export(e.exports,"PointCloud",(()=>Nf)),$parcel$export(e.exports,"Particle",(()=>Bf)),$parcel$export(e.exports,"ParticleSystem",(()=>zf)),$parcel$export(e.exports,"PointCloudMaterial",(()=>Uf)),$parcel$export(e.exports,"ParticleBasicMaterial",(()=>kf)),$parcel$export(e.exports,"ParticleSystemMaterial",(()=>Ff)),$parcel$export(e.exports,"Vertex",(()=>qf)),$parcel$export(e.exports,"DynamicBufferAttribute",(()=>Gf)),$parcel$export(e.exports,"Int8Attribute",(()=>Vf)),$parcel$export(e.exports,"Uint8Attribute",(()=>Hf)),$parcel$export(e.exports,"Uint8ClampedAttribute",(()=>jf)),$parcel$export(e.exports,"Int16Attribute",(()=>Wf)),$parcel$export(e.exports,"Uint16Attribute",(()=>Xf)),$parcel$export(e.exports,"Int32Attribute",(()=>Kf)),$parcel$export(e.exports,"Uint32Attribute",(()=>Yf)),$parcel$export(e.exports,"Float32Attribute",(()=>Zf)),$parcel$export(e.exports,"Float64Attribute",(()=>Jf)),$parcel$export(e.exports,"AxisHelper",(()=>Qf)),$parcel$export(e.exports,"BoundingBoxHelper",(()=>ep)),$parcel$export(e.exports,"EdgesHelper",(()=>tp)),$parcel$export(e.exports,"WireframeHelper",(()=>rp)),$parcel$export(e.exports,"XHRLoader",(()=>np)),$parcel$export(e.exports,"BinaryTextureLoader",(()=>ip)),$parcel$export(e.exports,"WebGLRenderTargetCube",(()=>ap)),$parcel$export(e.exports,"CanvasRenderer",(()=>op)),$parcel$export(e.exports,"JSONLoader",(()=>sp)),$parcel$export(e.exports,"SceneUtils",(()=>cp)),$parcel$export(e.exports,"LensFlare",(()=>lp)),$parcel$export(e.exports,"ParametricGeometry",(()=>dp)),$parcel$export(e.exports,"TextGeometry",(()=>up)),$parcel$export(e.exports,"FontLoader",(()=>hp)),$parcel$export(e.exports,"Font",(()=>fp)),$parcel$export(e.exports,"ImmediateRenderObject",(()=>pp)),$parcel$export(e.exports,"BoxGeometry",(()=>Ji)),$parcel$export(e.exports,"CircleGeometry",(()=>$l)),$parcel$export(e.exports,"ConeGeometry",(()=>bl)),$parcel$export(e.exports,"CylinderGeometry",(()=>gl)),$parcel$export(e.exports,"DodecahedronGeometry",(()=>yl)),$parcel$export(e.exports,"ExtrudeGeometry",(()=>Sd)),$parcel$export(e.exports,"IcosahedronGeometry",(()=>Md)),$parcel$export(e.exports,"LatheGeometry",(()=>Ed)),$parcel$export(e.exports,"MathUtils",(()=>Sr)),$parcel$export(e.exports,"OctahedronGeometry",(()=>Ad)),$parcel$export(e.exports,"PlaneGeometry",(()=>ga)),$parcel$export(e.exports,"PolyhedronGeometry",(()=>xl)),$parcel$export(e.exports,"RingGeometry",(()=>Cd)),$parcel$export(e.exports,"ShapeGeometry",(()=>Ld)),$parcel$export(e.exports,"SphereGeometry",(()=>Rd)),$parcel$export(e.exports,"TetrahedronGeometry",(()=>Pd)),$parcel$export(e.exports,"TorusGeometry",(()=>Dd)),$parcel$export(e.exports,"TorusKnotGeometry",(()=>Od)),$parcel$export(e.exports,"TubeGeometry",(()=>Id));
/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
const r="137",n={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},i={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},a=0,o=1,s=2,c=3,l=0,d=1,u=2,h=3,f=0,p=1,m=2,v=1,$=2,g=0,b=1,x=2,y=3,w=4,_=5,S=100,T=101,M=102,E=103,A=104,C=200,L=201,R=202,P=203,D=204,O=205,I=206,N=207,B=208,z=209,U=210,k=0,F=1,q=2,G=3,V=4,H=5,j=6,W=7,X=0,K=1,Y=2,Z=0,J=1,Q=2,ee=3,te=4,re=5,ne=300,ie=301,ae=302,oe=303,se=304,ce=306,le=307,de=1e3,ue=1001,he=1002,fe=1003,pe=1004,me=1004,ve=1005,$e=1005,ge=1006,be=1007,xe=1007,ye=1008,we=1008,_e=1009,Se=1010,Te=1011,Me=1012,Ee=1013,Ae=1014,Ce=1015,Le=1016,Re=1017,Pe=1018,De=1020,Oe=1021,Ie=1022,Ne=1023,Be=1024,ze=1025,Ue=1026,ke=1027,Fe=1028,qe=1029,Ge=1030,Ve=1031,He=1033,je=33776,We=33777,Xe=33778,Ke=33779,Ye=35840,Ze=35841,Je=35842,Qe=35843,et=36196,tt=37492,rt=37496,nt=37808,it=37809,at=37810,ot=37811,st=37812,ct=37813,lt=37814,dt=37815,ut=37816,ht=37817,ft=37818,pt=37819,mt=37820,vt=37821,$t=36492,gt=2200,bt=2201,xt=2202,yt=2300,wt=2301,_t=2302,St=2400,Tt=2401,Mt=2402,Et=2500,At=2501,Ct=0,Lt=1,Rt=2,Pt=3e3,Dt=3001,Ot=3200,It=3201,Nt=0,Bt=1,zt=0,Ut=7680,kt=7681,Ft=7682,qt=7683,Gt=34055,Vt=34056,Ht=5386,jt=512,Wt=513,Xt=514,Kt=515,Yt=516,Zt=517,Jt=518,Qt=519,er=35044,tr=35048,rr=35040,nr=35045,ir=35049,ar=35041,or=35046,sr=35050,cr=35042,lr="100",dr="300 es",ur=1035;class hr{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const r=t.slice(0);for(let t=0,n=r.length;t<n;t++)r[t].call(this,e);e.target=null}}}const fr=[];for(let e=0;e<256;e++)fr[e]=(e<16?"0":"")+e.toString(16);let pr=1234567;const mr=Math.PI/180,vr=180/Math.PI;function $r(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(fr[255&e]+fr[e>>8&255]+fr[e>>16&255]+fr[e>>24&255]+"-"+fr[255&t]+fr[t>>8&255]+"-"+fr[t>>16&15|64]+fr[t>>24&255]+"-"+fr[63&r|128]+fr[r>>8&255]+"-"+fr[r>>16&255]+fr[r>>24&255]+fr[255&n]+fr[n>>8&255]+fr[n>>16&255]+fr[n>>24&255]).toUpperCase()}function gr(e,t,r){return Math.max(t,Math.min(r,e))}function br(e,t){return(e%t+t)%t}function xr(e,t,r){return(1-r)*e+r*t}function yr(e){return 0==(e&e-1)&&0!==e}function wr(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function _r(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}var Sr=Object.freeze({__proto__:null,DEG2RAD:mr,RAD2DEG:vr,generateUUID:$r,clamp:gr,euclideanModulo:br,mapLinear:function(e,t,r,n,i){return n+(e-t)*(i-n)/(r-t)},inverseLerp:function(e,t,r){return e!==t?(r-e)/(t-e):0},lerp:xr,damp:function(e,t,r,n){return xr(e,t,1-Math.exp(-r*n))},pingpong:function(e,t=1){return t-Math.abs(br(e,2*t)-t)},smoothstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*(3-2*e)},smootherstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(pr=e%2147483647),pr=16807*pr%2147483647,(pr-1)/2147483646},degToRad:function(e){return e*mr},radToDeg:function(e){return e*vr},isPowerOfTwo:yr,ceilPowerOfTwo:wr,floorPowerOfTwo:_r,setQuaternionFromProperEuler:function(e,t,r,n,i){const a=Math.cos,o=Math.sin,s=a(r/2),c=o(r/2),l=a((t+n)/2),d=o((t+n)/2),u=a((t-n)/2),h=o((t-n)/2),f=a((n-t)/2),p=o((n-t)/2);switch(i){case"XYX":e.set(s*d,c*u,c*h,s*l);break;case"YZY":e.set(c*h,s*d,c*u,s*l);break;case"ZXZ":e.set(c*u,c*h,s*d,s*l);break;case"XZX":e.set(s*d,c*p,c*f,s*l);break;case"YXY":e.set(c*f,s*d,c*p,s*l);break;case"ZYZ":e.set(c*p,c*f,s*d,s*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}});class Tr{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,n=e.elements;return this.x=n[0]*t+n[3]*r+n[6],this.y=n[1]*t+n[4]*r+n[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),n=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*r-a*n+e.x,this.y=i*n+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Tr.prototype.isVector2=!0;class Mr{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,n,i,a,o,s,c){const l=this.elements;return l[0]=e,l[1]=n,l[2]=o,l[3]=t,l[4]=i,l[5]=s,l[6]=r,l[7]=a,l[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,n=t.elements,i=this.elements,a=r[0],o=r[3],s=r[6],c=r[1],l=r[4],d=r[7],u=r[2],h=r[5],f=r[8],p=n[0],m=n[3],v=n[6],$=n[1],g=n[4],b=n[7],x=n[2],y=n[5],w=n[8];return i[0]=a*p+o*$+s*x,i[3]=a*m+o*g+s*y,i[6]=a*v+o*b+s*w,i[1]=c*p+l*$+d*x,i[4]=c*m+l*g+d*y,i[7]=c*v+l*b+d*w,i[2]=u*p+h*$+f*x,i[5]=u*m+h*g+f*y,i[8]=u*v+h*b+f*w,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],l=e[8];return t*a*l-t*o*c-r*i*l+r*o*s+n*i*c-n*a*s}invert(){const e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],l=e[8],d=l*a-o*c,u=o*s-l*i,h=c*i-a*s,f=t*d+r*u+n*h;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const p=1/f;return e[0]=d*p,e[1]=(n*c-l*r)*p,e[2]=(o*r-n*a)*p,e[3]=u*p,e[4]=(l*t-n*s)*p,e[5]=(n*i-o*t)*p,e[6]=h*p,e[7]=(r*s-c*t)*p,e[8]=(a*t-r*i)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,n,i,a,o){const s=Math.cos(i),c=Math.sin(i);return this.set(r*s,r*c,-r*(s*a+c*o)+a+e,-n*c,n*s,-n*(-c*a+s*o)+o+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),n=this.elements,i=n[0],a=n[3],o=n[6],s=n[1],c=n[4],l=n[7];return n[0]=t*i+r*s,n[3]=t*a+r*c,n[6]=t*o+r*l,n[1]=-r*i+t*s,n[4]=-r*a+t*c,n[7]=-r*o+t*l,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let e=0;e<9;e++)if(t[e]!==r[e])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}function Er(e){for(let t=e.length-1;t>=0;--t)if(e[t]>65535)return!0;return!1}Mr.prototype.isMatrix3=!0;const Ar={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Cr(e,t){return new Ar[e](t)}function Lr(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}const Rr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Pr={h:0,s:0,l:0},Dr={h:0,s:0,l:0};function Or(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+6*(t-e)*(2/3-r):e}function Ir(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Nr(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}class Br{constructor(e,t,r){return void 0===t&&void 0===r?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}setRGB(e,t,r){return this.r=e,this.g=t,this.b=r,this}setHSL(e,t,r){if(e=br(e,1),t=gr(t,0,1),r=gr(r,0,1),0===t)this.r=this.g=this.b=r;else{const n=r<=.5?r*(1+t):r+t-r*t,i=2*r-n;this.r=Or(i,n,e+1/3),this.g=Or(i,n,e),this.b=Or(i,n,e-1/3)}return this}setStyle(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let e;const n=r[1],i=r[2];switch(n){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,t(e[4]),this;if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,t(e[4]),this;break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i)){const r=parseFloat(e[1])/360,n=parseInt(e[2],10)/100,i=parseInt(e[3],10)/100;return t(e[4]),this.setHSL(r,n,i)}}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const e=r[1],t=e.length;if(3===t)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,this;if(6===t)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=Rr[e.toLowerCase()];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ir(e.r),this.g=Ir(e.g),this.b=Ir(e.b),this}copyLinearToSRGB(e){return this.r=Nr(e.r),this.g=Nr(e.g),this.b=Nr(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const t=this.r,r=this.g,n=this.b,i=Math.max(t,r,n),a=Math.min(t,r,n);let o,s;const c=(a+i)/2;if(a===i)o=0,s=0;else{const e=i-a;switch(s=c<=.5?e/(i+a):e/(2-i-a),i){case t:o=(r-n)/e+(r<n?6:0);break;case r:o=(n-t)/e+2;break;case n:o=(t-r)/e+4}o/=6}return e.h=o,e.s=s,e.l=c,e}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(e,t,r){return this.getHSL(Pr),Pr.h+=e,Pr.s+=t,Pr.l+=r,this.setHSL(Pr.h,Pr.s,Pr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Pr),e.getHSL(Dr);const r=xr(Pr.h,Dr.h,t),n=xr(Pr.s,Dr.s,t),i=xr(Pr.l,Dr.l,t);return this.setHSL(r,n,i),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}let zr;Br.NAMES=Rr,Br.prototype.isColor=!0,Br.prototype.r=1,Br.prototype.g=1,Br.prototype.b=1;class Ur{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===zr&&(zr=Lr("canvas")),zr.width=e.width,zr.height=e.height;const r=zr.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=zr}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=Lr("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const n=r.getImageData(0,0,e.width,e.height),i=n.data;for(let e=0;e<i.length;e++)i[e]=255*Ir(i[e]/255);return r.putImageData(n,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*Ir(t[e]/255)):t[e]=Ir(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let kr=0;class Fr extends hr{constructor(e=Fr.DEFAULT_IMAGE,t=Fr.DEFAULT_MAPPING,r=ue,n=ue,i=ge,a=ye,o=Ne,s=_e,c=1,l=Pt){super(),Object.defineProperty(this,"id",{value:kr++}),this.uuid=$r(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=n,this.magFilter=i,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=s,this.offset=new Tr(0,0),this.repeat=new Tr(1,1),this.center=new Tr(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Mr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=l,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const n=this.image;if(void 0===n.uuid&&(n.uuid=$r()),!t&&void 0===e.images[n.uuid]){let t;if(Array.isArray(n)){t=[];for(let e=0,r=n.length;e<r;e++)n[e].isDataTexture?t.push(qr(n[e].image)):t.push(qr(n[e]))}else t=qr(n);e.images[n.uuid]={uuid:n.uuid,url:t}}r.image=n.uuid}return"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ne)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case de:e.x=e.x-Math.floor(e.x);break;case ue:e.x=e.x<0?0:1;break;case he:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case de:e.y=e.y-Math.floor(e.y);break;case ue:e.y=e.y<0?0:1;break;case he:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&this.version++}}function qr(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?Ur.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Fr.DEFAULT_IMAGE=void 0,Fr.DEFAULT_MAPPING=ne,Fr.prototype.isTexture=!0;class Gr{constructor(e=0,t=0,r=0,n=1){this.x=e,this.y=t,this.z=r,this.w=n}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,n=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*n+a[12]*i,this.y=a[1]*t+a[5]*r+a[9]*n+a[13]*i,this.z=a[2]*t+a[6]*r+a[10]*n+a[14]*i,this.w=a[3]*t+a[7]*r+a[11]*n+a[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,n,i;const a=.01,o=.1,s=e.elements,c=s[0],l=s[4],d=s[8],u=s[1],h=s[5],f=s[9],p=s[2],m=s[6],v=s[10];if(Math.abs(l-u)<a&&Math.abs(d-p)<a&&Math.abs(f-m)<a){if(Math.abs(l+u)<o&&Math.abs(d+p)<o&&Math.abs(f+m)<o&&Math.abs(c+h+v-3)<o)return this.set(1,0,0,0),this;t=Math.PI;const e=(c+1)/2,s=(h+1)/2,$=(v+1)/2,g=(l+u)/4,b=(d+p)/4,x=(f+m)/4;return e>s&&e>$?e<a?(r=0,n=.707106781,i=.707106781):(r=Math.sqrt(e),n=g/r,i=b/r):s>$?s<a?(r=.707106781,n=0,i=.707106781):(n=Math.sqrt(s),r=g/n,i=x/n):$<a?(r=.707106781,n=.707106781,i=0):(i=Math.sqrt($),r=b/i,n=x/i),this.set(r,n,i,t),this}let $=Math.sqrt((m-f)*(m-f)+(d-p)*(d-p)+(u-l)*(u-l));return Math.abs($)<.001&&($=1),this.x=(m-f)/$,this.y=(d-p)/$,this.z=(u-l)/$,this.w=Math.acos((c+h+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Gr.prototype.isVector4=!0;class Vr extends hr{constructor(e,t,r={}){super(),this.width=e,this.height=t,this.depth=1,this.scissor=new Gr(0,0,e,t),this.scissorTest=!1,this.viewport=new Gr(0,0,e,t),this.texture=new Fr(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:t,depth:1},this.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,this.texture.internalFormat=void 0!==r.internalFormat?r.internalFormat:null,this.texture.minFilter=void 0!==r.minFilter?r.minFilter:ge,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0!==r.stencilBuffer&&r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,r=1){this.width===e&&this.height===t&&this.depth===r||(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=Object.assign({},e.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Vr.prototype.isWebGLRenderTarget=!0;class Hr extends Vr{constructor(e,t,r){super(e,t);const n=this.texture;this.texture=[];for(let e=0;e<r;e++)this.texture[e]=n.clone()}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let n=0,i=this.texture.length;n<i;n++)this.texture[n].image.width=e,this.texture[n].image.height=t,this.texture[n].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone();return this}}Hr.prototype.isWebGLMultipleRenderTargets=!0;class jr extends Vr{constructor(e,t,r={}){super(e,t,r),this.samples=4,this.ignoreDepthForMultisampleCopy=void 0===r.ignoreDepth||r.ignoreDepth,this.useRenderToTexture=void 0!==r.useRenderToTexture&&r.useRenderToTexture,this.useRenderbuffer=!1===this.useRenderToTexture}copy(e){return super.copy.call(this,e),this.samples=e.samples,this.useRenderToTexture=e.useRenderToTexture,this.useRenderbuffer=e.useRenderbuffer,this}}jr.prototype.isWebGLMultisampleRenderTarget=!0;class Wr{constructor(e=0,t=0,r=0,n=1){this._x=e,this._y=t,this._z=r,this._w=n}static slerp(e,t,r,n){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,n)}static slerpFlat(e,t,r,n,i,a,o){let s=r[n+0],c=r[n+1],l=r[n+2],d=r[n+3];const u=i[a+0],h=i[a+1],f=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=c,e[t+2]=l,void(e[t+3]=d);if(1===o)return e[t+0]=u,e[t+1]=h,e[t+2]=f,void(e[t+3]=p);if(d!==p||s!==u||c!==h||l!==f){let e=1-o;const t=s*u+c*h+l*f+d*p,r=t>=0?1:-1,n=1-t*t;if(n>Number.EPSILON){const i=Math.sqrt(n),a=Math.atan2(i,t*r);e=Math.sin(e*a)/i,o=Math.sin(o*a)/i}const i=o*r;if(s=s*e+u*i,c=c*e+h*i,l=l*e+f*i,d=d*e+p*i,e===1-o){const e=1/Math.sqrt(s*s+c*c+l*l+d*d);s*=e,c*=e,l*=e,d*=e}}e[t]=s,e[t+1]=c,e[t+2]=l,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,n,i,a){const o=r[n],s=r[n+1],c=r[n+2],l=r[n+3],d=i[a],u=i[a+1],h=i[a+2],f=i[a+3];return e[t]=o*f+l*d+s*h-c*u,e[t+1]=s*f+l*u+c*d-o*h,e[t+2]=c*f+l*h+o*u-s*d,e[t+3]=l*f-o*d-s*u-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,n=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,c=o(r/2),l=o(n/2),d=o(i/2),u=s(r/2),h=s(n/2),f=s(i/2);switch(a){case"XYZ":this._x=u*l*d+c*h*f,this._y=c*h*d-u*l*f,this._z=c*l*f+u*h*d,this._w=c*l*d-u*h*f;break;case"YXZ":this._x=u*l*d+c*h*f,this._y=c*h*d-u*l*f,this._z=c*l*f-u*h*d,this._w=c*l*d+u*h*f;break;case"ZXY":this._x=u*l*d-c*h*f,this._y=c*h*d+u*l*f,this._z=c*l*f+u*h*d,this._w=c*l*d-u*h*f;break;case"ZYX":this._x=u*l*d-c*h*f,this._y=c*h*d+u*l*f,this._z=c*l*f-u*h*d,this._w=c*l*d+u*h*f;break;case"YZX":this._x=u*l*d+c*h*f,this._y=c*h*d+u*l*f,this._z=c*l*f-u*h*d,this._w=c*l*d-u*h*f;break;case"XZY":this._x=u*l*d-c*h*f,this._y=c*h*d-u*l*f,this._z=c*l*f+u*h*d,this._w=c*l*d+u*h*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,n=Math.sin(r);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],n=t[4],i=t[8],a=t[1],o=t[5],s=t[9],c=t[2],l=t[6],d=t[10],u=r+o+d;if(u>0){const e=.5/Math.sqrt(u+1);this._w=.25/e,this._x=(l-s)*e,this._y=(i-c)*e,this._z=(a-n)*e}else if(r>o&&r>d){const e=2*Math.sqrt(1+r-o-d);this._w=(l-s)/e,this._x=.25*e,this._y=(n+a)/e,this._z=(i+c)/e}else if(o>d){const e=2*Math.sqrt(1+o-r-d);this._w=(i-c)/e,this._x=(n+a)/e,this._y=.25*e,this._z=(s+l)/e}else{const e=2*Math.sqrt(1+d-r-o);this._w=(a-n)/e,this._x=(i+c)/e,this._y=(s+l)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(gr(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(0===r)return this;const n=Math.min(1,t/r);return this.slerp(e,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,n=e._y,i=e._z,a=e._w,o=t._x,s=t._y,c=t._z,l=t._w;return this._x=r*l+a*o+n*c-i*s,this._y=n*l+a*s+i*o-r*c,this._z=i*l+a*c+r*s-n*o,this._w=a*l-r*o-n*s-i*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const r=this._x,n=this._y,i=this._z,a=this._w;let o=a*e._w+r*e._x+n*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=r,this._y=n,this._z=i,this;const s=1-o*o;if(s<=Number.EPSILON){const e=1-t;return this._w=e*a+t*this._w,this._x=e*r+t*this._x,this._y=e*n+t*this._y,this._z=e*i+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(s),l=Math.atan2(c,o),d=Math.sin((1-t)*l)/c,u=Math.sin(t*l)/c;return this._w=a*d+this._w*u,this._x=r*d+this._x*u,this._y=n*d+this._y*u,this._z=i*d+this._z*u,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),n=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(n),r*Math.sin(i),r*Math.cos(i),t*Math.sin(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Wr.prototype.isQuaternion=!0;class Xr{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}set(e,t,r){return void 0===r&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Yr.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Yr.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6]*n,this.y=i[1]*t+i[4]*r+i[7]*n,this.z=i[2]*t+i[5]*r+i[8]*n,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,n=this.z,i=e.elements,a=1/(i[3]*t+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*t+i[4]*r+i[8]*n+i[12])*a,this.y=(i[1]*t+i[5]*r+i[9]*n+i[13])*a,this.z=(i[2]*t+i[6]*r+i[10]*n+i[14])*a,this}applyQuaternion(e){const t=this.x,r=this.y,n=this.z,i=e.x,a=e.y,o=e.z,s=e.w,c=s*t+a*n-o*r,l=s*r+o*t-i*n,d=s*n+i*r-a*t,u=-i*t-a*r-o*n;return this.x=c*s+u*-i+l*-o-d*-a,this.y=l*s+u*-a+d*-i-c*-o,this.z=d*s+u*-o+c*-a-l*-i,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[4]*r+i[8]*n,this.y=i[1]*t+i[5]*r+i[9]*n,this.z=i[2]*t+i[6]*r+i[10]*n,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,n=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=n*s-i*o,this.y=i*a-r*s,this.z=r*o-n*a,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Kr.copy(this).projectOnVector(e),this.sub(Kr)}reflect(e){return this.sub(Kr.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(gr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,n=this.z-e.z;return t*t+r*r+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const n=Math.sin(t)*e;return this.x=n*Math.sin(r),this.y=Math.cos(t)*e,this.z=n*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=n,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}Xr.prototype.isVector3=!0;const Kr=new Xr,Yr=new Wr;class Zr{constructor(e=new Xr(1/0,1/0,1/0),t=new Xr(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,n=1/0,i=-1/0,a=-1/0,o=-1/0;for(let s=0,c=e.length;s<c;s+=3){const c=e[s],l=e[s+1],d=e[s+2];c<t&&(t=c),l<r&&(r=l),d<n&&(n=d),c>i&&(i=c),l>a&&(a=l),d>o&&(o=d)}return this.min.set(t,r,n),this.max.set(i,a,o),this}setFromBufferAttribute(e){let t=1/0,r=1/0,n=1/0,i=-1/0,a=-1/0,o=-1/0;for(let s=0,c=e.count;s<c;s++){const c=e.getX(s),l=e.getY(s),d=e.getZ(s);c<t&&(t=c),l<r&&(r=l),d<n&&(n=d),c>i&&(i=c),l>a&&(a=l),d>o&&(o=d)}return this.min.set(t,r,n),this.max.set(i,a,o),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Qr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(void 0!==r)if(t&&null!=r.attributes&&void 0!==r.attributes.position){const t=r.attributes.position;for(let r=0,n=t.count;r<n;r++)Qr.fromBufferAttribute(t,r).applyMatrix4(e.matrixWorld),this.expandByPoint(Qr)}else null===r.boundingBox&&r.computeBoundingBox(),en.copy(r.boundingBox),en.applyMatrix4(e.matrixWorld),this.union(en);const n=e.children;for(let e=0,r=n.length;e<r;e++)this.expandByObject(n[e],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Qr),Qr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(cn),ln.subVectors(this.max,cn),tn.subVectors(e.a,cn),rn.subVectors(e.b,cn),nn.subVectors(e.c,cn),an.subVectors(rn,tn),on.subVectors(nn,rn),sn.subVectors(tn,nn);let t=[0,-an.z,an.y,0,-on.z,on.y,0,-sn.z,sn.y,an.z,0,-an.x,on.z,0,-on.x,sn.z,0,-sn.x,-an.y,an.x,0,-on.y,on.x,0,-sn.y,sn.x,0];return!!hn(t,tn,rn,nn,ln)&&(t=[1,0,0,0,1,0,0,0,1],!!hn(t,tn,rn,nn,ln)&&(dn.crossVectors(an,on),t=[dn.x,dn.y,dn.z],hn(t,tn,rn,nn,ln)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Qr.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(Qr).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Jr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Jr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Jr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Jr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Jr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Jr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Jr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Jr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Jr)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Zr.prototype.isBox3=!0;const Jr=[new Xr,new Xr,new Xr,new Xr,new Xr,new Xr,new Xr,new Xr],Qr=new Xr,en=new Zr,tn=new Xr,rn=new Xr,nn=new Xr,an=new Xr,on=new Xr,sn=new Xr,cn=new Xr,ln=new Xr,dn=new Xr,un=new Xr;function hn(e,t,r,n,i){for(let a=0,o=e.length-3;a<=o;a+=3){un.fromArray(e,a);const o=i.x*Math.abs(un.x)+i.y*Math.abs(un.y)+i.z*Math.abs(un.z),s=t.dot(un),c=r.dot(un),l=n.dot(un);if(Math.max(-Math.max(s,c,l),Math.min(s,c,l))>o)return!1}return!0}const fn=new Zr,pn=new Xr,mn=new Xr,vn=new Xr;class $n{constructor(e=new Xr,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;void 0!==t?r.copy(t):fn.setFromPoints(e).getCenter(r);let n=0;for(let t=0,i=e.length;t<i;t++)n=Math.max(n,r.distanceToSquared(e[t]));return this.radius=Math.sqrt(n),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){vn.subVectors(e,this.center);const t=vn.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),r=.5*(e-this.radius);this.center.add(vn.multiplyScalar(r/e)),this.radius+=r}return this}union(e){return!0===this.center.equals(e.center)?mn.set(0,0,1).multiplyScalar(e.radius):mn.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(pn.copy(e.center).add(mn)),this.expandByPoint(pn.copy(e.center).sub(mn)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const gn=new Xr,bn=new Xr,xn=new Xr,yn=new Xr,wn=new Xr,_n=new Xr,Sn=new Xr;class Tn{constructor(e=new Xr,t=new Xr(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,gn)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=gn.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(gn.copy(this.direction).multiplyScalar(t).add(this.origin),gn.distanceToSquared(e))}distanceSqToSegment(e,t,r,n){bn.copy(e).add(t).multiplyScalar(.5),xn.copy(t).sub(e).normalize(),yn.copy(this.origin).sub(bn);const i=.5*e.distanceTo(t),a=-this.direction.dot(xn),o=yn.dot(this.direction),s=-yn.dot(xn),c=yn.lengthSq(),l=Math.abs(1-a*a);let d,u,h,f;if(l>0)if(d=a*s-o,u=a*o-s,f=i*l,d>=0)if(u>=-f)if(u<=f){const e=1/l;d*=e,u*=e,h=d*(d+a*u+2*o)+u*(a*d+u+2*s)+c}else u=i,d=Math.max(0,-(a*u+o)),h=-d*d+u*(u+2*s)+c;else u=-i,d=Math.max(0,-(a*u+o)),h=-d*d+u*(u+2*s)+c;else u<=-f?(d=Math.max(0,-(-a*i+o)),u=d>0?-i:Math.min(Math.max(-i,-s),i),h=-d*d+u*(u+2*s)+c):u<=f?(d=0,u=Math.min(Math.max(-i,-s),i),h=u*(u+2*s)+c):(d=Math.max(0,-(a*i+o)),u=d>0?i:Math.min(Math.max(-i,-s),i),h=-d*d+u*(u+2*s)+c);else u=a>0?-i:i,d=Math.max(0,-(a*u+o)),h=-d*d+u*(u+2*s)+c;return r&&r.copy(this.direction).multiplyScalar(d).add(this.origin),n&&n.copy(xn).multiplyScalar(u).add(bn),h}intersectSphere(e,t){gn.subVectors(e.center,this.origin);const r=gn.dot(this.direction),n=gn.dot(gn)-r*r,i=e.radius*e.radius;if(n>i)return null;const a=Math.sqrt(i-n),o=r-a,s=r+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return null===r?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,n,i,a,o,s;const c=1/this.direction.x,l=1/this.direction.y,d=1/this.direction.z,u=this.origin;return c>=0?(r=(e.min.x-u.x)*c,n=(e.max.x-u.x)*c):(r=(e.max.x-u.x)*c,n=(e.min.x-u.x)*c),l>=0?(i=(e.min.y-u.y)*l,a=(e.max.y-u.y)*l):(i=(e.max.y-u.y)*l,a=(e.min.y-u.y)*l),r>a||i>n?null:((i>r||r!=r)&&(r=i),(a<n||n!=n)&&(n=a),d>=0?(o=(e.min.z-u.z)*d,s=(e.max.z-u.z)*d):(o=(e.max.z-u.z)*d,s=(e.min.z-u.z)*d),r>s||o>n?null:((o>r||r!=r)&&(r=o),(s<n||n!=n)&&(n=s),n<0?null:this.at(r>=0?r:n,t)))}intersectsBox(e){return null!==this.intersectBox(e,gn)}intersectTriangle(e,t,r,n,i){wn.subVectors(t,e),_n.subVectors(r,e),Sn.crossVectors(wn,_n);let a,o=this.direction.dot(Sn);if(o>0){if(n)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}yn.subVectors(this.origin,e);const s=a*this.direction.dot(_n.crossVectors(yn,_n));if(s<0)return null;const c=a*this.direction.dot(wn.cross(yn));if(c<0)return null;if(s+c>o)return null;const l=-a*yn.dot(Sn);return l<0?null:this.at(l/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Mn{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,n,i,a,o,s,c,l,d,u,h,f,p,m){const v=this.elements;return v[0]=e,v[4]=t,v[8]=r,v[12]=n,v[1]=i,v[5]=a,v[9]=o,v[13]=s,v[2]=c,v[6]=l,v[10]=d,v[14]=u,v[3]=h,v[7]=f,v[11]=p,v[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Mn).fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,n=1/En.setFromMatrixColumn(e,0).length(),i=1/En.setFromMatrixColumn(e,1).length(),a=1/En.setFromMatrixColumn(e,2).length();return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=0,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=0,t[8]=r[8]*a,t[9]=r[9]*a,t[10]=r[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,n=e.y,i=e.z,a=Math.cos(r),o=Math.sin(r),s=Math.cos(n),c=Math.sin(n),l=Math.cos(i),d=Math.sin(i);if("XYZ"===e.order){const e=a*l,r=a*d,n=o*l,i=o*d;t[0]=s*l,t[4]=-s*d,t[8]=c,t[1]=r+n*c,t[5]=e-i*c,t[9]=-o*s,t[2]=i-e*c,t[6]=n+r*c,t[10]=a*s}else if("YXZ"===e.order){const e=s*l,r=s*d,n=c*l,i=c*d;t[0]=e+i*o,t[4]=n*o-r,t[8]=a*c,t[1]=a*d,t[5]=a*l,t[9]=-o,t[2]=r*o-n,t[6]=i+e*o,t[10]=a*s}else if("ZXY"===e.order){const e=s*l,r=s*d,n=c*l,i=c*d;t[0]=e-i*o,t[4]=-a*d,t[8]=n+r*o,t[1]=r+n*o,t[5]=a*l,t[9]=i-e*o,t[2]=-a*c,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){const e=a*l,r=a*d,n=o*l,i=o*d;t[0]=s*l,t[4]=n*c-r,t[8]=e*c+i,t[1]=s*d,t[5]=i*c+e,t[9]=r*c-n,t[2]=-c,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){const e=a*s,r=a*c,n=o*s,i=o*c;t[0]=s*l,t[4]=i-e*d,t[8]=n*d+r,t[1]=d,t[5]=a*l,t[9]=-o*l,t[2]=-c*l,t[6]=r*d+n,t[10]=e-i*d}else if("XZY"===e.order){const e=a*s,r=a*c,n=o*s,i=o*c;t[0]=s*l,t[4]=-d,t[8]=c*l,t[1]=e*d+i,t[5]=a*l,t[9]=r*d-n,t[2]=n*d-r,t[6]=o*l,t[10]=i*d+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Cn,e,Ln)}lookAt(e,t,r){const n=this.elements;return Dn.subVectors(e,t),0===Dn.lengthSq()&&(Dn.z=1),Dn.normalize(),Rn.crossVectors(r,Dn),0===Rn.lengthSq()&&(1===Math.abs(r.z)?Dn.x+=1e-4:Dn.z+=1e-4,Dn.normalize(),Rn.crossVectors(r,Dn)),Rn.normalize(),Pn.crossVectors(Dn,Rn),n[0]=Rn.x,n[4]=Pn.x,n[8]=Dn.x,n[1]=Rn.y,n[5]=Pn.y,n[9]=Dn.y,n[2]=Rn.z,n[6]=Pn.z,n[10]=Dn.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,n=t.elements,i=this.elements,a=r[0],o=r[4],s=r[8],c=r[12],l=r[1],d=r[5],u=r[9],h=r[13],f=r[2],p=r[6],m=r[10],v=r[14],$=r[3],g=r[7],b=r[11],x=r[15],y=n[0],w=n[4],_=n[8],S=n[12],T=n[1],M=n[5],E=n[9],A=n[13],C=n[2],L=n[6],R=n[10],P=n[14],D=n[3],O=n[7],I=n[11],N=n[15];return i[0]=a*y+o*T+s*C+c*D,i[4]=a*w+o*M+s*L+c*O,i[8]=a*_+o*E+s*R+c*I,i[12]=a*S+o*A+s*P+c*N,i[1]=l*y+d*T+u*C+h*D,i[5]=l*w+d*M+u*L+h*O,i[9]=l*_+d*E+u*R+h*I,i[13]=l*S+d*A+u*P+h*N,i[2]=f*y+p*T+m*C+v*D,i[6]=f*w+p*M+m*L+v*O,i[10]=f*_+p*E+m*R+v*I,i[14]=f*S+p*A+m*P+v*N,i[3]=$*y+g*T+b*C+x*D,i[7]=$*w+g*M+b*L+x*O,i[11]=$*_+g*E+b*R+x*I,i[15]=$*S+g*A+b*P+x*N,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],n=e[8],i=e[12],a=e[1],o=e[5],s=e[9],c=e[13],l=e[2],d=e[6],u=e[10],h=e[14];return e[3]*(+i*s*d-n*c*d-i*o*u+r*c*u+n*o*h-r*s*h)+e[7]*(+t*s*h-t*c*u+i*a*u-n*a*h+n*c*l-i*s*l)+e[11]*(+t*c*d-t*o*h-i*a*d+r*a*h+i*o*l-r*c*l)+e[15]*(-n*o*l-t*s*d+t*o*u+n*a*d-r*a*u+r*s*l)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],l=e[8],d=e[9],u=e[10],h=e[11],f=e[12],p=e[13],m=e[14],v=e[15],$=d*m*c-p*u*c+p*s*h-o*m*h-d*s*v+o*u*v,g=f*u*c-l*m*c-f*s*h+a*m*h+l*s*v-a*u*v,b=l*p*c-f*d*c+f*o*h-a*p*h-l*o*v+a*d*v,x=f*d*s-l*p*s-f*o*u+a*p*u+l*o*m-a*d*m,y=t*$+r*g+n*b+i*x;if(0===y)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/y;return e[0]=$*w,e[1]=(p*u*i-d*m*i-p*n*h+r*m*h+d*n*v-r*u*v)*w,e[2]=(o*m*i-p*s*i+p*n*c-r*m*c-o*n*v+r*s*v)*w,e[3]=(d*s*i-o*u*i-d*n*c+r*u*c+o*n*h-r*s*h)*w,e[4]=g*w,e[5]=(l*m*i-f*u*i+f*n*h-t*m*h-l*n*v+t*u*v)*w,e[6]=(f*s*i-a*m*i-f*n*c+t*m*c+a*n*v-t*s*v)*w,e[7]=(a*u*i-l*s*i+l*n*c-t*u*c-a*n*h+t*s*h)*w,e[8]=b*w,e[9]=(f*d*i-l*p*i-f*r*h+t*p*h+l*r*v-t*d*v)*w,e[10]=(a*p*i-f*o*i+f*r*c-t*p*c-a*r*v+t*o*v)*w,e[11]=(l*o*i-a*d*i-l*r*c+t*d*c+a*r*h-t*o*h)*w,e[12]=x*w,e[13]=(l*p*n-f*d*n+f*r*u-t*p*u-l*r*m+t*d*m)*w,e[14]=(f*o*n-a*p*n-f*r*s+t*p*s+a*r*m-t*o*m)*w,e[15]=(a*d*n-l*o*n+l*r*s-t*d*s-a*r*u+t*o*u)*w,this}scale(e){const t=this.elements,r=e.x,n=e.y,i=e.z;return t[0]*=r,t[4]*=n,t[8]*=i,t[1]*=r,t[5]*=n,t[9]*=i,t[2]*=r,t[6]*=n,t[10]*=i,t[3]*=r,t[7]*=n,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,n))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),n=Math.sin(t),i=1-r,a=e.x,o=e.y,s=e.z,c=i*a,l=i*o;return this.set(c*a+r,c*o-n*s,c*s+n*o,0,c*o+n*s,l*o+r,l*s-n*a,0,c*s-n*o,l*s+n*a,i*s*s+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,n,i,a){return this.set(1,r,i,0,e,1,a,0,t,n,1,0,0,0,0,1),this}compose(e,t,r){const n=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,c=i+i,l=a+a,d=o+o,u=i*c,h=i*l,f=i*d,p=a*l,m=a*d,v=o*d,$=s*c,g=s*l,b=s*d,x=r.x,y=r.y,w=r.z;return n[0]=(1-(p+v))*x,n[1]=(h+b)*x,n[2]=(f-g)*x,n[3]=0,n[4]=(h-b)*y,n[5]=(1-(u+v))*y,n[6]=(m+$)*y,n[7]=0,n[8]=(f+g)*w,n[9]=(m-$)*w,n[10]=(1-(u+p))*w,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this}decompose(e,t,r){const n=this.elements;let i=En.set(n[0],n[1],n[2]).length();const a=En.set(n[4],n[5],n[6]).length(),o=En.set(n[8],n[9],n[10]).length();this.determinant()<0&&(i=-i),e.x=n[12],e.y=n[13],e.z=n[14],An.copy(this);const s=1/i,c=1/a,l=1/o;return An.elements[0]*=s,An.elements[1]*=s,An.elements[2]*=s,An.elements[4]*=c,An.elements[5]*=c,An.elements[6]*=c,An.elements[8]*=l,An.elements[9]*=l,An.elements[10]*=l,t.setFromRotationMatrix(An),r.x=i,r.y=a,r.z=o,this}makePerspective(e,t,r,n,i,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const o=this.elements,s=2*i/(t-e),c=2*i/(r-n),l=(t+e)/(t-e),d=(r+n)/(r-n),u=-(a+i)/(a-i),h=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=c,o[9]=d,o[13]=0,o[2]=0,o[6]=0,o[10]=u,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,r,n,i,a){const o=this.elements,s=1/(t-e),c=1/(r-n),l=1/(a-i),d=(t+e)*s,u=(r+n)*c,h=(a+i)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-d,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-u,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let e=0;e<16;e++)if(t[e]!==r[e])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}Mn.prototype.isMatrix4=!0;const En=new Xr,An=new Mn,Cn=new Xr(0,0,0),Ln=new Xr(1,1,1),Rn=new Xr,Pn=new Xr,Dn=new Xr,On=new Mn,In=new Wr;class Nn{constructor(e=0,t=0,r=0,n=Nn.DefaultOrder){this._x=e,this._y=t,this._z=r,this._order=n}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,n=this._order){return this._x=e,this._y=t,this._z=r,this._order=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const n=e.elements,i=n[0],a=n[4],o=n[8],s=n[1],c=n[5],l=n[9],d=n[2],u=n[6],h=n[10];switch(t){case"XYZ":this._y=Math.asin(gr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,h),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(u,c),this._z=0);break;case"YXZ":this._x=Math.asin(-gr(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(s,c)):(this._y=Math.atan2(-d,i),this._z=0);break;case"ZXY":this._x=Math.asin(gr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-gr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(u,h),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(gr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-d,i)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-gr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(u,c),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-l,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===r&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return On.makeRotationFromQuaternion(e),this.setFromRotationMatrix(On,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return In.setFromEuler(this),this.setFromQuaternion(In,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new Xr(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Nn.prototype.isEuler=!0,Nn.DefaultOrder="XYZ",Nn.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Bn{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let zn=0;const Un=new Xr,kn=new Wr,Fn=new Mn,qn=new Xr,Gn=new Xr,Vn=new Xr,Hn=new Wr,jn=new Xr(1,0,0),Wn=new Xr(0,1,0),Xn=new Xr(0,0,1),Kn={type:"added"},Yn={type:"removed"};class Zn extends hr{constructor(){super(),Object.defineProperty(this,"id",{value:zn++}),this.uuid=$r(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Zn.DefaultUp.clone();const e=new Xr,t=new Nn,r=new Wr,n=new Xr(1,1,1);t._onChange((function(){r.setFromEuler(t,!1)})),r._onChange((function(){t.setFromQuaternion(r,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new Mn},normalMatrix:{value:new Mr}}),this.matrix=new Mn,this.matrixWorld=new Mn,this.matrixAutoUpdate=Zn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Bn,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return kn.setFromAxisAngle(e,t),this.quaternion.multiply(kn),this}rotateOnWorldAxis(e,t){return kn.setFromAxisAngle(e,t),this.quaternion.premultiply(kn),this}rotateX(e){return this.rotateOnAxis(jn,e)}rotateY(e){return this.rotateOnAxis(Wn,e)}rotateZ(e){return this.rotateOnAxis(Xn,e)}translateOnAxis(e,t){return Un.copy(e).applyQuaternion(this.quaternion),this.position.add(Un.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(jn,e)}translateY(e){return this.translateOnAxis(Wn,e)}translateZ(e){return this.translateOnAxis(Xn,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Fn.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?qn.copy(e):qn.set(e,t,r);const n=this.parent;this.updateWorldMatrix(!0,!1),Gn.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Fn.lookAt(Gn,qn,this.up):Fn.lookAt(qn,Gn,this.up),this.quaternion.setFromRotationMatrix(Fn),n&&(Fn.extractRotation(n.matrixWorld),kn.setFromRotationMatrix(Fn),this.quaternion.premultiply(kn.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Kn)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Yn)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(Yn)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Fn.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Fn.multiply(e.parent.matrixWorld)),e.applyMatrix4(Fn),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,n=this.children.length;r<n;r++){const n=this.children[r].getObjectByProperty(e,t);if(void 0!==n)return n}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Gn,e,Vn),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Gn,Hn,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,n=t.length;r<n;r++)t[r].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let r=0,n=t.length;r<n;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,n=t.length;r<n;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(!0===e&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,r=e.length;t<r;t++)e[t].updateWorldMatrix(!1,!0)}}toJSON(e){const t=void 0===e||"string"==typeof e,r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const n={};function i(t,r){return void 0===t[r.uuid]&&(t[r.uuid]=r.toJSON(e)),r.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(n.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(n.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const r=t.shapes;if(Array.isArray(r))for(let t=0,n=r.length;t<n;t++){const n=r[t];i(e.shapes,n)}else i(e.shapes,r)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let r=0,n=this.material.length;r<n;r++)t.push(i(e.materials,this.material[r]));n.material=t}else n.material=i(e.materials,this.material);if(this.children.length>0){n.children=[];for(let t=0;t<this.children.length;t++)n.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){n.animations=[];for(let t=0;t<this.animations.length;t++){const r=this.animations[t];n.animations.push(i(e.animations,r))}}if(t){const t=a(e.geometries),n=a(e.materials),i=a(e.textures),o=a(e.images),s=a(e.shapes),c=a(e.skeletons),l=a(e.animations);t.length>0&&(r.geometries=t),n.length>0&&(r.materials=n),i.length>0&&(r.textures=i),o.length>0&&(r.images=o),s.length>0&&(r.shapes=s),c.length>0&&(r.skeletons=c),l.length>0&&(r.animations=l)}return r.object=n,r;function a(e){const t=[];for(const r in e){const n=e[r];delete n.metadata,t.push(n)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let t=0;t<e.children.length;t++){const r=e.children[t];this.add(r.clone())}return this}}Zn.DefaultUp=new Xr(0,1,0),Zn.DefaultMatrixAutoUpdate=!0,Zn.prototype.isObject3D=!0;const Jn=new Xr,Qn=new Xr,ei=new Xr,ti=new Xr,ri=new Xr,ni=new Xr,ii=new Xr,ai=new Xr,oi=new Xr,si=new Xr;class ci{constructor(e=new Xr,t=new Xr,r=new Xr){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,n){n.subVectors(r,t),Jn.subVectors(e,t),n.cross(Jn);const i=n.lengthSq();return i>0?n.multiplyScalar(1/Math.sqrt(i)):n.set(0,0,0)}static getBarycoord(e,t,r,n,i){Jn.subVectors(n,t),Qn.subVectors(r,t),ei.subVectors(e,t);const a=Jn.dot(Jn),o=Jn.dot(Qn),s=Jn.dot(ei),c=Qn.dot(Qn),l=Qn.dot(ei),d=a*c-o*o;if(0===d)return i.set(-2,-1,-1);const u=1/d,h=(c*s-o*l)*u,f=(a*l-o*s)*u;return i.set(1-h-f,f,h)}static containsPoint(e,t,r,n){return this.getBarycoord(e,t,r,n,ti),ti.x>=0&&ti.y>=0&&ti.x+ti.y<=1}static getUV(e,t,r,n,i,a,o,s){return this.getBarycoord(e,t,r,n,ti),s.set(0,0),s.addScaledVector(i,ti.x),s.addScaledVector(a,ti.y),s.addScaledVector(o,ti.z),s}static isFrontFacing(e,t,r,n){return Jn.subVectors(r,t),Qn.subVectors(e,t),Jn.cross(Qn).dot(n)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,n){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[n]),this}setFromAttributeAndIndices(e,t,r,n){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Jn.subVectors(this.c,this.b),Qn.subVectors(this.a,this.b),.5*Jn.cross(Qn).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ci.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ci.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,n,i){return ci.getUV(e,this.a,this.b,this.c,t,r,n,i)}containsPoint(e){return ci.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ci.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,n=this.b,i=this.c;let a,o;ri.subVectors(n,r),ni.subVectors(i,r),ai.subVectors(e,r);const s=ri.dot(ai),c=ni.dot(ai);if(s<=0&&c<=0)return t.copy(r);oi.subVectors(e,n);const l=ri.dot(oi),d=ni.dot(oi);if(l>=0&&d<=l)return t.copy(n);const u=s*d-l*c;if(u<=0&&s>=0&&l<=0)return a=s/(s-l),t.copy(r).addScaledVector(ri,a);si.subVectors(e,i);const h=ri.dot(si),f=ni.dot(si);if(f>=0&&h<=f)return t.copy(i);const p=h*c-s*f;if(p<=0&&c>=0&&f<=0)return o=c/(c-f),t.copy(r).addScaledVector(ni,o);const m=l*f-h*d;if(m<=0&&d-l>=0&&h-f>=0)return ii.subVectors(i,n),o=(d-l)/(d-l+(h-f)),t.copy(n).addScaledVector(ii,o);const v=1/(m+p+u);return a=p*v,o=u*v,t.copy(r).addScaledVector(ri,a).addScaledVector(ni,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let li=0;class di extends hr{constructor(){super(),Object.defineProperty(this,"id",{value:li++}),this.uuid=$r(),this.name="",this.type="Material",this.fog=!0,this.blending=b,this.side=f,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=D,this.blendDst=O,this.blendEquation=S,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=G,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Qt,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ut,this.stencilZFail=Ut,this.stencilZPass=Ut,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const r=e[t];if(void 0===r){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===v;continue}const n=this[t];void 0!==n?n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[t]=r:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(e){const t=[];for(const r in e){const n=e[r];delete n.metadata,t.push(n)}return t}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),void 0!==this.sheen&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(r.combine=this.combine)),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(r.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(r.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(r.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(r.size=this.size),null!==this.shadowSide&&(r.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==b&&(r.blending=this.blending),this.side!==f&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(r.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(r.flatShading=this.flatShading),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),t){const t=n(e.textures),i=n(e.images);t.length>0&&(r.textures=t),i.length>0&&(r.images=i)}return r}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(null!==t){const e=t.length;r=new Array(e);for(let n=0;n!==e;++n)r[n]=t[n].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}di.prototype.isMaterial=!0;class ui extends di{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new Br(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=X,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}ui.prototype.isMeshBasicMaterial=!0;const hi=new Xr,fi=new Tr;class pi{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===r,this.usage=er,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let n=0,i=this.itemSize;n<i;n++)this.array[e+n]=t.array[r+n];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let r=0;for(let n=0,i=e.length;n<i;n++){let i=e[n];void 0===i&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),i=new Br),t[r++]=i.r,t[r++]=i.g,t[r++]=i.b}return this}copyVector2sArray(e){const t=this.array;let r=0;for(let n=0,i=e.length;n<i;n++){let i=e[n];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),i=new Tr),t[r++]=i.x,t[r++]=i.y}return this}copyVector3sArray(e){const t=this.array;let r=0;for(let n=0,i=e.length;n<i;n++){let i=e[n];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),i=new Xr),t[r++]=i.x,t[r++]=i.y,t[r++]=i.z}return this}copyVector4sArray(e){const t=this.array;let r=0;for(let n=0,i=e.length;n<i;n++){let i=e[n];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),i=new Gr),t[r++]=i.x,t[r++]=i.y,t[r++]=i.z,t[r++]=i.w}return this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,r=this.count;t<r;t++)fi.fromBufferAttribute(this,t),fi.applyMatrix3(e),this.setXY(t,fi.x,fi.y);else if(3===this.itemSize)for(let t=0,r=this.count;t<r;t++)hi.fromBufferAttribute(this,t),hi.applyMatrix3(e),this.setXYZ(t,hi.x,hi.y,hi.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)hi.x=this.getX(t),hi.y=this.getY(t),hi.z=this.getZ(t),hi.applyMatrix4(e),this.setXYZ(t,hi.x,hi.y,hi.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)hi.x=this.getX(t),hi.y=this.getY(t),hi.z=this.getZ(t),hi.applyNormalMatrix(e),this.setXYZ(t,hi.x,hi.y,hi.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)hi.x=this.getX(t),hi.y=this.getY(t),hi.z=this.getZ(t),hi.transformDirection(e),this.setXYZ(t,hi.x,hi.y,hi.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this}setXYZW(e,t,r,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==er&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}pi.prototype.isBufferAttribute=!0;class mi extends pi{constructor(e,t,r){super(new Int8Array(e),t,r)}}class vi extends pi{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class $i extends pi{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class gi extends pi{constructor(e,t,r){super(new Int16Array(e),t,r)}}class bi extends pi{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class xi extends pi{constructor(e,t,r){super(new Int32Array(e),t,r)}}class yi extends pi{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class wi extends pi{constructor(e,t,r){super(new Uint16Array(e),t,r)}}wi.prototype.isFloat16BufferAttribute=!0;class _i extends pi{constructor(e,t,r){super(new Float32Array(e),t,r)}}class Si extends pi{constructor(e,t,r){super(new Float64Array(e),t,r)}}let Ti=0;const Mi=new Mn,Ei=new Zn,Ai=new Xr,Ci=new Zr,Li=new Zr,Ri=new Xr;class Pi extends hr{constructor(){super(),Object.defineProperty(this,"id",{value:Ti++}),this.uuid=$r(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Er(e)?yi:bi)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(void 0!==r){const t=(new Mr).getNormalMatrix(e);r.applyNormalMatrix(t),r.needsUpdate=!0}const n=this.attributes.tangent;return void 0!==n&&(n.transformDirection(e),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Mi.makeRotationFromQuaternion(e),this.applyMatrix4(Mi),this}rotateX(e){return Mi.makeRotationX(e),this.applyMatrix4(Mi),this}rotateY(e){return Mi.makeRotationY(e),this.applyMatrix4(Mi),this}rotateZ(e){return Mi.makeRotationZ(e),this.applyMatrix4(Mi),this}translate(e,t,r){return Mi.makeTranslation(e,t,r),this.applyMatrix4(Mi),this}scale(e,t,r){return Mi.makeScale(e,t,r),this.applyMatrix4(Mi),this}lookAt(e){return Ei.lookAt(e),Ei.updateMatrix(),this.applyMatrix4(Ei.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ai).negate(),this.translate(Ai.x,Ai.y,Ai.z),this}setFromPoints(e){const t=[];for(let r=0,n=e.length;r<n;r++){const n=e[r];t.push(n.x,n.y,n.z||0)}return this.setAttribute("position",new _i(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Zr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Xr(-1/0,-1/0,-1/0),new Xr(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,r=t.length;e<r;e++){const r=t[e];Ci.setFromBufferAttribute(r),this.morphTargetsRelative?(Ri.addVectors(this.boundingBox.min,Ci.min),this.boundingBox.expandByPoint(Ri),Ri.addVectors(this.boundingBox.max,Ci.max),this.boundingBox.expandByPoint(Ri)):(this.boundingBox.expandByPoint(Ci.min),this.boundingBox.expandByPoint(Ci.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new $n);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Xr,1/0);if(e){const r=this.boundingSphere.center;if(Ci.setFromBufferAttribute(e),t)for(let e=0,r=t.length;e<r;e++){const r=t[e];Li.setFromBufferAttribute(r),this.morphTargetsRelative?(Ri.addVectors(Ci.min,Li.min),Ci.expandByPoint(Ri),Ri.addVectors(Ci.max,Li.max),Ci.expandByPoint(Ri)):(Ci.expandByPoint(Li.min),Ci.expandByPoint(Li.max))}Ci.getCenter(r);let n=0;for(let t=0,i=e.count;t<i;t++)Ri.fromBufferAttribute(e,t),n=Math.max(n,r.distanceToSquared(Ri));if(t)for(let i=0,a=t.length;i<a;i++){const a=t[i],o=this.morphTargetsRelative;for(let t=0,i=a.count;t<i;t++)Ri.fromBufferAttribute(a,t),o&&(Ai.fromBufferAttribute(e,t),Ri.add(Ai)),n=Math.max(n,r.distanceToSquared(Ri))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const r=e.array,n=t.position.array,i=t.normal.array,a=t.uv.array,o=n.length/3;void 0===t.tangent&&this.setAttribute("tangent",new pi(new Float32Array(4*o),4));const s=t.tangent.array,c=[],l=[];for(let e=0;e<o;e++)c[e]=new Xr,l[e]=new Xr;const d=new Xr,u=new Xr,h=new Xr,f=new Tr,p=new Tr,m=new Tr,v=new Xr,$=new Xr;function g(e,t,r){d.fromArray(n,3*e),u.fromArray(n,3*t),h.fromArray(n,3*r),f.fromArray(a,2*e),p.fromArray(a,2*t),m.fromArray(a,2*r),u.sub(d),h.sub(d),p.sub(f),m.sub(f);const i=1/(p.x*m.y-m.x*p.y);isFinite(i)&&(v.copy(u).multiplyScalar(m.y).addScaledVector(h,-p.y).multiplyScalar(i),$.copy(h).multiplyScalar(p.x).addScaledVector(u,-m.x).multiplyScalar(i),c[e].add(v),c[t].add(v),c[r].add(v),l[e].add($),l[t].add($),l[r].add($))}let b=this.groups;0===b.length&&(b=[{start:0,count:r.length}]);for(let e=0,t=b.length;e<t;++e){const t=b[e],n=t.start;for(let e=n,i=n+t.count;e<i;e+=3)g(r[e+0],r[e+1],r[e+2])}const x=new Xr,y=new Xr,w=new Xr,_=new Xr;function S(e){w.fromArray(i,3*e),_.copy(w);const t=c[e];x.copy(t),x.sub(w.multiplyScalar(w.dot(t))).normalize(),y.crossVectors(_,t);const r=y.dot(l[e])<0?-1:1;s[4*e]=x.x,s[4*e+1]=x.y,s[4*e+2]=x.z,s[4*e+3]=r}for(let e=0,t=b.length;e<t;++e){const t=b[e],n=t.start;for(let e=n,i=n+t.count;e<i;e+=3)S(r[e+0]),S(r[e+1]),S(r[e+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let r=this.getAttribute("normal");if(void 0===r)r=new pi(new Float32Array(3*t.count),3),this.setAttribute("normal",r);else for(let e=0,t=r.count;e<t;e++)r.setXYZ(e,0,0,0);const n=new Xr,i=new Xr,a=new Xr,o=new Xr,s=new Xr,c=new Xr,l=new Xr,d=new Xr;if(e)for(let u=0,h=e.count;u<h;u+=3){const h=e.getX(u+0),f=e.getX(u+1),p=e.getX(u+2);n.fromBufferAttribute(t,h),i.fromBufferAttribute(t,f),a.fromBufferAttribute(t,p),l.subVectors(a,i),d.subVectors(n,i),l.cross(d),o.fromBufferAttribute(r,h),s.fromBufferAttribute(r,f),c.fromBufferAttribute(r,p),o.add(l),s.add(l),c.add(l),r.setXYZ(h,o.x,o.y,o.z),r.setXYZ(f,s.x,s.y,s.z),r.setXYZ(p,c.x,c.y,c.z)}else for(let e=0,o=t.count;e<o;e+=3)n.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),a.fromBufferAttribute(t,e+2),l.subVectors(a,i),d.subVectors(n,i),l.cross(d),r.setXYZ(e+0,l.x,l.y,l.z),r.setXYZ(e+1,l.x,l.y,l.z),r.setXYZ(e+2,l.x,l.y,l.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const n in r){if(void 0===e.attributes[n])continue;const i=r[n].array,a=e.attributes[n],o=a.array,s=a.itemSize*t,c=Math.min(o.length,i.length-s);for(let e=0,t=s;e<c;e++,t++)i[t]=o[e]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Ri.fromBufferAttribute(e,t),Ri.normalize(),e.setXYZ(t,Ri.x,Ri.y,Ri.z)}toNonIndexed(){function e(e,t){const r=e.array,n=e.itemSize,i=e.normalized,a=new r.constructor(t.length*n);let o=0,s=0;for(let i=0,c=t.length;i<c;i++){o=e.isInterleavedBufferAttribute?t[i]*e.data.stride+e.offset:t[i]*n;for(let e=0;e<n;e++)a[s++]=r[o++]}return new pi(a,n,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Pi,r=this.index.array,n=this.attributes;for(const i in n){const a=e(n[i],r);t.setAttribute(i,a)}const i=this.morphAttributes;for(const n in i){const a=[],o=i[n];for(let t=0,n=o.length;t<n;t++){const n=e(o[t],r);a.push(n)}t.morphAttributes[n]=a}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let e=0,r=a.length;e<r;e++){const r=a[e];t.addGroup(r.start,r.count,r.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const r in t)void 0!==t[r]&&(e[r]=t[r]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const t in r){const n=r[t];e.data.attributes[t]=n.toJSON(e.data)}const n={};let i=!1;for(const t in this.morphAttributes){const r=this.morphAttributes[t],a=[];for(let t=0,n=r.length;t<n;t++){const n=r[t];a.push(n.toJSON(e.data))}a.length>0&&(n[t]=a,i=!0)}i&&(e.data.morphAttributes=n,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return null!==o&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;null!==r&&this.setIndex(r.clone(t));const n=e.attributes;for(const e in n){const r=n[e];this.setAttribute(e,r.clone(t))}const i=e.morphAttributes;for(const e in i){const r=[],n=i[e];for(let e=0,i=n.length;e<i;e++)r.push(n[e].clone(t));this.morphAttributes[e]=r}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let e=0,t=a.length;e<t;e++){const t=a[e];this.addGroup(t.start,t.count,t.materialIndex)}const o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}Pi.prototype.isBufferGeometry=!0;const Di=new Mn,Oi=new Tn,Ii=new $n,Ni=new Xr,Bi=new Xr,zi=new Xr,Ui=new Xr,ki=new Xr,Fi=new Xr,qi=new Xr,Gi=new Xr,Vi=new Xr,Hi=new Tr,ji=new Tr,Wi=new Tr,Xi=new Xr,Ki=new Xr;class Yi extends Zn{constructor(e=new Pi,t=new ui){super(),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const e=t[r[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,r=e.length;t<r;t++){const r=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const r=this.geometry,n=this.material,i=this.matrixWorld;if(void 0===n)return;if(null===r.boundingSphere&&r.computeBoundingSphere(),Ii.copy(r.boundingSphere),Ii.applyMatrix4(i),!1===e.ray.intersectsSphere(Ii))return;if(Di.copy(i).invert(),Oi.copy(e.ray).applyMatrix4(Di),null!==r.boundingBox&&!1===Oi.intersectsBox(r.boundingBox))return;let a;if(r.isBufferGeometry){const i=r.index,o=r.attributes.position,s=r.morphAttributes.position,c=r.morphTargetsRelative,l=r.attributes.uv,d=r.attributes.uv2,u=r.groups,h=r.drawRange;if(null!==i)if(Array.isArray(n))for(let r=0,f=u.length;r<f;r++){const f=u[r],p=n[f.materialIndex];for(let r=Math.max(f.start,h.start),n=Math.min(i.count,Math.min(f.start+f.count,h.start+h.count));r<n;r+=3){const n=i.getX(r),u=i.getX(r+1),h=i.getX(r+2);a=Zi(this,p,e,Oi,o,s,c,l,d,n,u,h),a&&(a.faceIndex=Math.floor(r/3),a.face.materialIndex=f.materialIndex,t.push(a))}}else{for(let r=Math.max(0,h.start),u=Math.min(i.count,h.start+h.count);r<u;r+=3){const u=i.getX(r),h=i.getX(r+1),f=i.getX(r+2);a=Zi(this,n,e,Oi,o,s,c,l,d,u,h,f),a&&(a.faceIndex=Math.floor(r/3),t.push(a))}}else if(void 0!==o)if(Array.isArray(n))for(let r=0,i=u.length;r<i;r++){const i=u[r],f=n[i.materialIndex];for(let r=Math.max(i.start,h.start),n=Math.min(o.count,Math.min(i.start+i.count,h.start+h.count));r<n;r+=3){a=Zi(this,f,e,Oi,o,s,c,l,d,r,r+1,r+2),a&&(a.faceIndex=Math.floor(r/3),a.face.materialIndex=i.materialIndex,t.push(a))}}else{for(let r=Math.max(0,h.start),i=Math.min(o.count,h.start+h.count);r<i;r+=3){a=Zi(this,n,e,Oi,o,s,c,l,d,r,r+1,r+2),a&&(a.faceIndex=Math.floor(r/3),t.push(a))}}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}function Zi(e,t,r,n,i,a,o,s,c,l,d,u){Ni.fromBufferAttribute(i,l),Bi.fromBufferAttribute(i,d),zi.fromBufferAttribute(i,u);const h=e.morphTargetInfluences;if(a&&h){qi.set(0,0,0),Gi.set(0,0,0),Vi.set(0,0,0);for(let e=0,t=a.length;e<t;e++){const t=h[e],r=a[e];0!==t&&(Ui.fromBufferAttribute(r,l),ki.fromBufferAttribute(r,d),Fi.fromBufferAttribute(r,u),o?(qi.addScaledVector(Ui,t),Gi.addScaledVector(ki,t),Vi.addScaledVector(Fi,t)):(qi.addScaledVector(Ui.sub(Ni),t),Gi.addScaledVector(ki.sub(Bi),t),Vi.addScaledVector(Fi.sub(zi),t)))}Ni.add(qi),Bi.add(Gi),zi.add(Vi)}e.isSkinnedMesh&&(e.boneTransform(l,Ni),e.boneTransform(d,Bi),e.boneTransform(u,zi));const f=function(e,t,r,n,i,a,o,s){let c;if(c=t.side===p?n.intersectTriangle(o,a,i,!0,s):n.intersectTriangle(i,a,o,t.side!==m,s),null===c)return null;Ki.copy(s),Ki.applyMatrix4(e.matrixWorld);const l=r.ray.origin.distanceTo(Ki);return l<r.near||l>r.far?null:{distance:l,point:Ki.clone(),object:e}}(e,t,r,n,Ni,Bi,zi,Xi);if(f){s&&(Hi.fromBufferAttribute(s,l),ji.fromBufferAttribute(s,d),Wi.fromBufferAttribute(s,u),f.uv=ci.getUV(Xi,Ni,Bi,zi,Hi,ji,Wi,new Tr)),c&&(Hi.fromBufferAttribute(c,l),ji.fromBufferAttribute(c,d),Wi.fromBufferAttribute(c,u),f.uv2=ci.getUV(Xi,Ni,Bi,zi,Hi,ji,Wi,new Tr));const e={a:l,b:d,c:u,normal:new Xr,materialIndex:0};ci.getNormal(Ni,Bi,zi,e.normal),f.face=e}return f}Yi.prototype.isMesh=!0;class Ji extends Pi{constructor(e=1,t=1,r=1,n=1,i=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:n,heightSegments:i,depthSegments:a};const o=this;n=Math.floor(n),i=Math.floor(i),a=Math.floor(a);const s=[],c=[],l=[],d=[];let u=0,h=0;function f(e,t,r,n,i,a,f,p,m,v,$){const g=a/m,b=f/v,x=a/2,y=f/2,w=p/2,_=m+1,S=v+1;let T=0,M=0;const E=new Xr;for(let a=0;a<S;a++){const o=a*b-y;for(let s=0;s<_;s++){const u=s*g-x;E[e]=u*n,E[t]=o*i,E[r]=w,c.push(E.x,E.y,E.z),E[e]=0,E[t]=0,E[r]=p>0?1:-1,l.push(E.x,E.y,E.z),d.push(s/m),d.push(1-a/v),T+=1}}for(let e=0;e<v;e++)for(let t=0;t<m;t++){const r=u+t+_*e,n=u+t+_*(e+1),i=u+(t+1)+_*(e+1),a=u+(t+1)+_*e;s.push(r,n,a),s.push(n,i,a),M+=6}o.addGroup(h,M,$),h+=M,u+=T}f("z","y","x",-1,-1,r,t,e,a,i,0),f("z","y","x",1,-1,r,t,-e,a,i,1),f("x","z","y",1,1,e,r,t,n,a,2),f("x","z","y",1,-1,e,r,-t,n,a,3),f("x","y","z",1,-1,e,t,r,n,i,4),f("x","y","z",-1,-1,e,t,-r,n,i,5),this.setIndex(s),this.setAttribute("position",new _i(c,3)),this.setAttribute("normal",new _i(l,3)),this.setAttribute("uv",new _i(d,2))}static fromJSON(e){return new Ji(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Qi(e){const t={};for(const r in e){t[r]={};for(const n in e[r]){const i=e[r][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[r][n]=i.clone():Array.isArray(i)?t[r][n]=i.slice():t[r][n]=i}}return t}function ea(e){const t={};for(let r=0;r<e.length;r++){const n=Qi(e[r]);for(const e in n)t[e]=n[e]}return t}const ta={clone:Qi,merge:ea};class ra extends di{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Qi(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const e in this.extensions)!0===this.extensions[e]&&(r[e]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}ra.prototype.isShaderMaterial=!0;class na extends Zn{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Mn,this.projectionMatrix=new Mn,this.projectionMatrixInverse=new Mn}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}na.prototype.isCamera=!0;class ia extends na{constructor(e=50,t=1,r=.1,n=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=n,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*vr*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*mr*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*vr*Math.atan(Math.tan(.5*mr*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,n,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*mr*this.fov)/this.zoom,r=2*t,n=this.aspect*r,i=-.5*n;const a=this.view;if(null!==this.view&&this.view.enabled){const e=a.fullWidth,o=a.fullHeight;i+=a.offsetX*n/e,t-=a.offsetY*r/o,n*=a.width/e,r*=a.height/o}const o=this.filmOffset;0!==o&&(i+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+n,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}ia.prototype.isPerspectiveCamera=!0;const aa=90;class oa extends Zn{constructor(e,t,r){if(super(),this.type="CubeCamera",!0!==r.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=r;const n=new ia(aa,1,e,t);n.layers=this.layers,n.up.set(0,-1,0),n.lookAt(new Xr(1,0,0)),this.add(n);const i=new ia(aa,1,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Xr(-1,0,0)),this.add(i);const a=new ia(aa,1,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new Xr(0,1,0)),this.add(a);const o=new ia(aa,1,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new Xr(0,-1,0)),this.add(o);const s=new ia(aa,1,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new Xr(0,0,1)),this.add(s);const c=new ia(aa,1,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Xr(0,0,-1)),this.add(c)}update(e,t){null===this.parent&&this.updateMatrixWorld();const r=this.renderTarget,[n,i,a,o,s,c]=this.children,l=e.xr.enabled,d=e.getRenderTarget();e.xr.enabled=!1;const u=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,n),e.setRenderTarget(r,1),e.render(t,i),e.setRenderTarget(r,2),e.render(t,a),e.setRenderTarget(r,3),e.render(t,o),e.setRenderTarget(r,4),e.render(t,s),r.texture.generateMipmaps=u,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(d),e.xr.enabled=l,r.texture.needsPMREMUpdate=!0}}class sa extends Fr{constructor(e,t,r,n,i,a,o,s,c,l){super(e=void 0!==e?e:[],t=void 0!==t?t:ie,r,n,i,a,o,s,c,l),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}sa.prototype.isCubeTexture=!0;class ca extends Vr{constructor(e,t,r){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=r),super(e,e,t),t=t||{},this.texture=new sa(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:ge}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=Ne,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},n=new Ji(5,5,5),i=new ra({name:"CubemapFromEquirect",uniforms:Qi(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:p,blending:g});i.uniforms.tEquirect.value=t;const a=new Yi(n,i),o=t.minFilter;t.minFilter===ye&&(t.minFilter=ge);return new oa(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,r,n){const i=e.getRenderTarget();for(let i=0;i<6;i++)e.setRenderTarget(this,i),e.clear(t,r,n);e.setRenderTarget(i)}}ca.prototype.isWebGLCubeRenderTarget=!0;const la=new Xr,da=new Xr,ua=new Mr;class ha{constructor(e=new Xr(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,n){return this.normal.set(e,t,r),this.constant=n,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const n=la.subVectors(r,t).cross(da.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(la),n=this.normal.dot(r);if(0===n)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/n;return i<0||i>1?null:t.copy(r).multiplyScalar(i).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||ua.getNormalMatrix(e),n=this.coplanarPoint(la).applyMatrix4(e),i=this.normal.applyMatrix3(r).normalize();return this.constant=-n.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}ha.prototype.isPlane=!0;const fa=new $n,pa=new Xr;class ma{constructor(e=new ha,t=new ha,r=new ha,n=new ha,i=new ha,a=new ha){this.planes=[e,t,r,n,i,a]}set(e,t,r,n,i,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(n),o[4].copy(i),o[5].copy(a),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],c=r[5],l=r[6],d=r[7],u=r[8],h=r[9],f=r[10],p=r[11],m=r[12],v=r[13],$=r[14],g=r[15];return t[0].setComponents(o-n,d-s,p-u,g-m).normalize(),t[1].setComponents(o+n,d+s,p+u,g+m).normalize(),t[2].setComponents(o+i,d+c,p+h,g+v).normalize(),t[3].setComponents(o-i,d-c,p-h,g-v).normalize(),t[4].setComponents(o-a,d-l,p-f,g-$).normalize(),t[5].setComponents(o+a,d+l,p+f,g+$).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),fa.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(fa)}intersectsSprite(e){return fa.center.set(0,0,0),fa.radius=.7071067811865476,fa.applyMatrix4(e.matrixWorld),this.intersectsSphere(fa)}intersectsSphere(e){const t=this.planes,r=e.center,n=-e.radius;for(let e=0;e<6;e++){if(t[e].distanceToPoint(r)<n)return!1}return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const n=t[r];if(pa.x=n.normal.x>0?e.max.x:e.min.x,pa.y=n.normal.y>0?e.max.y:e.min.y,pa.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(pa)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function va(){let e=null,t=!1,r=null,n=null;function i(t,a){r(t,a),n=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==r&&(n=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(e){r=e},setContext:function(t){e=t}}}function $a(e,t){const r=t.isWebGL2,n=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),n.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);const r=n.get(t);r&&(e.deleteBuffer(r.buffer),n.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){const e=n.get(t);return void((!e||e.version<t.version)&&n.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}t.isInterleavedBufferAttribute&&(t=t.data);const a=n.get(t);void 0===a?n.set(t,function(t,n){const i=t.array,a=t.usage,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,i,a),t.onUploadCallback();let s=5126;return i instanceof Float32Array?s=5126:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?t.isFloat16BufferAttribute?r?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:i instanceof Int16Array?s=5122:i instanceof Uint32Array?s=5125:i instanceof Int32Array?s=5124:i instanceof Int8Array?s=5120:(i instanceof Uint8Array||i instanceof Uint8ClampedArray)&&(s=5121),{buffer:o,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,i)):a.version<t.version&&(!function(t,n,i){const a=n.array,o=n.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(r?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1)}(a.buffer,t,i),a.version=t.version)}}}class ga extends Pi{constructor(e=1,t=1,r=1,n=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n};const i=e/2,a=t/2,o=Math.floor(r),s=Math.floor(n),c=o+1,l=s+1,d=e/o,u=t/s,h=[],f=[],p=[],m=[];for(let e=0;e<l;e++){const t=e*u-a;for(let r=0;r<c;r++){const n=r*d-i;f.push(n,-t,0),p.push(0,0,1),m.push(r/o),m.push(1-e/s)}}for(let e=0;e<s;e++)for(let t=0;t<o;t++){const r=t+c*e,n=t+c*(e+1),i=t+1+c*(e+1),a=t+1+c*e;h.push(r,n,a),h.push(n,i,a)}this.setIndex(h),this.setAttribute("position",new _i(f,3)),this.setAttribute("normal",new _i(p,3)),this.setAttribute("uv",new _i(m,2))}static fromJSON(e){return new ga(e.width,e.height,e.widthSegments,e.heightSegments)}}const ba={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\treturn texture2D( envMap, uv ).rgb;\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec;\n\t\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\t\treflectVec = reflect( - viewDir, normal );\n\t\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\t#else\n\t\t\t\treflectVec = refract( - viewDir, normal, refractionRatio );\n\t\t\t#endif\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tlightMapIrradiance *= PI;\n\t#endif\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform vec2 morphTargetsTextureSize;\n\t\tvec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {\n\t\t\tfloat texelIndex = float( vertexIndex * stride + offset );\n\t\t\tfloat y = floor( texelIndex / morphTargetsTextureSize.x );\n\t\t\tfloat x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tvec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );\n\t\t\treturn texture( morphTargetsTexture, morphUV ).xyz;\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\t#ifndef USE_MORPHNORMALS\n\t\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];\n\t\t\t#else\n\t\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];\n\t\t\t#endif\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},xa={common:{diffuse:{value:new Br(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Mr},uv2Transform:{value:new Mr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Tr(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Br(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Br(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Mr}},sprite:{diffuse:{value:new Br(16777215)},opacity:{value:1},center:{value:new Tr(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Mr}}},ya={basic:{uniforms:ea([xa.common,xa.specularmap,xa.envmap,xa.aomap,xa.lightmap,xa.fog]),vertexShader:ba.meshbasic_vert,fragmentShader:ba.meshbasic_frag},lambert:{uniforms:ea([xa.common,xa.specularmap,xa.envmap,xa.aomap,xa.lightmap,xa.emissivemap,xa.fog,xa.lights,{emissive:{value:new Br(0)}}]),vertexShader:ba.meshlambert_vert,fragmentShader:ba.meshlambert_frag},phong:{uniforms:ea([xa.common,xa.specularmap,xa.envmap,xa.aomap,xa.lightmap,xa.emissivemap,xa.bumpmap,xa.normalmap,xa.displacementmap,xa.fog,xa.lights,{emissive:{value:new Br(0)},specular:{value:new Br(1118481)},shininess:{value:30}}]),vertexShader:ba.meshphong_vert,fragmentShader:ba.meshphong_frag},standard:{uniforms:ea([xa.common,xa.envmap,xa.aomap,xa.lightmap,xa.emissivemap,xa.bumpmap,xa.normalmap,xa.displacementmap,xa.roughnessmap,xa.metalnessmap,xa.fog,xa.lights,{emissive:{value:new Br(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ba.meshphysical_vert,fragmentShader:ba.meshphysical_frag},toon:{uniforms:ea([xa.common,xa.aomap,xa.lightmap,xa.emissivemap,xa.bumpmap,xa.normalmap,xa.displacementmap,xa.gradientmap,xa.fog,xa.lights,{emissive:{value:new Br(0)}}]),vertexShader:ba.meshtoon_vert,fragmentShader:ba.meshtoon_frag},matcap:{uniforms:ea([xa.common,xa.bumpmap,xa.normalmap,xa.displacementmap,xa.fog,{matcap:{value:null}}]),vertexShader:ba.meshmatcap_vert,fragmentShader:ba.meshmatcap_frag},points:{uniforms:ea([xa.points,xa.fog]),vertexShader:ba.points_vert,fragmentShader:ba.points_frag},dashed:{uniforms:ea([xa.common,xa.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ba.linedashed_vert,fragmentShader:ba.linedashed_frag},depth:{uniforms:ea([xa.common,xa.displacementmap]),vertexShader:ba.depth_vert,fragmentShader:ba.depth_frag},normal:{uniforms:ea([xa.common,xa.bumpmap,xa.normalmap,xa.displacementmap,{opacity:{value:1}}]),vertexShader:ba.meshnormal_vert,fragmentShader:ba.meshnormal_frag},sprite:{uniforms:ea([xa.sprite,xa.fog]),vertexShader:ba.sprite_vert,fragmentShader:ba.sprite_frag},background:{uniforms:{uvTransform:{value:new Mr},t2D:{value:null}},vertexShader:ba.background_vert,fragmentShader:ba.background_frag},cube:{uniforms:ea([xa.envmap,{opacity:{value:1}}]),vertexShader:ba.cube_vert,fragmentShader:ba.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ba.equirect_vert,fragmentShader:ba.equirect_frag},distanceRGBA:{uniforms:ea([xa.common,xa.displacementmap,{referencePosition:{value:new Xr},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ba.distanceRGBA_vert,fragmentShader:ba.distanceRGBA_frag},shadow:{uniforms:ea([xa.lights,xa.fog,{color:{value:new Br(0)},opacity:{value:1}}]),vertexShader:ba.shadow_vert,fragmentShader:ba.shadow_frag}};function wa(e,t,r,n,i,a){const o=new Br(0);let s,c,l=!0===i?0:1,d=null,u=0,h=null;function m(e,t){r.buffers.color.setClear(e.r,e.g,e.b,t,a)}return{getClearColor:function(){return o},setClearColor:function(e,t=1){o.set(e),l=t,m(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(e){l=e,m(o,l)},render:function(r,i){let a=!1,v=!0===i.isScene?i.background:null;v&&v.isTexture&&(v=t.get(v));const $=e.xr,g=$.getSession&&$.getSession();g&&"additive"===g.environmentBlendMode&&(v=null),null===v?m(o,l):v&&v.isColor&&(m(v,1),a=!0),(e.autoClear||a)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),v&&(v.isCubeTexture||v.mapping===ce)?(void 0===c&&(c=new Yi(new Ji(1,1,1),new ra({name:"BackgroundCubeMaterial",uniforms:Qi(ya.cube.uniforms),vertexShader:ya.cube.vertexShader,fragmentShader:ya.cube.fragmentShader,side:p,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,r){this.matrixWorld.copyPosition(r.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(c)),c.material.uniforms.envMap.value=v,c.material.uniforms.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,d===v&&u===v.version&&h===e.toneMapping||(c.material.needsUpdate=!0,d=v,u=v.version,h=e.toneMapping),r.unshift(c,c.geometry,c.material,0,0,null)):v&&v.isTexture&&(void 0===s&&(s=new Yi(new ga(2,2),new ra({name:"BackgroundMaterial",uniforms:Qi(ya.background.uniforms),vertexShader:ya.background.vertexShader,fragmentShader:ya.background.fragmentShader,side:f,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(s)),s.material.uniforms.t2D.value=v,!0===v.matrixAutoUpdate&&v.updateMatrix(),s.material.uniforms.uvTransform.value.copy(v.matrix),d===v&&u===v.version&&h===e.toneMapping||(s.material.needsUpdate=!0,d=v,u=v.version,h=e.toneMapping),r.unshift(s,s.geometry,s.material,0,0,null))}}}function _a(e,t,r,n){const i=e.getParameter(34921),a=n.isWebGL2?null:t.get("OES_vertex_array_object"),o=n.isWebGL2||null!==a,s={},c=h(null);let l=c;function d(t){return n.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function u(t){return n.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function h(e){const t=[],r=[],n=[];for(let e=0;e<i;e++)t[e]=0,r[e]=0,n[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:n,object:e,attributes:{},index:null}}function f(){const e=l.newAttributes;for(let t=0,r=e.length;t<r;t++)e[t]=0}function p(e){m(e,0)}function m(r,i){const a=l.newAttributes,o=l.enabledAttributes,s=l.attributeDivisors;if(a[r]=1,0===o[r]&&(e.enableVertexAttribArray(r),o[r]=1),s[r]!==i){(n.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](r,i),s[r]=i}}function v(){const t=l.newAttributes,r=l.enabledAttributes;for(let n=0,i=r.length;n<i;n++)r[n]!==t[n]&&(e.disableVertexAttribArray(n),r[n]=0)}function $(t,r,i,a,o,s){!0!==n.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,r,i,a,o,s):e.vertexAttribIPointer(t,r,i,o,s)}function g(){b(),l!==c&&(l=c,d(l.object))}function b(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:function(i,c,u,g,b){let x=!1;if(o){const t=function(t,r,i){const o=!0===i.wireframe;let c=s[t.id];void 0===c&&(c={},s[t.id]=c);let l=c[r.id];void 0===l&&(l={},c[r.id]=l);let d=l[o];void 0===d&&(d=h(n.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),l[o]=d);return d}(g,u,c);l!==t&&(l=t,d(l.object)),x=function(e,t){const r=l.attributes,n=e.attributes;let i=0;for(const e in n){const t=r[e],a=n[e];if(void 0===t)return!0;if(t.attribute!==a)return!0;if(t.data!==a.data)return!0;i++}return l.attributesNum!==i||l.index!==t}(g,b),x&&function(e,t){const r={},n=e.attributes;let i=0;for(const e in n){const t=n[e],a={};a.attribute=t,t.data&&(a.data=t.data),r[e]=a,i++}l.attributes=r,l.attributesNum=i,l.index=t}(g,b)}else{const e=!0===c.wireframe;l.geometry===g.id&&l.program===u.id&&l.wireframe===e||(l.geometry=g.id,l.program=u.id,l.wireframe=e,x=!0)}!0===i.isInstancedMesh&&(x=!0),null!==b&&r.update(b,34963),x&&(!function(i,a,o,s){if(!1===n.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;f();const c=s.attributes,l=o.getAttributes(),d=a.defaultAttributeValues;for(const t in l){const n=l[t];if(n.location>=0){let a=c[t];if(void 0===a&&("instanceMatrix"===t&&i.instanceMatrix&&(a=i.instanceMatrix),"instanceColor"===t&&i.instanceColor&&(a=i.instanceColor)),void 0!==a){const t=a.normalized,o=a.itemSize,c=r.get(a);if(void 0===c)continue;const l=c.buffer,d=c.type,u=c.bytesPerElement;if(a.isInterleavedBufferAttribute){const r=a.data,c=r.stride,h=a.offset;if(r&&r.isInstancedInterleavedBuffer){for(let e=0;e<n.locationSize;e++)m(n.location+e,r.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=r.meshPerAttribute*r.count)}else for(let e=0;e<n.locationSize;e++)p(n.location+e);e.bindBuffer(34962,l);for(let e=0;e<n.locationSize;e++)$(n.location+e,o/n.locationSize,d,t,c*u,(h+o/n.locationSize*e)*u)}else{if(a.isInstancedBufferAttribute){for(let e=0;e<n.locationSize;e++)m(n.location+e,a.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=a.meshPerAttribute*a.count)}else for(let e=0;e<n.locationSize;e++)p(n.location+e);e.bindBuffer(34962,l);for(let e=0;e<n.locationSize;e++)$(n.location+e,o/n.locationSize,d,t,o*u,o/n.locationSize*e*u)}}else if(void 0!==d){const r=d[t];if(void 0!==r)switch(r.length){case 2:e.vertexAttrib2fv(n.location,r);break;case 3:e.vertexAttrib3fv(n.location,r);break;case 4:e.vertexAttrib4fv(n.location,r);break;default:e.vertexAttrib1fv(n.location,r)}}}}v()}(i,c,u,g),null!==b&&e.bindBuffer(34963,r.get(b).buffer))},reset:g,resetDefaultState:b,dispose:function(){g();for(const e in s){const t=s[e];for(const e in t){const r=t[e];for(const e in r)u(r[e].object),delete r[e];delete t[e]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0===s[e.id])return;const t=s[e.id];for(const e in t){const r=t[e];for(const e in r)u(r[e].object),delete r[e];delete t[e]}delete s[e.id]},releaseStatesOfProgram:function(e){for(const t in s){const r=s[t];if(void 0===r[e.id])continue;const n=r[e.id];for(const e in n)u(n[e].object),delete n[e];delete r[e.id]}},initAttributes:f,enableAttribute:p,disableUnusedAttributes:v}}function Sa(e,t,r,n){const i=n.isWebGL2;let a;this.setMode=function(e){a=e},this.render=function(t,n){e.drawArrays(a,t,n),r.update(n,a,1)},this.renderInstances=function(n,o,s){if(0===s)return;let c,l;if(i)c=e,l="drawArraysInstanced";else if(c=t.get("ANGLE_instanced_arrays"),l="drawArraysInstancedANGLE",null===c)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[l](a,n,o,s),r.update(o,a,s)}}function Ta(e,t,r){let n;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext;let o=void 0!==r.precision?r.precision:"highp";const s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);const c=a||t.has("WEBGL_draw_buffers"),l=!0===r.logarithmicDepthBuffer,d=e.getParameter(34930),u=e.getParameter(35660),h=e.getParameter(3379),f=e.getParameter(34076),p=e.getParameter(34921),m=e.getParameter(36347),v=e.getParameter(36348),$=e.getParameter(36349),g=u>0,b=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:function(){if(void 0!==n)return n;if(!0===t.has("EXT_texture_filter_anisotropic")){const r=t.get("EXT_texture_filter_anisotropic");n=e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:d,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:m,maxVaryings:v,maxFragmentUniforms:$,vertexTextures:g,floatFragmentTextures:b,floatVertexTextures:g&&b,maxSamples:a?e.getParameter(36183):0}}function Ma(e){const t=this;let r=null,n=0,i=!1,a=!1;const o=new ha,s=new Mr,c={value:null,needsUpdate:!1};function l(){c.value!==r&&(c.value=r,c.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function d(e,r,n,i){const a=null!==e?e.length:0;let l=null;if(0!==a){if(l=c.value,!0!==i||null===l){const t=n+4*a,i=r.matrixWorldInverse;s.getNormalMatrix(i),(null===l||l.length<t)&&(l=new Float32Array(t));for(let t=0,r=n;t!==a;++t,r+=4)o.copy(e[t]).applyMatrix4(i,s),o.normal.toArray(l,r),l[r+3]=o.constant}c.value=l,c.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,l}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,a){const o=0!==e.length||t||0!==n||i;return i=t,r=d(e,a,0),n=e.length,o},this.beginShadows=function(){a=!0,d(null)},this.endShadows=function(){a=!1,l()},this.setState=function(t,o,s){const u=t.clippingPlanes,h=t.clipIntersection,f=t.clipShadows,p=e.get(t);if(!i||null===u||0===u.length||a&&!f)a?d(null):l();else{const e=a?0:n,t=4*e;let i=p.clippingState||null;c.value=i,i=d(u,o,t,s);for(let e=0;e!==t;++e)i[e]=r[e];p.clippingState=i,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}}}function Ea(e){let t=new WeakMap;function r(e,t){return t===oe?e.mapping=ie:t===se&&(e.mapping=ae),e}function n(e){const r=e.target;r.removeEventListener("dispose",n);const i=t.get(r);void 0!==i&&(t.delete(r),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){const a=i.mapping;if(a===oe||a===se){if(t.has(i)){return r(t.get(i).texture,i.mapping)}{const a=i.image;if(a&&a.height>0){const o=new ca(a.height/2);return o.fromEquirectangularTexture(e,i),t.set(i,o),i.addEventListener("dispose",n),r(o.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}ya.physical={uniforms:ea([ya.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Tr(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Br(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Tr},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Br(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Br(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ba.meshphysical_vert,fragmentShader:ba.meshphysical_frag};class Aa extends na{constructor(e=-1,t=1,r=1,n=-1,i=.1,a=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=n,this.near=i,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,r,n,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2;let i=r-e,a=r+e,o=n+t,s=n-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,a=i+e*this.view.width,o-=t*this.view.offsetY,s=o-t*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}Aa.prototype.isOrthographicCamera=!0;class Ca extends ra{constructor(e){super(e),this.type="RawShaderMaterial"}}Ca.prototype.isRawShaderMaterial=!0;const La=Math.pow(2,8),Ra=[.125,.215,.35,.446,.526,.582],Pa=5+Ra.length,Da=20,Oa=new Aa,{_lodPlanes:Ia,_sizeLods:Na,_sigmas:Ba}=Va(),za=new Br;let Ua=null;const ka=(1+Math.sqrt(5))/2,Fa=1/ka,qa=[new Xr(1,1,1),new Xr(-1,1,1),new Xr(1,1,-1),new Xr(-1,1,-1),new Xr(0,ka,Fa),new Xr(0,ka,-Fa),new Xr(Fa,0,ka),new Xr(-Fa,0,ka),new Xr(ka,Fa,0),new Xr(-ka,Fa,0)];class Ga{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=function(e){const t=new Float32Array(e),r=new Xr(0,1,0);return new Ca({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:Ka(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:g,depthTest:!1,depthWrite:!1})}(Da),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,n=100){Ua=this._renderer.getRenderTarget();const i=this._allocateTargets();return this._sceneToCubeUV(e,r,n,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=Xa(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=Wa(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let e=0;e<Ia.length;e++)Ia[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Ua),e.scissorTest=!1,ja(e,0,0,e.width,e.height)}_fromTexture(e,t){Ua=this._renderer.getRenderTarget();const r=t||this._allocateTargets(e);return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(e){const t={magFilter:ge,minFilter:ge,generateMipmaps:!1,type:Le,format:Ne,encoding:Pt,depthBuffer:!1},r=Ha(t);return r.depthBuffer=!e,null===this._pingPongRenderTarget&&(this._pingPongRenderTarget=Ha(t)),r}_compileMaterial(e){const t=new Yi(Ia[0],e);this._renderer.compile(t,Oa)}_sceneToCubeUV(e,t,r,n){const i=new ia(90,1,t,r),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,c=s.autoClear,l=s.toneMapping;s.getClearColor(za),s.toneMapping=Z,s.autoClear=!1;const d=new ui({name:"PMREM.Background",side:p,depthWrite:!1,depthTest:!1}),u=new Yi(new Ji,d);let h=!1;const f=e.background;f?f.isColor&&(d.color.copy(f),e.background=null,h=!0):(d.color.copy(za),h=!0);for(let t=0;t<6;t++){const r=t%3;0===r?(i.up.set(0,a[t],0),i.lookAt(o[t],0,0)):1===r?(i.up.set(0,0,a[t]),i.lookAt(0,o[t],0)):(i.up.set(0,a[t],0),i.lookAt(0,0,o[t])),ja(n,r*La,t>2?La:0,La,La),s.setRenderTarget(n),h&&s.render(u,i),s.render(e,i)}u.geometry.dispose(),u.material.dispose(),s.toneMapping=l,s.autoClear=c,e.background=f}_textureToCubeUV(e,t){const r=this._renderer,n=e.mapping===ie||e.mapping===ae;n?(null===this._cubemapShader&&(this._cubemapShader=Xa()),this._cubemapShader.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectShader&&(this._equirectShader=Wa());const i=n?this._cubemapShader:this._equirectShader,a=new Yi(Ia[0],i),o=i.uniforms;o.envMap.value=e,n||o.texelSize.value.set(1/e.image.width,1/e.image.height),ja(t,0,0,3*La,2*La),r.setRenderTarget(t),r.render(a,Oa)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let t=1;t<Pa;t++){const r=Math.sqrt(Ba[t]*Ba[t]-Ba[t-1]*Ba[t-1]),n=qa[(t-1)%qa.length];this._blur(e,t-1,t,r,n)}t.autoClear=r}_blur(e,t,r,n,i){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,r,n,"latitudinal",i),this._halfBlur(a,e,r,r,n,"longitudinal",i)}_halfBlur(e,t,r,n,i,a,o){const s=this._renderer,c=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");const l=new Yi(Ia[n],c),d=c.uniforms,u=Na[r]-1,h=isFinite(i)?Math.PI/(2*u):2*Math.PI/39,f=i/h,p=isFinite(i)?1+Math.floor(3*f):Da;p>Da&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${p} samples when the maximum is set to 20`);const m=[];let v=0;for(let e=0;e<Da;++e){const t=e/f,r=Math.exp(-t*t/2);m.push(r),0===e?v+=r:e<p&&(v+=2*r)}for(let e=0;e<m.length;e++)m[e]=m[e]/v;d.envMap.value=e.texture,d.samples.value=p,d.weights.value=m,d.latitudinal.value="latitudinal"===a,o&&(d.poleAxis.value=o),d.dTheta.value=h,d.mipInt.value=8-r;const $=Na[n];ja(t,3*Math.max(0,La-2*$),(0===n?0:2*La)+2*$*(n>4?n-8+4:0),3*$,2*$),s.setRenderTarget(t),s.render(l,Oa)}}function Va(){const e=[],t=[],r=[];let n=8;for(let i=0;i<Pa;i++){const a=Math.pow(2,n);t.push(a);let o=1/a;i>4?o=Ra[i-8+4-1]:0===i&&(o=0),r.push(o);const s=1/(a-1),c=-s/2,l=1+s/2,d=[c,c,l,c,l,l,c,c,l,l,c,l],u=6,h=6,f=3,p=2,m=1,v=new Float32Array(f*h*u),$=new Float32Array(p*h*u),g=new Float32Array(m*h*u);for(let e=0;e<u;e++){const t=e%3*2/3-1,r=e>2?0:-1,n=[t,r,0,t+2/3,r,0,t+2/3,r+1,0,t,r,0,t+2/3,r+1,0,t,r+1,0];v.set(n,f*h*e),$.set(d,p*h*e);const i=[e,e,e,e,e,e];g.set(i,m*h*e)}const b=new Pi;b.setAttribute("position",new pi(v,f)),b.setAttribute("uv",new pi($,p)),b.setAttribute("faceIndex",new pi(g,m)),e.push(b),n>4&&n--}return{_lodPlanes:e,_sizeLods:t,_sigmas:r}}function Ha(e){const t=new Vr(3*La,3*La,e);return t.texture.mapping=ce,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function ja(e,t,r,n,i){e.viewport.set(t,r,n,i),e.scissor.set(t,r,n,i)}function Wa(){const e=new Tr(1,1);return new Ca({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e}},vertexShader:Ka(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = texture2D ( envMap, uv ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = texture2D ( envMap, uv ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = texture2D ( envMap, uv ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = texture2D ( envMap, uv ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t}\n\t\t",blending:g,depthTest:!1,depthWrite:!1})}function Xa(){return new Ca({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Ka(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:g,depthTest:!1,depthWrite:!1})}function Ka(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function Ya(e){let t=new WeakMap,r=null;function n(e){const r=e.target;r.removeEventListener("dispose",n);const i=t.get(r);void 0!==i&&(t.delete(r),i.dispose())}return{get:function(i){if(i&&i.isTexture){const a=i.mapping,o=a===oe||a===se,s=a===ie||a===ae;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;let n=t.get(i);return null===r&&(r=new Ga(e)),n=o?r.fromEquirectangular(i,n):r.fromCubemap(i,n),t.set(i,n),n.texture}if(t.has(i))return t.get(i).texture;{const a=i.image;if(o&&a&&a.height>0||s&&a&&function(e){let t=0;const r=6;for(let n=0;n<r;n++)void 0!==e[n]&&t++;return t===r}(a)){null===r&&(r=new Ga(e));const a=o?r.fromEquirectangular(i):r.fromCubemap(i);return t.set(i,a),i.addEventListener("dispose",n),a.texture}return null}}}return i},dispose:function(){t=new WeakMap,null!==r&&(r.dispose(),r=null)}}}function Za(e){const t={};function r(r){if(void 0!==t[r])return t[r];let n;switch(r){case"WEBGL_depth_texture":n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(r)}return t[r]=n,n}return{has:function(e){return null!==r(e)},init:function(e){e.isWebGL2?r("EXT_color_buffer_float"):(r("WEBGL_depth_texture"),r("OES_texture_float"),r("OES_texture_half_float"),r("OES_texture_half_float_linear"),r("OES_standard_derivatives"),r("OES_element_index_uint"),r("OES_vertex_array_object"),r("ANGLE_instanced_arrays")),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture")},get:function(e){const t=r(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Ja(e,t,r,n){const i={},a=new WeakMap;function o(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const e in s.attributes)t.remove(s.attributes[e]);s.removeEventListener("dispose",o),delete i[s.id];const c=a.get(s);c&&(t.remove(c),a.delete(s)),n.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,r.memory.geometries--}function s(e){const r=[],n=e.index,i=e.attributes.position;let o=0;if(null!==n){const e=n.array;o=n.version;for(let t=0,n=e.length;t<n;t+=3){const n=e[t+0],i=e[t+1],a=e[t+2];r.push(n,i,i,a,a,n)}}else{const e=i.array;o=i.version;for(let t=0,n=e.length/3-1;t<n;t+=3){const e=t+0,n=t+1,i=t+2;r.push(e,n,n,i,i,e)}}const s=new(Er(r)?yi:bi)(r,1);s.version=o;const c=a.get(e);c&&t.remove(c),a.set(e,s)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,r.memory.geometries++),t},update:function(e){const r=e.attributes;for(const e in r)t.update(r[e],34962);const n=e.morphAttributes;for(const e in n){const r=n[e];for(let e=0,n=r.length;e<n;e++)t.update(r[e],34962)}},getWireframeAttribute:function(e){const t=a.get(e);if(t){const r=e.index;null!==r&&t.version<r.version&&s(e)}else s(e);return a.get(e)}}}function Qa(e,t,r,n){const i=n.isWebGL2;let a,o,s;this.setMode=function(e){a=e},this.setIndex=function(e){o=e.type,s=e.bytesPerElement},this.render=function(t,n){e.drawElements(a,n,o,t*s),r.update(n,a,1)},this.renderInstances=function(n,c,l){if(0===l)return;let d,u;if(i)d=e,u="drawElementsInstanced";else if(d=t.get("ANGLE_instanced_arrays"),u="drawElementsInstancedANGLE",null===d)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");d[u](a,c,o,n*s,l),r.update(c,a,l)}}function eo(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,r,n){switch(t.calls++,r){case 4:t.triangles+=n*(e/3);break;case 1:t.lines+=n*(e/2);break;case 3:t.lines+=n*(e-1);break;case 2:t.lines+=n*e;break;case 0:t.points+=n*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}class to extends Fr{constructor(e=null,t=1,r=1,n=1){super(null),this.image={data:e,width:t,height:r,depth:n},this.magFilter=fe,this.minFilter=fe,this.wrapR=ue,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}function ro(e,t){return e[0]-t[0]}function no(e,t){return Math.abs(t[1])-Math.abs(e[1])}function io(e,t){let r=1;const n=t.isInterleavedBufferAttribute?t.data.array:t.array;n instanceof Int8Array?r=127:n instanceof Int16Array?r=32767:n instanceof Int32Array?r=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",n),e.divideScalar(r)}function ao(e,t,r){const n={},i=new Float32Array(8),a=new WeakMap,o=new Xr,s=[];for(let e=0;e<8;e++)s[e]=[e,0];return{update:function(c,l,d,u){const h=c.morphTargetInfluences;if(!0===t.isWebGL2){const n=l.morphAttributes.position.length;let i=a.get(l);if(void 0===i||i.count!==n){void 0!==i&&i.texture.dispose();const e=void 0!==l.morphAttributes.normal,r=l.morphAttributes.position,s=l.morphAttributes.normal||[],c=!0===e?2:1;let d=l.attributes.position.count*c,u=1;d>t.maxTextureSize&&(u=Math.ceil(d/t.maxTextureSize),d=t.maxTextureSize);const h=new Float32Array(d*u*4*n),f=new to(h,d,u,n);f.format=Ne,f.type=Ce,f.needsUpdate=!0;const p=4*c;for(let t=0;t<n;t++){const n=r[t],i=s[t],a=d*u*4*t;for(let t=0;t<n.count;t++){o.fromBufferAttribute(n,t),!0===n.normalized&&io(o,n);const r=t*p;h[a+r+0]=o.x,h[a+r+1]=o.y,h[a+r+2]=o.z,h[a+r+3]=0,!0===e&&(o.fromBufferAttribute(i,t),!0===i.normalized&&io(o,i),h[a+r+4]=o.x,h[a+r+5]=o.y,h[a+r+6]=o.z,h[a+r+7]=0)}}i={count:n,texture:f,size:new Tr(d,u)},a.set(l,i),l.addEventListener("dispose",(function e(){f.dispose(),a.delete(l),l.removeEventListener("dispose",e)}))}let s=0;for(let e=0;e<h.length;e++)s+=h[e];const c=l.morphTargetsRelative?1:1-s;u.getUniforms().setValue(e,"morphTargetBaseInfluence",c),u.getUniforms().setValue(e,"morphTargetInfluences",h),u.getUniforms().setValue(e,"morphTargetsTexture",i.texture,r),u.getUniforms().setValue(e,"morphTargetsTextureSize",i.size)}else{const t=void 0===h?0:h.length;let r=n[l.id];if(void 0===r||r.length!==t){r=[];for(let e=0;e<t;e++)r[e]=[e,0];n[l.id]=r}for(let e=0;e<t;e++){const t=r[e];t[0]=e,t[1]=h[e]}r.sort(no);for(let e=0;e<8;e++)e<t&&r[e][1]?(s[e][0]=r[e][0],s[e][1]=r[e][1]):(s[e][0]=Number.MAX_SAFE_INTEGER,s[e][1]=0);s.sort(ro);const a=l.morphAttributes.position,o=l.morphAttributes.normal;let c=0;for(let e=0;e<8;e++){const t=s[e],r=t[0],n=t[1];r!==Number.MAX_SAFE_INTEGER&&n?(a&&l.getAttribute("morphTarget"+e)!==a[r]&&l.setAttribute("morphTarget"+e,a[r]),o&&l.getAttribute("morphNormal"+e)!==o[r]&&l.setAttribute("morphNormal"+e,o[r]),i[e]=n,c+=n):(a&&!0===l.hasAttribute("morphTarget"+e)&&l.deleteAttribute("morphTarget"+e),o&&!0===l.hasAttribute("morphNormal"+e)&&l.deleteAttribute("morphNormal"+e),i[e]=0)}const d=l.morphTargetsRelative?1:1-c;u.getUniforms().setValue(e,"morphTargetBaseInfluence",d),u.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function oo(e,t,r,n){let i=new WeakMap;function a(e){const t=e.target;t.removeEventListener("dispose",a),r.remove(t.instanceMatrix),null!==t.instanceColor&&r.remove(t.instanceColor)}return{update:function(e){const o=n.render.frame,s=e.geometry,c=t.get(e,s);return i.get(c)!==o&&(t.update(c),i.set(c,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),r.update(e.instanceMatrix,34962),null!==e.instanceColor&&r.update(e.instanceColor,34962)),c},dispose:function(){i=new WeakMap}}}to.prototype.isDataTexture2DArray=!0;class so extends Fr{constructor(e=null,t=1,r=1,n=1){super(null),this.image={data:e,width:t,height:r,depth:n},this.magFilter=fe,this.minFilter=fe,this.wrapR=ue,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}so.prototype.isDataTexture3D=!0;const co=new Fr,lo=new to,uo=new so,ho=new sa,fo=[],po=[],mo=new Float32Array(16),vo=new Float32Array(9),$o=new Float32Array(4);function go(e,t,r){const n=e[0];if(n<=0||n>0)return e;const i=t*r;let a=fo[i];if(void 0===a&&(a=new Float32Array(i),fo[i]=a),0!==t){n.toArray(a,0);for(let n=1,i=0;n!==t;++n)i+=r,e[n].toArray(a,i)}return a}function bo(e,t){if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function xo(e,t){for(let r=0,n=t.length;r<n;r++)e[r]=t[r]}function yo(e,t){let r=po[t];void 0===r&&(r=new Int32Array(t),po[t]=r);for(let n=0;n!==t;++n)r[n]=e.allocateTextureUnit();return r}function wo(e,t){const r=this.cache;r[0]!==t&&(e.uniform1f(this.addr,t),r[0]=t)}function _o(e,t){const r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(bo(r,t))return;e.uniform2fv(this.addr,t),xo(r,t)}}function So(e,t){const r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else if(void 0!==t.r)r[0]===t.r&&r[1]===t.g&&r[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),r[0]=t.r,r[1]=t.g,r[2]=t.b);else{if(bo(r,t))return;e.uniform3fv(this.addr,t),xo(r,t)}}function To(e,t){const r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z&&r[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(bo(r,t))return;e.uniform4fv(this.addr,t),xo(r,t)}}function Mo(e,t){const r=this.cache,n=t.elements;if(void 0===n){if(bo(r,t))return;e.uniformMatrix2fv(this.addr,!1,t),xo(r,t)}else{if(bo(r,n))return;$o.set(n),e.uniformMatrix2fv(this.addr,!1,$o),xo(r,n)}}function Eo(e,t){const r=this.cache,n=t.elements;if(void 0===n){if(bo(r,t))return;e.uniformMatrix3fv(this.addr,!1,t),xo(r,t)}else{if(bo(r,n))return;vo.set(n),e.uniformMatrix3fv(this.addr,!1,vo),xo(r,n)}}function Ao(e,t){const r=this.cache,n=t.elements;if(void 0===n){if(bo(r,t))return;e.uniformMatrix4fv(this.addr,!1,t),xo(r,t)}else{if(bo(r,n))return;mo.set(n),e.uniformMatrix4fv(this.addr,!1,mo),xo(r,n)}}function Co(e,t){const r=this.cache;r[0]!==t&&(e.uniform1i(this.addr,t),r[0]=t)}function Lo(e,t){const r=this.cache;bo(r,t)||(e.uniform2iv(this.addr,t),xo(r,t))}function Ro(e,t){const r=this.cache;bo(r,t)||(e.uniform3iv(this.addr,t),xo(r,t))}function Po(e,t){const r=this.cache;bo(r,t)||(e.uniform4iv(this.addr,t),xo(r,t))}function Do(e,t){const r=this.cache;r[0]!==t&&(e.uniform1ui(this.addr,t),r[0]=t)}function Oo(e,t){const r=this.cache;bo(r,t)||(e.uniform2uiv(this.addr,t),xo(r,t))}function Io(e,t){const r=this.cache;bo(r,t)||(e.uniform3uiv(this.addr,t),xo(r,t))}function No(e,t){const r=this.cache;bo(r,t)||(e.uniform4uiv(this.addr,t),xo(r,t))}function Bo(e,t,r){const n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.safeSetTexture2D(t||co,i)}function zo(e,t,r){const n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture3D(t||uo,i)}function Uo(e,t,r){const n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.safeSetTextureCube(t||ho,i)}function ko(e,t,r){const n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture2DArray(t||lo,i)}function Fo(e,t){e.uniform1fv(this.addr,t)}function qo(e,t){const r=go(t,this.size,2);e.uniform2fv(this.addr,r)}function Go(e,t){const r=go(t,this.size,3);e.uniform3fv(this.addr,r)}function Vo(e,t){const r=go(t,this.size,4);e.uniform4fv(this.addr,r)}function Ho(e,t){const r=go(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,r)}function jo(e,t){const r=go(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,r)}function Wo(e,t){const r=go(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,r)}function Xo(e,t){e.uniform1iv(this.addr,t)}function Ko(e,t){e.uniform2iv(this.addr,t)}function Yo(e,t){e.uniform3iv(this.addr,t)}function Zo(e,t){e.uniform4iv(this.addr,t)}function Jo(e,t){e.uniform1uiv(this.addr,t)}function Qo(e,t){e.uniform2uiv(this.addr,t)}function es(e,t){e.uniform3uiv(this.addr,t)}function ts(e,t){e.uniform4uiv(this.addr,t)}function rs(e,t,r){const n=t.length,i=yo(r,n);e.uniform1iv(this.addr,i);for(let e=0;e!==n;++e)r.safeSetTexture2D(t[e]||co,i[e])}function ns(e,t,r){const n=t.length,i=yo(r,n);e.uniform1iv(this.addr,i);for(let e=0;e!==n;++e)r.setTexture3D(t[e]||uo,i[e])}function is(e,t,r){const n=t.length,i=yo(r,n);e.uniform1iv(this.addr,i);for(let e=0;e!==n;++e)r.safeSetTextureCube(t[e]||ho,i[e])}function as(e,t,r){const n=t.length,i=yo(r,n);e.uniform1iv(this.addr,i);for(let e=0;e!==n;++e)r.setTexture2DArray(t[e]||lo,i[e])}function os(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return wo;case 35664:return _o;case 35665:return So;case 35666:return To;case 35674:return Mo;case 35675:return Eo;case 35676:return Ao;case 5124:case 35670:return Co;case 35667:case 35671:return Lo;case 35668:case 35672:return Ro;case 35669:case 35673:return Po;case 5125:return Do;case 36294:return Oo;case 36295:return Io;case 36296:return No;case 35678:case 36198:case 36298:case 36306:case 35682:return Bo;case 35679:case 36299:case 36307:return zo;case 35680:case 36300:case 36308:case 36293:return Uo;case 36289:case 36303:case 36311:case 36292:return ko}}(t.type)}function ss(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Fo;case 35664:return qo;case 35665:return Go;case 35666:return Vo;case 35674:return Ho;case 35675:return jo;case 35676:return Wo;case 5124:case 35670:return Xo;case 35667:case 35671:return Ko;case 35668:case 35672:return Yo;case 35669:case 35673:return Zo;case 5125:return Jo;case 36294:return Qo;case 36295:return es;case 36296:return ts;case 35678:case 36198:case 36298:case 36306:case 35682:return rs;case 35679:case 36299:case 36307:return ns;case 35680:case 36300:case 36308:case 36293:return is;case 36289:case 36303:case 36311:case 36292:return as}}(t.type)}function cs(e){this.id=e,this.seq=[],this.map={}}ss.prototype.updateCache=function(e){const t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),xo(t,e)},cs.prototype.setValue=function(e,t,r){const n=this.seq;for(let i=0,a=n.length;i!==a;++i){const a=n[i];a.setValue(e,t[a.id],r)}};const ls=/(\w+)(\])?(\[|\.)?/g;function ds(e,t){e.seq.push(t),e.map[t.id]=t}function us(e,t,r){const n=e.name,i=n.length;for(ls.lastIndex=0;;){const a=ls.exec(n),o=ls.lastIndex;let s=a[1];const c="]"===a[2],l=a[3];if(c&&(s|=0),void 0===l||"["===l&&o+2===i){ds(r,void 0===l?new os(s,e,t):new ss(s,e,t));break}{let e=r.map[s];void 0===e&&(e=new cs(s),ds(r,e)),r=e}}}function hs(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let n=0;n<r;++n){const r=e.getActiveUniform(t,n);us(r,e.getUniformLocation(t,r.name),this)}}function fs(e,t,r){const n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}hs.prototype.setValue=function(e,t,r,n){const i=this.map[t];void 0!==i&&i.setValue(e,r,n)},hs.prototype.setOptional=function(e,t,r){const n=t[r];void 0!==n&&this.setValue(e,r,n)},hs.upload=function(e,t,r,n){for(let i=0,a=t.length;i!==a;++i){const a=t[i],o=r[a.id];!1!==o.needsUpdate&&a.setValue(e,o.value,n)}},hs.seqWithValue=function(e,t){const r=[];for(let n=0,i=e.length;n!==i;++n){const i=e[n];i.id in t&&r.push(i)}return r};let ps=0;function ms(e,t,r){const n=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return n&&""===i?"":r.toUpperCase()+"\n\n"+i+"\n\n"+function(e){const t=e.split("\n");for(let e=0;e<t.length;e++)t[e]=e+1+": "+t[e];return t.join("\n")}(e.getShaderSource(t))}function vs(e,t){const r=function(e){switch(e){case Pt:return["Linear","( value )"];case Dt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function $s(e,t){let r;switch(t){case J:r="Linear";break;case Q:r="Reinhard";break;case ee:r="OptimizedCineon";break;case te:r="ACESFilmic";break;case re:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),r="Linear"}return"vec3 "+e+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function gs(e){return""!==e}function bs(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function xs(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const ys=/^[ \t]*#include +<([\w\d./]+)>/gm;function ws(e){return e.replace(ys,_s)}function _s(e,t){const r=ba[t];if(void 0===r)throw new Error("Can not resolve #include <"+t+">");return ws(r)}const Ss=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Ts=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Ms(e){return e.replace(Ts,As).replace(Ss,Es)}function Es(e,t,r,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),As(e,t,r,n)}function As(e,t,r,n){let i="";for(let e=parseInt(t);e<parseInt(r);e++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return i}function Cs(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Ls(e,t,r,n){const i=e.getContext(),a=r.defines;let o=r.vertexShader,s=r.fragmentShader;const c=function(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===d?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===u?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===h&&(t="SHADOWMAP_TYPE_VSM"),t}(r),l=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case ie:case ae:t="ENVMAP_TYPE_CUBE";break;case ce:case le:t="ENVMAP_TYPE_CUBE_UV"}return t}(r),f=function(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case ae:case le:t="ENVMAP_MODE_REFRACTION"}return t}(r),p=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case X:t="ENVMAP_BLENDING_MULTIPLY";break;case K:t="ENVMAP_BLENDING_MIX";break;case Y:t="ENVMAP_BLENDING_ADD"}return t}(r),m=r.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(gs).join("\n")}(r),v=function(e){const t=[];for(const r in e){const n=e[r];!1!==n&&t.push("#define "+r+" "+n)}return t.join("\n")}(a),$=i.createProgram();let g,b,x=r.glslVersion?"#version "+r.glslVersion+"\n":"";r.isRawShaderMaterial?(g=[v].filter(gs).join("\n"),g.length>0&&(g+="\n"),b=[m,v].filter(gs).join("\n"),b.length>0&&(b+="\n")):(g=[Cs(r),"#define SHADER_NAME "+r.shaderName,v,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+f:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.morphTargets&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",r.morphTargets&&r.isWebGL2?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(gs).join("\n"),b=[m,Cs(r),"#define SHADER_NAME "+r.shaderName,v,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+l:"",r.envMap?"#define "+f:"",r.envMap?"#define "+p:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(r.extensionShaderTextureLOD||r.envMap)&&r.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==Z?"#define TONE_MAPPING":"",r.toneMapping!==Z?ba.tonemapping_pars_fragment:"",r.toneMapping!==Z?$s("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.transparent?"":"#define OPAQUE",ba.encodings_pars_fragment,vs("linearToOutputTexel",r.outputEncoding),r.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(gs).join("\n")),o=ws(o),o=bs(o,r),o=xs(o,r),s=ws(s),s=bs(s,r),s=xs(s,r),o=Ms(o),s=Ms(s),r.isWebGL2&&!0!==r.isRawShaderMaterial&&(x="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,b=["#define varying in",r.glslVersion===dr?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===dr?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+b);const y=x+b+s,w=fs(i,35633,x+g+o),_=fs(i,35632,y);if(i.attachShader($,w),i.attachShader($,_),void 0!==r.index0AttributeName?i.bindAttribLocation($,0,r.index0AttributeName):!0===r.morphTargets&&i.bindAttribLocation($,0,"position"),i.linkProgram($),e.debug.checkShaderErrors){const e=i.getProgramInfoLog($).trim(),t=i.getShaderInfoLog(w).trim(),r=i.getShaderInfoLog(_).trim();let n=!0,a=!0;if(!1===i.getProgramParameter($,35714)){n=!1;const t=ms(i,w,"vertex"),r=ms(i,_,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter($,35715)+"\n\nProgram Info Log: "+e+"\n"+t+"\n"+r)}else""!==e?console.warn("THREE.WebGLProgram: Program Info Log:",e):""!==t&&""!==r||(a=!1);a&&(this.diagnostics={runnable:n,programLog:e,vertexShader:{log:t,prefix:g},fragmentShader:{log:r,prefix:b}})}let S,T;return i.deleteShader(w),i.deleteShader(_),this.getUniforms=function(){return void 0===S&&(S=new hs(i,$)),S},this.getAttributes=function(){return void 0===T&&(T=function(e,t){const r={},n=e.getProgramParameter(t,35721);for(let i=0;i<n;i++){const n=e.getActiveAttrib(t,i),a=n.name;let o=1;35674===n.type&&(o=2),35675===n.type&&(o=3),35676===n.type&&(o=4),r[a]={type:n.type,location:e.getAttribLocation(t,a),locationSize:o}}return r}(i,$)),T},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram($),this.program=void 0},this.name=r.shaderName,this.id=ps++,this.cacheKey=t,this.usedTimes=1,this.program=$,this.vertexShader=w,this.fragmentShader=_,this}let Rs=0;class Ps{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,n=this._getShaderStage(t),i=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return!1===a.has(n)&&(a.add(n),n.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const e of t)e.usedTimes--,0===e.usedTimes&&this.shaderCache.delete(e);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return!1===t.has(e)&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(!1===t.has(e)){const r=new Ds;t.set(e,r)}return t.get(e)}}class Ds{constructor(){this.id=Rs++,this.usedTimes=0}}function Os(e,t,r,n,i,a,o){const s=new Bn,c=new Ps,l=[],d=i.isWebGL2,u=i.logarithmicDepthBuffer,h=i.floatVertexTextures,f=i.maxVertexUniforms,v=i.vertexTextures;let $=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(a,s,l,b,x){const y=b.fog,w=a.isMeshStandardMaterial?b.environment:null,_=(a.isMeshStandardMaterial?r:t).get(a.envMap||w),S=g[a.type],T=x.isSkinnedMesh?function(e){const t=e.skeleton.bones;if(h)return 1024;{const e=f,r=Math.floor((e-20)/4),n=Math.min(r,t.length);return n<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+n+"."),0):n}}(x):0;let M,E,A,C;if(null!==a.precision&&($=i.getMaxPrecision(a.precision),$!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",$,"instead.")),S){const e=ya[S];M=e.vertexShader,E=e.fragmentShader}else M=a.vertexShader,E=a.fragmentShader,c.update(a),A=c.getVertexShaderID(a),C=c.getFragmentShaderID(a);const L=e.getRenderTarget(),R=a.alphaTest>0,P=a.clearcoat>0;return{isWebGL2:d,shaderID:S,shaderName:a.type,vertexShader:M,fragmentShader:E,defines:a.defines,customVertexShaderID:A,customFragmentShaderID:C,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:$,instancing:!0===x.isInstancedMesh,instancingColor:!0===x.isInstancedMesh&&null!==x.instanceColor,supportsVertexTextures:v,outputEncoding:null===L?e.outputEncoding:!0===L.isXRRenderTarget?L.texture.encoding:Pt,map:!!a.map,matcap:!!a.matcap,envMap:!!_,envMapMode:_&&_.mapping,envMapCubeUV:!!_&&(_.mapping===ce||_.mapping===le),lightMap:!!a.lightMap,aoMap:!!a.aoMap,emissiveMap:!!a.emissiveMap,bumpMap:!!a.bumpMap,normalMap:!!a.normalMap,objectSpaceNormalMap:a.normalMapType===Bt,tangentSpaceNormalMap:a.normalMapType===Nt,decodeVideoTexture:!!a.map&&!0===a.map.isVideoTexture&&a.map.encoding===Dt,clearcoat:P,clearcoatMap:P&&!!a.clearcoatMap,clearcoatRoughnessMap:P&&!!a.clearcoatRoughnessMap,clearcoatNormalMap:P&&!!a.clearcoatNormalMap,displacementMap:!!a.displacementMap,roughnessMap:!!a.roughnessMap,metalnessMap:!!a.metalnessMap,specularMap:!!a.specularMap,specularIntensityMap:!!a.specularIntensityMap,specularColorMap:!!a.specularColorMap,transparent:a.transparent,alphaMap:!!a.alphaMap,alphaTest:R,gradientMap:!!a.gradientMap,sheen:a.sheen>0,sheenColorMap:!!a.sheenColorMap,sheenRoughnessMap:!!a.sheenRoughnessMap,transmission:a.transmission>0,transmissionMap:!!a.transmissionMap,thicknessMap:!!a.thicknessMap,combine:a.combine,vertexTangents:!!a.normalMap&&!!x.geometry&&!!x.geometry.attributes.tangent,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!x.geometry&&!!x.geometry.attributes.color&&4===x.geometry.attributes.color.itemSize,vertexUvs:!!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatMap||a.clearcoatRoughnessMap||a.clearcoatNormalMap||a.displacementMap||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheenColorMap||a.sheenRoughnessMap),uvsVertexOnly:!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatNormalMap||a.transmission>0||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheen>0||a.sheenColorMap||a.sheenRoughnessMap||!a.displacementMap),fog:!!y,useFog:a.fog,fogExp2:y&&y.isFogExp2,flatShading:!!a.flatShading,sizeAttenuation:a.sizeAttenuation,logarithmicDepthBuffer:u,skinning:!0===x.isSkinnedMesh&&T>0,maxBones:T,useVertexTexture:h,morphTargets:!!x.geometry&&!!x.geometry.morphAttributes.position,morphNormals:!!x.geometry&&!!x.geometry.morphAttributes.normal,morphTargetsCount:x.geometry&&x.geometry.morphAttributes.position?x.geometry.morphAttributes.position.length:0,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&l.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:Z,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===m,flipSided:a.side===p,depthPacking:void 0!==a.depthPacking&&a.depthPacking,index0AttributeName:a.index0AttributeName,extensionDerivatives:a.extensions&&a.extensions.derivatives,extensionFragDepth:a.extensions&&a.extensions.fragDepth,extensionDrawBuffers:a.extensions&&a.extensions.drawBuffers,extensionShaderTextureLOD:a.extensions&&a.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||n.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){const r=[];if(t.shaderID?r.push(t.shaderID):(r.push(t.customVertexShaderID),r.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)r.push(e),r.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.maxBones),e.push(t.morphTargetsCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection)}(r,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.map&&s.enable(4);t.matcap&&s.enable(5);t.envMap&&s.enable(6);t.envMapCubeUV&&s.enable(7);t.lightMap&&s.enable(8);t.aoMap&&s.enable(9);t.emissiveMap&&s.enable(10);t.bumpMap&&s.enable(11);t.normalMap&&s.enable(12);t.objectSpaceNormalMap&&s.enable(13);t.tangentSpaceNormalMap&&s.enable(14);t.clearcoat&&s.enable(15);t.clearcoatMap&&s.enable(16);t.clearcoatRoughnessMap&&s.enable(17);t.clearcoatNormalMap&&s.enable(18);t.displacementMap&&s.enable(19);t.specularMap&&s.enable(20);t.roughnessMap&&s.enable(21);t.metalnessMap&&s.enable(22);t.gradientMap&&s.enable(23);t.alphaMap&&s.enable(24);t.alphaTest&&s.enable(25);t.vertexColors&&s.enable(26);t.vertexAlphas&&s.enable(27);t.vertexUvs&&s.enable(28);t.vertexTangents&&s.enable(29);t.uvsVertexOnly&&s.enable(30);t.fog&&s.enable(31);e.push(s.mask),s.disableAll(),t.useFog&&s.enable(0);t.flatShading&&s.enable(1);t.logarithmicDepthBuffer&&s.enable(2);t.skinning&&s.enable(3);t.useVertexTexture&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.premultipliedAlpha&&s.enable(7);t.shadowMapEnabled&&s.enable(8);t.physicallyCorrectLights&&s.enable(9);t.doubleSided&&s.enable(10);t.flipSided&&s.enable(11);t.depthPacking&&s.enable(12);t.dithering&&s.enable(13);t.specularIntensityMap&&s.enable(14);t.specularColorMap&&s.enable(15);t.transmission&&s.enable(16);t.transmissionMap&&s.enable(17);t.thicknessMap&&s.enable(18);t.sheen&&s.enable(19);t.sheenColorMap&&s.enable(20);t.sheenRoughnessMap&&s.enable(21);t.decodeVideoTexture&&s.enable(22);t.transparent&&s.enable(23);e.push(s.mask)}(r,t),r.push(e.outputEncoding)),r.push(t.customProgramCacheKey),r.join()},getUniforms:function(e){const t=g[e.type];let r;if(t){const e=ya[t];r=ta.clone(e.uniforms)}else r=e.uniforms;return r},acquireProgram:function(t,r){let n;for(let e=0,t=l.length;e<t;e++){const t=l[e];if(t.cacheKey===r){n=t,++n.usedTimes;break}}return void 0===n&&(n=new Ls(e,r,t,a),l.push(n)),n},releaseProgram:function(e){if(0==--e.usedTimes){const t=l.indexOf(e);l[t]=l[l.length-1],l.pop(),e.destroy()}},releaseShaderCache:function(e){c.remove(e)},programs:l,dispose:function(){c.dispose()}}}function Is(){let e=new WeakMap;return{get:function(t){let r=e.get(t);return void 0===r&&(r={},e.set(t,r)),r},remove:function(t){e.delete(t)},update:function(t,r,n){e.get(t)[r]=n},dispose:function(){e=new WeakMap}}}function Ns(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Bs(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function zs(){const e=[];let t=0;const r=[],n=[],i=[];function a(r,n,i,a,o,s){let c=e[t];return void 0===c?(c={id:r.id,object:r,geometry:n,material:i,groupOrder:a,renderOrder:r.renderOrder,z:o,group:s},e[t]=c):(c.id=r.id,c.object=r,c.geometry=n,c.material=i,c.groupOrder=a,c.renderOrder=r.renderOrder,c.z=o,c.group=s),t++,c}return{opaque:r,transmissive:n,transparent:i,init:function(){t=0,r.length=0,n.length=0,i.length=0},push:function(e,t,o,s,c,l){const d=a(e,t,o,s,c,l);o.transmission>0?n.push(d):!0===o.transparent?i.push(d):r.push(d)},unshift:function(e,t,o,s,c,l){const d=a(e,t,o,s,c,l);o.transmission>0?n.unshift(d):!0===o.transparent?i.unshift(d):r.unshift(d)},finish:function(){for(let r=t,n=e.length;r<n;r++){const t=e[r];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){r.length>1&&r.sort(e||Ns),n.length>1&&n.sort(t||Bs),i.length>1&&i.sort(t||Bs)}}}function Us(){let e=new WeakMap;return{get:function(t,r){let n;return!1===e.has(t)?(n=new zs,e.set(t,[n])):r>=e.get(t).length?(n=new zs,e.get(t).push(n)):n=e.get(t)[r],n},dispose:function(){e=new WeakMap}}}function ks(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let r;switch(t.type){case"DirectionalLight":r={direction:new Xr,color:new Br};break;case"SpotLight":r={position:new Xr,direction:new Xr,color:new Br,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new Xr,color:new Br,distance:0,decay:0};break;case"HemisphereLight":r={direction:new Xr,skyColor:new Br,groundColor:new Br};break;case"RectAreaLight":r={color:new Br,position:new Xr,halfWidth:new Xr,halfHeight:new Xr}}return e[t.id]=r,r}}}let Fs=0;function qs(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Gs(e,t){const r=new ks,n=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let r;switch(t.type){case"DirectionalLight":case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Tr};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Tr,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=r,r}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let e=0;e<9;e++)i.probe.push(new Xr);const a=new Xr,o=new Mn,s=new Mn;return{setup:function(a,o){let s=0,c=0,l=0;for(let e=0;e<9;e++)i.probe[e].set(0,0,0);let d=0,u=0,h=0,f=0,p=0,m=0,v=0,$=0;a.sort(qs);const g=!0!==o?Math.PI:1;for(let e=0,t=a.length;e<t;e++){const t=a[e],o=t.color,b=t.intensity,x=t.distance,y=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)s+=o.r*b*g,c+=o.g*b*g,l+=o.b*b*g;else if(t.isLightProbe)for(let e=0;e<9;e++)i.probe[e].addScaledVector(t.sh.coefficients[e],b);else if(t.isDirectionalLight){const e=r.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*g),t.castShadow){const e=t.shadow,r=n.get(t);r.shadowBias=e.bias,r.shadowNormalBias=e.normalBias,r.shadowRadius=e.radius,r.shadowMapSize=e.mapSize,i.directionalShadow[d]=r,i.directionalShadowMap[d]=y,i.directionalShadowMatrix[d]=t.shadow.matrix,m++}i.directional[d]=e,d++}else if(t.isSpotLight){const e=r.get(t);if(e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(o).multiplyScalar(b*g),e.distance=x,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,t.castShadow){const e=t.shadow,r=n.get(t);r.shadowBias=e.bias,r.shadowNormalBias=e.normalBias,r.shadowRadius=e.radius,r.shadowMapSize=e.mapSize,i.spotShadow[h]=r,i.spotShadowMap[h]=y,i.spotShadowMatrix[h]=t.shadow.matrix,$++}i.spot[h]=e,h++}else if(t.isRectAreaLight){const e=r.get(t);e.color.copy(o).multiplyScalar(b),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),i.rectArea[f]=e,f++}else if(t.isPointLight){const e=r.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*g),e.distance=t.distance,e.decay=t.decay,t.castShadow){const e=t.shadow,r=n.get(t);r.shadowBias=e.bias,r.shadowNormalBias=e.normalBias,r.shadowRadius=e.radius,r.shadowMapSize=e.mapSize,r.shadowCameraNear=e.camera.near,r.shadowCameraFar=e.camera.far,i.pointShadow[u]=r,i.pointShadowMap[u]=y,i.pointShadowMatrix[u]=t.shadow.matrix,v++}i.point[u]=e,u++}else if(t.isHemisphereLight){const e=r.get(t);e.skyColor.copy(t.color).multiplyScalar(b*g),e.groundColor.copy(t.groundColor).multiplyScalar(b*g),i.hemi[p]=e,p++}}f>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=xa.LTC_FLOAT_1,i.rectAreaLTC2=xa.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=xa.LTC_HALF_1,i.rectAreaLTC2=xa.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=c,i.ambient[2]=l;const b=i.hash;b.directionalLength===d&&b.pointLength===u&&b.spotLength===h&&b.rectAreaLength===f&&b.hemiLength===p&&b.numDirectionalShadows===m&&b.numPointShadows===v&&b.numSpotShadows===$||(i.directional.length=d,i.spot.length=h,i.rectArea.length=f,i.point.length=u,i.hemi.length=p,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=v,i.pointShadowMap.length=v,i.spotShadow.length=$,i.spotShadowMap.length=$,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=v,i.spotShadowMatrix.length=$,b.directionalLength=d,b.pointLength=u,b.spotLength=h,b.rectAreaLength=f,b.hemiLength=p,b.numDirectionalShadows=m,b.numPointShadows=v,b.numSpotShadows=$,i.version=Fs++)},setupView:function(e,t){let r=0,n=0,c=0,l=0,d=0;const u=t.matrixWorldInverse;for(let t=0,h=e.length;t<h;t++){const h=e[t];if(h.isDirectionalLight){const e=i.directional[r];e.direction.setFromMatrixPosition(h.matrixWorld),a.setFromMatrixPosition(h.target.matrixWorld),e.direction.sub(a),e.direction.transformDirection(u),r++}else if(h.isSpotLight){const e=i.spot[c];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(u),e.direction.setFromMatrixPosition(h.matrixWorld),a.setFromMatrixPosition(h.target.matrixWorld),e.direction.sub(a),e.direction.transformDirection(u),c++}else if(h.isRectAreaLight){const e=i.rectArea[l];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(u),s.identity(),o.copy(h.matrixWorld),o.premultiply(u),s.extractRotation(o),e.halfWidth.set(.5*h.width,0,0),e.halfHeight.set(0,.5*h.height,0),e.halfWidth.applyMatrix4(s),e.halfHeight.applyMatrix4(s),l++}else if(h.isPointLight){const e=i.point[n];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(u),n++}else if(h.isHemisphereLight){const e=i.hemi[d];e.direction.setFromMatrixPosition(h.matrixWorld),e.direction.transformDirection(u),e.direction.normalize(),d++}}},state:i}}function Vs(e,t){const r=new Gs(e,t),n=[],i=[];return{init:function(){n.length=0,i.length=0},state:{lightsArray:n,shadowsArray:i,lights:r},setupLights:function(e){r.setup(n,e)},setupLightsView:function(e){r.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){i.push(e)}}}function Hs(e,t){let r=new WeakMap;return{get:function(n,i=0){let a;return!1===r.has(n)?(a=new Vs(e,t),r.set(n,[a])):i>=r.get(n).length?(a=new Vs(e,t),r.get(n).push(a)):a=r.get(n)[i],a},dispose:function(){r=new WeakMap}}}class js extends di{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=Ot,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}js.prototype.isMeshDepthMaterial=!0;class Ws extends di{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new Xr,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}Ws.prototype.isMeshDistanceMaterial=!0;function Xs(e,t,r){let n=new ma;const i=new Tr,a=new Tr,o=new Gr,s=new js({depthPacking:It}),c=new Ws,l={},u=r.maxTextureSize,v={0:p,1:f,2:m},$=new ra({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Tr},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),b=$.clone();b.defines.HORIZONTAL_PASS=1;const x=new Pi;x.setAttribute("position",new pi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Yi(x,$),w=this;function _(r,n){const i=t.update(y);$.defines.VSM_SAMPLES!==r.blurSamples&&($.defines.VSM_SAMPLES=r.blurSamples,b.defines.VSM_SAMPLES=r.blurSamples,$.needsUpdate=!0,b.needsUpdate=!0),$.uniforms.shadow_pass.value=r.map.texture,$.uniforms.resolution.value=r.mapSize,$.uniforms.radius.value=r.radius,e.setRenderTarget(r.mapPass),e.clear(),e.renderBufferDirect(n,null,i,$,y,null),b.uniforms.shadow_pass.value=r.mapPass.texture,b.uniforms.resolution.value=r.mapSize,b.uniforms.radius.value=r.radius,e.setRenderTarget(r.map),e.clear(),e.renderBufferDirect(n,null,i,b,y,null)}function S(t,r,n,i,a,o,d){let u=null;const f=!0===i.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(u=void 0!==f?f:!0===i.isPointLight?c:s,e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0){const e=u.uuid,t=n.uuid;let r=l[e];void 0===r&&(r={},l[e]=r);let i=r[t];void 0===i&&(i=u.clone(),r[t]=i),u=i}return u.visible=n.visible,u.wireframe=n.wireframe,u.side=d===h?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:v[n.side],u.alphaMap=n.alphaMap,u.alphaTest=n.alphaTest,u.clipShadows=n.clipShadows,u.clippingPlanes=n.clippingPlanes,u.clipIntersection=n.clipIntersection,u.displacementMap=n.displacementMap,u.displacementScale=n.displacementScale,u.displacementBias=n.displacementBias,u.wireframeLinewidth=n.wireframeLinewidth,u.linewidth=n.linewidth,!0===i.isPointLight&&!0===u.isMeshDistanceMaterial&&(u.referencePosition.setFromMatrixPosition(i.matrixWorld),u.nearDistance=a,u.farDistance=o),u}function T(r,i,a,o,s){if(!1===r.visible)return;if(r.layers.test(i.layers)&&(r.isMesh||r.isLine||r.isPoints)&&(r.castShadow||r.receiveShadow&&s===h)&&(!r.frustumCulled||n.intersectsObject(r))){r.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,r.matrixWorld);const n=t.update(r),i=r.material;if(Array.isArray(i)){const t=n.groups;for(let c=0,l=t.length;c<l;c++){const l=t[c],d=i[l.materialIndex];if(d&&d.visible){const t=S(r,0,d,o,a.near,a.far,s);e.renderBufferDirect(a,null,n,t,r,l)}}}else if(i.visible){const t=S(r,0,i,o,a.near,a.far,s);e.renderBufferDirect(a,null,n,t,r,null)}}const c=r.children;for(let e=0,t=c.length;e<t;e++)T(c[e],i,a,o,s)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=d,this.render=function(t,r,s){if(!1===w.enabled)return;if(!1===w.autoUpdate&&!1===w.needsUpdate)return;if(0===t.length)return;const c=e.getRenderTarget(),l=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),f=e.state;f.setBlending(g),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(let c=0,l=t.length;c<l;c++){const l=t[c],d=l.shadow;if(void 0===d){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}if(!1===d.autoUpdate&&!1===d.needsUpdate)continue;i.copy(d.mapSize);const p=d.getFrameExtents();if(i.multiply(p),a.copy(d.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(a.x=Math.floor(u/p.x),i.x=a.x*p.x,d.mapSize.x=a.x),i.y>u&&(a.y=Math.floor(u/p.y),i.y=a.y*p.y,d.mapSize.y=a.y)),null===d.map&&!d.isPointLightShadow&&this.type===h){const e={minFilter:ge,magFilter:ge,format:Ne};d.map=new Vr(i.x,i.y,e),d.map.texture.name=l.name+".shadowMap",d.mapPass=new Vr(i.x,i.y,e),d.camera.updateProjectionMatrix()}if(null===d.map){const e={minFilter:fe,magFilter:fe,format:Ne};d.map=new Vr(i.x,i.y,e),d.map.texture.name=l.name+".shadowMap",d.camera.updateProjectionMatrix()}e.setRenderTarget(d.map),e.clear();const m=d.getViewportCount();for(let e=0;e<m;e++){const t=d.getViewport(e);o.set(a.x*t.x,a.y*t.y,a.x*t.z,a.y*t.w),f.viewport(o),d.updateMatrices(l,e),n=d.getFrustum(),T(r,s,d.camera,l,this.type)}d.isPointLightShadow||this.type!==h||_(d,s),d.needsUpdate=!1}w.needsUpdate=!1,e.setRenderTarget(c,l,d)}}function Ks(e,t,r){const n=r.isWebGL2;const i=new function(){let t=!1;const r=new Gr;let n=null;const i=new Gr(0,0,0,0);return{setMask:function(r){n===r||t||(e.colorMask(r,r,r,r),n=r)},setLocked:function(e){t=e},setClear:function(t,n,a,o,s){!0===s&&(t*=o,n*=o,a*=o),r.set(t,n,a,o),!1===i.equals(r)&&(e.clearColor(t,n,a,o),i.copy(r))},reset:function(){t=!1,n=null,i.set(-1,0,0,0)}}},c=new function(){let t=!1,r=null,n=null,i=null;return{setTest:function(e){e?be(2929):xe(2929)},setMask:function(n){r===n||t||(e.depthMask(n),r=n)},setFunc:function(t){if(n!==t){if(t)switch(t){case k:e.depthFunc(512);break;case F:e.depthFunc(519);break;case q:e.depthFunc(513);break;case G:e.depthFunc(515);break;case V:e.depthFunc(514);break;case H:e.depthFunc(518);break;case j:e.depthFunc(516);break;case W:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);n=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,r=null,n=null,i=null}}},l=new function(){let t=!1,r=null,n=null,i=null,a=null,o=null,s=null,c=null,l=null;return{setTest:function(e){t||(e?be(2960):xe(2960))},setMask:function(n){r===n||t||(e.stencilMask(n),r=n)},setFunc:function(t,r,o){n===t&&i===r&&a===o||(e.stencilFunc(t,r,o),n=t,i=r,a=o)},setOp:function(t,r,n){o===t&&s===r&&c===n||(e.stencilOp(t,r,n),o=t,s=r,c=n)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,r=null,n=null,i=null,a=null,o=null,s=null,c=null,l=null}}};let d={},u={},h=new WeakMap,f=[],v=null,$=!1,X=null,K=null,Y=null,Z=null,J=null,Q=null,ee=null,te=!1,re=null,ne=null,ie=null,ae=null,oe=null;const se=e.getParameter(35661);let ce=!1,le=0;const de=e.getParameter(7938);-1!==de.indexOf("WebGL")?(le=parseFloat(/^WebGL (\d)/.exec(de)[1]),ce=le>=1):-1!==de.indexOf("OpenGL ES")&&(le=parseFloat(/^OpenGL ES (\d)/.exec(de)[1]),ce=le>=2);let ue=null,he={};const fe=e.getParameter(3088),pe=e.getParameter(2978),me=(new Gr).fromArray(fe),ve=(new Gr).fromArray(pe);function $e(t,r,n){const i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(let t=0;t<n;t++)e.texImage2D(r+t,0,6408,1,1,0,6408,5121,i);return a}const ge={};function be(t){!0!==d[t]&&(e.enable(t),d[t]=!0)}function xe(t){!1!==d[t]&&(e.disable(t),d[t]=!1)}ge[3553]=$e(3553,3553,1),ge[34067]=$e(34067,34069,6),i.setClear(0,0,0,1),c.setClear(1),l.setClear(0),be(2929),c.setFunc(G),Se(!1),Te(o),be(2884),_e(g);const ye={[S]:32774,[T]:32778,[M]:32779};if(n)ye[E]=32775,ye[A]=32776;else{const e=t.get("EXT_blend_minmax");null!==e&&(ye[E]=e.MIN_EXT,ye[A]=e.MAX_EXT)}const we={[C]:0,[L]:1,[R]:768,[D]:770,[U]:776,[B]:774,[I]:772,[P]:769,[O]:771,[z]:775,[N]:773};function _e(t,r,n,i,a,o,s,c){if(t!==g){if(!1===$&&(be(3042),$=!0),t===_)a=a||r,o=o||n,s=s||i,r===K&&a===J||(e.blendEquationSeparate(ye[r],ye[a]),K=r,J=a),n===Y&&i===Z&&o===Q&&s===ee||(e.blendFuncSeparate(we[n],we[i],we[o],we[s]),Y=n,Z=i,Q=o,ee=s),X=t,te=null;else if(t!==X||c!==te){if(K===S&&J===S||(e.blendEquation(32774),K=S,J=S),c)switch(t){case b:e.blendFuncSeparate(1,771,1,771);break;case x:e.blendFunc(1,1);break;case y:e.blendFuncSeparate(0,769,0,1);break;case w:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case b:e.blendFuncSeparate(770,771,1,771);break;case x:e.blendFunc(770,1);break;case y:e.blendFuncSeparate(0,769,0,1);break;case w:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}Y=null,Z=null,Q=null,ee=null,X=t,te=c}}else!0===$&&(xe(3042),$=!1)}function Se(t){re!==t&&(t?e.frontFace(2304):e.frontFace(2305),re=t)}function Te(t){t!==a?(be(2884),t!==ne&&(t===o?e.cullFace(1029):t===s?e.cullFace(1028):e.cullFace(1032))):xe(2884),ne=t}function Me(t,r,n){t?(be(32823),ae===r&&oe===n||(e.polygonOffset(r,n),ae=r,oe=n)):xe(32823)}function Ee(t){void 0===t&&(t=33984+se-1),ue!==t&&(e.activeTexture(t),ue=t)}return{buffers:{color:i,depth:c,stencil:l},enable:be,disable:xe,bindFramebuffer:function(t,r){return u[t]!==r&&(e.bindFramebuffer(t,r),u[t]=r,n&&(36009===t&&(u[36160]=r),36160===t&&(u[36009]=r)),!0)},drawBuffers:function(n,i){let a=f,o=!1;if(n)if(a=h.get(i),void 0===a&&(a=[],h.set(i,a)),n.isWebGLMultipleRenderTargets){const e=n.texture;if(a.length!==e.length||36064!==a[0]){for(let t=0,r=e.length;t<r;t++)a[t]=36064+t;a.length=e.length,o=!0}}else 36064!==a[0]&&(a[0]=36064,o=!0);else 1029!==a[0]&&(a[0]=1029,o=!0);o&&(r.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return v!==t&&(e.useProgram(t),v=t,!0)},setBlending:_e,setMaterial:function(e,t){e.side===m?xe(2884):be(2884);let r=e.side===p;t&&(r=!r),Se(r),e.blending===b&&!1===e.transparent?_e(g):_e(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),c.setFunc(e.depthFunc),c.setTest(e.depthTest),c.setMask(e.depthWrite),i.setMask(e.colorWrite);const n=e.stencilWrite;l.setTest(n),n&&(l.setMask(e.stencilWriteMask),l.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),l.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Me(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?be(32926):xe(32926)},setFlipSided:Se,setCullFace:Te,setLineWidth:function(t){t!==ie&&(ce&&e.lineWidth(t),ie=t)},setPolygonOffset:Me,setScissorTest:function(e){e?be(3089):xe(3089)},activeTexture:Ee,bindTexture:function(t,r){null===ue&&Ee();let n=he[ue];void 0===n&&(n={type:void 0,texture:void 0},he[ue]=n),n.type===t&&n.texture===r||(e.bindTexture(t,r||ge[t]),n.type=t,n.texture=r)},unbindTexture:function(){const t=he[ue];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===me.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),me.copy(t))},viewport:function(t){!1===ve.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),ve.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===n&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),d={},ue=null,he={},u={},h=new WeakMap,f=[],v=null,$=!1,X=null,K=null,Y=null,Z=null,J=null,Q=null,ee=null,te=!1,re=null,ne=null,ie=null,ae=null,oe=null,me.set(0,0,e.canvas.width,e.canvas.height),ve.set(0,0,e.canvas.width,e.canvas.height),i.reset(),c.reset(),l.reset()}}}function Ys(e,t,r,n,i,a,o){const s=i.isWebGL2,c=i.maxTextures,l=i.maxCubemapSize,d=i.maxTextureSize,u=i.maxSamples,h=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):void 0,f=new WeakMap;let p,m=!1;try{m="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function v(e,t){return m?new OffscreenCanvas(e,t):Lr("canvas")}function $(e,t,r,n){let i=1;if((e.width>n||e.height>n)&&(i=n/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const n=t?_r:Math.floor,a=n(i*e.width),o=n(i*e.height);void 0===p&&(p=v(a,o));const s=r?v(a,o):p;s.width=a,s.height=o;return s.getContext("2d").drawImage(e,0,0,a,o),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a+"x"+o+")."),s}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function g(e){return yr(e.width)&&yr(e.height)}function b(e,t){return e.generateMipmaps&&t&&e.minFilter!==fe&&e.minFilter!==ge}function x(t){e.generateMipmap(t)}function y(r,n,i,a,o=!1){if(!1===s)return n;if(null!==r){if(void 0!==e[r])return e[r];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+r+"'")}let c=n;return 6403===n&&(5126===i&&(c=33326),5131===i&&(c=33325),5121===i&&(c=33321)),33319===n&&(5126===i&&(c=33328),5131===i&&(c=33327),5121===i&&(c=33323)),6408===n&&(5126===i&&(c=34836),5131===i&&(c=34842),5121===i&&(c=a===Dt&&!1===o?35907:32856),32819===i&&(c=32854),32820===i&&(c=32855)),33325!==c&&33326!==c&&33327!==c&&33328!==c&&34842!==c&&34836!==c||t.get("EXT_color_buffer_float"),c}function w(e,t,r){return!0===b(e,r)||e.isFramebufferTexture&&e.minFilter!==fe&&e.minFilter!==ge?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function _(e){return e===fe||e===pe||e===ve?9728:9729}function S(t){const r=t.target;r.removeEventListener("dispose",S),function(t){const r=n.get(t);if(void 0===r.__webglInit)return;e.deleteTexture(r.__webglTexture),n.remove(t)}(r),r.isVideoTexture&&f.delete(r),o.memory.textures--}function T(t){const r=t.target;r.removeEventListener("dispose",T),function(t){const r=t.texture,i=n.get(t),a=n.get(r);if(!t)return;void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++)e.deleteFramebuffer(i.__webglFramebuffer[t]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[t]);else e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer&&e.deleteRenderbuffer(i.__webglColorRenderbuffer),i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer);if(t.isWebGLMultipleRenderTargets)for(let t=0,i=r.length;t<i;t++){const i=n.get(r[t]);i.__webglTexture&&(e.deleteTexture(i.__webglTexture),o.memory.textures--),n.remove(r[t])}n.remove(r),n.remove(t)}(r)}let M=0;function E(e,t){const i=n.get(e);if(e.isVideoTexture&&function(e){const t=o.render.frame;f.get(e)!==t&&(f.set(e,t),e.update())}(e),e.version>0&&i.__version!==e.version){const r=e.image;if(void 0===r)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==r.complete)return void D(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}r.activeTexture(33984+t),r.bindTexture(3553,i.__webglTexture)}function A(t,i){const o=n.get(t);t.version>0&&o.__version!==t.version?function(t,n,i){if(6!==n.image.length)return;P(t,n),r.activeTexture(33984+i),r.bindTexture(34067,t.__webglTexture),e.pixelStorei(37440,n.flipY),e.pixelStorei(37441,n.premultiplyAlpha),e.pixelStorei(3317,n.unpackAlignment),e.pixelStorei(37443,0);const o=n&&(n.isCompressedTexture||n.image[0].isCompressedTexture),c=n.image[0]&&n.image[0].isDataTexture,d=[];for(let e=0;e<6;e++)d[e]=o||c?c?n.image[e].image:n.image[e]:$(n.image[e],!1,!0,l),d[e]=z(n,d[e]);const u=d[0],h=g(u)||s,f=a.convert(n.format,n.encoding),p=a.convert(n.type),m=y(n.internalFormat,f,p,n.encoding),v=s&&!0!==n.isVideoTexture,_=void 0===t.__version;let S,T=w(n,u,h);if(R(34067,n,h),o){v&&_&&r.texStorage2D(34067,T,m,u.width,u.height);for(let e=0;e<6;e++){S=d[e].mipmaps;for(let t=0;t<S.length;t++){const i=S[t];n.format!==Ne?null!==f?v?r.compressedTexSubImage2D(34069+e,t,0,0,i.width,i.height,f,i.data):r.compressedTexImage2D(34069+e,t,m,i.width,i.height,0,i.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):v?r.texSubImage2D(34069+e,t,0,0,i.width,i.height,f,p,i.data):r.texImage2D(34069+e,t,m,i.width,i.height,0,f,p,i.data)}}}else{S=n.mipmaps,v&&_&&(S.length>0&&T++,r.texStorage2D(34067,T,m,d[0].width,d[0].height));for(let e=0;e<6;e++)if(c){v?r.texSubImage2D(34069+e,0,0,0,d[e].width,d[e].height,f,p,d[e].data):r.texImage2D(34069+e,0,m,d[e].width,d[e].height,0,f,p,d[e].data);for(let t=0;t<S.length;t++){const n=S[t].image[e].image;v?r.texSubImage2D(34069+e,t+1,0,0,n.width,n.height,f,p,n.data):r.texImage2D(34069+e,t+1,m,n.width,n.height,0,f,p,n.data)}}else{v?r.texSubImage2D(34069+e,0,0,0,f,p,d[e]):r.texImage2D(34069+e,0,m,f,p,d[e]);for(let t=0;t<S.length;t++){const n=S[t];v?r.texSubImage2D(34069+e,t+1,0,0,f,p,n.image[e]):r.texImage2D(34069+e,t+1,m,f,p,n.image[e])}}}b(n,h)&&x(34067);t.__version=n.version,n.onUpdate&&n.onUpdate(n)}(o,t,i):(r.activeTexture(33984+i),r.bindTexture(34067,o.__webglTexture))}const C={[de]:10497,[ue]:33071,[he]:33648},L={[fe]:9728,[pe]:9984,[ve]:9986,[ge]:9729,[be]:9985,[ye]:9987};function R(r,a,o){if(o?(e.texParameteri(r,10242,C[a.wrapS]),e.texParameteri(r,10243,C[a.wrapT]),32879!==r&&35866!==r||e.texParameteri(r,32882,C[a.wrapR]),e.texParameteri(r,10240,L[a.magFilter]),e.texParameteri(r,10241,L[a.minFilter])):(e.texParameteri(r,10242,33071),e.texParameteri(r,10243,33071),32879!==r&&35866!==r||e.texParameteri(r,32882,33071),a.wrapS===ue&&a.wrapT===ue||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(r,10240,_(a.magFilter)),e.texParameteri(r,10241,_(a.minFilter)),a.minFilter!==fe&&a.minFilter!==ge&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){const o=t.get("EXT_texture_filter_anisotropic");if(a.type===Ce&&!1===t.has("OES_texture_float_linear"))return;if(!1===s&&a.type===Le&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||n.get(a).__currentAnisotropy)&&(e.texParameterf(r,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),n.get(a).__currentAnisotropy=a.anisotropy)}}function P(t,r){void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",S),t.__webglTexture=e.createTexture(),o.memory.textures++)}function D(t,n,i){let o=3553;n.isDataTexture2DArray&&(o=35866),n.isDataTexture3D&&(o=32879),P(t,n),r.activeTexture(33984+i),r.bindTexture(o,t.__webglTexture),e.pixelStorei(37440,n.flipY),e.pixelStorei(37441,n.premultiplyAlpha),e.pixelStorei(3317,n.unpackAlignment),e.pixelStorei(37443,0);const c=function(e){return!s&&(e.wrapS!==ue||e.wrapT!==ue||e.minFilter!==fe&&e.minFilter!==ge)}(n)&&!1===g(n.image);let l=$(n.image,c,!1,d);l=z(n,l);const u=g(l)||s,h=a.convert(n.format,n.encoding);let f,p=a.convert(n.type),m=y(n.internalFormat,h,p,n.encoding,n.isVideoTexture);R(o,n,u);const v=n.mipmaps,_=s&&!0!==n.isVideoTexture,S=void 0===t.__version,T=w(n,l,u);if(n.isDepthTexture)m=6402,s?m=n.type===Ce?36012:n.type===Ae?33190:n.type===De?35056:33189:n.type===Ce&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),n.format===Ue&&6402===m&&n.type!==Me&&n.type!==Ae&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=Me,p=a.convert(n.type)),n.format===ke&&6402===m&&(m=34041,n.type!==De&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=De,p=a.convert(n.type))),_&&S?r.texStorage2D(3553,1,m,l.width,l.height):r.texImage2D(3553,0,m,l.width,l.height,0,h,p,null);else if(n.isDataTexture)if(v.length>0&&u){_&&S&&r.texStorage2D(3553,T,m,v[0].width,v[0].height);for(let e=0,t=v.length;e<t;e++)f=v[e],_?r.texSubImage2D(3553,0,0,0,f.width,f.height,h,p,f.data):r.texImage2D(3553,e,m,f.width,f.height,0,h,p,f.data);n.generateMipmaps=!1}else _?(S&&r.texStorage2D(3553,T,m,l.width,l.height),r.texSubImage2D(3553,0,0,0,l.width,l.height,h,p,l.data)):r.texImage2D(3553,0,m,l.width,l.height,0,h,p,l.data);else if(n.isCompressedTexture){_&&S&&r.texStorage2D(3553,T,m,v[0].width,v[0].height);for(let e=0,t=v.length;e<t;e++)f=v[e],n.format!==Ne?null!==h?_?r.compressedTexSubImage2D(3553,e,0,0,f.width,f.height,h,f.data):r.compressedTexImage2D(3553,e,m,f.width,f.height,0,f.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):_?r.texSubImage2D(3553,e,0,0,f.width,f.height,h,p,f.data):r.texImage2D(3553,e,m,f.width,f.height,0,h,p,f.data)}else if(n.isDataTexture2DArray)_?(S&&r.texStorage3D(35866,T,m,l.width,l.height,l.depth),r.texSubImage3D(35866,0,0,0,0,l.width,l.height,l.depth,h,p,l.data)):r.texImage3D(35866,0,m,l.width,l.height,l.depth,0,h,p,l.data);else if(n.isDataTexture3D)_?(S&&r.texStorage3D(32879,T,m,l.width,l.height,l.depth),r.texSubImage3D(32879,0,0,0,0,l.width,l.height,l.depth,h,p,l.data)):r.texImage3D(32879,0,m,l.width,l.height,l.depth,0,h,p,l.data);else if(n.isFramebufferTexture)_&&S?r.texStorage2D(3553,T,m,l.width,l.height):r.texImage2D(3553,0,m,l.width,l.height,0,h,p,null);else if(v.length>0&&u){_&&S&&r.texStorage2D(3553,T,m,v[0].width,v[0].height);for(let e=0,t=v.length;e<t;e++)f=v[e],_?r.texSubImage2D(3553,e,0,0,h,p,f):r.texImage2D(3553,e,m,h,p,f);n.generateMipmaps=!1}else _?(S&&r.texStorage2D(3553,T,m,l.width,l.height),r.texSubImage2D(3553,0,0,0,h,p,l)):r.texImage2D(3553,0,m,h,p,l);b(n,u)&&x(o),t.__version=n.version,n.onUpdate&&n.onUpdate(n)}function O(t,i,o,s,c){const l=a.convert(o.format,o.encoding),d=a.convert(o.type),u=y(o.internalFormat,l,d,o.encoding);n.get(i).__hasExternalTextures||(32879===c||35866===c?r.texImage3D(c,0,u,i.width,i.height,i.depth,0,l,d,null):r.texImage2D(c,0,u,i.width,i.height,0,l,d,null)),r.bindFramebuffer(36160,t),i.useRenderToTexture?h.framebufferTexture2DMultisampleEXT(36160,s,c,n.get(o).__webglTexture,0,B(i)):e.framebufferTexture2D(36160,s,c,n.get(o).__webglTexture,0),r.bindFramebuffer(36160,null)}function I(t,r,n){if(e.bindRenderbuffer(36161,t),r.depthBuffer&&!r.stencilBuffer){let i=33189;if(n||r.useRenderToTexture){const t=r.depthTexture;t&&t.isDepthTexture&&(t.type===Ce?i=36012:t.type===Ae&&(i=33190));const n=B(r);r.useRenderToTexture?h.renderbufferStorageMultisampleEXT(36161,n,i,r.width,r.height):e.renderbufferStorageMultisample(36161,n,i,r.width,r.height)}else e.renderbufferStorage(36161,i,r.width,r.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(r.depthBuffer&&r.stencilBuffer){const i=B(r);n&&r.useRenderbuffer?e.renderbufferStorageMultisample(36161,i,35056,r.width,r.height):r.useRenderToTexture?h.renderbufferStorageMultisampleEXT(36161,i,35056,r.width,r.height):e.renderbufferStorage(36161,34041,r.width,r.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else{const t=!0===r.isWebGLMultipleRenderTargets?r.texture[0]:r.texture,i=a.convert(t.format,t.encoding),o=a.convert(t.type),s=y(t.internalFormat,i,o,t.encoding),c=B(r);n&&r.useRenderbuffer?e.renderbufferStorageMultisample(36161,c,s,r.width,r.height):r.useRenderToTexture?h.renderbufferStorageMultisampleEXT(36161,c,s,r.width,r.height):e.renderbufferStorage(36161,s,r.width,r.height)}e.bindRenderbuffer(36161,null)}function N(t){const i=n.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),E(i.depthTexture,0);const a=n.get(i.depthTexture).__webglTexture,o=B(i);if(i.depthTexture.format===Ue)i.useRenderToTexture?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,a,0,o):e.framebufferTexture2D(36160,36096,3553,a,0);else{if(i.depthTexture.format!==ke)throw new Error("Unknown depthTexture format");i.useRenderToTexture?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,a,0,o):e.framebufferTexture2D(36160,33306,3553,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(let n=0;n<6;n++)r.bindFramebuffer(36160,i.__webglFramebuffer[n]),i.__webglDepthbuffer[n]=e.createRenderbuffer(),I(i.__webglDepthbuffer[n],t,!1)}else r.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),I(i.__webglDepthbuffer,t,!1);r.bindFramebuffer(36160,null)}function B(e){return s&&(e.useRenderbuffer||e.useRenderToTexture)?Math.min(u,e.samples):0}function z(e,r){const n=e.encoding,i=e.format,a=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===ur||n!==Pt&&(n===Dt?!1===s?!0===t.has("EXT_sRGB")&&i===Ne?(e.format=ur,e.minFilter=ge,e.generateMipmaps=!1):r=Ur.sRGBToLinear(r):i===Ne&&a===_e||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",n)),r}let U=!1,k=!1;this.allocateTextureUnit=function(){const e=M;return e>=c&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+c),M+=1,e},this.resetTextureUnits=function(){M=0},this.setTexture2D=E,this.setTexture2DArray=function(e,t){const i=n.get(e);e.version>0&&i.__version!==e.version?D(i,e,t):(r.activeTexture(33984+t),r.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){const i=n.get(e);e.version>0&&i.__version!==e.version?D(i,e,t):(r.activeTexture(33984+t),r.bindTexture(32879,i.__webglTexture))},this.setTextureCube=A,this.rebindTextures=function(e,t,r){const i=n.get(e);void 0!==t&&O(i.__webglFramebuffer,e,e.texture,36064,3553),void 0!==r&&N(e)},this.setupRenderTarget=function(t){const c=t.texture,l=n.get(t),d=n.get(c);t.addEventListener("dispose",T),!0!==t.isWebGLMultipleRenderTargets&&(void 0===d.__webglTexture&&(d.__webglTexture=e.createTexture()),d.__version=c.version,o.memory.textures++);const u=!0===t.isWebGLCubeRenderTarget,h=!0===t.isWebGLMultipleRenderTargets,f=c.isDataTexture3D||c.isDataTexture2DArray,p=g(t)||s;if(u){l.__webglFramebuffer=[];for(let t=0;t<6;t++)l.__webglFramebuffer[t]=e.createFramebuffer()}else if(l.__webglFramebuffer=e.createFramebuffer(),h)if(i.drawBuffers){const r=t.texture;for(let t=0,i=r.length;t<i;t++){const i=n.get(r[t]);void 0===i.__webglTexture&&(i.__webglTexture=e.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(t.useRenderbuffer)if(s){l.__webglMultisampledFramebuffer=e.createFramebuffer(),l.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,l.__webglColorRenderbuffer);const n=a.convert(c.format,c.encoding),i=a.convert(c.type),o=y(c.internalFormat,n,i,c.encoding),s=B(t);e.renderbufferStorageMultisample(36161,s,o,t.width,t.height),r.bindFramebuffer(36160,l.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,l.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(l.__webglDepthRenderbuffer=e.createRenderbuffer(),I(l.__webglDepthRenderbuffer,t,!0)),r.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(u){r.bindTexture(34067,d.__webglTexture),R(34067,c,p);for(let e=0;e<6;e++)O(l.__webglFramebuffer[e],t,c,36064,34069+e);b(c,p)&&x(34067),r.unbindTexture()}else if(h){const e=t.texture;for(let i=0,a=e.length;i<a;i++){const a=e[i],o=n.get(a);r.bindTexture(3553,o.__webglTexture),R(3553,a,p),O(l.__webglFramebuffer,t,a,36064+i,3553),b(a,p)&&x(3553)}r.unbindTexture()}else{let e=3553;if(f)if(s){e=c.isDataTexture3D?32879:35866}else console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.");r.bindTexture(e,d.__webglTexture),R(e,c,p),O(l.__webglFramebuffer,t,c,36064,e),b(c,p)&&x(e),r.unbindTexture()}t.depthBuffer&&N(t)},this.updateRenderTargetMipmap=function(e){const t=g(e)||s,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture];for(let a=0,o=i.length;a<o;a++){const o=i[a];if(b(o,t)){const t=e.isWebGLCubeRenderTarget?34067:3553,i=n.get(o).__webglTexture;r.bindTexture(t,i),x(t),r.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.useRenderbuffer)if(s){const i=t.width,a=t.height;let o=16384;const s=[36064],c=t.stencilBuffer?33306:36096;t.depthBuffer&&s.push(c),t.ignoreDepthForMultisampleCopy||(t.depthBuffer&&(o|=256),t.stencilBuffer&&(o|=1024));const l=n.get(t);r.bindFramebuffer(36008,l.__webglMultisampledFramebuffer),r.bindFramebuffer(36009,l.__webglFramebuffer),t.ignoreDepthForMultisampleCopy&&(e.invalidateFramebuffer(36008,[c]),e.invalidateFramebuffer(36009,[c])),e.blitFramebuffer(0,0,i,a,0,0,i,a,o,9728),e.invalidateFramebuffer(36008,s),r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,l.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.setupDepthRenderbuffer=N,this.setupFrameBufferTexture=O,this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===U&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),U=!0),e=e.texture),E(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===k&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),k=!0),e=e.texture),A(e,t)}}function Zs(e,t,r){const n=r.isWebGL2;return{convert:function(e,r=null){let i;if(e===_e)return 5121;if(e===Re)return 32819;if(e===Pe)return 32820;if(e===Se)return 5120;if(e===Te)return 5122;if(e===Me)return 5123;if(e===Ee)return 5124;if(e===Ae)return 5125;if(e===Ce)return 5126;if(e===Le)return n?5131:(i=t.get("OES_texture_half_float"),null!==i?i.HALF_FLOAT_OES:null);if(e===Oe)return 6406;if(e===Ne)return 6408;if(e===Be)return 6409;if(e===ze)return 6410;if(e===Ue)return 6402;if(e===ke)return 34041;if(e===Fe)return 6403;if(e===Ie)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(e===ur)return i=t.get("EXT_sRGB"),null!==i?i.SRGB_ALPHA_EXT:null;if(e===qe)return 36244;if(e===Ge)return 33319;if(e===Ve)return 33320;if(e===He)return 36249;if(e===je||e===We||e===Xe||e===Ke)if(r===Dt){if(i=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===i)return null;if(e===je)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(e===We)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(e===Xe)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(e===Ke)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(i=t.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(e===je)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===We)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Xe)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===Ke)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===Ye||e===Ze||e===Je||e===Qe){if(i=t.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(e===Ye)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===Ze)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===Je)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===Qe)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===et)return i=t.get("WEBGL_compressed_texture_etc1"),null!==i?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(e===tt||e===rt){if(i=t.get("WEBGL_compressed_texture_etc"),null===i)return null;if(e===tt)return r===Dt?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(e===rt)return r===Dt?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(e===nt||e===it||e===at||e===ot||e===st||e===ct||e===lt||e===dt||e===ut||e===ht||e===ft||e===pt||e===mt||e===vt){if(i=t.get("WEBGL_compressed_texture_astc"),null===i)return null;if(e===nt)return r===Dt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(e===it)return r===Dt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(e===at)return r===Dt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(e===ot)return r===Dt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(e===st)return r===Dt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(e===ct)return r===Dt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(e===lt)return r===Dt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(e===dt)return r===Dt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(e===ut)return r===Dt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(e===ht)return r===Dt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(e===ft)return r===Dt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(e===pt)return r===Dt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(e===mt)return r===Dt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(e===vt)return r===Dt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(e===$t){if(i=t.get("EXT_texture_compression_bptc"),null===i)return null;if(e===$t)return r===Dt?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT}return e===De?n?34042:(i=t.get("WEBGL_depth_texture"),null!==i?i.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}class Js extends ia{constructor(e=[]){super(),this.cameras=e}}Js.prototype.isArrayCamera=!0;class Qs extends Zn{constructor(){super(),this.type="Group"}}Qs.prototype.isGroup=!0;const ec={type:"move"};class tc{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Qs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Qs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Xr,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Xr),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Qs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Xr,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Xr),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,r){let n=null,i=null,a=null;const o=this._targetRay,s=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(null!==o&&(n=t.getPose(e.targetRaySpace,r),null!==n&&(o.matrix.fromArray(n.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),n.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(n.linearVelocity)):o.hasLinearVelocity=!1,n.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(n.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(ec))),c&&e.hand){a=!0;for(const n of e.hand.values()){const e=t.getJointPose(n,r);if(void 0===c.joints[n.jointName]){const e=new Qs;e.matrixAutoUpdate=!1,e.visible=!1,c.joints[n.jointName]=e,c.add(e)}const i=c.joints[n.jointName];null!==e&&(i.matrix.fromArray(e.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.jointRadius=e.radius),i.visible=null!==e}const n=c.joints["index-finger-tip"],i=c.joints["thumb-tip"],o=n.position.distanceTo(i.position),s=.02,l=.005;c.inputState.pinching&&o>s+l?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&o<=s-l&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(i=t.getPose(e.gripSpace,r),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));return null!==o&&(o.visible=null!==n),null!==s&&(s.visible=null!==i),null!==c&&(c.visible=null!==a),this}}class rc extends Fr{constructor(e,t,r,n,i,a,o,s,c,l){if((l=void 0!==l?l:Ue)!==Ue&&l!==ke)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&l===Ue&&(r=Me),void 0===r&&l===ke&&(r=De),super(null,n,i,a,o,s,l,r,c),this.image={width:e,height:t},this.magFilter=void 0!==o?o:fe,this.minFilter=void 0!==s?s:fe,this.flipY=!1,this.generateMipmaps=!1}}rc.prototype.isDepthTexture=!0;class nc extends hr{constructor(e,t){super();const r=this;let n=null,i=1,a=null,o="local-floor";const s=e.extensions.has("WEBGL_multisampled_render_to_texture");let c=null,l=null,d=null,u=null,h=!1,f=null;const p=t.getContextAttributes();let m=null,v=null;const $=[],g=new Map,b=new ia;b.layers.enable(1),b.viewport=new Gr;const x=new ia;x.layers.enable(2),x.viewport=new Gr;const y=[b,x],w=new Js;w.layers.enable(1),w.layers.enable(2);let _=null,S=null;function T(e){const t=g.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function M(){g.forEach((function(e,t){e.disconnect(t)})),g.clear(),_=null,S=null,e.setRenderTarget(m),u=null,d=null,l=null,n=null,v=null,P.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}function E(e){const t=n.inputSources;for(let e=0;e<$.length;e++)g.set(t[e],$[e]);for(let t=0;t<e.removed.length;t++){const r=e.removed[t],n=g.get(r);n&&(n.dispatchEvent({type:"disconnected",data:r}),g.delete(r))}for(let t=0;t<e.added.length;t++){const r=e.added[t],n=g.get(r);n&&n.dispatchEvent({type:"connected",data:r})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=$[e];return void 0===t&&(t=new tc,$[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=$[e];return void 0===t&&(t=new tc,$[e]=t),t.getGripSpace()},this.getHand=function(e){let t=$[e];return void 0===t&&(t=new tc,$[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getBaseLayer=function(){return null!==d?d:u},this.getBinding=function(){return l},this.getFrame=function(){return f},this.getSession=function(){return n},this.setSession=async function(c){if(n=c,null!==n){if(m=e.getRenderTarget(),n.addEventListener("select",T),n.addEventListener("selectstart",T),n.addEventListener("selectend",T),n.addEventListener("squeeze",T),n.addEventListener("squeezestart",T),n.addEventListener("squeezeend",T),n.addEventListener("end",M),n.addEventListener("inputsourceschange",E),!0!==p.xrCompatible&&await t.makeXRCompatible(),void 0===n.renderState.layers||!1===e.capabilities.isWebGL2){const r={antialias:void 0!==n.renderState.layers||p.antialias,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:i};u=new XRWebGLLayer(n,t,r),n.updateRenderState({baseLayer:u}),v=new Vr(u.framebufferWidth,u.framebufferHeight,{format:Ne,type:_e,encoding:e.outputEncoding})}else{h=p.antialias;let r=null,a=null,o=null;p.depth&&(o=p.stencil?35056:33190,r=p.stencil?ke:Ue,a=p.stencil?De:Me);const c={colorFormat:e.outputEncoding===Dt?35907:32856,depthFormat:o,scaleFactor:i};l=new XRWebGLBinding(n,t),d=l.createProjectionLayer(c),n.updateRenderState({layers:[d]}),v=h?new jr(d.textureWidth,d.textureHeight,{format:Ne,type:_e,depthTexture:new rc(d.textureWidth,d.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,r),stencilBuffer:p.stencil,ignoreDepth:d.ignoreDepthValues,useRenderToTexture:s,encoding:e.outputEncoding}):new Vr(d.textureWidth,d.textureHeight,{format:Ne,type:_e,depthTexture:new rc(d.textureWidth,d.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,r),stencilBuffer:p.stencil,ignoreDepth:d.ignoreDepthValues,encoding:e.outputEncoding})}v.isXRRenderTarget=!0,this.setFoveation(1),a=await n.requestReferenceSpace(o),P.setContext(n),P.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};const A=new Xr,C=new Xr;function L(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===n)return;w.near=x.near=b.near=e.near,w.far=x.far=b.far=e.far,_===w.near&&S===w.far||(n.updateRenderState({depthNear:w.near,depthFar:w.far}),_=w.near,S=w.far);const t=e.parent,r=w.cameras;L(w,t);for(let e=0;e<r.length;e++)L(r[e],t);w.matrixWorld.decompose(w.position,w.quaternion,w.scale),e.position.copy(w.position),e.quaternion.copy(w.quaternion),e.scale.copy(w.scale),e.matrix.copy(w.matrix),e.matrixWorld.copy(w.matrixWorld);const i=e.children;for(let e=0,t=i.length;e<t;e++)i[e].updateMatrixWorld(!0);2===r.length?function(e,t,r){A.setFromMatrixPosition(t.matrixWorld),C.setFromMatrixPosition(r.matrixWorld);const n=A.distanceTo(C),i=t.projectionMatrix.elements,a=r.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),c=(i[9]+1)/i[5],l=(i[9]-1)/i[5],d=(i[8]-1)/i[0],u=(a[8]+1)/a[0],h=o*d,f=o*u,p=n/(-d+u),m=p*-d;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const v=o+p,$=s+p,g=h-m,b=f+(n-m),x=c*s/$*v,y=l*s/$*v;e.projectionMatrix.makePerspective(g,b,x,y,v,$)}(w,b,x):w.projectionMatrix.copy(b.projectionMatrix)},this.getCamera=function(){return w},this.getFoveation=function(){return null!==d?d.fixedFoveation:null!==u?u.fixedFoveation:void 0},this.setFoveation=function(e){null!==d&&(d.fixedFoveation=e),null!==u&&void 0!==u.fixedFoveation&&(u.fixedFoveation=e)};let R=null;const P=new va;P.setAnimationLoop((function(t,r){if(c=r.getViewerPose(a),f=r,null!==c){const t=c.views;null!==u&&(e.setRenderTargetFramebuffer(v,u.framebuffer),e.setRenderTarget(v));let r=!1;t.length!==w.cameras.length&&(w.cameras.length=0,r=!0);for(let n=0;n<t.length;n++){const i=t[n];let a=null;if(null!==u)a=u.getViewport(i);else{const t=l.getViewSubImage(d,i);a=t.viewport,0===n&&(e.setRenderTargetTextures(v,t.colorTexture,d.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(v))}const o=y[n];o.matrix.fromArray(i.transform.matrix),o.projectionMatrix.fromArray(i.projectionMatrix),o.viewport.set(a.x,a.y,a.width,a.height),0===n&&w.matrix.copy(o.matrix),!0===r&&w.cameras.push(o)}}const i=n.inputSources;for(let e=0;e<$.length;e++){const t=$[e],n=i[e];t.update(n,r,a)}R&&R(t,r),f=null})),this.setAnimationLoop=function(e){R=e},this.dispose=function(){}}}function ic(e){function t(t,r){t.opacity.value=r.opacity,r.color&&t.diffuse.value.copy(r.color),r.emissive&&t.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(t.map.value=r.map),r.alphaMap&&(t.alphaMap.value=r.alphaMap),r.specularMap&&(t.specularMap.value=r.specularMap),r.alphaTest>0&&(t.alphaTest.value=r.alphaTest);const n=e.get(r).envMap;let i,a;n&&(t.envMap.value=n,t.flipEnvMap.value=n.isCubeTexture&&!1===n.isRenderTargetTexture?-1:1,t.reflectivity.value=r.reflectivity,t.ior.value=r.ior,t.refractionRatio.value=r.refractionRatio),r.lightMap&&(t.lightMap.value=r.lightMap,t.lightMapIntensity.value=r.lightMapIntensity),r.aoMap&&(t.aoMap.value=r.aoMap,t.aoMapIntensity.value=r.aoMapIntensity),r.map?i=r.map:r.specularMap?i=r.specularMap:r.displacementMap?i=r.displacementMap:r.normalMap?i=r.normalMap:r.bumpMap?i=r.bumpMap:r.roughnessMap?i=r.roughnessMap:r.metalnessMap?i=r.metalnessMap:r.alphaMap?i=r.alphaMap:r.emissiveMap?i=r.emissiveMap:r.clearcoatMap?i=r.clearcoatMap:r.clearcoatNormalMap?i=r.clearcoatNormalMap:r.clearcoatRoughnessMap?i=r.clearcoatRoughnessMap:r.specularIntensityMap?i=r.specularIntensityMap:r.specularColorMap?i=r.specularColorMap:r.transmissionMap?i=r.transmissionMap:r.thicknessMap?i=r.thicknessMap:r.sheenColorMap?i=r.sheenColorMap:r.sheenRoughnessMap&&(i=r.sheenRoughnessMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix)),r.aoMap?a=r.aoMap:r.lightMap&&(a=r.lightMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),t.uv2Transform.value.copy(a.matrix))}function r(t,r){t.roughness.value=r.roughness,t.metalness.value=r.metalness,r.roughnessMap&&(t.roughnessMap.value=r.roughnessMap),r.metalnessMap&&(t.metalnessMap.value=r.metalnessMap),r.emissiveMap&&(t.emissiveMap.value=r.emissiveMap),r.bumpMap&&(t.bumpMap.value=r.bumpMap,t.bumpScale.value=r.bumpScale,r.side===p&&(t.bumpScale.value*=-1)),r.normalMap&&(t.normalMap.value=r.normalMap,t.normalScale.value.copy(r.normalScale),r.side===p&&t.normalScale.value.negate()),r.displacementMap&&(t.displacementMap.value=r.displacementMap,t.displacementScale.value=r.displacementScale,t.displacementBias.value=r.displacementBias);e.get(r).envMap&&(t.envMapIntensity.value=r.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,n,i,a,o){n.isMeshBasicMaterial?t(e,n):n.isMeshLambertMaterial?(t(e,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,n)):n.isMeshToonMaterial?(t(e,n),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===p&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===p&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshPhongMaterial?(t(e,n),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===p&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===p&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshStandardMaterial?(t(e,n),n.isMeshPhysicalMaterial?function(e,t,n){r(e,t),e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===p&&e.clearcoatNormalScale.value.negate()));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=n.texture,e.transmissionSamplerSize.value.set(n.width,n.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap);t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}(e,n,o):r(e,n)):n.isMeshMatcapMaterial?(t(e,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===p&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===p&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshDepthMaterial?(t(e,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshDistanceMaterial?(t(e,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,n)):n.isMeshNormalMaterial?(t(e,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===p&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===p&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,n)):n.isPointsMaterial?function(e,t,r,n){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*n,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);let i;t.map?i=t.map:t.alphaMap&&(i=t.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,n,i,a):n.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);let r;t.map?r=t.map:t.alphaMap&&(r=t.alphaMap);void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix))}(e,n):n.isShadowMaterial?(e.color.value.copy(n.color),e.opacity.value=n.opacity):n.isShaderMaterial&&(n.uniformsNeedUpdate=!1)}}}function ac(e={}){const t=void 0!==e.canvas?e.canvas:function(){const e=Lr("canvas");return e.style.display="block",e}(),n=void 0!==e.context?e.context:null,i=void 0!==e.alpha&&e.alpha,a=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,s=void 0!==e.antialias&&e.antialias,c=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,d=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;let h=null,v=null;const $=[],g=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Pt,this.physicallyCorrectLights=!1,this.toneMapping=Z,this.toneMappingExposure=1;const b=this;let x=!1,y=0,w=0,_=null,S=-1,T=null;const M=new Gr,E=new Gr;let A=null,C=t.width,L=t.height,R=1,P=null,D=null;const O=new Gr(0,0,C,L),I=new Gr(0,0,C,L);let N=!1;const B=new ma;let z=!1,U=!1,k=null;const F=new Mn,q=new Xr,G={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function V(){return null===_?R:1}let H,j,W,X,K,Y,J,Q,ee,te,re,ne,ie,ae,oe,se,ce,le,de,he,pe,me,ve,$e=n;function ge(e,r){for(let n=0;n<e.length;n++){const i=e[n],a=t.getContext(i,r);if(null!==a)return a}return null}try{const e={alpha:!0,depth:a,stencil:o,antialias:s,premultipliedAlpha:c,preserveDrawingBuffer:l,powerPreference:d,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${r}`),t.addEventListener("webglcontextlost",we,!1),t.addEventListener("webglcontextrestored",Se,!1),null===$e){const t=["webgl2","webgl","experimental-webgl"];if(!0===b.isWebGL1Renderer&&t.shift(),$e=ge(t,e),null===$e)throw ge(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===$e.getShaderPrecisionFormat&&($e.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function be(){H=new Za($e),j=new Ta($e,H,e),H.init(j),me=new Zs($e,H,j),W=new Ks($e,H,j),X=new eo($e),K=new Is,Y=new Ys($e,H,W,K,j,me,X),J=new Ea(b),Q=new Ya(b),ee=new $a($e,j),ve=new _a($e,H,ee,j),te=new Ja($e,ee,X,ve),re=new oo($e,te,ee,X),de=new ao($e,j,Y),se=new Ma(K),ne=new Os(b,J,Q,H,j,ve,se),ie=new ic(K),ae=new Us,oe=new Hs(H,j),le=new wa(b,J,W,re,i,c),ce=new Xs(b,re,j),he=new Sa($e,H,X,j),pe=new Qa($e,H,X,j),X.programs=ne.programs,b.capabilities=j,b.extensions=H,b.properties=K,b.renderLists=ae,b.shadowMap=ce,b.state=W,b.info=X}be();const xe=new nc(b,$e);function we(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function Se(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const e=X.autoReset,t=ce.enabled,r=ce.autoUpdate,n=ce.needsUpdate,i=ce.type;be(),X.autoReset=e,ce.enabled=t,ce.autoUpdate=r,ce.needsUpdate=n,ce.type=i}function Te(e){const t=e.target;t.removeEventListener("dispose",Te),function(e){(function(e){const t=K.get(e).programs;void 0!==t&&(t.forEach((function(e){ne.releaseProgram(e)})),e.isShaderMaterial&&ne.releaseShaderCache(e))})(e),K.remove(e)}(t)}this.xr=xe,this.getContext=function(){return $e},this.getContextAttributes=function(){return $e.getContextAttributes()},this.forceContextLoss=function(){const e=H.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=H.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return R},this.setPixelRatio=function(e){void 0!==e&&(R=e,this.setSize(C,L,!1))},this.getSize=function(e){return e.set(C,L)},this.setSize=function(e,r,n){xe.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(C=e,L=r,t.width=Math.floor(e*R),t.height=Math.floor(r*R),!1!==n&&(t.style.width=e+"px",t.style.height=r+"px"),this.setViewport(0,0,e,r))},this.getDrawingBufferSize=function(e){return e.set(C*R,L*R).floor()},this.setDrawingBufferSize=function(e,r,n){C=e,L=r,R=n,t.width=Math.floor(e*n),t.height=Math.floor(r*n),this.setViewport(0,0,e,r)},this.getCurrentViewport=function(e){return e.copy(M)},this.getViewport=function(e){return e.copy(O)},this.setViewport=function(e,t,r,n){e.isVector4?O.set(e.x,e.y,e.z,e.w):O.set(e,t,r,n),W.viewport(M.copy(O).multiplyScalar(R).floor())},this.getScissor=function(e){return e.copy(I)},this.setScissor=function(e,t,r,n){e.isVector4?I.set(e.x,e.y,e.z,e.w):I.set(e,t,r,n),W.scissor(E.copy(I).multiplyScalar(R).floor())},this.getScissorTest=function(){return N},this.setScissorTest=function(e){W.setScissorTest(N=e)},this.setOpaqueSort=function(e){P=e},this.setTransparentSort=function(e){D=e},this.getClearColor=function(e){return e.copy(le.getClearColor())},this.setClearColor=function(){le.setClearColor.apply(le,arguments)},this.getClearAlpha=function(){return le.getClearAlpha()},this.setClearAlpha=function(){le.setClearAlpha.apply(le,arguments)},this.clear=function(e,t,r){let n=0;(void 0===e||e)&&(n|=16384),(void 0===t||t)&&(n|=256),(void 0===r||r)&&(n|=1024),$e.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",we,!1),t.removeEventListener("webglcontextrestored",Se,!1),ae.dispose(),oe.dispose(),K.dispose(),J.dispose(),Q.dispose(),re.dispose(),ve.dispose(),ne.dispose(),xe.dispose(),xe.removeEventListener("sessionstart",Ee),xe.removeEventListener("sessionend",Ae),k&&(k.dispose(),k=null),Re.stop()},this.renderBufferDirect=function(e,t,r,n,i,a){null===t&&(t=G);const o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,r,n,i){!0!==t.isScene&&(t=G);Y.resetTextureUnits();const a=t.fog,o=n.isMeshStandardMaterial?t.environment:null,s=null===_?b.outputEncoding:!0===_.isXRRenderTarget?_.texture.encoding:Pt,c=(n.isMeshStandardMaterial?Q:J).get(n.envMap||o),l=!0===n.vertexColors&&!!r.attributes.color&&4===r.attributes.color.itemSize,d=!!n.normalMap&&!!r.attributes.tangent,u=!!r.morphAttributes.position,h=!!r.morphAttributes.normal,f=r.morphAttributes.position?r.morphAttributes.position.length:0,p=n.toneMapped?b.toneMapping:Z,m=K.get(n),$=v.state.lights;if(!0===z&&(!0===U||e!==T)){const t=e===T&&n.id===S;se.setState(n,e,t)}let g=!1;n.version===m.__version?m.needsLights&&m.lightsStateVersion!==$.state.version||m.outputEncoding!==s||i.isInstancedMesh&&!1===m.instancing?g=!0:i.isInstancedMesh||!0!==m.instancing?i.isSkinnedMesh&&!1===m.skinning?g=!0:i.isSkinnedMesh||!0!==m.skinning?m.envMap!==c||n.fog&&m.fog!==a?g=!0:void 0===m.numClippingPlanes||m.numClippingPlanes===se.numPlanes&&m.numIntersection===se.numIntersection?(m.vertexAlphas!==l||m.vertexTangents!==d||m.morphTargets!==u||m.morphNormals!==h||m.toneMapping!==p||!0===j.isWebGL2&&m.morphTargetsCount!==f)&&(g=!0):g=!0:g=!0:g=!0:(g=!0,m.__version=n.version);let x=m.currentProgram;!0===g&&(x=Be(n,t,i));let y=!1,w=!1,M=!1;const E=x.getUniforms(),A=m.uniforms;W.useProgram(x.program)&&(y=!0,w=!0,M=!0);n.id!==S&&(S=n.id,w=!0);if(y||T!==e){if(E.setValue($e,"projectionMatrix",e.projectionMatrix),j.logarithmicDepthBuffer&&E.setValue($e,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),T!==e&&(T=e,w=!0,M=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){const t=E.map.cameraPosition;void 0!==t&&t.setValue($e,q.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&E.setValue($e,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||i.isSkinnedMesh)&&E.setValue($e,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){E.setOptional($e,i,"bindMatrix"),E.setOptional($e,i,"bindMatrixInverse");const e=i.skeleton;e&&(j.floatVertexTextures?(null===e.boneTexture&&e.computeBoneTexture(),E.setValue($e,"boneTexture",e.boneTexture,Y),E.setValue($e,"boneTextureSize",e.boneTextureSize)):E.setOptional($e,e,"boneMatrices"))}!r||void 0===r.morphAttributes.position&&void 0===r.morphAttributes.normal||de.update(i,r,n,x);(w||m.receiveShadow!==i.receiveShadow)&&(m.receiveShadow=i.receiveShadow,E.setValue($e,"receiveShadow",i.receiveShadow));w&&(E.setValue($e,"toneMappingExposure",b.toneMappingExposure),m.needsLights&&(P=M,(C=A).ambientLightColor.needsUpdate=P,C.lightProbe.needsUpdate=P,C.directionalLights.needsUpdate=P,C.directionalLightShadows.needsUpdate=P,C.pointLights.needsUpdate=P,C.pointLightShadows.needsUpdate=P,C.spotLights.needsUpdate=P,C.spotLightShadows.needsUpdate=P,C.rectAreaLights.needsUpdate=P,C.hemisphereLights.needsUpdate=P),a&&n.fog&&ie.refreshFogUniforms(A,a),ie.refreshMaterialUniforms(A,n,R,L,k),hs.upload($e,m.uniformsList,A,Y));var C,P;n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(hs.upload($e,m.uniformsList,A,Y),n.uniformsNeedUpdate=!1);n.isSpriteMaterial&&E.setValue($e,"center",i.center);return E.setValue($e,"modelViewMatrix",i.modelViewMatrix),E.setValue($e,"normalMatrix",i.normalMatrix),E.setValue($e,"modelMatrix",i.matrixWorld),x}(e,t,r,n,i);W.setMaterial(n,o);let c=r.index;const l=r.attributes.position;if(null===c){if(void 0===l||0===l.count)return}else if(0===c.count)return;let d,u=1;!0===n.wireframe&&(c=te.getWireframeAttribute(r),u=2),ve.setup(i,n,s,r,c);let h=he;null!==c&&(d=ee.get(c),h=pe,h.setIndex(d));const f=null!==c?c.count:l.count,p=r.drawRange.start*u,m=r.drawRange.count*u,$=null!==a?a.start*u:0,g=null!==a?a.count*u:1/0,x=Math.max(p,$),y=Math.min(f,p+m,$+g)-1,w=Math.max(0,y-x+1);if(0!==w){if(i.isMesh)!0===n.wireframe?(W.setLineWidth(n.wireframeLinewidth*V()),h.setMode(1)):h.setMode(4);else if(i.isLine){let e=n.linewidth;void 0===e&&(e=1),W.setLineWidth(e*V()),i.isLineSegments?h.setMode(1):i.isLineLoop?h.setMode(2):h.setMode(3)}else i.isPoints?h.setMode(0):i.isSprite&&h.setMode(4);if(i.isInstancedMesh)h.renderInstances(x,w,i.count);else if(r.isInstancedBufferGeometry){const e=Math.min(r.instanceCount,r._maxInstanceCount);h.renderInstances(x,w,e)}else h.render(x,w)}},this.compile=function(e,t){v=oe.get(e),v.init(),g.push(v),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(v.pushLight(e),e.castShadow&&v.pushShadow(e))})),v.setupLights(b.physicallyCorrectLights),e.traverse((function(t){const r=t.material;if(r)if(Array.isArray(r))for(let n=0;n<r.length;n++){Be(r[n],e,t)}else Be(r,e,t)})),g.pop(),v=null};let Me=null;function Ee(){Re.stop()}function Ae(){Re.start()}const Re=new va;function Pe(e,t,r,n){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)r=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)v.pushLight(e),e.castShadow&&v.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||B.intersectsSprite(e)){n&&q.setFromMatrixPosition(e.matrixWorld).applyMatrix4(F);const t=re.update(e),i=e.material;i.visible&&h.push(e,t,i,r,q.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==X.render.frame&&(e.skeleton.update(),e.skeleton.frame=X.render.frame),!e.frustumCulled||B.intersectsObject(e))){n&&q.setFromMatrixPosition(e.matrixWorld).applyMatrix4(F);const t=re.update(e),i=e.material;if(Array.isArray(i)){const n=t.groups;for(let a=0,o=n.length;a<o;a++){const o=n[a],s=i[o.materialIndex];s&&s.visible&&h.push(e,t,s,r,q.z,o)}}else i.visible&&h.push(e,t,i,r,q.z,null)}const i=e.children;for(let e=0,a=i.length;e<a;e++)Pe(i[e],t,r,n)}function De(e,t,r,n){const i=e.opaque,a=e.transmissive,o=e.transparent;v.setupLightsView(r),a.length>0&&function(e,t,r){if(null===k){const e=!0===s&&!0===j.isWebGL2;k=new(e?jr:Vr)(1024,1024,{generateMipmaps:!0,type:null!==me.convert(Le)?Le:_e,minFilter:ye,magFilter:fe,wrapS:ue,wrapT:ue,useRenderToTexture:H.has("WEBGL_multisampled_render_to_texture")})}const n=b.getRenderTarget();b.setRenderTarget(k),b.clear();const i=b.toneMapping;b.toneMapping=Z,Oe(e,t,r),b.toneMapping=i,Y.updateMultisampleRenderTarget(k),Y.updateRenderTargetMipmap(k),b.setRenderTarget(n)}(i,t,r),n&&W.viewport(M.copy(n)),i.length>0&&Oe(i,t,r),a.length>0&&Oe(a,t,r),o.length>0&&Oe(o,t,r)}function Oe(e,t,r){const n=!0===t.isScene?t.overrideMaterial:null;for(let i=0,a=e.length;i<a;i++){const a=e[i],o=a.object,s=a.geometry,c=null===n?a.material:n,l=a.group;o.layers.test(r.layers)&&Ie(o,t,r,s,c,l)}}function Ie(e,t,r,n,i,a){e.onBeforeRender(b,t,r,n,i,a),e.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(b,t,r,n,e,a),!0===i.transparent&&i.side===m?(i.side=p,i.needsUpdate=!0,b.renderBufferDirect(r,t,n,i,e,a),i.side=f,i.needsUpdate=!0,b.renderBufferDirect(r,t,n,i,e,a),i.side=m):b.renderBufferDirect(r,t,n,i,e,a),e.onAfterRender(b,t,r,n,i,a)}function Be(e,t,r){!0!==t.isScene&&(t=G);const n=K.get(e),i=v.state.lights,a=v.state.shadowsArray,o=i.state.version,s=ne.getParameters(e,i.state,a,t,r),c=ne.getProgramCacheKey(s);let l=n.programs;n.environment=e.isMeshStandardMaterial?t.environment:null,n.fog=t.fog,n.envMap=(e.isMeshStandardMaterial?Q:J).get(e.envMap||n.environment),void 0===l&&(e.addEventListener("dispose",Te),l=new Map,n.programs=l);let d=l.get(c);if(void 0!==d){if(n.currentProgram===d&&n.lightsStateVersion===o)return ze(e,s),d}else s.uniforms=ne.getUniforms(e),e.onBuild(r,s,b),e.onBeforeCompile(s,b),d=ne.acquireProgram(s,c),l.set(c,d),n.uniforms=s.uniforms;const u=n.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(u.clippingPlanes=se.uniform),ze(e,s),n.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),n.lightsStateVersion=o,n.needsLights&&(u.ambientLightColor.value=i.state.ambient,u.lightProbe.value=i.state.probe,u.directionalLights.value=i.state.directional,u.directionalLightShadows.value=i.state.directionalShadow,u.spotLights.value=i.state.spot,u.spotLightShadows.value=i.state.spotShadow,u.rectAreaLights.value=i.state.rectArea,u.ltc_1.value=i.state.rectAreaLTC1,u.ltc_2.value=i.state.rectAreaLTC2,u.pointLights.value=i.state.point,u.pointLightShadows.value=i.state.pointShadow,u.hemisphereLights.value=i.state.hemi,u.directionalShadowMap.value=i.state.directionalShadowMap,u.directionalShadowMatrix.value=i.state.directionalShadowMatrix,u.spotShadowMap.value=i.state.spotShadowMap,u.spotShadowMatrix.value=i.state.spotShadowMatrix,u.pointShadowMap.value=i.state.pointShadowMap,u.pointShadowMatrix.value=i.state.pointShadowMatrix);const h=d.getUniforms(),f=hs.seqWithValue(h.seq,u);return n.currentProgram=d,n.uniformsList=f,d}function ze(e,t){const r=K.get(e);r.outputEncoding=t.outputEncoding,r.instancing=t.instancing,r.skinning=t.skinning,r.morphTargets=t.morphTargets,r.morphNormals=t.morphNormals,r.morphTargetsCount=t.morphTargetsCount,r.numClippingPlanes=t.numClippingPlanes,r.numIntersection=t.numClipIntersection,r.vertexAlphas=t.vertexAlphas,r.vertexTangents=t.vertexTangents,r.toneMapping=t.toneMapping}Re.setAnimationLoop((function(e){Me&&Me(e)})),"undefined"!=typeof window&&Re.setContext(window),this.setAnimationLoop=function(e){Me=e,xe.setAnimationLoop(e),null===e?Re.stop():Re.start()},xe.addEventListener("sessionstart",Ee),xe.addEventListener("sessionend",Ae),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===x)return;!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===xe.enabled&&!0===xe.isPresenting&&(!0===xe.cameraAutoUpdate&&xe.updateCamera(t),t=xe.getCamera()),!0===e.isScene&&e.onBeforeRender(b,e,t,_),v=oe.get(e,g.length),v.init(),g.push(v),F.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),B.setFromProjectionMatrix(F),U=this.localClippingEnabled,z=se.init(this.clippingPlanes,U,t),h=ae.get(e,$.length),h.init(),$.push(h),Pe(e,t,0,b.sortObjects),h.finish(),!0===b.sortObjects&&h.sort(P,D),!0===z&&se.beginShadows();const r=v.state.shadowsArray;if(ce.render(r,e,t),!0===z&&se.endShadows(),!0===this.info.autoReset&&this.info.reset(),le.render(h,e),v.setupLights(b.physicallyCorrectLights),t.isArrayCamera){const r=t.cameras;for(let t=0,n=r.length;t<n;t++){const n=r[t];De(h,e,n,n.viewport)}}else De(h,e,t);null!==_&&(Y.updateMultisampleRenderTarget(_),Y.updateRenderTargetMipmap(_)),!0===e.isScene&&e.onAfterRender(b,e,t),W.buffers.depth.setTest(!0),W.buffers.depth.setMask(!0),W.buffers.color.setMask(!0),W.setPolygonOffset(!1),ve.resetDefaultState(),S=-1,T=null,g.pop(),v=g.length>0?g[g.length-1]:null,$.pop(),h=$.length>0?$[$.length-1]:null},this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return _},this.setRenderTargetTextures=function(e,t,r){K.get(e.texture).__webglTexture=t,K.get(e.depthTexture).__webglTexture=r;const n=K.get(e);n.__hasExternalTextures=!0,n.__hasExternalTextures&&(n.__autoAllocateDepthBuffer=void 0===r,n.__autoAllocateDepthBuffer||e.useRenderToTexture&&(console.warn("render-to-texture extension was disabled because an external texture was provided"),e.useRenderToTexture=!1,e.useRenderbuffer=!0))},this.setRenderTargetFramebuffer=function(e,t){const r=K.get(e);r.__webglFramebuffer=t,r.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e,t=0,r=0){_=e,y=t,w=r;let n=!0;if(e){const t=K.get(e);void 0!==t.__useDefaultFramebuffer?(W.bindFramebuffer(36160,null),n=!1):void 0===t.__webglFramebuffer?Y.setupRenderTarget(e):t.__hasExternalTextures&&Y.rebindTextures(e,K.get(e.texture).__webglTexture,K.get(e.depthTexture).__webglTexture)}let i=null,a=!1,o=!1;if(e){const r=e.texture;(r.isDataTexture3D||r.isDataTexture2DArray)&&(o=!0);const n=K.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=n[t],a=!0):i=e.useRenderbuffer?K.get(e).__webglMultisampledFramebuffer:n,M.copy(e.viewport),E.copy(e.scissor),A=e.scissorTest}else M.copy(O).multiplyScalar(R).floor(),E.copy(I).multiplyScalar(R).floor(),A=N;if(W.bindFramebuffer(36160,i)&&j.drawBuffers&&n&&W.drawBuffers(e,i),W.viewport(M),W.scissor(E),W.setScissorTest(A),a){const n=K.get(e.texture);$e.framebufferTexture2D(36160,36064,34069+t,n.__webglTexture,r)}else if(o){const n=K.get(e.texture),i=t||0;$e.framebufferTextureLayer(36160,36064,n.__webglTexture,r||0,i)}S=-1},this.readRenderTargetPixels=function(e,t,r,n,i,a,o){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=K.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){W.bindFramebuffer(36160,s);try{const o=e.texture,s=o.format,c=o.type;if(s!==Ne&&me.convert(s)!==$e.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const l=c===Le&&(H.has("EXT_color_buffer_half_float")||j.isWebGL2&&H.has("EXT_color_buffer_float"));if(!(c===_e||me.convert(c)===$e.getParameter(35738)||c===Ce&&(j.isWebGL2||H.has("OES_texture_float")||H.has("WEBGL_color_buffer_float"))||l))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===$e.checkFramebufferStatus(36160)?t>=0&&t<=e.width-n&&r>=0&&r<=e.height-i&&$e.readPixels(t,r,n,i,me.convert(s),me.convert(c),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const e=null!==_?K.get(_).__webglFramebuffer:null;W.bindFramebuffer(36160,e)}}},this.copyFramebufferToTexture=function(e,t,r=0){if(!0!==t.isFramebufferTexture)return void console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");const n=Math.pow(2,-r),i=Math.floor(t.image.width*n),a=Math.floor(t.image.height*n);Y.setTexture2D(t,0),$e.copyTexSubImage2D(3553,r,0,0,e.x,e.y,i,a),W.unbindTexture()},this.copyTextureToTexture=function(e,t,r,n=0){const i=t.image.width,a=t.image.height,o=me.convert(r.format),s=me.convert(r.type);Y.setTexture2D(r,0),$e.pixelStorei(37440,r.flipY),$e.pixelStorei(37441,r.premultiplyAlpha),$e.pixelStorei(3317,r.unpackAlignment),t.isDataTexture?$e.texSubImage2D(3553,n,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?$e.compressedTexSubImage2D(3553,n,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):$e.texSubImage2D(3553,n,e.x,e.y,o,s,t.image),0===n&&r.generateMipmaps&&$e.generateMipmap(3553),W.unbindTexture()},this.copyTextureToTexture3D=function(e,t,r,n,i=0){if(b.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const a=e.max.x-e.min.x+1,o=e.max.y-e.min.y+1,s=e.max.z-e.min.z+1,c=me.convert(n.format),l=me.convert(n.type);let d;if(n.isDataTexture3D)Y.setTexture3D(n,0),d=32879;else{if(!n.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Y.setTexture2DArray(n,0),d=35866}$e.pixelStorei(37440,n.flipY),$e.pixelStorei(37441,n.premultiplyAlpha),$e.pixelStorei(3317,n.unpackAlignment);const u=$e.getParameter(3314),h=$e.getParameter(32878),f=$e.getParameter(3316),p=$e.getParameter(3315),m=$e.getParameter(32877),v=r.isCompressedTexture?r.mipmaps[0]:r.image;$e.pixelStorei(3314,v.width),$e.pixelStorei(32878,v.height),$e.pixelStorei(3316,e.min.x),$e.pixelStorei(3315,e.min.y),$e.pixelStorei(32877,e.min.z),r.isDataTexture||r.isDataTexture3D?$e.texSubImage3D(d,i,t.x,t.y,t.z,a,o,s,c,l,v.data):r.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),$e.compressedTexSubImage3D(d,i,t.x,t.y,t.z,a,o,s,c,v.data)):$e.texSubImage3D(d,i,t.x,t.y,t.z,a,o,s,c,l,v),$e.pixelStorei(3314,u),$e.pixelStorei(32878,h),$e.pixelStorei(3316,f),$e.pixelStorei(3315,p),$e.pixelStorei(32877,m),0===i&&n.generateMipmaps&&$e.generateMipmap(d),W.unbindTexture()},this.initTexture=function(e){Y.setTexture2D(e,0),W.unbindTexture()},this.resetState=function(){y=0,w=0,_=null,W.reset(),ve.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}ac.prototype.isWebGLRenderer=!0;class oc extends ac{}oc.prototype.isWebGL1Renderer=!0;class sc{constructor(e,t=25e-5){this.name="",this.color=new Br(e),this.density=t}clone(){return new sc(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}sc.prototype.isFogExp2=!0;class cc{constructor(e,t=1,r=1e3){this.name="",this.color=new Br(e),this.near=t,this.far=r}clone(){return new cc(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}cc.prototype.isFog=!0;class lc extends Zn{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}lc.prototype.isScene=!0;class dc{constructor(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=er,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=$r()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let n=0,i=this.stride;n<i;n++)this.array[e+n]=t.array[r+n];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=$r()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=$r()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}dc.prototype.isInterleavedBuffer=!0;const uc=new Xr;class hc{constructor(e,t,r,n=!1){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=!0===n}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)uc.x=this.getX(t),uc.y=this.getY(t),uc.z=this.getZ(t),uc.applyMatrix4(e),this.setXYZ(t,uc.x,uc.y,uc.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)uc.x=this.getX(t),uc.y=this.getY(t),uc.z=this.getZ(t),uc.applyNormalMatrix(e),this.setXYZ(t,uc.x,uc.y,uc.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)uc.x=this.getX(t),uc.y=this.getY(t),uc.z=this.getZ(t),uc.transformDirection(e),this.setXYZ(t,uc.x,uc.y,uc.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this}setXYZW(e,t,r,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this.data.array[e+3]=i,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const r=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[r+t])}return new pi(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new hc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const r=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[r+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}hc.prototype.isInterleavedBufferAttribute=!0;class fc extends di{constructor(e){super(),this.type="SpriteMaterial",this.color=new Br(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}let pc;fc.prototype.isSpriteMaterial=!0;const mc=new Xr,vc=new Xr,$c=new Xr,gc=new Tr,bc=new Tr,xc=new Mn,yc=new Xr,wc=new Xr,_c=new Xr,Sc=new Tr,Tc=new Tr,Mc=new Tr;class Ec extends Zn{constructor(e){if(super(),this.type="Sprite",void 0===pc){pc=new Pi;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new dc(e,5);pc.setIndex([0,1,2,0,2,3]),pc.setAttribute("position",new hc(t,3,0,!1)),pc.setAttribute("uv",new hc(t,2,3,!1))}this.geometry=pc,this.material=void 0!==e?e:new fc,this.center=new Tr(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),vc.setFromMatrixScale(this.matrixWorld),xc.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),$c.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&vc.multiplyScalar(-$c.z);const r=this.material.rotation;let n,i;0!==r&&(i=Math.cos(r),n=Math.sin(r));const a=this.center;Ac(yc.set(-.5,-.5,0),$c,a,vc,n,i),Ac(wc.set(.5,-.5,0),$c,a,vc,n,i),Ac(_c.set(.5,.5,0),$c,a,vc,n,i),Sc.set(0,0),Tc.set(1,0),Mc.set(1,1);let o=e.ray.intersectTriangle(yc,wc,_c,!1,mc);if(null===o&&(Ac(wc.set(-.5,.5,0),$c,a,vc,n,i),Tc.set(0,1),o=e.ray.intersectTriangle(yc,_c,wc,!1,mc),null===o))return;const s=e.ray.origin.distanceTo(mc);s<e.near||s>e.far||t.push({distance:s,point:mc.clone(),uv:ci.getUV(mc,yc,wc,_c,Sc,Tc,Mc,new Tr),face:null,object:this})}copy(e){return super.copy(e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function Ac(e,t,r,n,i,a){gc.subVectors(e,r).addScalar(.5).multiply(n),void 0!==i?(bc.x=a*gc.x-i*gc.y,bc.y=i*gc.x+a*gc.y):bc.copy(gc),e.copy(t),e.x+=bc.x,e.y+=bc.y,e.applyMatrix4(xc)}Ec.prototype.isSprite=!0;const Cc=new Xr,Lc=new Xr;class Rc extends Zn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let e=0,r=t.length;e<r;e++){const r=t[e];this.addLevel(r.object.clone(),r.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let n;for(n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,n;for(r=1,n=t.length;r<n&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Cc.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Cc);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Cc.setFromMatrixPosition(e.matrixWorld),Lc.setFromMatrixPosition(this.matrixWorld);const r=Cc.distanceTo(Lc)/e.zoom;let n,i;for(t[0].object.visible=!0,n=1,i=t.length;n<i&&r>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<i;n++)t[n].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let e=0,n=r.length;e<n;e++){const n=r[e];t.object.levels.push({object:n.object.uuid,distance:n.distance})}return t}}const Pc=new Xr,Dc=new Gr,Oc=new Gr,Ic=new Xr,Nc=new Mn;class Bc extends Yi{constructor(e,t){super(e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Mn,this.bindMatrixInverse=new Mn}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Gr,t=this.geometry.attributes.skinWeight;for(let r=0,n=t.count;r<n;r++){e.x=t.getX(r),e.y=t.getY(r),e.z=t.getZ(r),e.w=t.getW(r);const n=1/e.manhattanLength();n!==1/0?e.multiplyScalar(n):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,n=this.geometry;Dc.fromBufferAttribute(n.attributes.skinIndex,e),Oc.fromBufferAttribute(n.attributes.skinWeight,e),Pc.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let e=0;e<4;e++){const n=Oc.getComponent(e);if(0!==n){const i=Dc.getComponent(e);Nc.multiplyMatrices(r.bones[i].matrixWorld,r.boneInverses[i]),t.addScaledVector(Ic.copy(Pc).applyMatrix4(Nc),n)}}return t.applyMatrix4(this.bindMatrixInverse)}}Bc.prototype.isSkinnedMesh=!0;class zc extends Zn{constructor(){super(),this.type="Bone"}}zc.prototype.isBone=!0;class Uc extends Fr{constructor(e=null,t=1,r=1,n,i,a,o,s,c=fe,l=fe,d,u){super(null,a,o,s,c,l,n,i,d,u),this.image={data:e,width:t,height:r},this.magFilter=c,this.minFilter=l,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Uc.prototype.isDataTexture=!0;const kc=new Mn,Fc=new Mn;class qc{constructor(e=[],t=[]){this.uuid=$r(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new Mn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new Mn;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,n=this.boneTexture;for(let n=0,i=e.length;n<i;n++){const i=e[n]?e[n].matrixWorld:Fc;kc.multiplyMatrices(i,t[n]),kc.toArray(r,16*n)}null!==n&&(n.needsUpdate=!0)}clone(){return new qc(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=wr(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Uc(t,e,e,Ne,Ce);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,n=e.bones.length;r<n;r++){const n=e.bones[r];let i=t[n];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",n),i=new zc),this.bones.push(i),this.boneInverses.push((new Mn).fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let n=0,i=t.length;n<i;n++){const i=t[n];e.bones.push(i.uuid);const a=r[n];e.boneInverses.push(a.toArray())}return e}}class Gc extends pi{constructor(e,t,r,n=1){"number"==typeof r&&(n=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,r),this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}Gc.prototype.isInstancedBufferAttribute=!0;const Vc=new Mn,Hc=new Mn,jc=[],Wc=new Yi;class Xc extends Yi{constructor(e,t,r){super(e,t),this.instanceMatrix=new Gc(new Float32Array(16*r),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){const r=this.matrixWorld,n=this.count;if(Wc.geometry=this.geometry,Wc.material=this.material,void 0!==Wc.material)for(let i=0;i<n;i++){this.getMatrixAt(i,Vc),Hc.multiplyMatrices(r,Vc),Wc.matrixWorld=Hc,Wc.raycast(e,jc);for(let e=0,r=jc.length;e<r;e++){const r=jc[e];r.instanceId=i,r.object=this,t.push(r)}jc.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new Gc(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}Xc.prototype.isInstancedMesh=!0;class Kc extends di{constructor(e){super(),this.type="LineBasicMaterial",this.color=new Br(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}Kc.prototype.isLineBasicMaterial=!0;const Yc=new Xr,Zc=new Xr,Jc=new Mn,Qc=new Tn,el=new $n;class tl extends Zn{constructor(e=new Pi,t=new Kc){super(),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,r=[0];for(let e=1,n=t.count;e<n;e++)Yc.fromBufferAttribute(t,e-1),Zc.fromBufferAttribute(t,e),r[e]=r[e-1],r[e]+=Yc.distanceTo(Zc);e.setAttribute("lineDistance",new _i(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const r=this.geometry,n=this.matrixWorld,i=e.params.Line.threshold,a=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),el.copy(r.boundingSphere),el.applyMatrix4(n),el.radius+=i,!1===e.ray.intersectsSphere(el))return;Jc.copy(n).invert(),Qc.copy(e.ray).applyMatrix4(Jc);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,c=new Xr,l=new Xr,d=new Xr,u=new Xr,h=this.isLineSegments?2:1;if(r.isBufferGeometry){const n=r.index,i=r.attributes.position;if(null!==n){for(let r=Math.max(0,a.start),o=Math.min(n.count,a.start+a.count)-1;r<o;r+=h){const a=n.getX(r),o=n.getX(r+1);c.fromBufferAttribute(i,a),l.fromBufferAttribute(i,o);if(Qc.distanceSqToSegment(c,l,u,d)>s)continue;u.applyMatrix4(this.matrixWorld);const h=e.ray.origin.distanceTo(u);h<e.near||h>e.far||t.push({distance:h,point:d.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this})}}else{for(let r=Math.max(0,a.start),n=Math.min(i.count,a.start+a.count)-1;r<n;r+=h){c.fromBufferAttribute(i,r),l.fromBufferAttribute(i,r+1);if(Qc.distanceSqToSegment(c,l,u,d)>s)continue;u.applyMatrix4(this.matrixWorld);const n=e.ray.origin.distanceTo(u);n<e.near||n>e.far||t.push({distance:n,point:d.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this})}}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const e=t[r[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,r=e.length;t<r;t++){const r=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}tl.prototype.isLine=!0;const rl=new Xr,nl=new Xr;class il extends tl{constructor(e,t){super(e,t),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,r=[];for(let e=0,n=t.count;e<n;e+=2)rl.fromBufferAttribute(t,e),nl.fromBufferAttribute(t,e+1),r[e]=0===e?0:r[e-1],r[e+1]=r[e]+rl.distanceTo(nl);e.setAttribute("lineDistance",new _i(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}il.prototype.isLineSegments=!0;class al extends tl{constructor(e,t){super(e,t),this.type="LineLoop"}}al.prototype.isLineLoop=!0;class ol extends di{constructor(e){super(),this.type="PointsMaterial",this.color=new Br(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}ol.prototype.isPointsMaterial=!0;const sl=new Mn,cl=new Tn,ll=new $n,dl=new Xr;class ul extends Zn{constructor(e=new Pi,t=new ol){super(),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,n=this.matrixWorld,i=e.params.Points.threshold,a=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),ll.copy(r.boundingSphere),ll.applyMatrix4(n),ll.radius+=i,!1===e.ray.intersectsSphere(ll))return;sl.copy(n).invert(),cl.copy(e.ray).applyMatrix4(sl);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o;if(r.isBufferGeometry){const i=r.index,o=r.attributes.position;if(null!==i){for(let r=Math.max(0,a.start),c=Math.min(i.count,a.start+a.count);r<c;r++){const a=i.getX(r);dl.fromBufferAttribute(o,a),hl(dl,a,s,n,e,t,this)}}else{for(let r=Math.max(0,a.start),i=Math.min(o.count,a.start+a.count);r<i;r++)dl.fromBufferAttribute(o,r),hl(dl,r,s,n,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const e=t[r[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,r=e.length;t<r;t++){const r=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}function hl(e,t,r,n,i,a,o){const s=cl.distanceSqToPoint(e);if(s<r){const r=new Xr;cl.closestPointToPoint(e,r),r.applyMatrix4(n);const c=i.ray.origin.distanceTo(r);if(c<i.near||c>i.far)return;a.push({distance:c,distanceToRay:Math.sqrt(s),point:r,index:t,face:null,object:o})}}ul.prototype.isPoints=!0;class fl extends Fr{constructor(e,t,r,n,i,a,o,s,c){super(e,t,r,n,i,a,o,s,c),this.minFilter=void 0!==a?a:ge,this.magFilter=void 0!==i?i:ge,this.generateMipmaps=!1;const l=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){l.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}fl.prototype.isVideoTexture=!0;class pl extends Fr{constructor(e,t,r){super({width:e,height:t}),this.format=r,this.magFilter=fe,this.minFilter=fe,this.generateMipmaps=!1,this.needsUpdate=!0}}pl.prototype.isFramebufferTexture=!0;class ml extends Fr{constructor(e,t,r,n,i,a,o,s,c,l,d,u){super(null,a,o,s,c,l,n,i,d,u),this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}ml.prototype.isCompressedTexture=!0;class vl extends Fr{constructor(e,t,r,n,i,a,o,s,c){super(e,t,r,n,i,a,o,s,c),this.needsUpdate=!0}}vl.prototype.isCanvasTexture=!0;class $l extends Pi{constructor(e=1,t=8,r=0,n=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:n},t=Math.max(3,t);const i=[],a=[],o=[],s=[],c=new Xr,l=new Tr;a.push(0,0,0),o.push(0,0,1),s.push(.5,.5);for(let i=0,d=3;i<=t;i++,d+=3){const u=r+i/t*n;c.x=e*Math.cos(u),c.y=e*Math.sin(u),a.push(c.x,c.y,c.z),o.push(0,0,1),l.x=(a[d]/e+1)/2,l.y=(a[d+1]/e+1)/2,s.push(l.x,l.y)}for(let e=1;e<=t;e++)i.push(e,e+1,0);this.setIndex(i),this.setAttribute("position",new _i(a,3)),this.setAttribute("normal",new _i(o,3)),this.setAttribute("uv",new _i(s,2))}static fromJSON(e){return new $l(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class gl extends Pi{constructor(e=1,t=1,r=1,n=8,i=1,a=!1,o=0,s=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:n,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s};const c=this;n=Math.floor(n),i=Math.floor(i);const l=[],d=[],u=[],h=[];let f=0;const p=[],m=r/2;let v=0;function $(r){const i=f,a=new Tr,p=new Xr;let $=0;const g=!0===r?e:t,b=!0===r?1:-1;for(let e=1;e<=n;e++)d.push(0,m*b,0),u.push(0,b,0),h.push(.5,.5),f++;const x=f;for(let e=0;e<=n;e++){const t=e/n*s+o,r=Math.cos(t),i=Math.sin(t);p.x=g*i,p.y=m*b,p.z=g*r,d.push(p.x,p.y,p.z),u.push(0,b,0),a.x=.5*r+.5,a.y=.5*i*b+.5,h.push(a.x,a.y),f++}for(let e=0;e<n;e++){const t=i+e,n=x+e;!0===r?l.push(n,n+1,t):l.push(n+1,n,t),$+=3}c.addGroup(v,$,!0===r?1:2),v+=$}!function(){const a=new Xr,$=new Xr;let g=0;const b=(t-e)/r;for(let c=0;c<=i;c++){const l=[],v=c/i,g=v*(t-e)+e;for(let e=0;e<=n;e++){const t=e/n,i=t*s+o,c=Math.sin(i),p=Math.cos(i);$.x=g*c,$.y=-v*r+m,$.z=g*p,d.push($.x,$.y,$.z),a.set(c,b,p).normalize(),u.push(a.x,a.y,a.z),h.push(t,1-v),l.push(f++)}p.push(l)}for(let e=0;e<n;e++)for(let t=0;t<i;t++){const r=p[t][e],n=p[t+1][e],i=p[t+1][e+1],a=p[t][e+1];l.push(r,n,a),l.push(n,i,a),g+=6}c.addGroup(v,g,0),v+=g}(),!1===a&&(e>0&&$(!0),t>0&&$(!1)),this.setIndex(l),this.setAttribute("position",new _i(d,3)),this.setAttribute("normal",new _i(u,3)),this.setAttribute("uv",new _i(h,2))}static fromJSON(e){return new gl(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class bl extends gl{constructor(e=1,t=1,r=8,n=1,i=!1,a=0,o=2*Math.PI){super(0,e,t,r,n,i,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:a,thetaLength:o}}static fromJSON(e){return new bl(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class xl extends Pi{constructor(e=[],t=[],r=1,n=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:n};const i=[],a=[];function o(e,t,r,n){const i=n+1,a=[];for(let n=0;n<=i;n++){a[n]=[];const o=e.clone().lerp(r,n/i),s=t.clone().lerp(r,n/i),c=i-n;for(let e=0;e<=c;e++)a[n][e]=0===e&&n===i?o:o.clone().lerp(s,e/c)}for(let e=0;e<i;e++)for(let t=0;t<2*(i-e)-1;t++){const r=Math.floor(t/2);t%2==0?(s(a[e][r+1]),s(a[e+1][r]),s(a[e][r])):(s(a[e][r+1]),s(a[e+1][r+1]),s(a[e+1][r]))}}function s(e){i.push(e.x,e.y,e.z)}function c(t,r){const n=3*t;r.x=e[n+0],r.y=e[n+1],r.z=e[n+2]}function l(e,t,r,n){n<0&&1===e.x&&(a[t]=e.x-1),0===r.x&&0===r.z&&(a[t]=n/2/Math.PI+.5)}function d(e){return Math.atan2(e.z,-e.x)}!function(e){const r=new Xr,n=new Xr,i=new Xr;for(let a=0;a<t.length;a+=3)c(t[a+0],r),c(t[a+1],n),c(t[a+2],i),o(r,n,i,e)}(n),function(e){const t=new Xr;for(let r=0;r<i.length;r+=3)t.x=i[r+0],t.y=i[r+1],t.z=i[r+2],t.normalize().multiplyScalar(e),i[r+0]=t.x,i[r+1]=t.y,i[r+2]=t.z}(r),function(){const e=new Xr;for(let r=0;r<i.length;r+=3){e.x=i[r+0],e.y=i[r+1],e.z=i[r+2];const n=d(e)/2/Math.PI+.5,o=(t=e,Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5);a.push(n,1-o)}var t;(function(){const e=new Xr,t=new Xr,r=new Xr,n=new Xr,o=new Tr,s=new Tr,c=new Tr;for(let u=0,h=0;u<i.length;u+=9,h+=6){e.set(i[u+0],i[u+1],i[u+2]),t.set(i[u+3],i[u+4],i[u+5]),r.set(i[u+6],i[u+7],i[u+8]),o.set(a[h+0],a[h+1]),s.set(a[h+2],a[h+3]),c.set(a[h+4],a[h+5]),n.copy(e).add(t).add(r).divideScalar(3);const f=d(n);l(o,h+0,e,f),l(s,h+2,t,f),l(c,h+4,r,f)}})(),function(){for(let e=0;e<a.length;e+=6){const t=a[e+0],r=a[e+2],n=a[e+4],i=Math.max(t,r,n),o=Math.min(t,r,n);i>.9&&o<.1&&(t<.2&&(a[e+0]+=1),r<.2&&(a[e+2]+=1),n<.2&&(a[e+4]+=1))}}()}(),this.setAttribute("position",new _i(i,3)),this.setAttribute("normal",new _i(i.slice(),3)),this.setAttribute("uv",new _i(a,2)),0===n?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(e){return new xl(e.vertices,e.indices,e.radius,e.details)}}class yl extends xl{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,n=1/r;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-r,0,-n,r,0,n,-r,0,n,r,-n,-r,0,-n,r,0,n,-r,0,n,r,0,-r,0,-n,r,0,-n,-r,0,n,r,0,n],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new yl(e.radius,e.detail)}}const wl=new Xr,_l=new Xr,Sl=new Xr,Tl=new ci;class Ml extends Pi{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const r=4,n=Math.pow(10,r),i=Math.cos(mr*t),a=e.getIndex(),o=e.getAttribute("position"),s=a?a.count:o.count,c=[0,0,0],l=["a","b","c"],d=new Array(3),u={},h=[];for(let e=0;e<s;e+=3){a?(c[0]=a.getX(e),c[1]=a.getX(e+1),c[2]=a.getX(e+2)):(c[0]=e,c[1]=e+1,c[2]=e+2);const{a:t,b:r,c:s}=Tl;if(t.fromBufferAttribute(o,c[0]),r.fromBufferAttribute(o,c[1]),s.fromBufferAttribute(o,c[2]),Tl.getNormal(Sl),d[0]=`${Math.round(t.x*n)},${Math.round(t.y*n)},${Math.round(t.z*n)}`,d[1]=`${Math.round(r.x*n)},${Math.round(r.y*n)},${Math.round(r.z*n)}`,d[2]=`${Math.round(s.x*n)},${Math.round(s.y*n)},${Math.round(s.z*n)}`,d[0]!==d[1]&&d[1]!==d[2]&&d[2]!==d[0])for(let e=0;e<3;e++){const t=(e+1)%3,r=d[e],n=d[t],a=Tl[l[e]],o=Tl[l[t]],s=`${r}_${n}`,f=`${n}_${r}`;f in u&&u[f]?(Sl.dot(u[f].normal)<=i&&(h.push(a.x,a.y,a.z),h.push(o.x,o.y,o.z)),u[f]=null):s in u||(u[s]={index0:c[e],index1:c[t],normal:Sl.clone()})}}for(const e in u)if(u[e]){const{index0:t,index1:r}=u[e];wl.fromBufferAttribute(o,t),_l.fromBufferAttribute(o,r),h.push(wl.x,wl.y,wl.z),h.push(_l.x,_l.y,_l.z)}this.setAttribute("position",new _i(h,3))}}}class El{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,n=this.getPoint(0),i=0;t.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),i+=r.distanceTo(n),t.push(i),n=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let n=0;const i=r.length;let a;a=t||e*r[i-1];let o,s=0,c=i-1;for(;s<=c;)if(n=Math.floor(s+(c-s)/2),o=r[n]-a,o<0)s=n+1;else{if(!(o>0)){c=n;break}c=n-1}if(n=c,r[n]===a)return n/(i-1);const l=r[n];return(n+(a-l)/(r[n+1]-l))/(i-1)}getTangent(e,t){const r=1e-4;let n=e-r,i=e+r;n<0&&(n=0),i>1&&(i=1);const a=this.getPoint(n),o=this.getPoint(i),s=t||(a.isVector2?new Tr:new Xr);return s.copy(o).sub(a).normalize(),s}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new Xr,n=[],i=[],a=[],o=new Xr,s=new Mn;for(let t=0;t<=e;t++){const r=t/e;n[t]=this.getTangentAt(r,new Xr)}i[0]=new Xr,a[0]=new Xr;let c=Number.MAX_VALUE;const l=Math.abs(n[0].x),d=Math.abs(n[0].y),u=Math.abs(n[0].z);l<=c&&(c=l,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),u<=c&&r.set(0,0,1),o.crossVectors(n[0],r).normalize(),i[0].crossVectors(n[0],o),a[0].crossVectors(n[0],i[0]);for(let t=1;t<=e;t++){if(i[t]=i[t-1].clone(),a[t]=a[t-1].clone(),o.crossVectors(n[t-1],n[t]),o.length()>Number.EPSILON){o.normalize();const e=Math.acos(gr(n[t-1].dot(n[t]),-1,1));i[t].applyMatrix4(s.makeRotationAxis(o,e))}a[t].crossVectors(n[t],i[t])}if(!0===t){let t=Math.acos(gr(i[0].dot(i[e]),-1,1));t/=e,n[0].dot(o.crossVectors(i[0],i[e]))>0&&(t=-t);for(let r=1;r<=e;r++)i[r].applyMatrix4(s.makeRotationAxis(n[r],t*r)),a[r].crossVectors(n[r],i[r])}return{tangents:n,normals:i,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Al extends El{constructor(e=0,t=0,r=1,n=1,i=0,a=2*Math.PI,o=!1,s=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=n,this.aStartAngle=i,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s}getPoint(e,t){const r=t||new Tr,n=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const a=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=n;for(;i>n;)i-=n;i<Number.EPSILON&&(i=a?0:n),!0!==this.aClockwise||a||(i===n?i=-n:i-=n);const o=this.aStartAngle+e*i;let s=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),r=s-this.aX,n=c-this.aY;s=r*e-n*t+this.aX,c=r*t+n*e+this.aY}return r.set(s,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}Al.prototype.isEllipseCurve=!0;class Cl extends Al{constructor(e,t,r,n,i,a){super(e,t,r,r,n,i,a),this.type="ArcCurve"}}function Ll(){let e=0,t=0,r=0,n=0;function i(i,a,o,s){e=i,t=o,r=-3*i+3*a-2*o-s,n=2*i-2*a+o+s}return{initCatmullRom:function(e,t,r,n,a){i(t,r,a*(r-e),a*(n-t))},initNonuniformCatmullRom:function(e,t,r,n,a,o,s){let c=(t-e)/a-(r-e)/(a+o)+(r-t)/o,l=(r-t)/o-(n-t)/(o+s)+(n-r)/s;c*=o,l*=o,i(t,r,c,l)},calc:function(i){const a=i*i;return e+t*i+r*a+n*(a*i)}}}Cl.prototype.isArcCurve=!0;const Rl=new Xr,Pl=new Ll,Dl=new Ll,Ol=new Ll;class Il extends El{constructor(e=[],t=!1,r="centripetal",n=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=n}getPoint(e,t=new Xr){const r=t,n=this.points,i=n.length,a=(i-(this.closed?0:1))*e;let o,s,c=Math.floor(a),l=a-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/i)+1)*i:0===l&&c===i-1&&(c=i-2,l=1),this.closed||c>0?o=n[(c-1)%i]:(Rl.subVectors(n[0],n[1]).add(n[0]),o=Rl);const d=n[c%i],u=n[(c+1)%i];if(this.closed||c+2<i?s=n[(c+2)%i]:(Rl.subVectors(n[i-1],n[i-2]).add(n[i-1]),s=Rl),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(o.distanceToSquared(d),e),r=Math.pow(d.distanceToSquared(u),e),n=Math.pow(u.distanceToSquared(s),e);r<1e-4&&(r=1),t<1e-4&&(t=r),n<1e-4&&(n=r),Pl.initNonuniformCatmullRom(o.x,d.x,u.x,s.x,t,r,n),Dl.initNonuniformCatmullRom(o.y,d.y,u.y,s.y,t,r,n),Ol.initNonuniformCatmullRom(o.z,d.z,u.z,s.z,t,r,n)}else"catmullrom"===this.curveType&&(Pl.initCatmullRom(o.x,d.x,u.x,s.x,this.tension),Dl.initCatmullRom(o.y,d.y,u.y,s.y,this.tension),Ol.initCatmullRom(o.z,d.z,u.z,s.z,this.tension));return r.set(Pl.calc(l),Dl.calc(l),Ol.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const r=e.points[t];this.points.push((new Xr).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Nl(e,t,r,n,i){const a=.5*(n-t),o=.5*(i-r),s=e*e;return(2*r-2*n+a+o)*(e*s)+(-3*r+3*n-2*a-o)*s+a*e+r}function Bl(e,t,r,n){return function(e,t){const r=1-e;return r*r*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,r)+function(e,t){return e*e*t}(e,n)}function zl(e,t,r,n,i){return function(e,t){const r=1-e;return r*r*r*t}(e,t)+function(e,t){const r=1-e;return 3*r*r*e*t}(e,r)+function(e,t){return 3*(1-e)*e*e*t}(e,n)+function(e,t){return e*e*e*t}(e,i)}Il.prototype.isCatmullRomCurve3=!0;class Ul extends El{constructor(e=new Tr,t=new Tr,r=new Tr,n=new Tr){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=n}getPoint(e,t=new Tr){const r=t,n=this.v0,i=this.v1,a=this.v2,o=this.v3;return r.set(zl(e,n.x,i.x,a.x,o.x),zl(e,n.y,i.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}Ul.prototype.isCubicBezierCurve=!0;class kl extends El{constructor(e=new Xr,t=new Xr,r=new Xr,n=new Xr){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=n}getPoint(e,t=new Xr){const r=t,n=this.v0,i=this.v1,a=this.v2,o=this.v3;return r.set(zl(e,n.x,i.x,a.x,o.x),zl(e,n.y,i.y,a.y,o.y),zl(e,n.z,i.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}kl.prototype.isCubicBezierCurve3=!0;class Fl extends El{constructor(e=new Tr,t=new Tr){super(),this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Tr){const r=t;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new Tr;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Fl.prototype.isLineCurve=!0;class ql extends El{constructor(e=new Xr,t=new Xr){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new Xr){const r=t;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Gl extends El{constructor(e=new Tr,t=new Tr,r=new Tr){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Tr){const r=t,n=this.v0,i=this.v1,a=this.v2;return r.set(Bl(e,n.x,i.x,a.x),Bl(e,n.y,i.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Gl.prototype.isQuadraticBezierCurve=!0;class Vl extends El{constructor(e=new Xr,t=new Xr,r=new Xr){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Xr){const r=t,n=this.v0,i=this.v1,a=this.v2;return r.set(Bl(e,n.x,i.x,a.x),Bl(e,n.y,i.y,a.y),Bl(e,n.z,i.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Vl.prototype.isQuadraticBezierCurve3=!0;class Hl extends El{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,t=new Tr){const r=t,n=this.points,i=(n.length-1)*e,a=Math.floor(i),o=i-a,s=n[0===a?a:a-1],c=n[a],l=n[a>n.length-2?n.length-1:a+1],d=n[a>n.length-3?n.length-1:a+2];return r.set(Nl(o,s.x,c.x,l.x,d.x),Nl(o,s.y,c.y,l.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const r=e.points[t];this.points.push((new Tr).fromArray(r))}return this}}Hl.prototype.isSplineCurve=!0;var jl=Object.freeze({__proto__:null,ArcCurve:Cl,CatmullRomCurve3:Il,CubicBezierCurve:Ul,CubicBezierCurve3:kl,EllipseCurve:Al,LineCurve:Fl,LineCurve3:ql,QuadraticBezierCurve:Gl,QuadraticBezierCurve3:Vl,SplineCurve:Hl});class Wl extends El{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Fl(t,e))}getPoint(e,t){const r=e*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=r){const e=n[i]-r,a=this.curves[i],o=a.getLength(),s=0===o?0:1-e/o;return a.getPointAt(s,t)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,n=this.curves.length;r<n;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let n=0,i=this.curves;n<i.length;n++){const a=i[n],o=a&&a.isEllipseCurve?2*e:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o);for(let e=0;e<s.length;e++){const n=s[e];r&&r.equals(n)||(t.push(n),r=n)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const r=e.curves[t];this.curves.push((new jl[r.type]).fromJSON(r))}return this}}class Xl extends Wl{constructor(e){super(),this.type="Path",this.currentPoint=new Tr,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new Fl(this.currentPoint.clone(),new Tr(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,n){const i=new Gl(this.currentPoint.clone(),new Tr(e,t),new Tr(r,n));return this.curves.push(i),this.currentPoint.set(r,n),this}bezierCurveTo(e,t,r,n,i,a){const o=new Ul(this.currentPoint.clone(),new Tr(e,t),new Tr(r,n),new Tr(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new Hl(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,n,i,a){const o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,r,n,i,a),this}absarc(e,t,r,n,i,a){return this.absellipse(e,t,r,r,n,i,a),this}ellipse(e,t,r,n,i,a,o,s){const c=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+c,t+l,r,n,i,a,o,s),this}absellipse(e,t,r,n,i,a,o,s){const c=new Al(e,t,r,n,i,a,o,s);if(this.curves.length>0){const e=c.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(c);const l=c.getPoint(1);return this.currentPoint.copy(l),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Kl extends Xl{constructor(e){super(e),this.uuid=$r(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,n=this.holes.length;r<n;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const r=e.holes[t];this.holes.push((new Xl).fromJSON(r))}return this}}const Yl=function(e,t,r=2){const n=t&&t.length,i=n?t[0]*r:e.length;let a=Zl(e,0,i,r,!0);const o=[];if(!a||a.next===a.prev)return o;let s,c,l,d,u,h,f;if(n&&(a=function(e,t,r,n){const i=[];let a,o,s,c,l;for(a=0,o=t.length;a<o;a++)s=t[a]*n,c=a<o-1?t[a+1]*n:e.length,l=Zl(e,s,c,n,!1),l===l.next&&(l.steiner=!0),i.push(cd(l));for(i.sort(id),a=0;a<i.length;a++)ad(i[a],r),r=Jl(r,r.next);return r}(e,t,a,r)),e.length>80*r){s=l=e[0],c=d=e[1];for(let t=r;t<i;t+=r)u=e[t],h=e[t+1],u<s&&(s=u),h<c&&(c=h),u>l&&(l=u),h>d&&(d=h);f=Math.max(l-s,d-c),f=0!==f?1/f:0}return Ql(a,o,r,s,c,f),o};function Zl(e,t,r,n,i){let a,o;if(i===function(e,t,r,n){let i=0;for(let a=t,o=r-n;a<r;a+=n)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,r,n)>0)for(a=t;a<r;a+=n)o=gd(a,e[a],e[a+1],o);else for(a=r-n;a>=t;a-=n)o=gd(a,e[a],e[a+1],o);return o&&hd(o,o.next)&&(bd(o),o=o.next),o}function Jl(e,t){if(!e)return e;t||(t=e);let r,n=e;do{if(r=!1,n.steiner||!hd(n,n.next)&&0!==ud(n.prev,n,n.next))n=n.next;else{if(bd(n),n=t=n.prev,n===n.next)break;r=!0}}while(r||n!==t);return t}function Ql(e,t,r,n,i,a,o){if(!e)return;!o&&a&&function(e,t,r,n){let i=e;do{null===i.z&&(i.z=sd(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,r,n,i,a,o,s,c,l=1;do{for(r=e,e=null,a=null,o=0;r;){for(o++,n=r,s=0,t=0;t<l&&(s++,n=n.nextZ,n);t++);for(c=l;s>0||c>0&&n;)0!==s&&(0===c||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,c--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;r=n}a.nextZ=null,l*=2}while(o>1)}(i)}(e,n,i,a);let s,c,l=e;for(;e.prev!==e.next;)if(s=e.prev,c=e.next,a?td(e,n,i,a):ed(e))t.push(s.i/r),t.push(e.i/r),t.push(c.i/r),bd(e),e=c.next,l=c.next;else if((e=c)===l){o?1===o?Ql(e=rd(Jl(e),t,r),t,r,n,i,a,2):2===o&&nd(e,t,r,n,i,a):Ql(Jl(e),t,r,n,i,a,1);break}}function ed(e){const t=e.prev,r=e,n=e.next;if(ud(t,r,n)>=0)return!1;let i=e.next.next;for(;i!==e.prev;){if(ld(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&ud(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function td(e,t,r,n){const i=e.prev,a=e,o=e.next;if(ud(i,a,o)>=0)return!1;const s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,c=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,d=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,u=sd(s,c,t,r,n),h=sd(l,d,t,r,n);let f=e.prevZ,p=e.nextZ;for(;f&&f.z>=u&&p&&p.z<=h;){if(f!==e.prev&&f!==e.next&&ld(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&ud(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==e.prev&&p!==e.next&&ld(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&ud(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;f&&f.z>=u;){if(f!==e.prev&&f!==e.next&&ld(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&ud(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=h;){if(p!==e.prev&&p!==e.next&&ld(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&ud(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function rd(e,t,r){let n=e;do{const i=n.prev,a=n.next.next;!hd(i,a)&&fd(i,n,n.next,a)&&vd(i,a)&&vd(a,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(a.i/r),bd(n),bd(n.next),n=e=a),n=n.next}while(n!==e);return Jl(n)}function nd(e,t,r,n,i,a){let o=e;do{let e=o.next.next;for(;e!==o.prev;){if(o.i!==e.i&&dd(o,e)){let s=$d(o,e);return o=Jl(o,o.next),s=Jl(s,s.next),Ql(o,t,r,n,i,a),void Ql(s,t,r,n,i,a)}e=e.next}o=o.next}while(o!==e)}function id(e,t){return e.x-t.x}function ad(e,t){if(t=function(e,t){let r=t;const n=e.x,i=e.y;let a,o=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){const e=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(e<=n&&e>o){if(o=e,e===n){if(i===r.y)return r;if(i===r.next.y)return r.next}a=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!a)return null;if(n===o)return a;const s=a,c=a.x,l=a.y;let d,u=1/0;r=a;do{n>=r.x&&r.x>=c&&n!==r.x&&ld(i<l?n:o,i,c,l,i<l?o:n,i,r.x,r.y)&&(d=Math.abs(i-r.y)/(n-r.x),vd(r,e)&&(d<u||d===u&&(r.x>a.x||r.x===a.x&&od(a,r)))&&(a=r,u=d)),r=r.next}while(r!==s);return a}(e,t),t){const r=$d(t,e);Jl(t,t.next),Jl(r,r.next)}}function od(e,t){return ud(e.prev,e,t.prev)<0&&ud(t.next,e,e.next)<0}function sd(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function cd(e){let t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function ld(e,t,r,n,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(n-s)-(r-o)*(t-s)>=0&&(r-o)*(a-s)-(i-o)*(n-s)>=0}function dd(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&fd(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(vd(e,t)&&vd(t,e)&&function(e,t){let r=e,n=!1;const i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(ud(e.prev,e,t.prev)||ud(e,t.prev,t))||hd(e,t)&&ud(e.prev,e,e.next)>0&&ud(t.prev,t,t.next)>0)}function ud(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function hd(e,t){return e.x===t.x&&e.y===t.y}function fd(e,t,r,n){const i=md(ud(e,t,r)),a=md(ud(e,t,n)),o=md(ud(r,n,e)),s=md(ud(r,n,t));return i!==a&&o!==s||(!(0!==i||!pd(e,r,t))||(!(0!==a||!pd(e,n,t))||(!(0!==o||!pd(r,e,n))||!(0!==s||!pd(r,t,n)))))}function pd(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function md(e){return e>0?1:e<0?-1:0}function vd(e,t){return ud(e.prev,e,e.next)<0?ud(e,t,e.next)>=0&&ud(e,e.prev,t)>=0:ud(e,t,e.prev)<0||ud(e,e.next,t)<0}function $d(e,t){const r=new xd(e.i,e.x,e.y),n=new xd(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function gd(e,t,r,n){const i=new xd(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function bd(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function xd(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}class yd{static area(e){const t=e.length;let r=0;for(let n=t-1,i=0;i<t;n=i++)r+=e[n].x*e[i].y-e[i].x*e[n].y;return.5*r}static isClockWise(e){return yd.area(e)<0}static triangulateShape(e,t){const r=[],n=[],i=[];wd(e),_d(r,e);let a=e.length;t.forEach(wd);for(let e=0;e<t.length;e++)n.push(a),a+=t[e].length,_d(r,t[e]);const o=Yl(r,n);for(let e=0;e<o.length;e+=3)i.push(o.slice(e,e+3));return i}}function wd(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function _d(e,t){for(let r=0;r<t.length;r++)e.push(t[r].x),e.push(t[r].y)}class Sd extends Pi{constructor(e=new Kl([new Tr(.5,.5),new Tr(-.5,.5),new Tr(-.5,-.5),new Tr(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,n=[],i=[];for(let t=0,r=e.length;t<r;t++){a(e[t])}function a(e){const a=[],o=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1;let c=void 0!==t.depth?t.depth:1,l=void 0===t.bevelEnabled||t.bevelEnabled,d=void 0!==t.bevelThickness?t.bevelThickness:.2,u=void 0!==t.bevelSize?t.bevelSize:d-.1,h=void 0!==t.bevelOffset?t.bevelOffset:0,f=void 0!==t.bevelSegments?t.bevelSegments:3;const p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:Td;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=t.amount);let v,$,g,b,x,y=!1;p&&(v=p.getSpacedPoints(s),y=!0,l=!1,$=p.computeFrenetFrames(s,!1),g=new Xr,b=new Xr,x=new Xr),l||(f=0,d=0,u=0,h=0);const w=e.extractPoints(o);let _=w.shape;const S=w.holes;if(!yd.isClockWise(_)){_=_.reverse();for(let e=0,t=S.length;e<t;e++){const t=S[e];yd.isClockWise(t)&&(S[e]=t.reverse())}}const T=yd.triangulateShape(_,S),M=_;for(let e=0,t=S.length;e<t;e++){const t=S[e];_=_.concat(t)}function E(e,t,r){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(r).add(e)}const A=_.length,C=T.length;function L(e,t,r){let n,i,a;const o=e.x-t.x,s=e.y-t.y,c=r.x-e.x,l=r.y-e.y,d=o*o+s*s,u=o*l-s*c;if(Math.abs(u)>Number.EPSILON){const u=Math.sqrt(d),h=Math.sqrt(c*c+l*l),f=t.x-s/u,p=t.y+o/u,m=((r.x-l/h-f)*l-(r.y+c/h-p)*c)/(o*l-s*c);n=f+o*m-e.x,i=p+s*m-e.y;const v=n*n+i*i;if(v<=2)return new Tr(n,i);a=Math.sqrt(v/2)}else{let e=!1;o>Number.EPSILON?c>Number.EPSILON&&(e=!0):o<-Number.EPSILON?c<-Number.EPSILON&&(e=!0):Math.sign(s)===Math.sign(l)&&(e=!0),e?(n=-s,i=o,a=Math.sqrt(d)):(n=o,i=s,a=Math.sqrt(d/2))}return new Tr(n/a,i/a)}const R=[];for(let e=0,t=M.length,r=t-1,n=e+1;e<t;e++,r++,n++)r===t&&(r=0),n===t&&(n=0),R[e]=L(M[e],M[r],M[n]);const P=[];let D,O=R.concat();for(let e=0,t=S.length;e<t;e++){const t=S[e];D=[];for(let e=0,r=t.length,n=r-1,i=e+1;e<r;e++,n++,i++)n===r&&(n=0),i===r&&(i=0),D[e]=L(t[e],t[n],t[i]);P.push(D),O=O.concat(D)}for(let e=0;e<f;e++){const t=e/f,r=d*Math.cos(t*Math.PI/2),n=u*Math.sin(t*Math.PI/2)+h;for(let e=0,t=M.length;e<t;e++){const t=E(M[e],R[e],n);B(t.x,t.y,-r)}for(let e=0,t=S.length;e<t;e++){const t=S[e];D=P[e];for(let e=0,i=t.length;e<i;e++){const i=E(t[e],D[e],n);B(i.x,i.y,-r)}}}const I=u+h;for(let e=0;e<A;e++){const t=l?E(_[e],O[e],I):_[e];y?(b.copy($.normals[0]).multiplyScalar(t.x),g.copy($.binormals[0]).multiplyScalar(t.y),x.copy(v[0]).add(b).add(g),B(x.x,x.y,x.z)):B(t.x,t.y,0)}for(let e=1;e<=s;e++)for(let t=0;t<A;t++){const r=l?E(_[t],O[t],I):_[t];y?(b.copy($.normals[e]).multiplyScalar(r.x),g.copy($.binormals[e]).multiplyScalar(r.y),x.copy(v[e]).add(b).add(g),B(x.x,x.y,x.z)):B(r.x,r.y,c/s*e)}for(let e=f-1;e>=0;e--){const t=e/f,r=d*Math.cos(t*Math.PI/2),n=u*Math.sin(t*Math.PI/2)+h;for(let e=0,t=M.length;e<t;e++){const t=E(M[e],R[e],n);B(t.x,t.y,c+r)}for(let e=0,t=S.length;e<t;e++){const t=S[e];D=P[e];for(let e=0,i=t.length;e<i;e++){const i=E(t[e],D[e],n);y?B(i.x,i.y+v[s-1].y,v[s-1].x+r):B(i.x,i.y,c+r)}}}function N(e,t){let r=e.length;for(;--r>=0;){const n=r;let i=r-1;i<0&&(i=e.length-1);for(let e=0,r=s+2*f;e<r;e++){const r=A*e,a=A*(e+1);U(t+n+r,t+i+r,t+i+a,t+n+a)}}}function B(e,t,r){a.push(e),a.push(t),a.push(r)}function z(e,t,i){k(e),k(t),k(i);const a=n.length/3,o=m.generateTopUV(r,n,a-3,a-2,a-1);F(o[0]),F(o[1]),F(o[2])}function U(e,t,i,a){k(e),k(t),k(a),k(t),k(i),k(a);const o=n.length/3,s=m.generateSideWallUV(r,n,o-6,o-3,o-2,o-1);F(s[0]),F(s[1]),F(s[3]),F(s[1]),F(s[2]),F(s[3])}function k(e){n.push(a[3*e+0]),n.push(a[3*e+1]),n.push(a[3*e+2])}function F(e){i.push(e.x),i.push(e.y)}!function(){const e=n.length/3;if(l){let e=0,t=A*e;for(let e=0;e<C;e++){const r=T[e];z(r[2]+t,r[1]+t,r[0]+t)}e=s+2*f,t=A*e;for(let e=0;e<C;e++){const r=T[e];z(r[0]+t,r[1]+t,r[2]+t)}}else{for(let e=0;e<C;e++){const t=T[e];z(t[2],t[1],t[0])}for(let e=0;e<C;e++){const t=T[e];z(t[0]+A*s,t[1]+A*s,t[2]+A*s)}}r.addGroup(e,n.length/3-e,0)}(),function(){const e=n.length/3;let t=0;N(M,t),t+=M.length;for(let e=0,r=S.length;e<r;e++){const r=S[e];N(r,t),t+=r.length}r.addGroup(e,n.length/3-e,1)}()}this.setAttribute("position",new _i(n,3)),this.setAttribute("uv",new _i(i,2)),this.computeVertexNormals()}toJSON(){const e=super.toJSON();return function(e,t,r){if(r.shapes=[],Array.isArray(e))for(let t=0,n=e.length;t<n;t++){const n=e[t];r.shapes.push(n.uuid)}else r.shapes.push(e.uuid);void 0!==t.extrudePath&&(r.options.extrudePath=t.extrudePath.toJSON());return r}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const r=[];for(let n=0,i=e.shapes.length;n<i;n++){const i=t[e.shapes[n]];r.push(i)}const n=e.options.extrudePath;return void 0!==n&&(e.options.extrudePath=(new jl[n.type]).fromJSON(n)),new Sd(r,e.options)}}const Td={generateTopUV:function(e,t,r,n,i){const a=t[3*r],o=t[3*r+1],s=t[3*n],c=t[3*n+1],l=t[3*i],d=t[3*i+1];return[new Tr(a,o),new Tr(s,c),new Tr(l,d)]},generateSideWallUV:function(e,t,r,n,i,a){const o=t[3*r],s=t[3*r+1],c=t[3*r+2],l=t[3*n],d=t[3*n+1],u=t[3*n+2],h=t[3*i],f=t[3*i+1],p=t[3*i+2],m=t[3*a],v=t[3*a+1],$=t[3*a+2];return Math.abs(s-d)<Math.abs(o-l)?[new Tr(o,1-c),new Tr(l,1-u),new Tr(h,1-p),new Tr(m,1-$)]:[new Tr(s,1-c),new Tr(d,1-u),new Tr(f,1-p),new Tr(v,1-$)]}};class Md extends xl{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2;super([-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Md(e.radius,e.detail)}}class Ed extends Pi{constructor(e=[new Tr(0,.5),new Tr(.5,0),new Tr(0,-.5)],t=12,r=0,n=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:n},t=Math.floor(t),n=gr(n,0,2*Math.PI);const i=[],a=[],o=[],s=[],c=[],l=1/t,d=new Xr,u=new Tr,h=new Xr,f=new Xr,p=new Xr;let m=0,v=0;for(let t=0;t<=e.length-1;t++)switch(t){case 0:m=e[t+1].x-e[t].x,v=e[t+1].y-e[t].y,h.x=1*v,h.y=-m,h.z=0*v,p.copy(h),h.normalize(),s.push(h.x,h.y,h.z);break;case e.length-1:s.push(p.x,p.y,p.z);break;default:m=e[t+1].x-e[t].x,v=e[t+1].y-e[t].y,h.x=1*v,h.y=-m,h.z=0*v,f.copy(h),h.x+=p.x,h.y+=p.y,h.z+=p.z,h.normalize(),s.push(h.x,h.y,h.z),p.copy(f)}for(let i=0;i<=t;i++){const h=r+i*l*n,f=Math.sin(h),p=Math.cos(h);for(let r=0;r<=e.length-1;r++){d.x=e[r].x*f,d.y=e[r].y,d.z=e[r].x*p,a.push(d.x,d.y,d.z),u.x=i/t,u.y=r/(e.length-1),o.push(u.x,u.y);const n=s[3*r+0]*f,l=s[3*r+1],h=s[3*r+0]*p;c.push(n,l,h)}}for(let r=0;r<t;r++)for(let t=0;t<e.length-1;t++){const n=t+r*e.length,a=n,o=n+e.length,s=n+e.length+1,c=n+1;i.push(a,o,c),i.push(s,c,o)}this.setIndex(i),this.setAttribute("position",new _i(a,3)),this.setAttribute("uv",new _i(o,2)),this.setAttribute("normal",new _i(c,3))}static fromJSON(e){return new Ed(e.points,e.segments,e.phiStart,e.phiLength)}}class Ad extends xl{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ad(e.radius,e.detail)}}class Cd extends Pi{constructor(e=.5,t=1,r=8,n=1,i=0,a=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:n,thetaStart:i,thetaLength:a},r=Math.max(3,r);const o=[],s=[],c=[],l=[];let d=e;const u=(t-e)/(n=Math.max(1,n)),h=new Xr,f=new Tr;for(let e=0;e<=n;e++){for(let e=0;e<=r;e++){const n=i+e/r*a;h.x=d*Math.cos(n),h.y=d*Math.sin(n),s.push(h.x,h.y,h.z),c.push(0,0,1),f.x=(h.x/t+1)/2,f.y=(h.y/t+1)/2,l.push(f.x,f.y)}d+=u}for(let e=0;e<n;e++){const t=e*(r+1);for(let e=0;e<r;e++){const n=e+t,i=n,a=n+r+1,s=n+r+2,c=n+1;o.push(i,a,c),o.push(a,s,c)}}this.setIndex(o),this.setAttribute("position",new _i(s,3)),this.setAttribute("normal",new _i(c,3)),this.setAttribute("uv",new _i(l,2))}static fromJSON(e){return new Cd(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Ld extends Pi{constructor(e=new Kl([new Tr(0,.5),new Tr(-.5,-.5),new Tr(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],n=[],i=[],a=[];let o=0,s=0;if(!1===Array.isArray(e))c(e);else for(let t=0;t<e.length;t++)c(e[t]),this.addGroup(o,s,t),o+=s,s=0;function c(e){const o=n.length/3,c=e.extractPoints(t);let l=c.shape;const d=c.holes;!1===yd.isClockWise(l)&&(l=l.reverse());for(let e=0,t=d.length;e<t;e++){const t=d[e];!0===yd.isClockWise(t)&&(d[e]=t.reverse())}const u=yd.triangulateShape(l,d);for(let e=0,t=d.length;e<t;e++){const t=d[e];l=l.concat(t)}for(let e=0,t=l.length;e<t;e++){const t=l[e];n.push(t.x,t.y,0),i.push(0,0,1),a.push(t.x,t.y)}for(let e=0,t=u.length;e<t;e++){const t=u[e],n=t[0]+o,i=t[1]+o,a=t[2]+o;r.push(n,i,a),s+=3}}this.setIndex(r),this.setAttribute("position",new _i(n,3)),this.setAttribute("normal",new _i(i,3)),this.setAttribute("uv",new _i(a,2))}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let r=0,n=e.length;r<n;r++){const n=e[r];t.shapes.push(n.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const r=[];for(let n=0,i=e.shapes.length;n<i;n++){const i=t[e.shapes[n]];r.push(i)}return new Ld(r,e.curveSegments)}}class Rd extends Pi{constructor(e=1,t=32,r=16,n=0,i=2*Math.PI,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:n,phiLength:i,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const s=Math.min(a+o,Math.PI);let c=0;const l=[],d=new Xr,u=new Xr,h=[],f=[],p=[],m=[];for(let h=0;h<=r;h++){const v=[],$=h/r;let g=0;0==h&&0==a?g=.5/t:h==r&&s==Math.PI&&(g=-.5/t);for(let r=0;r<=t;r++){const s=r/t;d.x=-e*Math.cos(n+s*i)*Math.sin(a+$*o),d.y=e*Math.cos(a+$*o),d.z=e*Math.sin(n+s*i)*Math.sin(a+$*o),f.push(d.x,d.y,d.z),u.copy(d).normalize(),p.push(u.x,u.y,u.z),m.push(s+g,1-$),v.push(c++)}l.push(v)}for(let e=0;e<r;e++)for(let n=0;n<t;n++){const t=l[e][n+1],i=l[e][n],o=l[e+1][n],c=l[e+1][n+1];(0!==e||a>0)&&h.push(t,i,c),(e!==r-1||s<Math.PI)&&h.push(i,o,c)}this.setIndex(h),this.setAttribute("position",new _i(f,3)),this.setAttribute("normal",new _i(p,3)),this.setAttribute("uv",new _i(m,2))}static fromJSON(e){return new Rd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Pd extends xl{constructor(e=1,t=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Pd(e.radius,e.detail)}}class Dd extends Pi{constructor(e=1,t=.4,r=8,n=6,i=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:n,arc:i},r=Math.floor(r),n=Math.floor(n);const a=[],o=[],s=[],c=[],l=new Xr,d=new Xr,u=new Xr;for(let a=0;a<=r;a++)for(let h=0;h<=n;h++){const f=h/n*i,p=a/r*Math.PI*2;d.x=(e+t*Math.cos(p))*Math.cos(f),d.y=(e+t*Math.cos(p))*Math.sin(f),d.z=t*Math.sin(p),o.push(d.x,d.y,d.z),l.x=e*Math.cos(f),l.y=e*Math.sin(f),u.subVectors(d,l).normalize(),s.push(u.x,u.y,u.z),c.push(h/n),c.push(a/r)}for(let e=1;e<=r;e++)for(let t=1;t<=n;t++){const r=(n+1)*e+t-1,i=(n+1)*(e-1)+t-1,o=(n+1)*(e-1)+t,s=(n+1)*e+t;a.push(r,i,s),a.push(i,o,s)}this.setIndex(a),this.setAttribute("position",new _i(o,3)),this.setAttribute("normal",new _i(s,3)),this.setAttribute("uv",new _i(c,2))}static fromJSON(e){return new Dd(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Od extends Pi{constructor(e=1,t=.4,r=64,n=8,i=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:n,p:i,q:a},r=Math.floor(r),n=Math.floor(n);const o=[],s=[],c=[],l=[],d=new Xr,u=new Xr,h=new Xr,f=new Xr,p=new Xr,m=new Xr,v=new Xr;for(let o=0;o<=r;++o){const g=o/r*i*Math.PI*2;$(g,i,a,e,h),$(g+.01,i,a,e,f),m.subVectors(f,h),v.addVectors(f,h),p.crossVectors(m,v),v.crossVectors(p,m),p.normalize(),v.normalize();for(let e=0;e<=n;++e){const i=e/n*Math.PI*2,a=-t*Math.cos(i),f=t*Math.sin(i);d.x=h.x+(a*v.x+f*p.x),d.y=h.y+(a*v.y+f*p.y),d.z=h.z+(a*v.z+f*p.z),s.push(d.x,d.y,d.z),u.subVectors(d,h).normalize(),c.push(u.x,u.y,u.z),l.push(o/r),l.push(e/n)}}for(let e=1;e<=r;e++)for(let t=1;t<=n;t++){const r=(n+1)*(e-1)+(t-1),i=(n+1)*e+(t-1),a=(n+1)*e+t,s=(n+1)*(e-1)+t;o.push(r,i,s),o.push(i,a,s)}function $(e,t,r,n,i){const a=Math.cos(e),o=Math.sin(e),s=r/t*e,c=Math.cos(s);i.x=n*(2+c)*.5*a,i.y=n*(2+c)*o*.5,i.z=n*Math.sin(s)*.5}this.setIndex(o),this.setAttribute("position",new _i(s,3)),this.setAttribute("normal",new _i(c,3)),this.setAttribute("uv",new _i(l,2))}static fromJSON(e){return new Od(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Id extends Pi{constructor(e=new Vl(new Xr(-1,-1,0),new Xr(-1,1,0),new Xr(1,1,0)),t=64,r=1,n=8,i=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:n,closed:i};const a=e.computeFrenetFrames(t,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new Xr,s=new Xr,c=new Tr;let l=new Xr;const d=[],u=[],h=[],f=[];function p(i){l=e.getPointAt(i/t,l);const c=a.normals[i],h=a.binormals[i];for(let e=0;e<=n;e++){const t=e/n*Math.PI*2,i=Math.sin(t),a=-Math.cos(t);s.x=a*c.x+i*h.x,s.y=a*c.y+i*h.y,s.z=a*c.z+i*h.z,s.normalize(),u.push(s.x,s.y,s.z),o.x=l.x+r*s.x,o.y=l.y+r*s.y,o.z=l.z+r*s.z,d.push(o.x,o.y,o.z)}}!function(){for(let e=0;e<t;e++)p(e);p(!1===i?t:0),function(){for(let e=0;e<=t;e++)for(let r=0;r<=n;r++)c.x=e/t,c.y=r/n,h.push(c.x,c.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=n;t++){const r=(n+1)*(e-1)+(t-1),i=(n+1)*e+(t-1),a=(n+1)*e+t,o=(n+1)*(e-1)+t;f.push(r,i,o),f.push(i,a,o)}}()}(),this.setIndex(f),this.setAttribute("position",new _i(d,3)),this.setAttribute("normal",new _i(u,3)),this.setAttribute("uv",new _i(h,2))}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Id((new jl[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Nd extends Pi{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],r=new Set,n=new Xr,i=new Xr;if(null!==e.index){const a=e.attributes.position,o=e.index;let s=e.groups;0===s.length&&(s=[{start:0,count:o.count,materialIndex:0}]);for(let e=0,c=s.length;e<c;++e){const c=s[e],l=c.start;for(let e=l,s=l+c.count;e<s;e+=3)for(let s=0;s<3;s++){const c=o.getX(e+s),l=o.getX(e+(s+1)%3);n.fromBufferAttribute(a,c),i.fromBufferAttribute(a,l),!0===Bd(n,i,r)&&(t.push(n.x,n.y,n.z),t.push(i.x,i.y,i.z))}}}else{const a=e.attributes.position;for(let e=0,o=a.count/3;e<o;e++)for(let o=0;o<3;o++){const s=3*e+o,c=3*e+(o+1)%3;n.fromBufferAttribute(a,s),i.fromBufferAttribute(a,c),!0===Bd(n,i,r)&&(t.push(n.x,n.y,n.z),t.push(i.x,i.y,i.z))}}this.setAttribute("position",new _i(t,3))}}}function Bd(e,t,r){const n=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`,i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`;return!0!==r.has(n)&&!0!==r.has(i)&&(r.add(n,i),!0)}var zd=Object.freeze({__proto__:null,BoxGeometry:Ji,BoxBufferGeometry:Ji,CircleGeometry:$l,CircleBufferGeometry:$l,ConeGeometry:bl,ConeBufferGeometry:bl,CylinderGeometry:gl,CylinderBufferGeometry:gl,DodecahedronGeometry:yl,DodecahedronBufferGeometry:yl,EdgesGeometry:Ml,ExtrudeGeometry:Sd,ExtrudeBufferGeometry:Sd,IcosahedronGeometry:Md,IcosahedronBufferGeometry:Md,LatheGeometry:Ed,LatheBufferGeometry:Ed,OctahedronGeometry:Ad,OctahedronBufferGeometry:Ad,PlaneGeometry:ga,PlaneBufferGeometry:ga,PolyhedronGeometry:xl,PolyhedronBufferGeometry:xl,RingGeometry:Cd,RingBufferGeometry:Cd,ShapeGeometry:Ld,ShapeBufferGeometry:Ld,SphereGeometry:Rd,SphereBufferGeometry:Rd,TetrahedronGeometry:Pd,TetrahedronBufferGeometry:Pd,TorusGeometry:Dd,TorusBufferGeometry:Dd,TorusKnotGeometry:Od,TorusKnotBufferGeometry:Od,TubeGeometry:Id,TubeBufferGeometry:Id,WireframeGeometry:Nd});class Ud extends di{constructor(e){super(),this.type="ShadowMaterial",this.color=new Br(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}Ud.prototype.isShadowMaterial=!0;class kd extends di{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Br(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Br(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nt,this.normalScale=new Tr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}kd.prototype.isMeshStandardMaterial=!0;class Fd extends kd{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Tr(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return gr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.sheenColor=new Br(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Br(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Br(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}Fd.prototype.isMeshPhysicalMaterial=!0;class qd extends di{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new Br(16777215),this.specular=new Br(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Br(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nt,this.normalScale=new Tr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=X,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}qd.prototype.isMeshPhongMaterial=!0;class Gd extends di{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Br(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Br(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nt,this.normalScale=new Tr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}Gd.prototype.isMeshToonMaterial=!0;class Vd extends di{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nt,this.normalScale=new Tr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}Vd.prototype.isMeshNormalMaterial=!0;class Hd extends di{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new Br(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Br(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=X,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}Hd.prototype.isMeshLambertMaterial=!0;class jd extends di{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Br(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nt,this.normalScale=new Tr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}jd.prototype.isMeshMatcapMaterial=!0;class Wd extends Kc{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}Wd.prototype.isLineDashedMaterial=!0;var Xd=Object.freeze({__proto__:null,ShadowMaterial:Ud,SpriteMaterial:fc,RawShaderMaterial:Ca,ShaderMaterial:ra,PointsMaterial:ol,MeshPhysicalMaterial:Fd,MeshStandardMaterial:kd,MeshPhongMaterial:qd,MeshToonMaterial:Gd,MeshNormalMaterial:Vd,MeshLambertMaterial:Hd,MeshDepthMaterial:js,MeshDistanceMaterial:Ws,MeshBasicMaterial:ui,MeshMatcapMaterial:jd,LineDashedMaterial:Wd,LineBasicMaterial:Kc,Material:di});const Kd={arraySlice:function(e,t,r){return Kd.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==r?r:e.length)):e.slice(t,r)},convertArray:function(e,t,r){return!e||!r&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){const t=e.length,r=new Array(t);for(let e=0;e!==t;++e)r[e]=e;return r.sort((function(t,r){return e[t]-e[r]})),r},sortedArray:function(e,t,r){const n=e.length,i=new e.constructor(n);for(let a=0,o=0;o!==n;++a){const n=r[a]*t;for(let r=0;r!==t;++r)i[o++]=e[n+r]}return i},flattenJSON:function(e,t,r,n){let i=1,a=e[0];for(;void 0!==a&&void 0===a[n];)a=e[i++];if(void 0===a)return;let o=a[n];if(void 0!==o)if(Array.isArray(o))do{o=a[n],void 0!==o&&(t.push(a.time),r.push.apply(r,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{o=a[n],void 0!==o&&(t.push(a.time),o.toArray(r,r.length)),a=e[i++]}while(void 0!==a);else do{o=a[n],void 0!==o&&(t.push(a.time),r.push(o)),a=e[i++]}while(void 0!==a)},subclip:function(e,t,r,n,i=30){const a=e.clone();a.name=t;const o=[];for(let e=0;e<a.tracks.length;++e){const t=a.tracks[e],s=t.getValueSize(),c=[],l=[];for(let e=0;e<t.times.length;++e){const a=t.times[e]*i;if(!(a<r||a>=n)){c.push(t.times[e]);for(let r=0;r<s;++r)l.push(t.values[e*s+r])}}0!==c.length&&(t.times=Kd.convertArray(c,t.times.constructor),t.values=Kd.convertArray(l,t.values.constructor),o.push(t))}a.tracks=o;let s=1/0;for(let e=0;e<a.tracks.length;++e)s>a.tracks[e].times[0]&&(s=a.tracks[e].times[0]);for(let e=0;e<a.tracks.length;++e)a.tracks[e].shift(-1*s);return a.resetDuration(),a},makeClipAdditive:function(e,t=0,r=e,n=30){n<=0&&(n=30);const i=r.tracks.length,a=t/n;for(let t=0;t<i;++t){const n=r.tracks[t],i=n.ValueTypeName;if("bool"===i||"string"===i)continue;const o=e.tracks.find((function(e){return e.name===n.name&&e.ValueTypeName===i}));if(void 0===o)continue;let s=0;const c=n.getValueSize();n.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=c/3);let l=0;const d=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=d/3);const u=n.times.length-1;let h;if(a<=n.times[0]){const e=s,t=c-s;h=Kd.arraySlice(n.values,e,t)}else if(a>=n.times[u]){const e=u*c+s,t=e+c-s;h=Kd.arraySlice(n.values,e,t)}else{const e=n.createInterpolant(),t=s,r=c-s;e.evaluate(a),h=Kd.arraySlice(e.resultBuffer,t,r)}if("quaternion"===i){(new Wr).fromArray(h).normalize().conjugate().toArray(h)}const f=o.times.length;for(let e=0;e<f;++e){const t=e*d+l;if("quaternion"===i)Wr.multiplyQuaternionsFlat(o.values,t,h,0,o.values,t);else{const e=d-2*l;for(let r=0;r<e;++r)o.values[t+r]-=h[r]}}}return e.blendMode=At,e}};class Yd{constructor(e,t,r,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,n=t[r],i=t[r-1];e:{t:{let a;r:{n:if(!(e<n)){for(let a=r+2;;){if(void 0===n){if(e<i)break n;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,i)}if(r===a)break;if(i=n,n=t[++r],e<n)break t}a=t.length;break r}if(e>=i)break e;{const o=t[1];e<o&&(r=2,i=o);for(let a=r-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(r===a)break;if(n=i,i=t[--r-1],e>=i)break t}a=r,r=0}}for(;r<a;){const n=r+a>>>1;e<t[n]?a=n:r=n+1}if(n=t[r],i=t[r-1],void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(void 0===n)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,i,e)}this._cachedIndex=r,this.intervalChanged_(r,i,n)}return this.interpolate_(r,i,e,n)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=e*n;for(let e=0;e!==n;++e)t[e]=r[i+e];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Yd.prototype.beforeStart_=Yd.prototype.copySampleValue_,Yd.prototype.afterEnd_=Yd.prototype.copySampleValue_;class Zd extends Yd{constructor(e,t,r,n){super(e,t,r,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:St,endingEnd:St}}intervalChanged_(e,t,r){const n=this.parameterPositions;let i=e-2,a=e+1,o=n[i],s=n[a];if(void 0===o)switch(this.getSettings_().endingStart){case Tt:i=e,o=2*t-r;break;case Mt:i=n.length-2,o=t+n[i]-n[i+1];break;default:i=e,o=r}if(void 0===s)switch(this.getSettings_().endingEnd){case Tt:a=e,s=2*r-t;break;case Mt:a=1,s=r+n[1]-n[0];break;default:a=e-1,s=t}const c=.5*(r-t),l=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(s-r),this._offsetPrev=i*l,this._offsetNext=a*l}interpolate_(e,t,r,n){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,c=s-o,l=this._offsetPrev,d=this._offsetNext,u=this._weightPrev,h=this._weightNext,f=(r-t)/(n-t),p=f*f,m=p*f,v=-u*m+2*u*p-u*f,$=(1+u)*m+(-1.5-2*u)*p+(-.5+u)*f+1,g=(-1-h)*m+(1.5+h)*p+.5*f,b=h*m-h*p;for(let e=0;e!==o;++e)i[e]=v*a[l+e]+$*a[c+e]+g*a[s+e]+b*a[d+e];return i}}class Jd extends Yd{constructor(e,t,r,n){super(e,t,r,n)}interpolate_(e,t,r,n){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,c=s-o,l=(r-t)/(n-t),d=1-l;for(let e=0;e!==o;++e)i[e]=a[c+e]*d+a[s+e]*l;return i}}class Qd extends Yd{constructor(e,t,r,n){super(e,t,r,n)}interpolate_(e){return this.copySampleValue_(e-1)}}class eu{constructor(e,t,r,n){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Kd.convertArray(t,this.TimeBufferType),this.values=Kd.convertArray(r,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Kd.convertArray(e.times,Array),values:Kd.convertArray(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(r.interpolation=t)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Qd(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Jd(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Zd(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case yt:t=this.InterpolantFactoryMethodDiscrete;break;case wt:t=this.InterpolantFactoryMethodLinear;break;case _t:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return yt;case this.InterpolantFactoryMethodLinear:return wt;case this.InterpolantFactoryMethodSmooth:return _t}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let r=0,n=t.length;r!==n;++r)t[r]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let r=0,n=t.length;r!==n;++r)t[r]*=e}return this}trim(e,t){const r=this.times,n=r.length;let i=0,a=n-1;for(;i!==n&&r[i]<e;)++i;for(;-1!==a&&r[a]>t;)--a;if(++a,0!==i||a!==n){i>=a&&(a=Math.max(a,1),i=a-1);const e=this.getValueSize();this.times=Kd.arraySlice(r,i,a),this.values=Kd.arraySlice(this.values,i*e,a*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,n=this.values,i=r.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let t=0;t!==i;t++){const n=r[t];if("number"==typeof n&&isNaN(n)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,t,n),e=!1;break}if(null!==a&&a>n){console.error("THREE.KeyframeTrack: Out of order keys.",this,t,n,a),e=!1;break}a=n}if(void 0!==n&&Kd.isTypedArray(n))for(let t=0,r=n.length;t!==r;++t){const r=n[t];if(isNaN(r)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,t,r),e=!1;break}}return e}optimize(){const e=Kd.arraySlice(this.times),t=Kd.arraySlice(this.values),r=this.getValueSize(),n=this.getInterpolation()===_t,i=e.length-1;let a=1;for(let o=1;o<i;++o){let i=!1;const s=e[o];if(s!==e[o+1]&&(1!==o||s!==e[0]))if(n)i=!0;else{const e=o*r,n=e-r,a=e+r;for(let o=0;o!==r;++o){const r=t[e+o];if(r!==t[n+o]||r!==t[a+o]){i=!0;break}}}if(i){if(o!==a){e[a]=e[o];const n=o*r,i=a*r;for(let e=0;e!==r;++e)t[i+e]=t[n+e]}++a}}if(i>0){e[a]=e[i];for(let e=i*r,n=a*r,o=0;o!==r;++o)t[n+o]=t[e+o];++a}return a!==e.length?(this.times=Kd.arraySlice(e,0,a),this.values=Kd.arraySlice(t,0,a*r)):(this.times=e,this.values=t),this}clone(){const e=Kd.arraySlice(this.times,0),t=Kd.arraySlice(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}eu.prototype.TimeBufferType=Float32Array,eu.prototype.ValueBufferType=Float32Array,eu.prototype.DefaultInterpolation=wt;class tu extends eu{}tu.prototype.ValueTypeName="bool",tu.prototype.ValueBufferType=Array,tu.prototype.DefaultInterpolation=yt,tu.prototype.InterpolantFactoryMethodLinear=void 0,tu.prototype.InterpolantFactoryMethodSmooth=void 0;class ru extends eu{}ru.prototype.ValueTypeName="color";class nu extends eu{}nu.prototype.ValueTypeName="number";class iu extends Yd{constructor(e,t,r,n){super(e,t,r,n)}interpolate_(e,t,r,n){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(r-t)/(n-t);let c=e*o;for(let e=c+o;c!==e;c+=4)Wr.slerpFlat(i,0,a,c-o,a,c,s);return i}}class au extends eu{InterpolantFactoryMethodLinear(e){return new iu(this.times,this.values,this.getValueSize(),e)}}au.prototype.ValueTypeName="quaternion",au.prototype.DefaultInterpolation=wt,au.prototype.InterpolantFactoryMethodSmooth=void 0;class ou extends eu{}ou.prototype.ValueTypeName="string",ou.prototype.ValueBufferType=Array,ou.prototype.DefaultInterpolation=yt,ou.prototype.InterpolantFactoryMethodLinear=void 0,ou.prototype.InterpolantFactoryMethodSmooth=void 0;class su extends eu{}su.prototype.ValueTypeName="vector";class cu{constructor(e,t=-1,r,n=Et){this.name=e,this.tracks=r,this.duration=t,this.blendMode=n,this.uuid=$r(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,n=1/(e.fps||1);for(let e=0,i=r.length;e!==i;++e)t.push(lu(r[e]).scale(n));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){const t=[],r=e.tracks,n={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let e=0,n=r.length;e!==n;++e)t.push(eu.toJSON(r[e]));return n}static CreateFromMorphTargetSequence(e,t,r,n){const i=t.length,a=[];for(let e=0;e<i;e++){let o=[],s=[];o.push((e+i-1)%i,e,(e+1)%i),s.push(0,1,0);const c=Kd.getKeyframeOrder(o);o=Kd.sortedArray(o,1,c),s=Kd.sortedArray(s,1,c),n||0!==o[0]||(o.push(i),s.push(s[0])),a.push(new nu(".morphTargetInfluences["+t[e].name+"]",o,s).scale(1/r))}return new this(e,-1,a)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const t=e;r=t.geometry&&t.geometry.animations||t.animations}for(let e=0;e<r.length;e++)if(r[e].name===t)return r[e];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const n={},i=/^([\w-]*?)([\d]+)$/;for(let t=0,r=e.length;t<r;t++){const r=e[t],a=r.name.match(i);if(a&&a.length>1){const e=a[1];let t=n[e];t||(n[e]=t=[]),t.push(r)}}const a=[];for(const e in n)a.push(this.CreateFromMorphTargetSequence(e,n[e],t,r));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(e,t,r,n,i){if(0!==r.length){const a=[],o=[];Kd.flattenJSON(r,a,o,n),0!==a.length&&i.push(new e(t,a,o))}},n=[],i=e.name||"default",a=e.fps||30,o=e.blendMode;let s=e.length||-1;const c=e.hierarchy||[];for(let e=0;e<c.length;e++){const i=c[e].keys;if(i&&0!==i.length)if(i[0].morphTargets){const e={};let t;for(t=0;t<i.length;t++)if(i[t].morphTargets)for(let r=0;r<i[t].morphTargets.length;r++)e[i[t].morphTargets[r]]=-1;for(const r in e){const e=[],a=[];for(let n=0;n!==i[t].morphTargets.length;++n){const n=i[t];e.push(n.time),a.push(n.morphTarget===r?1:0)}n.push(new nu(".morphTargetInfluence["+r+"]",e,a))}s=e.length*(a||1)}else{const a=".bones["+t[e].name+"]";r(su,a+".position",i,"pos",n),r(au,a+".quaternion",i,"rot",n),r(su,a+".scale",i,"scl",n)}}if(0===n.length)return null;return new this(i,s,n,o)}resetDuration(){let e=0;for(let t=0,r=this.tracks.length;t!==r;++t){const r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function lu(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return nu;case"vector":case"vector2":case"vector3":case"vector4":return su;case"color":return ru;case"quaternion":return au;case"bool":case"boolean":return tu;case"string":return ou}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],r=[];Kd.flattenJSON(e.keys,t,r,"value"),e.times=t,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const du={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class uu{constructor(e,t,r){const n=this;let i,a=!1,o=0,s=0;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(e){s++,!1===a&&void 0!==n.onStart&&n.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==n.onProgress&&n.onProgress(e,o,s),o===s&&(a=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(e){void 0!==n.onError&&n.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return c.push(e,t),this},this.removeHandler=function(e){const t=c.indexOf(e);return-1!==t&&c.splice(t,2),this},this.getHandler=function(e){for(let t=0,r=c.length;t<r;t+=2){const r=c[t],n=c[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return n}return null}}}const hu=new uu;class fu{constructor(e){this.manager=void 0!==e?e:hu,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise((function(n,i){r.load(e,n,t,i)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const pu={};class mu extends fu{constructor(e){super(e)}load(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=du.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout((()=>{t&&t(i),this.manager.itemEnd(e)}),0),i;if(void 0!==pu[e])return void pu[e].push({onLoad:t,onProgress:r,onError:n});pu[e]=[],pu[e].push({onLoad:t,onProgress:r,onError:n});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,s=this.responseType;fetch(a).then((t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===t.body.getReader)return t;const r=pu[e],n=t.body.getReader(),i=t.headers.get("Content-Length"),a=i?parseInt(i):0,o=0!==a;let s=0;const c=new ReadableStream({start(e){!function t(){n.read().then((({done:n,value:i})=>{if(n)e.close();else{s+=i.byteLength;const n=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a});for(let e=0,t=r.length;e<t;e++){const t=r[e];t.onProgress&&t.onProgress(n)}e.enqueue(i),t()}}))}()}});return new Response(c)}throw Error(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`)})).then((e=>{switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((e=>(new DOMParser).parseFromString(e,o)));case"json":return e.json();default:if(void 0===o)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(o),r=t&&t[1]?t[1].toLowerCase():void 0,n=new TextDecoder(r);return e.arrayBuffer().then((e=>n.decode(e)))}}})).then((t=>{du.add(e,t);const r=pu[e];delete pu[e];for(let e=0,n=r.length;e<n;e++){const n=r[e];n.onLoad&&n.onLoad(t)}})).catch((t=>{const r=pu[e];if(void 0===r)throw this.manager.itemError(e),t;delete pu[e];for(let e=0,n=r.length;e<n;e++){const n=r[e];n.onError&&n.onError(t)}this.manager.itemError(e)})).finally((()=>{this.manager.itemEnd(e)})),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class vu extends fu{constructor(e){super(e)}load(e,t,r,n){const i=this,a=new mu(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(r){try{t(i.parse(JSON.parse(r)))}catch(t){n?n(t):console.error(t),i.manager.itemError(e)}}),r,n)}parse(e){const t=[];for(let r=0;r<e.length;r++){const n=cu.parse(e[r]);t.push(n)}return t}}class $u extends fu{constructor(e){super(e)}load(e,t,r,n){const i=this,a=[],o=new ml,s=new mu(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);let c=0;function l(l){s.load(e[l],(function(e){const r=i.parse(e,!0);a[l]={width:r.width,height:r.height,format:r.format,mipmaps:r.mipmaps},c+=1,6===c&&(1===r.mipmapCount&&(o.minFilter=ge),o.image=a,o.format=r.format,o.needsUpdate=!0,t&&t(o))}),r,n)}if(Array.isArray(e))for(let t=0,r=e.length;t<r;++t)l(t);else s.load(e,(function(e){const r=i.parse(e,!0);if(r.isCubemap){const e=r.mipmaps.length/r.mipmapCount;for(let t=0;t<e;t++){a[t]={mipmaps:[]};for(let e=0;e<r.mipmapCount;e++)a[t].mipmaps.push(r.mipmaps[t*r.mipmapCount+e]),a[t].format=r.format,a[t].width=r.width,a[t].height=r.height}o.image=a}else o.image.width=r.width,o.image.height=r.height,o.mipmaps=r.mipmaps;1===r.mipmapCount&&(o.minFilter=ge),o.format=r.format,o.needsUpdate=!0,t&&t(o)}),r,n);return o}}class gu extends fu{constructor(e){super(e)}load(e,t,r,n){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,a=du.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;const o=Lr("img");function s(){l(),du.add(e,this),t&&t(this),i.manager.itemEnd(e)}function c(t){l(),n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)}function l(){o.removeEventListener("load",s,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",c,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}class bu extends fu{constructor(e){super(e)}load(e,t,r,n){const i=new sa,a=new gu(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function s(r){a.load(e[r],(function(e){i.images[r]=e,o++,6===o&&(i.needsUpdate=!0,t&&t(i))}),void 0,n)}for(let t=0;t<e.length;++t)s(t);return i}}class xu extends fu{constructor(e){super(e)}load(e,t,r,n){const i=this,a=new Uc,o=new mu(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){const r=i.parse(e);r&&(void 0!==r.image?a.image=r.image:void 0!==r.data&&(a.image.width=r.width,a.image.height=r.height,a.image.data=r.data),a.wrapS=void 0!==r.wrapS?r.wrapS:ue,a.wrapT=void 0!==r.wrapT?r.wrapT:ue,a.magFilter=void 0!==r.magFilter?r.magFilter:ge,a.minFilter=void 0!==r.minFilter?r.minFilter:ge,a.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,void 0!==r.encoding&&(a.encoding=r.encoding),void 0!==r.flipY&&(a.flipY=r.flipY),void 0!==r.format&&(a.format=r.format),void 0!==r.type&&(a.type=r.type),void 0!==r.mipmaps&&(a.mipmaps=r.mipmaps,a.minFilter=ye),1===r.mipmapCount&&(a.minFilter=ge),void 0!==r.generateMipmaps&&(a.generateMipmaps=r.generateMipmaps),a.needsUpdate=!0,t&&t(a,r))}),r,n),a}}class yu extends fu{constructor(e){super(e)}load(e,t,r,n){const i=new Fr,a=new gu(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),r,n),i}}class wu extends Zn{constructor(e,t=1){super(),this.type="Light",this.color=new Br(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}wu.prototype.isLight=!0;class _u extends wu{constructor(e,t,r){super(e,r),this.type="HemisphereLight",this.position.copy(Zn.DefaultUp),this.updateMatrix(),this.groundColor=new Br(t)}copy(e){return wu.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}_u.prototype.isHemisphereLight=!0;const Su=new Mn,Tu=new Xr,Mu=new Xr;class Eu{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Tr(512,512),this.map=null,this.mapPass=null,this.matrix=new Mn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ma,this._frameExtents=new Tr(1,1),this._viewportCount=1,this._viewports=[new Gr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;Tu.setFromMatrixPosition(e.matrixWorld),t.position.copy(Tu),Mu.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Mu),t.updateMatrixWorld(),Su.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Su),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Au extends Eu{constructor(){super(new ia(50,1,.5,500)),this.focus=1}updateMatrices(e){const t=this.camera,r=2*vr*e.angle*this.focus,n=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;r===t.fov&&n===t.aspect&&i===t.far||(t.fov=r,t.aspect=n,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}Au.prototype.isSpotLightShadow=!0;class Cu extends wu{constructor(e,t,r=0,n=Math.PI/3,i=0,a=1){super(e,t),this.type="SpotLight",this.position.copy(Zn.DefaultUp),this.updateMatrix(),this.target=new Zn,this.distance=r,this.angle=n,this.penumbra=i,this.decay=a,this.shadow=new Au}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}Cu.prototype.isSpotLight=!0;const Lu=new Mn,Ru=new Xr,Pu=new Xr;class Du extends Eu{constructor(){super(new ia(90,1,.5,500)),this._frameExtents=new Tr(4,2),this._viewportCount=6,this._viewports=[new Gr(2,1,1,1),new Gr(0,1,1,1),new Gr(3,1,1,1),new Gr(1,1,1,1),new Gr(3,0,1,1),new Gr(1,0,1,1)],this._cubeDirections=[new Xr(1,0,0),new Xr(-1,0,0),new Xr(0,0,1),new Xr(0,0,-1),new Xr(0,1,0),new Xr(0,-1,0)],this._cubeUps=[new Xr(0,1,0),new Xr(0,1,0),new Xr(0,1,0),new Xr(0,1,0),new Xr(0,0,1),new Xr(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,n=this.matrix,i=e.distance||r.far;i!==r.far&&(r.far=i,r.updateProjectionMatrix()),Ru.setFromMatrixPosition(e.matrixWorld),r.position.copy(Ru),Pu.copy(r.position),Pu.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(Pu),r.updateMatrixWorld(),n.makeTranslation(-Ru.x,-Ru.y,-Ru.z),Lu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Lu)}}Du.prototype.isPointLightShadow=!0;class Ou extends wu{constructor(e,t,r=0,n=1){super(e,t),this.type="PointLight",this.distance=r,this.decay=n,this.shadow=new Du}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}Ou.prototype.isPointLight=!0;class Iu extends Eu{constructor(){super(new Aa(-5,5,5,-5,.5,500))}}Iu.prototype.isDirectionalLightShadow=!0;class Nu extends wu{constructor(e,t){super(e,t),this.type="DirectionalLight",this.position.copy(Zn.DefaultUp),this.updateMatrix(),this.target=new Zn,this.shadow=new Iu}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}Nu.prototype.isDirectionalLight=!0;class Bu extends wu{constructor(e,t){super(e,t),this.type="AmbientLight"}}Bu.prototype.isAmbientLight=!0;class zu extends wu{constructor(e,t,r=10,n=10){super(e,t),this.type="RectAreaLight",this.width=r,this.height=n}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}zu.prototype.isRectAreaLight=!0;class Uu{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Xr)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,n=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*n),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*r),t.addScaledVector(a[4],r*n*1.092548),t.addScaledVector(a[5],n*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],r*i*1.092548),t.addScaledVector(a[8],.546274*(r*r-n*n)),t}getIrradianceAt(e,t){const r=e.x,n=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*n),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*r),t.addScaledVector(a[4],.858086*r*n),t.addScaledVector(a[5],.858086*n*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*r*i),t.addScaledVector(a[8],.429043*(r*r-n*n)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let n=0;n<9;n++)r[n].fromArray(e,t+3*n);return this}toArray(e=[],t=0){const r=this.coefficients;for(let n=0;n<9;n++)r[n].toArray(e,t+3*n);return e}static getBasisAt(e,t){const r=e.x,n=e.y,i=e.z;t[0]=.282095,t[1]=.488603*n,t[2]=.488603*i,t[3]=.488603*r,t[4]=1.092548*r*n,t[5]=1.092548*n*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*r*i,t[8]=.546274*(r*r-n*n)}}Uu.prototype.isSphericalHarmonics3=!0;class ku extends wu{constructor(e=new Uu,t=1){super(void 0,t),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}ku.prototype.isLightProbe=!0;class Fu extends fu{constructor(e){super(e),this.textures={}}load(e,t,r,n){const i=this,a=new mu(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(r){try{t(i.parse(JSON.parse(r)))}catch(t){n?n(t):console.error(t),i.manager.itemError(e)}}),r,n)}parse(e){const t=this.textures;function r(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const n=new Xd[e.type];if(void 0!==e.uuid&&(n.uuid=e.uuid),void 0!==e.name&&(n.name=e.name),void 0!==e.color&&void 0!==n.color&&n.color.setHex(e.color),void 0!==e.roughness&&(n.roughness=e.roughness),void 0!==e.metalness&&(n.metalness=e.metalness),void 0!==e.sheen&&(n.sheen=e.sheen),void 0!==e.sheenColor&&(n.sheenColor=(new Br).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(n.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==n.emissive&&n.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==n.specular&&n.specular.setHex(e.specular),void 0!==e.specularIntensity&&(n.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==n.specularColor&&n.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(n.shininess=e.shininess),void 0!==e.clearcoat&&(n.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(n.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.transmission&&(n.transmission=e.transmission),void 0!==e.thickness&&(n.thickness=e.thickness),void 0!==e.attenuationDistance&&(n.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==n.attenuationColor&&n.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(n.fog=e.fog),void 0!==e.flatShading&&(n.flatShading=e.flatShading),void 0!==e.blending&&(n.blending=e.blending),void 0!==e.combine&&(n.combine=e.combine),void 0!==e.side&&(n.side=e.side),void 0!==e.shadowSide&&(n.shadowSide=e.shadowSide),void 0!==e.opacity&&(n.opacity=e.opacity),void 0!==e.transparent&&(n.transparent=e.transparent),void 0!==e.alphaTest&&(n.alphaTest=e.alphaTest),void 0!==e.depthTest&&(n.depthTest=e.depthTest),void 0!==e.depthWrite&&(n.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(n.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(n.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(n.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(n.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(n.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(n.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(n.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(n.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(n.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(n.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(n.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(n.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(n.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(n.rotation=e.rotation),1!==e.linewidth&&(n.linewidth=e.linewidth),void 0!==e.dashSize&&(n.dashSize=e.dashSize),void 0!==e.gapSize&&(n.gapSize=e.gapSize),void 0!==e.scale&&(n.scale=e.scale),void 0!==e.polygonOffset&&(n.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(n.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(n.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(n.dithering=e.dithering),void 0!==e.alphaToCoverage&&(n.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(n.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.visible&&(n.visible=e.visible),void 0!==e.toneMapped&&(n.toneMapped=e.toneMapped),void 0!==e.userData&&(n.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?n.vertexColors=e.vertexColors>0:n.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const t in e.uniforms){const i=e.uniforms[t];switch(n.uniforms[t]={},i.type){case"t":n.uniforms[t].value=r(i.value);break;case"c":n.uniforms[t].value=(new Br).setHex(i.value);break;case"v2":n.uniforms[t].value=(new Tr).fromArray(i.value);break;case"v3":n.uniforms[t].value=(new Xr).fromArray(i.value);break;case"v4":n.uniforms[t].value=(new Gr).fromArray(i.value);break;case"m3":n.uniforms[t].value=(new Mr).fromArray(i.value);break;case"m4":n.uniforms[t].value=(new Mn).fromArray(i.value);break;default:n.uniforms[t].value=i.value}}if(void 0!==e.defines&&(n.defines=e.defines),void 0!==e.vertexShader&&(n.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(n.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(const t in e.extensions)n.extensions[t]=e.extensions[t];if(void 0!==e.shading&&(n.flatShading=1===e.shading),void 0!==e.size&&(n.size=e.size),void 0!==e.sizeAttenuation&&(n.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(n.map=r(e.map)),void 0!==e.matcap&&(n.matcap=r(e.matcap)),void 0!==e.alphaMap&&(n.alphaMap=r(e.alphaMap)),void 0!==e.bumpMap&&(n.bumpMap=r(e.bumpMap)),void 0!==e.bumpScale&&(n.bumpScale=e.bumpScale),void 0!==e.normalMap&&(n.normalMap=r(e.normalMap)),void 0!==e.normalMapType&&(n.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),n.normalScale=(new Tr).fromArray(t)}return void 0!==e.displacementMap&&(n.displacementMap=r(e.displacementMap)),void 0!==e.displacementScale&&(n.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(n.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(n.roughnessMap=r(e.roughnessMap)),void 0!==e.metalnessMap&&(n.metalnessMap=r(e.metalnessMap)),void 0!==e.emissiveMap&&(n.emissiveMap=r(e.emissiveMap)),void 0!==e.emissiveIntensity&&(n.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(n.specularMap=r(e.specularMap)),void 0!==e.specularIntensityMap&&(n.specularIntensityMap=r(e.specularIntensityMap)),void 0!==e.specularColorMap&&(n.specularColorMap=r(e.specularColorMap)),void 0!==e.envMap&&(n.envMap=r(e.envMap)),void 0!==e.envMapIntensity&&(n.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(n.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(n.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(n.lightMap=r(e.lightMap)),void 0!==e.lightMapIntensity&&(n.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(n.aoMap=r(e.aoMap)),void 0!==e.aoMapIntensity&&(n.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(n.gradientMap=r(e.gradientMap)),void 0!==e.clearcoatMap&&(n.clearcoatMap=r(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(n.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(n.clearcoatNormalMap=r(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(n.clearcoatNormalScale=(new Tr).fromArray(e.clearcoatNormalScale)),void 0!==e.transmissionMap&&(n.transmissionMap=r(e.transmissionMap)),void 0!==e.thicknessMap&&(n.thicknessMap=r(e.thicknessMap)),void 0!==e.sheenColorMap&&(n.sheenColorMap=r(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(n.sheenRoughnessMap=r(e.sheenRoughnessMap)),n}setTextures(e){return this.textures=e,this}}class qu{static decodeText(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let r=0,n=e.length;r<n;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(e){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Gu extends Pi{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return(new this.constructor).copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}Gu.prototype.isInstancedBufferGeometry=!0;class Vu extends fu{constructor(e){super(e)}load(e,t,r,n){const i=this,a=new mu(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(r){try{t(i.parse(JSON.parse(r)))}catch(t){n?n(t):console.error(t),i.manager.itemError(e)}}),r,n)}parse(e){const t={},r={};function n(e,n){if(void 0!==t[n])return t[n];const i=e.interleavedBuffers[n],a=function(e,t){if(void 0!==r[t])return r[t];const n=e.arrayBuffers[t],i=new Uint32Array(n).buffer;return r[t]=i,i}(e,i.buffer),o=Cr(i.type,a),s=new dc(o,i.stride);return s.uuid=i.uuid,t[n]=s,s}const i=e.isInstancedBufferGeometry?new Gu:new Pi,a=e.data.index;if(void 0!==a){const e=Cr(a.type,a.array);i.setIndex(new pi(e,1))}const o=e.data.attributes;for(const t in o){const r=o[t];let a;if(r.isInterleavedBufferAttribute){const t=n(e.data,r.data);a=new hc(t,r.itemSize,r.offset,r.normalized)}else{const e=Cr(r.type,r.array);a=new(r.isInstancedBufferAttribute?Gc:pi)(e,r.itemSize,r.normalized)}void 0!==r.name&&(a.name=r.name),void 0!==r.usage&&a.setUsage(r.usage),void 0!==r.updateRange&&(a.updateRange.offset=r.updateRange.offset,a.updateRange.count=r.updateRange.count),i.setAttribute(t,a)}const s=e.data.morphAttributes;if(s)for(const t in s){const r=s[t],a=[];for(let t=0,i=r.length;t<i;t++){const i=r[t];let o;if(i.isInterleavedBufferAttribute){const t=n(e.data,i.data);o=new hc(t,i.itemSize,i.offset,i.normalized)}else{const e=Cr(i.type,i.array);o=new pi(e,i.itemSize,i.normalized)}void 0!==i.name&&(o.name=i.name),a.push(o)}i.morphAttributes[t]=a}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const c=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==c)for(let e=0,t=c.length;e!==t;++e){const t=c[e];i.addGroup(t.start,t.count,t.materialIndex)}const l=e.data.boundingSphere;if(void 0!==l){const e=new Xr;void 0!==l.center&&e.fromArray(l.center),i.boundingSphere=new $n(e,l.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}class Hu extends fu{constructor(e){super(e)}load(e,t,r,n){const i=this,a=""===this.path?qu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new mu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(r){let a=null;try{a=JSON.parse(r)}catch(t){return void 0!==n&&n(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}const o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?i.parse(a,t):console.error("THREE.ObjectLoader: Can't load "+e)}),r,n)}async loadAsync(e,t){const r=""===this.path?qu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const n=new mu(this.manager);n.setPath(this.path),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials);const i=await n.loadAsync(e,t),a=JSON.parse(i),o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),a=this.parseImages(e.images,(function(){void 0!==t&&t(c)})),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,i,s,o,r),l=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,l),void 0!==t){let e=!1;for(const t in a)if(a[t]instanceof HTMLImageElement){e=!0;break}!1===e&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),n=this.parseGeometries(e.geometries,r),i=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,i),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,n,o,a,t),c=this.parseSkeletons(e.skeletons,s);return this.bindSkeletons(s,c),s}parseShapes(e){const t={};if(void 0!==e)for(let r=0,n=e.length;r<n;r++){const n=(new Kl).fromJSON(e[r]);t[n.uuid]=n}return t}parseSkeletons(e,t){const r={},n={};if(t.traverse((function(e){e.isBone&&(n[e.uuid]=e)})),void 0!==e)for(let t=0,i=e.length;t<i;t++){const i=(new qc).fromJSON(e[t],n);r[i.uuid]=i}return r}parseGeometries(e,t){const r={};if(void 0!==e){const n=new Vu;for(let i=0,a=e.length;i<a;i++){let a;const o=e[i];switch(o.type){case"BufferGeometry":case"InstancedBufferGeometry":a=n.parse(o);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:o.type in zd?a=zd[o.type].fromJSON(o,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${o.type}"`)}a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),!0===a.isBufferGeometry&&void 0!==o.userData&&(a.userData=o.userData),r[o.uuid]=a}}return r}parseMaterials(e,t){const r={},n={};if(void 0!==e){const i=new Fu;i.setTextures(t);for(let t=0,a=e.length;t<a;t++){const a=e[t];if("MultiMaterial"===a.type){const e=[];for(let t=0;t<a.materials.length;t++){const n=a.materials[t];void 0===r[n.uuid]&&(r[n.uuid]=i.parse(n)),e.push(r[n.uuid])}n[a.uuid]=e}else void 0===r[a.uuid]&&(r[a.uuid]=i.parse(a)),n[a.uuid]=r[a.uuid]}}return n}parseAnimations(e){const t={};if(void 0!==e)for(let r=0;r<e.length;r++){const n=e[r],i=cu.parse(n);t[i.uuid]=i}return t}parseImages(e,t){const r=this,n={};let i;function a(e){if("string"==typeof e){const t=e;return function(e){return r.manager.itemStart(e),i.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:r.resourcePath+t)}return e.data?{data:Cr(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const r=new uu(t);i=new gu(r),i.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const r=e[t],i=r.url;if(Array.isArray(i)){n[r.uuid]=[];for(let e=0,t=i.length;e<t;e++){const t=a(i[e]);null!==t&&(t instanceof HTMLImageElement?n[r.uuid].push(t):n[r.uuid].push(new Uc(t.data,t.width,t.height)))}}else{const e=a(r.url);null!==e&&(n[r.uuid]=e)}}}return n}async parseImagesAsync(e){const t=this,r={};let n;async function i(e){if("string"==typeof e){const r=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r)?r:t.resourcePath+r;return await n.loadAsync(i)}return e.data?{data:Cr(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){n=new gu(this.manager),n.setCrossOrigin(this.crossOrigin);for(let t=0,n=e.length;t<n;t++){const n=e[t],a=n.url;if(Array.isArray(a)){r[n.uuid]=[];for(let e=0,t=a.length;e<t;e++){const t=a[e],o=await i(t);null!==o&&(o instanceof HTMLImageElement?r[n.uuid].push(o):r[n.uuid].push(new Uc(o.data,o.width,o.height)))}}else{const e=await i(n.url);null!==e&&(r[n.uuid]=e)}}}return r}parseTextures(e,t){function r(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const n={};if(void 0!==e)for(let i=0,a=e.length;i<a;i++){const a=e[i];let o;void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const s=t[a.image];Array.isArray(s)?(o=new sa(s),6===s.length&&(o.needsUpdate=!0)):(o=s&&s.data?new Uc(s.data,s.width,s.height):new Fr(s),s&&(o.needsUpdate=!0)),o.uuid=a.uuid,void 0!==a.name&&(o.name=a.name),void 0!==a.mapping&&(o.mapping=r(a.mapping,ju)),void 0!==a.offset&&o.offset.fromArray(a.offset),void 0!==a.repeat&&o.repeat.fromArray(a.repeat),void 0!==a.center&&o.center.fromArray(a.center),void 0!==a.rotation&&(o.rotation=a.rotation),void 0!==a.wrap&&(o.wrapS=r(a.wrap[0],Wu),o.wrapT=r(a.wrap[1],Wu)),void 0!==a.format&&(o.format=a.format),void 0!==a.type&&(o.type=a.type),void 0!==a.encoding&&(o.encoding=a.encoding),void 0!==a.minFilter&&(o.minFilter=r(a.minFilter,Xu)),void 0!==a.magFilter&&(o.magFilter=r(a.magFilter,Xu)),void 0!==a.anisotropy&&(o.anisotropy=a.anisotropy),void 0!==a.flipY&&(o.flipY=a.flipY),void 0!==a.premultiplyAlpha&&(o.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(o.unpackAlignment=a.unpackAlignment),void 0!==a.userData&&(o.userData=a.userData),n[a.uuid]=o}return n}parseObject(e,t,r,n,i){let a,o,s;function c(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function l(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];void 0===r[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),t.push(r[i])}return t}return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),r[e]}}function d(e){return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),n[e]}switch(e.type){case"Scene":a=new lc,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new Br(e.background):a.background=d(e.background)),void 0!==e.environment&&(a.environment=d(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new cc(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new sc(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":a=new ia(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Aa(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new Bu(e.color,e.intensity);break;case"DirectionalLight":a=new Nu(e.color,e.intensity);break;case"PointLight":a=new Ou(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new zu(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new Cu(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new _u(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new ku).fromJSON(e);break;case"SkinnedMesh":o=c(e.geometry),s=l(e.material),a=new Bc(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=c(e.geometry),s=l(e.material),a=new Yi(o,s);break;case"InstancedMesh":o=c(e.geometry),s=l(e.material);const t=e.count,r=e.instanceMatrix,n=e.instanceColor;a=new Xc(o,s,t),a.instanceMatrix=new Gc(new Float32Array(r.array),16),void 0!==n&&(a.instanceColor=new Gc(new Float32Array(n.array),n.itemSize));break;case"LOD":a=new Rc;break;case"Line":a=new tl(c(e.geometry),l(e.material));break;case"LineLoop":a=new al(c(e.geometry),l(e.material));break;case"LineSegments":a=new il(c(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new ul(c(e.geometry),l(e.material));break;case"Sprite":a=new Ec(l(e.material));break;case"Group":a=new Qs;break;case"Bone":a=new zc;break;default:a=new Zn}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children){const o=e.children;for(let e=0;e<o.length;e++)a.add(this.parseObject(o[e],t,r,n,i))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const r=t[e];a.animations.push(i[r])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const r=t[e],n=a.getObjectByProperty("uuid",r.object);void 0!==n&&a.addLevel(n,r.distance)}}return a}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const r=t[e.skeleton];void 0===r?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(r,e.bindMatrix)}}))}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const ju={UVMapping:ne,CubeReflectionMapping:ie,CubeRefractionMapping:ae,EquirectangularReflectionMapping:oe,EquirectangularRefractionMapping:se,CubeUVReflectionMapping:ce,CubeUVRefractionMapping:le},Wu={RepeatWrapping:de,ClampToEdgeWrapping:ue,MirroredRepeatWrapping:he},Xu={NearestFilter:fe,NearestMipmapNearestFilter:pe,NearestMipmapLinearFilter:ve,LinearFilter:ge,LinearMipmapNearestFilter:be,LinearMipmapLinearFilter:ye};class Ku extends fu{constructor(e){super(e),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,a=du.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;const o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(r){du.add(e,r),t&&t(r),i.manager.itemEnd(e)})).catch((function(t){n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}let Yu;Ku.prototype.isImageBitmapLoader=!0;const Zu={getContext:function(){return void 0===Yu&&(Yu=new(window.AudioContext||window.webkitAudioContext)),Yu},setContext:function(e){Yu=e}};class Ju extends fu{constructor(e){super(e)}load(e,t,r,n){const i=this,a=new mu(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(r){try{const e=r.slice(0);Zu.getContext().decodeAudioData(e,(function(e){t(e)}))}catch(t){n?n(t):console.error(t),i.manager.itemError(e)}}),r,n)}}class Qu extends ku{constructor(e,t,r=1){super(void 0,r);const n=(new Br).set(e),i=(new Br).set(t),a=new Xr(n.r,n.g,n.b),o=new Xr(i.r,i.g,i.b),s=Math.sqrt(Math.PI),c=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(c)}}Qu.prototype.isHemisphereLightProbe=!0;class eh extends ku{constructor(e,t=1){super(void 0,t);const r=(new Br).set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}eh.prototype.isAmbientLightProbe=!0;const th=new Mn,rh=new Mn,nh=new Mn;class ih{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ia,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ia,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,nh.copy(e.projectionMatrix);const r=t.eyeSep/2,n=r*t.near/t.focus,i=t.near*Math.tan(mr*t.fov*.5)/t.zoom;let a,o;rh.elements[12]=-r,th.elements[12]=r,a=-i*t.aspect+n,o=i*t.aspect+n,nh.elements[0]=2*t.near/(o-a),nh.elements[8]=(o+a)/(o-a),this.cameraL.projectionMatrix.copy(nh),a=-i*t.aspect-n,o=i*t.aspect-n,nh.elements[0]=2*t.near/(o-a),nh.elements[8]=(o+a)/(o-a),this.cameraR.projectionMatrix.copy(nh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(rh),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(th)}}class ah{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=oh(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=oh();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function oh(){return("undefined"==typeof performance?Date:performance).now()}const sh=new Xr,ch=new Wr,lh=new Xr,dh=new Xr;class uh extends Zn{constructor(){super(),this.type="AudioListener",this.context=Zu.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new ah}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(sh,ch,lh),dh.set(0,0,-1).applyQuaternion(ch),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(sh.x,e),t.positionY.linearRampToValueAtTime(sh.y,e),t.positionZ.linearRampToValueAtTime(sh.z,e),t.forwardX.linearRampToValueAtTime(dh.x,e),t.forwardY.linearRampToValueAtTime(dh.y,e),t.forwardZ.linearRampToValueAtTime(dh.z,e),t.upX.linearRampToValueAtTime(r.x,e),t.upY.linearRampToValueAtTime(r.y,e),t.upZ.linearRampToValueAtTime(r.z,e)}else t.setPosition(sh.x,sh.y,sh.z),t.setOrientation(dh.x,dh.y,dh.z,r.x,r.y,r.z)}}class hh extends Zn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const fh=new Xr,ph=new Wr,mh=new Xr,vh=new Xr;class $h extends hh{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(fh,ph,mh),vh.set(0,0,1).applyQuaternion(ph);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(fh.x,e),t.positionY.linearRampToValueAtTime(fh.y,e),t.positionZ.linearRampToValueAtTime(fh.z,e),t.orientationX.linearRampToValueAtTime(vh.x,e),t.orientationY.linearRampToValueAtTime(vh.y,e),t.orientationZ.linearRampToValueAtTime(vh.z,e)}else t.setPosition(fh.x,fh.y,fh.z),t.setOrientation(vh.x,vh.y,vh.z)}}class gh{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class bh{constructor(e,t,r){let n,i,a;switch(this.binding=e,this.valueSize=r,t){case"quaternion":n=this._slerp,i=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":n=this._select,i=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:n=this._lerp,i=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=i,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,n=this.valueSize,i=e*n+n;let a=this.cumulativeWeight;if(0===a){for(let e=0;e!==n;++e)r[i+e]=r[e];a=t}else{a+=t;const e=t/a;this._mixBufferRegion(r,i,0,e,n)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,n=r*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,n,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,n=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const e=t*this._origIndex;this._mixBufferRegion(r,n,e,1-i,t)}a>0&&this._mixBufferRegionAdditive(r,n,this._addIndex*t,1,t);for(let e=t,i=t+t;e!==i;++e)if(r[e]!==r[e+t]){o.setValue(r,n);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,n=r*this._origIndex;e.getValue(t,n);for(let e=r,i=n;e!==i;++e)t[e]=t[n+e%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,n,i){if(n>=.5)for(let n=0;n!==i;++n)e[t+n]=e[r+n]}_slerp(e,t,r,n){Wr.slerpFlat(e,t,e,t,e,r,n)}_slerpAdditive(e,t,r,n,i){const a=this._workIndex*i;Wr.multiplyQuaternionsFlat(e,a,e,t,e,r),Wr.slerpFlat(e,t,e,t,e,a,n)}_lerp(e,t,r,n,i){const a=1-n;for(let o=0;o!==i;++o){const i=t+o;e[i]=e[i]*a+e[r+o]*n}}_lerpAdditive(e,t,r,n,i){for(let a=0;a!==i;++a){const i=t+a;e[i]=e[i]+e[r+a]*n}}}const xh="\\[\\]\\.:\\/",yh=new RegExp("[\\[\\]\\.:\\/]","g"),wh="[^\\[\\]\\.:\\/]",_h="[^"+xh.replace("\\.","")+"]",Sh=/((?:WC+[\/:])*)/.source.replace("WC",wh),Th=/(WCOD+)?/.source.replace("WCOD",_h),Mh=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",wh),Eh=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",wh),Ah=new RegExp("^"+Sh+Th+Mh+Eh+"$"),Ch=["material","materials","bones"];class Lh{constructor(e,t,r){this.path=t,this.parsedPath=r||Lh.parseTrackName(t),this.node=Lh.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Lh.Composite(e,t,r):new Lh(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(yh,"")}static parseTrackName(e){const t=Ah.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){const e=r.nodeName.substring(n+1);-1!==Ch.indexOf(e)&&(r.nodeName=r.nodeName.substring(0,n),r.objectName=e)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(void 0!==r)return r}if(e.children){const r=function(e){for(let n=0;n<e.length;n++){const i=e[n];if(i.name===t||i.uuid===t)return i;const a=r(i.children);if(a)return a}return null},n=r(e.children);if(n)return n}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let n=0,i=r.length;n!==i;++n)e[t++]=r[n]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let n=0,i=r.length;n!==i;++n)r[n]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,n=t.propertyName;let i=t.propertyIndex;if(e||(e=Lh.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(r){let n=t.objectIndex;switch(r){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===n){n=t;break}break;default:if(void 0===e[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[r]}if(void 0!==n){if(void 0===e[n])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[n]}}const a=e[n];if(void 0===a){const r=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+r+"."+n+" but it wasn't found.",e)}let o=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?o=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(o=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===n){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=i}else void 0!==a.fromArray&&void 0!==a.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(s=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=n;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Lh.Composite=class{constructor(e,t,r){const n=r||Lh.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,n=this._bindings[r];void 0!==n&&n.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=r.length;n!==i;++n)r[n].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}},Lh.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Lh.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Lh.prototype.GetterByBindingType=[Lh.prototype._getValue_direct,Lh.prototype._getValue_array,Lh.prototype._getValue_arrayElement,Lh.prototype._getValue_toArray],Lh.prototype.SetterByBindingTypeAndVersioning=[[Lh.prototype._setValue_direct,Lh.prototype._setValue_direct_setNeedsUpdate,Lh.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Lh.prototype._setValue_array,Lh.prototype._setValue_array_setNeedsUpdate,Lh.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Lh.prototype._setValue_arrayElement,Lh.prototype._setValue_arrayElement_setNeedsUpdate,Lh.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Lh.prototype._setValue_fromArray,Lh.prototype._setValue_fromArray_setNeedsUpdate,Lh.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Rh{constructor(){this.uuid=$r(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let t=0,r=arguments.length;t!==r;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,n=this._parsedPaths,i=this._bindings,a=i.length;let o,s=e.length,c=this.nCachedObjects_;for(let l=0,d=arguments.length;l!==d;++l){const d=arguments[l],u=d.uuid;let h=t[u];if(void 0===h){h=s++,t[u]=h,e.push(d);for(let e=0,t=a;e!==t;++e)i[e].push(new Lh(d,r[e],n[e]))}else if(h<c){o=e[h];const s=--c,l=e[s];t[l.uuid]=h,e[h]=l,t[u]=s,e[s]=d;for(let e=0,t=a;e!==t;++e){const t=i[e],a=t[s];let o=t[h];t[h]=a,void 0===o&&(o=new Lh(d,r[e],n[e])),t[s]=o}}else e[h]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,n=r.length;let i=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const o=arguments[a],s=o.uuid,c=t[s];if(void 0!==c&&c>=i){const a=i++,l=e[a];t[l.uuid]=c,e[c]=l,t[s]=a,e[a]=o;for(let e=0,t=n;e!==t;++e){const t=r[e],n=t[a],i=t[c];t[c]=n,t[a]=i}}}this.nCachedObjects_=i}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,n=r.length;let i=this.nCachedObjects_,a=e.length;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o].uuid,c=t[s];if(void 0!==c)if(delete t[s],c<i){const o=--i,s=e[o],l=--a,d=e[l];t[s.uuid]=c,e[c]=s,t[d.uuid]=o,e[o]=d,e.pop();for(let e=0,t=n;e!==t;++e){const t=r[e],n=t[o],i=t[l];t[c]=n,t[o]=i,t.pop()}}else{const i=--a,o=e[i];i>0&&(t[o.uuid]=c),e[c]=o,e.pop();for(let e=0,t=n;e!==t;++e){const t=r[e];t[c]=t[i],t.pop()}}}this.nCachedObjects_=i}subscribe_(e,t){const r=this._bindingsIndicesByPath;let n=r[e];const i=this._bindings;if(void 0!==n)return i[n];const a=this._paths,o=this._parsedPaths,s=this._objects,c=s.length,l=this.nCachedObjects_,d=new Array(c);n=i.length,r[e]=n,a.push(e),o.push(t),i.push(d);for(let r=l,n=s.length;r!==n;++r){const n=s[r];d[r]=new Lh(n,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(void 0!==r){const n=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=r,a[r]=s,a.pop(),i[r]=i[o],i.pop(),n[r]=n[o],n.pop()}}}Rh.prototype.isAnimationObjectGroup=!0;class Ph{constructor(e,t,r=null,n=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=n;const i=t.tracks,a=i.length,o=new Array(a),s={endingStart:St,endingEnd:St};for(let e=0;e!==a;++e){const t=i[e].createInterpolant(null);o[e]=t,t.settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=bt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const r=this._clip.duration,n=e._clip.duration,i=n/r,a=r/n;e.warp(1,i,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const n=this._mixer,i=n.time,a=this.timeScale;let o=this._timeScaleInterpolant;null===o&&(o=n._lendControlInterpolant(),this._timeScaleInterpolant=o);const s=o.parameterPositions,c=o.sampleValues;return s[0]=i,s[1]=i+r,c[0]=e/a,c[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,n){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const n=(e-i)*r;if(n<0||0===r)return;this._startTime=null,t=r*n}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const e=this._interpolants,t=this._propertyBindings;if(this.blendMode===At)for(let r=0,n=e.length;r!==n;++r)e[r].evaluate(a),t[r].accumulateAdditive(o);else for(let r=0,i=e.length;r!==i;++r)e[r].evaluate(a),t[r].accumulate(n,o)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(null!==r){const n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(null!==r){t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let n=this.time+e,i=this._loopCount;const a=r===xt;if(0===e)return-1===i?n:a&&1==(1&i)?t-n:n;if(r===gt){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(n>=t)n=t;else{if(!(n<0)){this.time=n;break e}n=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),n>=t||n<0){const r=Math.floor(n/t);n-=t*r,i+=Math.abs(r);const o=this.repetitions-i;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,n=e>0?t:0,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===o){const t=e<0;this._setEndings(t,!t,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:r})}}else this.time=n;if(a&&1==(1&i))return t-n}return n}_setEndings(e,t,r){const n=this._interpolantSettings;r?(n.endingStart=Tt,n.endingEnd=Tt):(n.endingStart=e?this.zeroSlopeAtStart?Tt:St:Mt,n.endingEnd=t?this.zeroSlopeAtEnd?Tt:St:Mt)}_scheduleFading(e,t,r){const n=this._mixer,i=n.time;let a=this._weightInterpolant;null===a&&(a=n._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=r,this}}class Dh extends hr{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,n=e._clip.tracks,i=n.length,a=e._propertyBindings,o=e._interpolants,s=r.uuid,c=this._bindingsByRootAndName;let l=c[s];void 0===l&&(l={},c[s]=l);for(let e=0;e!==i;++e){const i=n[e],c=i.name;let d=l[c];if(void 0!==d)++d.referenceCount,a[e]=d;else{if(d=a[e],void 0!==d){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,c));continue}const n=t&&t._propertyBindings[e].binding.parsedPath;d=new bh(Lh.create(r,c,n),i.ValueTypeName,i.getValueSize()),++d.referenceCount,this._addInactiveBinding(d,s,c),a[e]=d}o[e].resultBuffer=d.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,r=e._clip.uuid,n=this._actionsByClip[r];this._bindAction(e,n&&n.knownActions[0]),this._addInactiveAction(e,r,t)}const t=e._propertyBindings;for(let e=0,r=t.length;e!==r;++e){const r=t[e];0==r.useCount++&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,r=t.length;e!==r;++e){const r=t[e];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,r){const n=this._actions,i=this._actionsByClip;let a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{const t=a.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=n.length,n.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],n=e._cacheIndex;r._cacheIndex=n,t[n]=r,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,c=s[s.length-1],l=e._byClipCacheIndex;c._byClipCacheIndex=l,s[l]=c,s.pop(),e._byClipCacheIndex=null;delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let e=0,r=t.length;e!==r;++e){const r=t[e];0==--r.referenceCount&&this._removeInactiveBinding(r)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,n=this._nActiveActions++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,n=--this._nActiveActions,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i}_addInactiveBinding(e,t,r){const n=this._bindingsByRootAndName,i=this._bindings;let a=n[t];void 0===a&&(a={},n[t]=a),a[r]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,n=r.rootNode.uuid,i=r.path,a=this._bindingsByRootAndName,o=a[n],s=t[t.length-1],c=e._cacheIndex;s._cacheIndex=c,t[c]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[n]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,n=this._nActiveBindings++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,n=--this._nActiveBindings,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return void 0===r&&(r=new Jd(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,n=--this._nActiveControlInterpolants,i=t[n];e.__cacheIndex=n,t[n]=e,i.__cacheIndex=r,t[r]=i}clipAction(e,t,r){const n=t||this._root,i=n.uuid;let a="string"==typeof e?cu.findByName(n,e):e;const o=null!==a?a.uuid:e,s=this._actionsByClip[o];let c=null;if(void 0===r&&(r=null!==a?a.blendMode:Et),void 0!==s){const e=s.actionByRoot[i];if(void 0!==e&&e.blendMode===r)return e;c=s.knownActions[0],null===a&&(a=c._clip)}if(null===a)return null;const l=new Ph(this,a,t,r);return this._bindAction(l,c),this._addInactiveAction(l,o,i),l}existingAction(e,t){const r=t||this._root,n=r.uuid,i="string"==typeof e?cu.findByName(r,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[n]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,n=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1;for(let o=0;o!==r;++o){t[o]._update(n,e,i,a)}const o=this._bindings,s=this._nActiveBindings;for(let e=0;e!==s;++e)o[e].apply(a);return this}setTime(e){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,n=this._actionsByClip,i=n[r];if(void 0!==i){const e=i.knownActions;for(let r=0,n=e.length;r!==n;++r){const n=e[r];this._deactivateAction(n);const i=n._cacheIndex,a=t[t.length-1];n._cacheIndex=null,n._byClipCacheIndex=null,a._cacheIndex=i,t[i]=a,t.pop(),this._removeInactiveBindingsForAction(n)}delete n[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const e in r){const n=r[e].actionByRoot[t];void 0!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}const n=this._bindingsByRootAndName[t];if(void 0!==n)for(const e in n){const t=n[e];t.restoreOriginalState(),this._removeInactiveBinding(t)}}uncacheAction(e,t){const r=this.existingAction(e,t);null!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}}Dh.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class Oh{constructor(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new Oh(void 0===this.value.clone?this.value:this.value.clone())}}class Ih extends dc{constructor(e,t,r=1){super(e,t),this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}Ih.prototype.isInstancedInterleavedBuffer=!0;class Nh{constructor(e,t,r,n,i){this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=n,this.count=i,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}Nh.prototype.isGLBufferAttribute=!0;class Bh{constructor(e,t,r=0,n=1/0){this.ray=new Tn(e,t),this.near=r,this.far=n,this.camera=null,this.layers=new Bn,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return Uh(e,this,r,t),r.sort(zh),r}intersectObjects(e,t=!0,r=[]){for(let n=0,i=e.length;n<i;n++)Uh(e[n],this,r,t);return r.sort(zh),r}}function zh(e,t){return e.distance-t.distance}function Uh(e,t,r,n){if(e.layers.test(t.layers)&&e.raycast(t,r),!0===n){const n=e.children;for(let e=0,i=n.length;e<i;e++)Uh(n[e],t,r,!0)}}class kh{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(gr(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class Fh{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return(new this.constructor).copy(this)}}const qh=new Tr;class Gh{constructor(e=new Tr(1/0,1/0),t=new Tr(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=qh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return qh.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Gh.prototype.isBox2=!0;const Vh=new Xr,Hh=new Xr;class jh{constructor(e=new Xr,t=new Xr){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Vh.subVectors(e,this.start),Hh.subVectors(this.end,this.start);const r=Hh.dot(Hh);let n=Hh.dot(Vh)/r;return t&&(n=gr(n,0,1)),n}closestPointToPoint(e,t,r){const n=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(n).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const Wh=new Xr;class Xh extends Zn{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new Pi,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let e=0,t=1,r=32;e<r;e++,t++){const i=e/r*Math.PI*2,a=t/r*Math.PI*2;n.push(Math.cos(i),Math.sin(i),1,Math.cos(a),Math.sin(a),1)}r.setAttribute("position",new _i(n,3));const i=new Kc({fog:!1,toneMapped:!1});this.cone=new il(r,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Wh.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Wh),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Kh=new Xr,Yh=new Mn,Zh=new Mn;class Jh extends il{constructor(e){const t=Qh(e),r=new Pi,n=[],i=[],a=new Br(0,0,1),o=new Br(0,1,0);for(let e=0;e<t.length;e++){const r=t[e];r.parent&&r.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),i.push(a.r,a.g,a.b),i.push(o.r,o.g,o.b))}r.setAttribute("position",new _i(n,3)),r.setAttribute("color",new _i(i,3));super(r,new Kc({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,n=r.getAttribute("position");Zh.copy(this.root.matrixWorld).invert();for(let e=0,r=0;e<t.length;e++){const i=t[e];i.parent&&i.parent.isBone&&(Yh.multiplyMatrices(Zh,i.matrixWorld),Kh.setFromMatrixPosition(Yh),n.setXYZ(r,Kh.x,Kh.y,Kh.z),Yh.multiplyMatrices(Zh,i.parent.matrixWorld),Kh.setFromMatrixPosition(Yh),n.setXYZ(r+1,Kh.x,Kh.y,Kh.z),r+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function Qh(e){const t=[];e&&e.isBone&&t.push(e);for(let r=0;r<e.children.length;r++)t.push.apply(t,Qh(e.children[r]));return t}class ef extends Yi{constructor(e,t,r){super(new Rd(t,4,2),new ui({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const tf=new Xr,rf=new Br,nf=new Br;class af extends Zn{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const n=new Ad(t);n.rotateY(.5*Math.PI),this.material=new ui({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=n.getAttribute("position"),a=new Float32Array(3*i.count);n.setAttribute("color",new pi(a,3)),this.add(new Yi(n,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");rf.copy(this.light.color),nf.copy(this.light.groundColor);for(let e=0,r=t.count;e<r;e++){const n=e<r/2?rf:nf;t.setXYZ(e,n.r,n.g,n.b)}t.needsUpdate=!0}e.lookAt(tf.setFromMatrixPosition(this.light.matrixWorld).negate())}}class of extends il{constructor(e=10,t=10,r=4473924,n=8947848){r=new Br(r),n=new Br(n);const i=t/2,a=e/t,o=e/2,s=[],c=[];for(let e=0,l=0,d=-o;e<=t;e++,d+=a){s.push(-o,0,d,o,0,d),s.push(d,0,-o,d,0,o);const t=e===i?r:n;t.toArray(c,l),l+=3,t.toArray(c,l),l+=3,t.toArray(c,l),l+=3,t.toArray(c,l),l+=3}const l=new Pi;l.setAttribute("position",new _i(s,3)),l.setAttribute("color",new _i(c,3));super(l,new Kc({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}class sf extends il{constructor(e=10,t=16,r=8,n=64,i=4473924,a=8947848){i=new Br(i),a=new Br(a);const o=[],s=[];for(let r=0;r<=t;r++){const n=r/t*(2*Math.PI),c=Math.sin(n)*e,l=Math.cos(n)*e;o.push(0,0,0),o.push(c,0,l);const d=1&r?i:a;s.push(d.r,d.g,d.b),s.push(d.r,d.g,d.b)}for(let t=0;t<=r;t++){const c=1&t?i:a,l=e-e/r*t;for(let e=0;e<n;e++){let t=e/n*(2*Math.PI),r=Math.sin(t)*l,i=Math.cos(t)*l;o.push(r,0,i),s.push(c.r,c.g,c.b),t=(e+1)/n*(2*Math.PI),r=Math.sin(t)*l,i=Math.cos(t)*l,o.push(r,0,i),s.push(c.r,c.g,c.b)}}const c=new Pi;c.setAttribute("position",new _i(o,3)),c.setAttribute("color",new _i(s,3));super(c,new Kc({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}}const cf=new Xr,lf=new Xr,df=new Xr;class uf extends Zn{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,void 0===t&&(t=1);let n=new Pi;n.setAttribute("position",new _i([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new Kc({fog:!1,toneMapped:!1});this.lightPlane=new tl(n,i),this.add(this.lightPlane),n=new Pi,n.setAttribute("position",new _i([0,0,0,0,0,1],3)),this.targetLine=new tl(n,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){cf.setFromMatrixPosition(this.light.matrixWorld),lf.setFromMatrixPosition(this.light.target.matrixWorld),df.subVectors(lf,cf),this.lightPlane.lookAt(lf),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(lf),this.targetLine.scale.z=df.length()}}const hf=new Xr,ff=new na;class pf extends il{constructor(e){const t=new Pi,r=new Kc({color:16777215,vertexColors:!0,toneMapped:!1}),n=[],i=[],a={},o=new Br(16755200),s=new Br(16711680),c=new Br(43775),l=new Br(16777215),d=new Br(3355443);function u(e,t,r){h(e,r),h(t,r)}function h(e,t){n.push(0,0,0),i.push(t.r,t.g,t.b),void 0===a[e]&&(a[e]=[]),a[e].push(n.length/3-1)}u("n1","n2",o),u("n2","n4",o),u("n4","n3",o),u("n3","n1",o),u("f1","f2",o),u("f2","f4",o),u("f4","f3",o),u("f3","f1",o),u("n1","f1",o),u("n2","f2",o),u("n3","f3",o),u("n4","f4",o),u("p","n1",s),u("p","n2",s),u("p","n3",s),u("p","n4",s),u("u1","u2",c),u("u2","u3",c),u("u3","u1",c),u("c","t",l),u("p","c",d),u("cn1","cn2",d),u("cn3","cn4",d),u("cf1","cf2",d),u("cf3","cf4",d),t.setAttribute("position",new _i(n,3)),t.setAttribute("color",new _i(i,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}update(){const e=this.geometry,t=this.pointMap;ff.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),mf("c",t,e,ff,0,0,-1),mf("t",t,e,ff,0,0,1),mf("n1",t,e,ff,-1,-1,-1),mf("n2",t,e,ff,1,-1,-1),mf("n3",t,e,ff,-1,1,-1),mf("n4",t,e,ff,1,1,-1),mf("f1",t,e,ff,-1,-1,1),mf("f2",t,e,ff,1,-1,1),mf("f3",t,e,ff,-1,1,1),mf("f4",t,e,ff,1,1,1),mf("u1",t,e,ff,.7,1.1,-1),mf("u2",t,e,ff,-.7,1.1,-1),mf("u3",t,e,ff,0,2,-1),mf("cf1",t,e,ff,-1,0,1),mf("cf2",t,e,ff,1,0,1),mf("cf3",t,e,ff,0,-1,1),mf("cf4",t,e,ff,0,1,1),mf("cn1",t,e,ff,-1,0,-1),mf("cn2",t,e,ff,1,0,-1),mf("cn3",t,e,ff,0,-1,-1),mf("cn4",t,e,ff,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function mf(e,t,r,n,i,a,o){hf.set(i,a,o).unproject(n);const s=t[e];if(void 0!==s){const e=r.getAttribute("position");for(let t=0,r=s.length;t<r;t++)e.setXYZ(s[t],hf.x,hf.y,hf.z)}}const vf=new Zr;class $f extends il{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),i=new Pi;i.setIndex(new pi(r,1)),i.setAttribute("position",new pi(n,3)),super(i,new Kc({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&vf.setFromObject(this.object),vf.isEmpty())return;const t=vf.min,r=vf.max,n=this.geometry.attributes.position,i=n.array;i[0]=r.x,i[1]=r.y,i[2]=r.z,i[3]=t.x,i[4]=r.y,i[5]=r.z,i[6]=t.x,i[7]=t.y,i[8]=r.z,i[9]=r.x,i[10]=t.y,i[11]=r.z,i[12]=r.x,i[13]=r.y,i[14]=t.z,i[15]=t.x,i[16]=r.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=r.x,i[22]=t.y,i[23]=t.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return il.prototype.copy.call(this,e),this.object=e.object,this}}class gf extends il{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Pi;n.setIndex(new pi(r,1)),n.setAttribute("position",new _i([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(n,new Kc({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class bf extends tl{constructor(e,t=1,r=16776960){const n=r,i=new Pi;i.setAttribute("position",new _i([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),super(i,new Kc({color:n,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=new Pi;a.setAttribute("position",new _i([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new Yi(a,new ui({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?p:f,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const xf=new Xr;let yf,wf;class _f extends Zn{constructor(e=new Xr(0,0,1),t=new Xr(0,0,0),r=1,n=16776960,i=.2*r,a=.2*i){super(),this.type="ArrowHelper",void 0===yf&&(yf=new Pi,yf.setAttribute("position",new _i([0,0,0,0,1,0],3)),wf=new gl(0,.5,1,5,1),wf.translate(0,-.5,0)),this.position.copy(t),this.line=new tl(yf,new Kc({color:n,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Yi(wf,new ui({color:n,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,i,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{xf.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(xf,t)}}setLength(e,t=.2*e,r=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class Sf extends il{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=new Pi;r.setAttribute("position",new _i(t,3)),r.setAttribute("color",new _i([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(r,new Kc({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,r){const n=new Br,i=this.geometry.attributes.color.array;return n.set(e),n.toArray(i,0),n.toArray(i,3),n.set(t),n.toArray(i,6),n.toArray(i,9),n.set(r),n.toArray(i,12),n.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Tf{constructor(){this.type="ShapePath",this.color=new Br,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Xl,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,n){return this.currentPath.quadraticCurveTo(e,t,r,n),this}bezierCurveTo(e,t,r,n,i,a){return this.currentPath.bezierCurveTo(e,t,r,n,i,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function r(e){const t=[];for(let r=0,n=e.length;r<n;r++){const n=e[r],i=new Kl;i.curves=n.curves,t.push(i)}return t}function n(e,t){const r=t.length;let n=!1;for(let i=r-1,a=0;a<r;i=a++){let r=t[i],o=t[a],s=o.x-r.x,c=o.y-r.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(r=t[a],s=-s,o=t[i],c=-c),e.y<r.y||e.y>o.y)continue;if(e.y===r.y){if(e.x===r.x)return!0}else{const t=c*(e.x-r.x)-s*(e.y-r.y);if(0===t)return!0;if(t<0)continue;n=!n}}else{if(e.y!==r.y)continue;if(o.x<=e.x&&e.x<=r.x||r.x<=e.x&&e.x<=o.x)return!0}}return n}const i=yd.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===t)return r(a);let o,s,c;const l=[];if(1===a.length)return s=a[0],c=new Kl,c.curves=s.curves,l.push(c),l;let d=!i(a[0].getPoints());d=e?!d:d;const u=[],h=[];let f,p,m=[],v=0;h[v]=void 0,m[v]=[];for(let t=0,r=a.length;t<r;t++)s=a[t],f=s.getPoints(),o=i(f),o=e?!o:o,o?(!d&&h[v]&&v++,h[v]={s:new Kl,p:f},h[v].s.curves=s.curves,d&&v++,m[v]=[]):m[v].push({h:s,p:f[0]});if(!h[0])return r(a);if(h.length>1){let e=!1;const t=[];for(let e=0,t=h.length;e<t;e++)u[e]=[];for(let r=0,i=h.length;r<i;r++){const i=m[r];for(let a=0;a<i.length;a++){const o=i[a];let s=!0;for(let i=0;i<h.length;i++)n(o.p,h[i].p)&&(r!==i&&t.push({froms:r,tos:i,hole:a}),s?(s=!1,u[i].push(o)):e=!0);s&&u[r].push(o)}}t.length>0&&(e||(m=u))}for(let e=0,t=h.length;e<t;e++){c=h[e].s,l.push(c),p=m[e];for(let e=0,t=p.length;e<t;e++)c.holes.push(p[e].h)}return l}}const Mf=new Float32Array(1),Ef=new Int32Array(Mf.buffer);class Af{static toHalfFloat(e){e>65504&&(console.warn("THREE.DataUtils.toHalfFloat(): value exceeds 65504."),e=65504),Mf[0]=e;const t=Ef[0];let r=t>>16&32768,n=t>>12&2047;const i=t>>23&255;return i<103?r:i>142?(r|=31744,r|=(255==i?0:1)&&8388607&t,r):i<113?(n|=2048,r|=(n>>114-i)+(n>>113-i&1),r):(r|=i-112<<10|n>>1,r+=1&n,r)}}const Cf=0,Lf=1,Rf=0,Pf=1,Df=2;function Of(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function If(e=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function Nf(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new ul(e,t)}function Bf(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Ec(e)}function zf(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new ul(e,t)}function Uf(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new ol(e)}function kf(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new ol(e)}function Ff(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new ol(e)}function qf(e,t,r){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Xr(e,t,r)}function Gf(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new pi(e,t).setUsage(tr)}function Vf(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new mi(e,t)}function Hf(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new vi(e,t)}function jf(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new $i(e,t)}function Wf(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new gi(e,t)}function Xf(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new bi(e,t)}function Kf(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new xi(e,t)}function Yf(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new yi(e,t)}function Zf(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new _i(e,t)}function Jf(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Si(e,t)}function Qf(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Sf(e)}function ep(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new $f(e,t)}function tp(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new il(new Ml(e.geometry),new Kc({color:void 0!==t?t:16777215}))}function rp(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new il(new Nd(e.geometry),new Kc({color:void 0!==t?t:16777215}))}function np(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new mu(e)}function ip(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new xu(e)}function ap(e,t,r){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new ca(e,r)}function op(){console.error("THREE.CanvasRenderer has been removed")}function sp(){console.error("THREE.JSONLoader has been removed.")}El.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(El.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Xl.prototype.fromPoints=function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)},of.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Jh.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},fu.prototype.extractUrlBase=function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),qu.extractUrlBase(e)},fu.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Gh.prototype.center=function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},Gh.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Gh.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Gh.prototype.size=function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)},Zr.prototype.center=function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Zr.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Zr.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Zr.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},Zr.prototype.size=function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)},$n.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},ma.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},jh.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Mr.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},Mr.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},Mr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Mr.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},Mr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Mr.prototype.getInverse=function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},Mn.prototype.extractPosition=function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},Mn.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},Mn.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Xr).setFromMatrixColumn(this,3)},Mn.prototype.setRotationFromQuaternion=function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},Mn.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Mn.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Mn.prototype.multiplyVector4=function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Mn.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Mn.prototype.rotateAxis=function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},Mn.prototype.crossVector=function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Mn.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Mn.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Mn.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Mn.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Mn.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Mn.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Mn.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Mn.prototype.makeFrustum=function(e,t,r,n,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,n,r,i,a)},Mn.prototype.getInverse=function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},ha.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Wr.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Wr.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Tn.prototype.isIntersectionBox=function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Tn.prototype.isIntersectionPlane=function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},Tn.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},ci.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},ci.prototype.barycoordFromPoint=function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},ci.prototype.midpoint=function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},ci.prototypenormal=function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},ci.prototype.plane=function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)},ci.barycoordFromPoint=function(e,t,r,n,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),ci.getBarycoord(e,t,r,n,i)},ci.normal=function(e,t,r,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),ci.getNormal(e,t,r,n)},Kl.prototype.extractAllPoints=function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},Kl.prototype.extrude=function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Sd(this,e)},Kl.prototype.makeGeometry=function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Ld(this,e)},Tr.prototype.fromAttribute=function(e,t,r){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},Tr.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},Tr.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Xr.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},Xr.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},Xr.prototype.getPositionFromMatrix=function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},Xr.prototype.getScaleFromMatrix=function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},Xr.prototype.getColumnFromMatrix=function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},Xr.prototype.applyProjection=function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},Xr.prototype.fromAttribute=function(e,t,r){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},Xr.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},Xr.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Gr.prototype.fromAttribute=function(e,t,r){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},Gr.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Zn.prototype.getChildByName=function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},Zn.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},Zn.prototype.translate=function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},Zn.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},Zn.prototype.applyMatrix=function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(Zn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Yi.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(Yi.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),Ct},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Bc.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},ia.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(wu.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(pi.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===tr},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(tr)}}}),pi.prototype.setDynamic=function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?tr:er),this},pi.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},pi.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Pi.prototype.addIndex=function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},Pi.prototype.addAttribute=function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new pi(arguments[1],arguments[2])))},Pi.prototype.addDrawCall=function(e,t,r){void 0!==r&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},Pi.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},Pi.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},Pi.prototype.removeAttribute=function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},Pi.prototype.applyMatrix=function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(Pi.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),dc.prototype.setDynamic=function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?tr:er),this},dc.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Sd.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},Sd.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},Sd.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},lc.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Oh.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(di.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Br}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===v}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(ra.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),ac.prototype.clearTarget=function(e,t,r,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,r,n)},ac.prototype.animate=function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},ac.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},ac.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},ac.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},ac.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},ac.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},ac.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},ac.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},ac.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},ac.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},ac.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},ac.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},ac.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},ac.prototype.enableScissorTest=function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},ac.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},ac.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},ac.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},ac.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},ac.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},ac.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},ac.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},ac.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},ac.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},ac.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(ac.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?Dt:Pt}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}}),Object.defineProperties(Xs.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Vr.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),hh.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return(new Ju).load(e,(function(e){t.setBuffer(e)})),this},gh.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},oa.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},oa.prototype.clear=function(e,t,r,n){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,r,n)},Ur.crossOrigin=void 0,Ur.loadTexture=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new yu;i.setCrossOrigin(this.crossOrigin);const a=i.load(e,r,void 0,n);return t&&(a.mapping=t),a},Ur.loadTextureCube=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new bu;i.setCrossOrigin(this.crossOrigin);const a=i.load(e,r,void 0,n);return t&&(a.mapping=t),a},Ur.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Ur.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};const cp={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function lp(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}function dp(){return console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),new Pi}function up(){return console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),new Pi}function hp(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function fp(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function pp(){console.error("THREE.ImmediateRenderObject has been removed.")}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:r}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=r)})),parcelRequire.register("h7TnM",(function(module,exports){var n;this||self,n=function(){return function(){var __webpack_modules__={4264:function(e,t,r){e.exports=r(7588)},5036:function(e,t,r){r(1719),r(5677),r(6394),r(5334),r(6969),r(2021),r(8328),r(2129);var n=r(1287);e.exports=n.Promise},2582:function(e,t,r){r(1646),r(6394),r(2004),r(462),r(8407),r(2429),r(1172),r(8288),r(1274),r(8201),r(6626),r(3211),r(9952),r(15),r(9831),r(7521),r(2972),r(6956),r(5222),r(2257);var n=r(1287);e.exports=n.Symbol},8257:function(e,t,r){var n=r(7583),i=r(9212),a=r(5637),o=n.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not a function")}},1186:function(e,t,r){var n=r(7583),i=r(2097),a=r(5637),o=n.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not a constructor")}},9882:function(e,t,r){var n=r(7583),i=r(9212),a=n.String,o=n.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw o("Can't set "+a(e)+" as a prototype")}},6288:function(e,t,r){var n=r(3649),i=r(3590),a=r(4615),o=n("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},4761:function(e,t,r){var n=r(7583),i=r(2447),a=n.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw a("Incorrect invocation")}},2569:function(e,t,r){var n=r(7583),i=r(794),a=n.String,o=n.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not an object")}},5766:function(e,t,r){var n=r(2977),i=r(6782),a=r(1825),o=function(e){return function(t,r,o){var s,c=n(t),l=a(c),d=i(o,l);if(e&&r!=r){for(;l>d;)if((s=c[d++])!=s)return!0}else for(;l>d;d++)if((e||d in c)&&c[d]===r)return e||d||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},4805:function(e,t,r){var n=r(2938),i=r(7386),a=r(5044),o=r(1324),s=r(1825),c=r(4822),l=i([].push),d=function(e){var t=1==e,r=2==e,i=3==e,d=4==e,u=6==e,h=7==e,f=5==e||u;return function(p,m,v,$){for(var g,b,x=o(p),y=a(x),w=n(m,v),_=s(y),S=0,T=$||c,M=t?T(p,_):r||h?T(p,0):void 0;_>S;S++)if((f||S in y)&&(b=w(g=y[S],S,x),e))if(t)M[S]=b;else if(b)switch(e){case 3:return!0;case 5:return g;case 6:return S;case 2:l(M,g)}else switch(e){case 4:return!1;case 7:l(M,g)}return u?-1:i||d?d:M}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},9269:function(e,t,r){var n=r(6544),i=r(3649),a=r(4061),o=i("species");e.exports=function(e){return a>=51||!n((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},4546:function(e,t,r){var n=r(7583),i=r(6782),a=r(1825),o=r(5999),s=n.Array,c=Math.max;e.exports=function(e,t,r){for(var n=a(e),l=i(t,n),d=i(void 0===r?n:r,n),u=s(c(d-l,0)),h=0;l<d;l++,h++)o(u,h,e[l]);return u.length=h,u}},6917:function(e,t,r){var n=r(7386);e.exports=n([].slice)},5289:function(e,t,r){var n=r(7583),i=r(4521),a=r(2097),o=r(794),s=r(3649)("species"),c=n.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(a(t)&&(t===c||i(t.prototype))||o(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?c:t}},4822:function(e,t,r){var n=r(5289);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},3616:function(e,t,r){var n=r(3649)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var a={};a[n]=function(){return{next:function(){return{done:r=!0}}}},e(a)}catch(e){}return r}},9624:function(e,t,r){var n=r(7386),i=n({}.toString),a=n("".slice);e.exports=function(e){return a(i(e),8,-1)}},3058:function(e,t,r){var n=r(7583),i=r(8191),a=r(9212),o=r(9624),s=r(3649)("toStringTag"),c=n.Object,l="Arguments"==o(function(){return arguments}());e.exports=i?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=c(e),s))?r:l?o(t):"Object"==(n=o(t))&&a(t.callee)?"Arguments":n}},1509:function(e,t,r){var n=r(7386)("".replace),i=String(Error("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,o=a.test(i);e.exports=function(e,t){if(o&&"string"==typeof e)for(;t--;)e=n(e,a,"");return e}},3478:function(e,t,r){var n=r(2870),i=r(929),a=r(6683),o=r(4615);e.exports=function(e,t,r){for(var s=i(t),c=o.f,l=a.f,d=0;d<s.length;d++){var u=s[d];n(e,u)||r&&n(r,u)||c(e,u,l(t,u))}}},926:function(e,t,r){var n=r(6544);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4683:function(e,t,r){var n=r(2365).IteratorPrototype,i=r(3590),a=r(4677),o=r(8821),s=r(339),c=function(){return this};e.exports=function(e,t,r,l){var d=t+" Iterator";return e.prototype=i(n,{next:a(+!l,r)}),o(e,d,!1,!0),s[d]=c,e}},57:function(e,t,r){var n=r(8494),i=r(4615),a=r(4677);e.exports=n?function(e,t,r){return i.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},4677:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},5999:function(e,t,r){var n=r(8734),i=r(4615),a=r(4677);e.exports=function(e,t,r){var o=n(t);o in e?i.f(e,o,a(0,r)):e[o]=r}},9012:function(e,t,r){var n=r(7263),i=r(8262),a=r(6268),o=r(4340),s=r(9212),c=r(4683),l=r(729),d=r(7496),u=r(8821),h=r(57),f=r(1270),p=r(3649),m=r(339),v=r(2365),$=o.PROPER,g=o.CONFIGURABLE,b=v.IteratorPrototype,x=v.BUGGY_SAFARI_ITERATORS,y=p("iterator"),w="keys",_="values",S="entries",T=function(){return this};e.exports=function(e,t,r,o,p,v,M){c(r,t,o);var E,A,C,L=function(e){if(e===p&&I)return I;if(!x&&e in D)return D[e];switch(e){case w:case _:case S:return function(){return new r(this,e)}}return function(){return new r(this)}},R=t+" Iterator",P=!1,D=e.prototype,O=D[y]||D["@@iterator"]||p&&D[p],I=!x&&O||L(p),N="Array"==t&&D.entries||O;if(N&&(E=l(N.call(new e)))!==Object.prototype&&E.next&&(a||l(E)===b||(d?d(E,b):s(E[y])||f(E,y,T)),u(E,R,!0,!0),a&&(m[R]=T)),$&&p==_&&O&&O.name!==_&&(!a&&g?h(D,"name",_):(P=!0,I=function(){return i(O,this)})),p)if(A={values:L(_),keys:v?I:L(w),entries:L(S)},M)for(C in A)(x||P||!(C in D))&&f(D,C,A[C]);else n({target:t,proto:!0,forced:x||P},A);return a&&!M||D[y]===I||f(D,y,I,{name:p}),m[t]=I,A}},2219:function(e,t,r){var n=r(1287),i=r(2870),a=r(491),o=r(4615).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},8494:function(e,t,r){var n=r(6544);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},6668:function(e,t,r){var n=r(7583),i=r(794),a=n.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},6778:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9307:function(e,t,r){var n=r(6668)("span").classList,i=n&&n.constructor&&n.constructor.prototype;e.exports=i===Object.prototype?void 0:i},2274:function(e){e.exports="object"==typeof window},3256:function(e,t,r){var n=r(6918),i=r(7583);e.exports=/ipad|iphone|ipod/i.test(n)&&void 0!==i.Pebble},7020:function(e,t,r){var n=r(6918);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},5354:function(e,t,r){var n=r(9624),i=r(7583);e.exports="process"==n(i.process)},6846:function(e,t,r){var n=r(6918);e.exports=/web0s(?!.*chrome)/i.test(n)},6918:function(e,t,r){var n=r(5897);e.exports=n("navigator","userAgent")||""},4061:function(e,t,r){var n,i,a=r(7583),o=r(6918),s=a.process,c=a.Deno,l=s&&s.versions||c&&c.version,d=l&&l.v8;d&&(i=(n=d.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},5690:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1178:function(e,t,r){var n=r(6544),i=r(4677);e.exports=!n((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},7263:function(e,t,r){var n=r(7583),i=r(6683).f,a=r(57),o=r(1270),s=r(460),c=r(3478),l=r(4451);e.exports=function(e,t){var r,d,u,h,f,p=e.target,m=e.global,v=e.stat;if(r=m?n:v?n[p]||s(p,{}):(n[p]||{}).prototype)for(d in t){if(h=t[d],u=e.noTargetGet?(f=i(r,d))&&f.value:r[d],!l(m?d:p+(v?".":"#")+d,e.forced)&&void 0!==u){if(typeof h==typeof u)continue;c(h,u)}(e.sham||u&&u.sham)&&a(h,"sham",!0),o(r,d,h,e)}}},6544:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},1611:function(e,t,r){var n=r(8987),i=Function.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(a):function(){return o.apply(a,arguments)})},2938:function(e,t,r){var n=r(7386),i=r(8257),a=r(8987),o=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},8987:function(e,t,r){var n=r(6544);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},8262:function(e,t,r){var n=r(8987),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},4340:function(e,t,r){var n=r(8494),i=r(2870),a=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,s=i(a,"name"),c=s&&"something"===function(){}.name,l=s&&(!n||n&&o(a,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},7386:function(e,t,r){var n=r(8987),i=Function.prototype,a=i.bind,o=i.call,s=n&&a.bind(o,o);e.exports=n?function(e){return e&&s(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},5897:function(e,t,r){var n=r(7583),i=r(9212),a=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(n[e]):n[e]&&n[e][t]}},8272:function(e,t,r){var n=r(3058),i=r(911),a=r(339),o=r(3649)("iterator");e.exports=function(e){if(null!=e)return i(e,o)||i(e,"@@iterator")||a[n(e)]}},6307:function(e,t,r){var n=r(7583),i=r(8262),a=r(8257),o=r(2569),s=r(5637),c=r(8272),l=n.TypeError;e.exports=function(e,t){var r=arguments.length<2?c(e):t;if(a(r))return o(i(r,e));throw l(s(e)+" is not iterable")}},911:function(e,t,r){var n=r(8257);e.exports=function(e,t){var r=e[t];return null==r?void 0:n(r)}},7583:function(e,t,r){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},2870:function(e,t,r){var n=r(7386),i=r(1324),a=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},4639:function(e){e.exports={}},2716:function(e,t,r){var n=r(7583);e.exports=function(e,t){var r=n.console;r&&r.error&&(1==arguments.length?r.error(e):r.error(e,t))}},482:function(e,t,r){var n=r(5897);e.exports=n("document","documentElement")},275:function(e,t,r){var n=r(8494),i=r(6544),a=r(6668);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},5044:function(e,t,r){var n=r(7583),i=r(7386),a=r(6544),o=r(9624),s=n.Object,c=i("".split);e.exports=a((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?c(e,""):s(e)}:s},9734:function(e,t,r){var n=r(7386),i=r(9212),a=r(1314),o=n(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},4402:function(e,t,r){var n=r(794),i=r(57);e.exports=function(e,t){n(t)&&"cause"in t&&i(e,"cause",t.cause)}},2743:function(e,t,r){var n,i,a,o=r(9491),s=r(7583),c=r(7386),l=r(794),d=r(57),u=r(2870),h=r(1314),f=r(9137),p=r(4639),m="Object already initialized",v=s.TypeError,$=s.WeakMap;if(o||h.state){var g=h.state||(h.state=new $),b=c(g.get),x=c(g.has),y=c(g.set);n=function(e,t){if(x(g,e))throw new v(m);return t.facade=e,y(g,e,t),t},i=function(e){return b(g,e)||{}},a=function(e){return x(g,e)}}else{var w=f("state");p[w]=!0,n=function(e,t){if(u(e,w))throw new v(m);return t.facade=e,d(e,w,t),t},i=function(e){return u(e,w)?e[w]:{}},a=function(e){return u(e,w)}}e.exports={set:n,get:i,has:a,enforce:function(e){return a(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!l(t)||(r=i(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return r}}}},114:function(e,t,r){var n=r(3649),i=r(339),a=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},4521:function(e,t,r){var n=r(9624);e.exports=Array.isArray||function(e){return"Array"==n(e)}},9212:function(e){e.exports=function(e){return"function"==typeof e}},2097:function(e,t,r){var n=r(7386),i=r(6544),a=r(9212),o=r(3058),s=r(5897),c=r(9734),l=function(){},d=[],u=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,f=n(h.exec),p=!h.exec(l),m=function(e){if(!a(e))return!1;try{return u(l,d,e),!0}catch(e){return!1}},v=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(h,c(e))}catch(e){return!0}};v.sham=!0,e.exports=!u||i((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?v:m},4451:function(e,t,r){var n=r(6544),i=r(9212),a=/#|\.prototype\./,o=function(e,t){var r=c[s(e)];return r==d||r!=l&&(i(t)?n(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},c=o.data={},l=o.NATIVE="N",d=o.POLYFILL="P";e.exports=o},794:function(e,t,r){var n=r(9212);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},6268:function(e){e.exports=!1},5871:function(e,t,r){var n=r(7583),i=r(5897),a=r(9212),o=r(2447),s=r(7786),c=n.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return a(t)&&o(t.prototype,c(e))}},4026:function(e,t,r){var n=r(7583),i=r(2938),a=r(8262),o=r(2569),s=r(5637),c=r(114),l=r(1825),d=r(2447),u=r(6307),h=r(8272),f=r(7093),p=n.TypeError,m=function(e,t){this.stopped=e,this.result=t},v=m.prototype;e.exports=function(e,t,r){var n,$,g,b,x,y,w,_=r&&r.that,S=!(!r||!r.AS_ENTRIES),T=!(!r||!r.IS_ITERATOR),M=!(!r||!r.INTERRUPTED),E=i(t,_),A=function(e){return n&&f(n,"normal",e),new m(!0,e)},C=function(e){return S?(o(e),M?E(e[0],e[1],A):E(e[0],e[1])):M?E(e,A):E(e)};if(T)n=e;else{if(!($=h(e)))throw p(s(e)+" is not iterable");if(c($)){for(g=0,b=l(e);b>g;g++)if((x=C(e[g]))&&d(v,x))return x;return new m(!1)}n=u(e,$)}for(y=n.next;!(w=a(y,n)).done;){try{x=C(w.value)}catch(e){f(n,"throw",e)}if("object"==typeof x&&x&&d(v,x))return x}return new m(!1)}},7093:function(e,t,r){var n=r(8262),i=r(2569),a=r(911);e.exports=function(e,t,r){var o,s;i(e);try{if(!(o=a(e,"return"))){if("throw"===t)throw r;return r}o=n(o,e)}catch(e){s=!0,o=e}if("throw"===t)throw r;if(s)throw o;return i(o),r}},2365:function(e,t,r){var n,i,a,o=r(6544),s=r(9212),c=r(3590),l=r(729),d=r(1270),u=r(3649),h=r(6268),f=u("iterator"),p=!1;[].keys&&("next"in(a=[].keys())?(i=l(l(a)))!==Object.prototype&&(n=i):p=!0),null==n||o((function(){var e={};return n[f].call(e)!==e}))?n={}:h&&(n=c(n)),s(n[f])||d(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},339:function(e){e.exports={}},1825:function(e,t,r){var n=r(97);e.exports=function(e){return n(e.length)}},2095:function(e,t,r){var n,i,a,o,s,c,l,d,u=r(7583),h=r(2938),f=r(6683).f,p=r(8117).set,m=r(7020),v=r(3256),$=r(6846),g=r(5354),b=u.MutationObserver||u.WebKitMutationObserver,x=u.document,y=u.process,w=u.Promise,_=f(u,"queueMicrotask"),S=_&&_.value;S||(n=function(){var e,t;for(g&&(e=y.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?o():a=void 0,e}}a=void 0,e&&e.enter()},m||g||$||!b||!x?!v&&w&&w.resolve?((l=w.resolve(void 0)).constructor=w,d=h(l.then,l),o=function(){d(n)}):g?o=function(){y.nextTick(n)}:(p=h(p,u),o=function(){p(n)}):(s=!0,c=x.createTextNode(""),new b(n).observe(c,{characterData:!0}),o=function(){c.data=s=!s})),e.exports=S||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},783:function(e,t,r){var n=r(7583);e.exports=n.Promise},8640:function(e,t,r){var n=r(4061),i=r(6544);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},9491:function(e,t,r){var n=r(7583),i=r(9212),a=r(9734),o=n.WeakMap;e.exports=i(o)&&/native code/.test(a(o))},5084:function(e,t,r){var n=r(8257),i=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new i(e)}},2764:function(e,t,r){var n=r(8320);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},3590:function(e,t,r){var n,i=r(2569),a=r(8728),o=r(5690),s=r(4639),c=r(482),l=r(6668),d=r(9137)("IE_PROTO"),u=function(){},h=function(e){return"<script>"+e+"<\/script>"},f=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},p=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t;p="undefined"!=typeof document?document.domain&&n?f(n):((t=l("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):f(n);for(var r=o.length;r--;)delete p.prototype[o[r]];return p()};s[d]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(u.prototype=i(e),r=new u,u.prototype=null,r[d]=e):r=p(),void 0===t?r:a.f(r,t)}},8728:function(e,t,r){var n=r(8494),i=r(7670),a=r(4615),o=r(2569),s=r(2977),c=r(5432);t.f=n&&!i?Object.defineProperties:function(e,t){o(e);for(var r,n=s(t),i=c(t),l=i.length,d=0;l>d;)a.f(e,r=i[d++],n[r]);return e}},4615:function(e,t,r){var n=r(7583),i=r(8494),a=r(275),o=r(7670),s=r(2569),c=r(8734),l=n.TypeError,d=Object.defineProperty,u=Object.getOwnPropertyDescriptor;t.f=i?o?function(e,t,r){if(s(e),t=c(t),s(r),"function"==typeof e&&"prototype"===t&&"value"in r&&"writable"in r&&!r.writable){var n=u(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return d(e,t,r)}:d:function(e,t,r){if(s(e),t=c(t),s(r),a)try{return d(e,t,r)}catch(e){}if("get"in r||"set"in r)throw l("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},6683:function(e,t,r){var n=r(8494),i=r(8262),a=r(112),o=r(4677),s=r(2977),c=r(8734),l=r(2870),d=r(275),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(e,t){if(e=s(e),t=c(t),d)try{return u(e,t)}catch(e){}if(l(e,t))return o(!i(a.f,e,t),e[t])}},3130:function(e,t,r){var n=r(9624),i=r(2977),a=r(9275).f,o=r(4546),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==n(e)?function(e){try{return a(e)}catch(e){return o(s)}}(e):a(i(e))}},9275:function(e,t,r){var n=r(8356),i=r(5690).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},4012:function(e,t){t.f=Object.getOwnPropertySymbols},729:function(e,t,r){var n=r(7583),i=r(2870),a=r(9212),o=r(1324),s=r(9137),c=r(926),l=s("IE_PROTO"),d=n.Object,u=d.prototype;e.exports=c?d.getPrototypeOf:function(e){var t=o(e);if(i(t,l))return t[l];var r=t.constructor;return a(r)&&t instanceof r?r.prototype:t instanceof d?u:null}},2447:function(e,t,r){var n=r(7386);e.exports=n({}.isPrototypeOf)},8356:function(e,t,r){var n=r(7386),i=r(2870),a=r(2977),o=r(5766).indexOf,s=r(4639),c=n([].push);e.exports=function(e,t){var r,n=a(e),l=0,d=[];for(r in n)!i(s,r)&&i(n,r)&&c(d,r);for(;t.length>l;)i(n,r=t[l++])&&(~o(d,r)||c(d,r));return d}},5432:function(e,t,r){var n=r(8356),i=r(5690);e.exports=Object.keys||function(e){return n(e,i)}},112:function(e,t){var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},7496:function(e,t,r){var n=r(7386),i=r(2569),a=r(9882);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return i(r),a(n),t?e(r,n):r.__proto__=n,r}}():void 0)},3060:function(e,t,r){var n=r(8191),i=r(3058);e.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},6252:function(e,t,r){var n=r(7583),i=r(8262),a=r(9212),o=r(794),s=n.TypeError;e.exports=function(e,t){var r,n;if("string"===t&&a(r=e.toString)&&!o(n=i(r,e)))return n;if(a(r=e.valueOf)&&!o(n=i(r,e)))return n;if("string"!==t&&a(r=e.toString)&&!o(n=i(r,e)))return n;throw s("Can't convert object to primitive value")}},929:function(e,t,r){var n=r(5897),i=r(7386),a=r(9275),o=r(4012),s=r(2569),c=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(s(e)),r=o.f;return r?c(t,r(e)):t}},1287:function(e,t,r){var n=r(7583);e.exports=n},544:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},5732:function(e,t,r){var n=r(2569),i=r(794),a=r(5084);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},2723:function(e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},6893:function(e,t,r){var n=r(1270);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},1270:function(e,t,r){var n=r(7583),i=r(9212),a=r(2870),o=r(57),s=r(460),c=r(9734),l=r(2743),d=r(4340).CONFIGURABLE,u=l.get,h=l.enforce,f=String(String).split("String");(e.exports=function(e,t,r,c){var l,u=!!c&&!!c.unsafe,p=!!c&&!!c.enumerable,m=!!c&&!!c.noTargetGet,v=c&&void 0!==c.name?c.name:t;i(r)&&("Symbol("===String(v).slice(0,7)&&(v="["+String(v).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!a(r,"name")||d&&r.name!==v)&&o(r,"name",v),(l=h(r)).source||(l.source=f.join("string"==typeof v?v:""))),e!==n?(u?!m&&e[t]&&(p=!0):delete e[t],p?e[t]=r:o(e,t,r)):p?e[t]=r:s(t,r)})(Function.prototype,"toString",(function(){return i(this)&&u(this).source||c(this)}))},3955:function(e,t,r){var n=r(7583).TypeError;e.exports=function(e){if(null==e)throw n("Can't call method on "+e);return e}},460:function(e,t,r){var n=r(7583),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},7730:function(e,t,r){var n=r(5897),i=r(4615),a=r(3649),o=r(8494),s=a("species");e.exports=function(e){var t=n(e),r=i.f;o&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},8821:function(e,t,r){var n=r(4615).f,i=r(2870),a=r(3649)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!i(e,a)&&n(e,a,{configurable:!0,value:t})}},9137:function(e,t,r){var n=r(7836),i=r(8284),a=n("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},1314:function(e,t,r){var n=r(7583),i=r(460),a="__core-js_shared__",o=n[a]||i(a,{});e.exports=o},7836:function(e,t,r){var n=r(6268),i=r(1314);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.1",mode:n?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},564:function(e,t,r){var n=r(2569),i=r(1186),a=r(3649)("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||null==(r=n(o)[a])?t:i(r)}},6389:function(e,t,r){var n=r(7386),i=r(7486),a=r(8320),o=r(3955),s=n("".charAt),c=n("".charCodeAt),l=n("".slice),d=function(e){return function(t,r){var n,d,u=a(o(t)),h=i(r),f=u.length;return h<0||h>=f?e?"":void 0:(n=c(u,h))<55296||n>56319||h+1===f||(d=c(u,h+1))<56320||d>57343?e?s(u,h):n:e?l(u,h,h+2):d-56320+(n-55296<<10)+65536}};e.exports={codeAt:d(!1),charAt:d(!0)}},8117:function(e,t,r){var n,i,a,o,s=r(7583),c=r(1611),l=r(2938),d=r(9212),u=r(2870),h=r(6544),f=r(482),p=r(6917),m=r(6668),v=r(7520),$=r(7020),g=r(5354),b=s.setImmediate,x=s.clearImmediate,y=s.process,w=s.Dispatch,_=s.Function,S=s.MessageChannel,T=s.String,M=0,E={};try{n=s.location}catch(e){}var A=function(e){if(u(E,e)){var t=E[e];delete E[e],t()}},C=function(e){return function(){A(e)}},L=function(e){A(e.data)},R=function(e){s.postMessage(T(e),n.protocol+"//"+n.host)};b&&x||(b=function(e){v(arguments.length,1);var t=d(e)?e:_(e),r=p(arguments,1);return E[++M]=function(){c(t,void 0,r)},i(M),M},x=function(e){delete E[e]},g?i=function(e){y.nextTick(C(e))}:w&&w.now?i=function(e){w.now(C(e))}:S&&!$?(o=(a=new S).port2,a.port1.onmessage=L,i=l(o.postMessage,o)):s.addEventListener&&d(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!h(R)?(i=R,s.addEventListener("message",L,!1)):i="onreadystatechange"in m("script")?function(e){f.appendChild(m("script")).onreadystatechange=function(){f.removeChild(this),A(e)}}:function(e){setTimeout(C(e),0)}),e.exports={set:b,clear:x}},6782:function(e,t,r){var n=r(7486),i=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):a(r,t)}},2977:function(e,t,r){var n=r(5044),i=r(3955);e.exports=function(e){return n(i(e))}},7486:function(e){var t=Math.ceil,r=Math.floor;e.exports=function(e){var n=+e;return n!=n||0===n?0:(n>0?r:t)(n)}},97:function(e,t,r){var n=r(7486),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},1324:function(e,t,r){var n=r(7583),i=r(3955),a=n.Object;e.exports=function(e){return a(i(e))}},2670:function(e,t,r){var n=r(7583),i=r(8262),a=r(794),o=r(5871),s=r(911),c=r(6252),l=r(3649),d=n.TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!a(e)||o(e))return e;var r,n=s(e,u);if(n){if(void 0===t&&(t="default"),r=i(n,e,t),!a(r)||o(r))return r;throw d("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},8734:function(e,t,r){var n=r(2670),i=r(5871);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},8191:function(e,t,r){var n={};n[r(3649)("toStringTag")]="z",e.exports="[object z]"===String(n)},8320:function(e,t,r){var n=r(7583),i=r(3058),a=n.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return a(e)}},5637:function(e,t,r){var n=r(7583).String;e.exports=function(e){try{return n(e)}catch(e){return"Object"}}},8284:function(e,t,r){var n=r(7386),i=0,a=Math.random(),o=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},7786:function(e,t,r){var n=r(8640);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7670:function(e,t,r){var n=r(8494),i=r(6544);e.exports=n&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},7520:function(e,t,r){var n=r(7583).TypeError;e.exports=function(e,t){if(e<t)throw n("Not enough arguments");return e}},491:function(e,t,r){var n=r(3649);t.f=n},3649:function(e,t,r){var n=r(7583),i=r(7836),a=r(2870),o=r(8284),s=r(8640),c=r(7786),l=i("wks"),d=n.Symbol,u=d&&d.for,h=c?d:d&&d.withoutSetter||o;e.exports=function(e){if(!a(l,e)||!s&&"string"!=typeof l[e]){var t="Symbol."+e;s&&a(d,e)?l[e]=d[e]:l[e]=c&&u?u(t):h(t)}return l[e]}},1719:function(e,t,r){var n=r(7263),i=r(7583),a=r(2447),o=r(729),s=r(7496),c=r(3478),l=r(3590),d=r(57),u=r(4677),h=r(1509),f=r(4402),p=r(4026),m=r(2764),v=r(3649),$=r(1178),g=v("toStringTag"),b=i.Error,x=[].push,y=function(e,t){var r,n=arguments.length>2?arguments[2]:void 0,i=a(w,this);s?r=s(new b,i?o(this):w):(r=i?this:l(w),d(r,g,"Error")),void 0!==t&&d(r,"message",m(t)),$&&d(r,"stack",h(r.stack,1)),f(r,n);var c=[];return p(e,x,{that:c}),d(r,"errors",c),r};s?s(y,b):c(y,b,{name:!0});var w=y.prototype=l(b.prototype,{constructor:u(1,y),message:u(1,""),name:u(1,"AggregateError")});n({global:!0},{AggregateError:y})},1646:function(e,t,r){var n=r(7263),i=r(7583),a=r(6544),o=r(4521),s=r(794),c=r(1324),l=r(1825),d=r(5999),u=r(4822),h=r(9269),f=r(3649),p=r(4061),m=f("isConcatSpreadable"),v=9007199254740991,$="Maximum allowed index exceeded",g=i.TypeError,b=p>=51||!a((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),x=h("concat"),y=function(e){if(!s(e))return!1;var t=e[m];return void 0!==t?!!t:o(e)};n({target:"Array",proto:!0,forced:!b||!x},{concat:function(e){var t,r,n,i,a,o=c(this),s=u(o,0),h=0;for(t=-1,n=arguments.length;t<n;t++)if(y(a=-1===t?o:arguments[t])){if(h+(i=l(a))>v)throw g($);for(r=0;r<i;r++,h++)r in a&&d(s,h,a[r])}else{if(h>=v)throw g($);d(s,h++,a)}return s.length=h,s}})},5677:function(e,t,r){var n=r(2977),i=r(6288),a=r(339),o=r(2743),s=r(4615).f,c=r(9012),l=r(6268),d=r(8494),u="Array Iterator",h=o.set,f=o.getterFor(u);e.exports=c(Array,"Array",(function(e,t){h(this,{type:u,target:n(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values");var p=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!l&&d&&"values"!==p.name)try{s(p,"name",{value:"values"})}catch(e){}},6956:function(e,t,r){var n=r(7583);r(8821)(n.JSON,"JSON",!0)},5222:function(e,t,r){r(8821)(Math,"Math",!0)},6394:function(e,t,r){var n=r(8191),i=r(1270),a=r(3060);n||i(Object.prototype,"toString",a,{unsafe:!0})},6969:function(e,t,r){var n=r(7263),i=r(8262),a=r(8257),o=r(5084),s=r(544),c=r(4026);n({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=o.f(t),n=r.resolve,l=r.reject,d=s((function(){var r=a(t.resolve),o=[],s=0,l=1;c(e,(function(e){var a=s++,c=!1;l++,i(r,t,e).then((function(e){c||(c=!0,o[a]={status:"fulfilled",value:e},--l||n(o))}),(function(e){c||(c=!0,o[a]={status:"rejected",reason:e},--l||n(o))}))})),--l||n(o)}));return d.error&&l(d.value),r.promise}})},2021:function(e,t,r){var n=r(7263),i=r(8257),a=r(5897),o=r(8262),s=r(5084),c=r(544),l=r(4026),d="No one promise resolved";n({target:"Promise",stat:!0},{any:function(e){var t=this,r=a("AggregateError"),n=s.f(t),u=n.resolve,h=n.reject,f=c((function(){var n=i(t.resolve),a=[],s=0,c=1,f=!1;l(e,(function(e){var i=s++,l=!1;c++,o(n,t,e).then((function(e){l||f||(f=!0,u(e))}),(function(e){l||f||(l=!0,a[i]=e,--c||h(new r(a,d)))}))})),--c||h(new r(a,d))}));return f.error&&h(f.value),n.promise}})},8328:function(e,t,r){var n=r(7263),i=r(6268),a=r(783),o=r(6544),s=r(5897),c=r(9212),l=r(564),d=r(5732),u=r(1270);if(n({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){a.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,s("Promise")),r=c(e);return this.then(r?function(r){return d(t,e()).then((function(){return r}))}:e,r?function(r){return d(t,e()).then((function(){throw r}))}:e)}}),!i&&c(a)){var h=s("Promise").prototype.finally;a.prototype.finally!==h&&u(a.prototype,"finally",h,{unsafe:!0})}},5334:function(e,t,r){var n,i,a,o,s=r(7263),c=r(6268),l=r(7583),d=r(5897),u=r(8262),h=r(783),f=r(1270),p=r(6893),m=r(7496),v=r(8821),$=r(7730),g=r(8257),b=r(9212),x=r(794),y=r(4761),w=r(9734),_=r(4026),S=r(3616),T=r(564),M=r(8117).set,E=r(2095),A=r(5732),C=r(2716),L=r(5084),R=r(544),P=r(2723),D=r(2743),O=r(4451),I=r(3649),N=r(2274),B=r(5354),z=r(4061),U=I("species"),k="Promise",F=D.getterFor(k),q=D.set,G=D.getterFor(k),V=h&&h.prototype,H=h,j=V,W=l.TypeError,X=l.document,K=l.process,Y=L.f,Z=Y,J=!!(X&&X.createEvent&&l.dispatchEvent),Q=b(l.PromiseRejectionEvent),ee="unhandledrejection",te=!1,re=O(k,(function(){var e=w(H),t=e!==String(H);if(!t&&66===z)return!0;if(c&&!j.finally)return!0;if(z>=51&&/native code/.test(e))return!1;var r=new H((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};return(r.constructor={})[U]=n,!(te=r.then((function(){}))instanceof n)||!t&&N&&!Q})),ne=re||!S((function(e){H.all(e).catch((function(){}))})),ie=function(e){var t;return!(!x(e)||!b(t=e.then))&&t},ae=function(e,t){var r,n,i,a=t.value,o=1==t.state,s=o?e.ok:e.fail,c=e.resolve,l=e.reject,d=e.domain;try{s?(o||(2===t.rejection&&de(t),t.rejection=1),!0===s?r=a:(d&&d.enter(),r=s(a),d&&(d.exit(),i=!0)),r===e.promise?l(W("Promise-chain cycle")):(n=ie(r))?u(n,r,c,l):c(r)):l(a)}catch(e){d&&!i&&d.exit(),l(e)}},oe=function(e,t){e.notified||(e.notified=!0,E((function(){for(var r,n=e.reactions;r=n.get();)ae(r,e);e.notified=!1,t&&!e.rejection&&ce(e)})))},se=function(e,t,r){var n,i;J?((n=X.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),l.dispatchEvent(n)):n={promise:t,reason:r},!Q&&(i=l["on"+e])?i(n):e===ee&&C("Unhandled promise rejection",r)},ce=function(e){u(M,l,(function(){var t,r=e.facade,n=e.value;if(le(e)&&(t=R((function(){B?K.emit("unhandledRejection",n,r):se(ee,r,n)})),e.rejection=B||le(e)?2:1,t.error))throw t.value}))},le=function(e){return 1!==e.rejection&&!e.parent},de=function(e){u(M,l,(function(){var t=e.facade;B?K.emit("rejectionHandled",t):se("rejectionhandled",t,e.value)}))},ue=function(e,t,r){return function(n){e(t,n,r)}},he=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,oe(e,!0))},fe=function e(t,r,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===r)throw W("Promise can't be resolved itself");var i=ie(r);i?E((function(){var n={done:!1};try{u(i,r,ue(e,n,t),ue(he,n,t))}catch(e){he(n,e,t)}})):(t.value=r,t.state=1,oe(t,!1))}catch(e){he({done:!1},e,t)}}};if(re&&(j=(H=function(e){y(this,j),g(e),u(n,this);var t=F(this);try{e(ue(fe,t),ue(he,t))}catch(e){he(t,e)}}).prototype,(n=function(e){q(this,{type:k,done:!1,notified:!1,parent:!1,reactions:new P,rejection:!1,state:0,value:void 0})}).prototype=p(j,{then:function(e,t){var r=G(this),n=Y(T(this,H));return r.parent=!0,n.ok=!b(e)||e,n.fail=b(t)&&t,n.domain=B?K.domain:void 0,0==r.state?r.reactions.add(n):E((function(){ae(n,r)})),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n,t=F(e);this.promise=e,this.resolve=ue(fe,t),this.reject=ue(he,t)},L.f=Y=function(e){return e===H||e===a?new i(e):Z(e)},!c&&b(h)&&V!==Object.prototype)){o=V.then,te||(f(V,"then",(function(e,t){var r=this;return new H((function(e,t){u(o,r,e,t)})).then(e,t)}),{unsafe:!0}),f(V,"catch",j.catch,{unsafe:!0}));try{delete V.constructor}catch(e){}m&&m(V,j)}s({global:!0,wrap:!0,forced:re},{Promise:H}),v(H,k,!1,!0),$(k),a=d(k),s({target:k,stat:!0,forced:re},{reject:function(e){var t=Y(this);return u(t.reject,void 0,e),t.promise}}),s({target:k,stat:!0,forced:c||re},{resolve:function(e){return A(c&&this===a?H:this,e)}}),s({target:k,stat:!0,forced:ne},{all:function(e){var t=this,r=Y(t),n=r.resolve,i=r.reject,a=R((function(){var r=g(t.resolve),a=[],o=0,s=1;_(e,(function(e){var c=o++,l=!1;s++,u(r,t,e).then((function(e){l||(l=!0,a[c]=e,--s||n(a))}),i)})),--s||n(a)}));return a.error&&i(a.value),r.promise},race:function(e){var t=this,r=Y(t),n=r.reject,i=R((function(){var i=g(t.resolve);_(e,(function(e){u(i,t,e).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},2257:function(e,t,r){var n=r(7263),i=r(7583),a=r(8821);n({global:!0},{Reflect:{}}),a(i.Reflect,"Reflect",!0)},2129:function(e,t,r){var n=r(6389).charAt,i=r(8320),a=r(2743),o=r(9012),s="String Iterator",c=a.set,l=a.getterFor(s);o(String,"String",(function(e){c(this,{type:s,string:i(e),index:0})}),(function(){var e,t=l(this),r=t.string,i=t.index;return i>=r.length?{value:void 0,done:!0}:(e=n(r,i),t.index+=e.length,{value:e,done:!1})}))},462:function(e,t,r){r(2219)("asyncIterator")},8407:function(e,t,r){var n=r(7263),i=r(8494),a=r(7583),o=r(7386),s=r(2870),c=r(9212),l=r(2447),d=r(8320),u=r(4615).f,h=r(3478),f=a.Symbol,p=f&&f.prototype;if(i&&c(f)&&(!("description"in p)||void 0!==f().description)){var m={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:d(arguments[0]),t=l(p,this)?new f(e):void 0===e?f():f(e);return""===e&&(m[t]=!0),t};h(v,f),v.prototype=p,p.constructor=v;var $="Symbol(test)"==String(f("test")),g=o(p.toString),b=o(p.valueOf),x=/^Symbol\((.*)\)[^)]+$/,y=o("".replace),w=o("".slice);u(p,"description",{configurable:!0,get:function(){var e=b(this),t=g(e);if(s(m,e))return"";var r=$?w(t,7,-1):y(t,x,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:v})}},2429:function(e,t,r){r(2219)("hasInstance")},1172:function(e,t,r){r(2219)("isConcatSpreadable")},8288:function(e,t,r){r(2219)("iterator")},2004:function(e,t,r){var n=r(7263),i=r(7583),a=r(5897),o=r(1611),s=r(8262),c=r(7386),l=r(6268),d=r(8494),u=r(8640),h=r(6544),f=r(2870),p=r(4521),m=r(9212),v=r(794),$=r(2447),g=r(5871),b=r(2569),x=r(1324),y=r(2977),w=r(8734),_=r(8320),S=r(4677),T=r(3590),M=r(5432),E=r(9275),A=r(3130),C=r(4012),L=r(6683),R=r(4615),P=r(8728),D=r(112),O=r(6917),I=r(1270),N=r(7836),B=r(9137),z=r(4639),U=r(8284),k=r(3649),F=r(491),q=r(2219),G=r(8821),V=r(2743),H=r(4805).forEach,j=B("hidden"),W="Symbol",X=k("toPrimitive"),K=V.set,Y=V.getterFor(W),Z=Object.prototype,J=i.Symbol,Q=J&&J.prototype,ee=i.TypeError,te=i.QObject,re=a("JSON","stringify"),ne=L.f,ie=R.f,ae=A.f,oe=D.f,se=c([].push),ce=N("symbols"),le=N("op-symbols"),de=N("string-to-symbol-registry"),ue=N("symbol-to-string-registry"),he=N("wks"),fe=!te||!te.prototype||!te.prototype.findChild,pe=d&&h((function(){return 7!=T(ie({},"a",{get:function(){return ie(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=ne(Z,t);n&&delete Z[t],ie(e,t,r),n&&e!==Z&&ie(Z,t,n)}:ie,me=function(e,t){var r=ce[e]=T(Q);return K(r,{type:W,tag:e,description:t}),d||(r.description=t),r},ve=function(e,t,r){e===Z&&ve(le,t,r),b(e);var n=w(t);return b(r),f(ce,n)?(r.enumerable?(f(e,j)&&e[j][n]&&(e[j][n]=!1),r=T(r,{enumerable:S(0,!1)})):(f(e,j)||ie(e,j,S(1,{})),e[j][n]=!0),pe(e,n,r)):ie(e,n,r)},$e=function(e,t){b(e);var r=y(t),n=M(r).concat(ye(r));return H(n,(function(t){d&&!s(ge,r,t)||ve(e,t,r[t])})),e},ge=function(e){var t=w(e),r=s(oe,this,t);return!(this===Z&&f(ce,t)&&!f(le,t))&&(!(r||!f(this,t)||!f(ce,t)||f(this,j)&&this[j][t])||r)},be=function(e,t){var r=y(e),n=w(t);if(r!==Z||!f(ce,n)||f(le,n)){var i=ne(r,n);return!i||!f(ce,n)||f(r,j)&&r[j][n]||(i.enumerable=!0),i}},xe=function(e){var t=ae(y(e)),r=[];return H(t,(function(e){f(ce,e)||f(z,e)||se(r,e)})),r},ye=function(e){var t=e===Z,r=ae(t?le:y(e)),n=[];return H(r,(function(e){!f(ce,e)||t&&!f(Z,e)||se(n,ce[e])})),n};if(u||(J=function(){if($(Q,this))throw ee("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?_(arguments[0]):void 0,t=U(e),r=function e(r){this===Z&&s(e,le,r),f(this,j)&&f(this[j],t)&&(this[j][t]=!1),pe(this,t,S(1,r))};return d&&fe&&pe(Z,t,{configurable:!0,set:r}),me(t,e)},I(Q=J.prototype,"toString",(function(){return Y(this).tag})),I(J,"withoutSetter",(function(e){return me(U(e),e)})),D.f=ge,R.f=ve,P.f=$e,L.f=be,E.f=A.f=xe,C.f=ye,F.f=function(e){return me(k(e),e)},d&&(ie(Q,"description",{configurable:!0,get:function(){return Y(this).description}}),l||I(Z,"propertyIsEnumerable",ge,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:J}),H(M(he),(function(e){q(e)})),n({target:W,stat:!0,forced:!u},{for:function(e){var t=_(e);if(f(de,t))return de[t];var r=J(t);return de[t]=r,ue[r]=t,r},keyFor:function(e){if(!g(e))throw ee(e+" is not a symbol");if(f(ue,e))return ue[e]},useSetter:function(){fe=!0},useSimple:function(){fe=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!d},{create:function(e,t){return void 0===t?T(e):$e(T(e),t)},defineProperty:ve,defineProperties:$e,getOwnPropertyDescriptor:be}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:xe,getOwnPropertySymbols:ye}),n({target:"Object",stat:!0,forced:h((function(){C.f(1)}))},{getOwnPropertySymbols:function(e){return C.f(x(e))}}),re&&n({target:"JSON",stat:!0,forced:!u||h((function(){var e=J();return"[null]"!=re([e])||"{}"!=re({a:e})||"{}"!=re(Object(e))}))},{stringify:function(e,t,r){var n=O(arguments),i=t;if((v(t)||void 0!==e)&&!g(e))return p(t)||(t=function(e,t){if(m(i)&&(t=s(i,this,e,t)),!g(t))return t}),n[1]=t,o(re,null,n)}}),!Q[X]){var we=Q.valueOf;I(Q,X,(function(e){return s(we,this)}))}G(J,W),z[j]=!0},8201:function(e,t,r){r(2219)("matchAll")},1274:function(e,t,r){r(2219)("match")},6626:function(e,t,r){r(2219)("replace")},3211:function(e,t,r){r(2219)("search")},9952:function(e,t,r){r(2219)("species")},15:function(e,t,r){r(2219)("split")},9831:function(e,t,r){r(2219)("toPrimitive")},7521:function(e,t,r){r(2219)("toStringTag")},2972:function(e,t,r){r(2219)("unscopables")},4655:function(e,t,r){var n=r(7583),i=r(6778),a=r(9307),o=r(5677),s=r(57),c=r(3649),l=c("iterator"),d=c("toStringTag"),u=o.values,h=function(e,t){if(e){if(e[l]!==u)try{s(e,l,u)}catch(t){e[l]=u}if(e[d]||s(e,d,t),i[t])for(var r in o)if(e[r]!==o[r])try{s(e,r,o[r])}catch(t){e[r]=o[r]}}};for(var f in i)h(n[f]&&n[f].prototype,f);h(a,"DOMTokenList")},8765:function(e,t,r){var n=r(5036);r(4655),e.exports=n},5441:function(e,t,r){var n=r(2582);r(4655),e.exports=n},7705:function(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(n)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(o[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);n&&o[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),r&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=r):d[2]=r),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),t.push(d))}},t}},6738:function(e){e.exports=function(e){return e[1]}},8679:function(e){var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,r=window.WeakMap;if(void 0===r){var n=Object.defineProperty,i=Date.now()%1e9;(r=function(){this.name="__st"+(1e9*Math.random()>>>0)+i+++"__"}).prototype={set:function(e,t){var r=e[this.name];return r&&r[0]===e?r[1]=t:n(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];if(!t)return!1;var r=t[0]===e;return t[0]=t[1]=void 0,r},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}var a=new r,o=window.msSetImmediate;if(!o){var s=[],c=String(Math.random());window.addEventListener("message",(function(e){if(e.data===c){var t=s;s=[],t.forEach((function(e){e()}))}})),o=function(e){s.push(e),window.postMessage(c,"*")}}var l=!1,d=[];function u(){l=!1;var e=d;d=[],e.sort((function(e,t){return e.uid_-t.uid_}));var t=!1;e.forEach((function(e){var r,n=e.takeRecords();(r=e).nodes_.forEach((function(e){var t=a.get(e);t&&t.forEach((function(e){e.observer===r&&e.removeTransientObservers()}))})),n.length&&(e.callback_(n,e),t=!0)})),t&&u()}function h(e,t){for(var r=e;r;r=r.parentNode){var n=a.get(r);if(n)for(var i=0;i<n.length;i++){var o=n[i],s=o.options;if(r===e||s.subtree){var c=t(s);c&&o.enqueue(c)}}}}var f,p,m=0;function v(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++m}function $(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function g(e,t){return f=new $(e,t)}function b(e){var t,r;return p||((r=new $((t=f).type,t.target)).addedNodes=t.addedNodes.slice(),r.removedNodes=t.removedNodes.slice(),r.previousSibling=t.previousSibling,r.nextSibling=t.nextSibling,r.attributeName=t.attributeName,r.attributeNamespace=t.attributeNamespace,r.oldValue=t.oldValue,(p=r).oldValue=e,p)}function x(e,t,r){this.observer=e,this.target=t,this.options=r,this.transientObservedNodes=[]}v.prototype={observe:function(e,t){var r;if(r=e,e=window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(r)||r,!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var n,i=a.get(e);i||a.set(e,i=[]);for(var o=0;o<i.length;o++)if(i[o].observer===this){(n=i[o]).removeListeners(),n.options=t;break}n||(n=new x(this,e,t),i.push(n),this.nodes_.push(e)),n.addListeners()},disconnect:function(){this.nodes_.forEach((function(e){for(var t=a.get(e),r=0;r<t.length;r++){var n=t[r];if(n.observer===this){n.removeListeners(),t.splice(r,1);break}}}),this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}},x.prototype={enqueue:function(e){var t,r=this.observer.records_,n=r.length;if(r.length>0){var i=function(e,t){var r;return e===t?e:!p||(r=e)!==p&&r!==f?null:p}(r[n-1],e);if(i)return void(r[n-1]=i)}else t=this.observer,d.push(t),l||(l=!0,o(u));r[n]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=a.get(e);t||a.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach((function(e){this.removeListeners_(e);for(var t=a.get(e),r=0;r<t.length;r++)if(t[r]===this){t.splice(r,1);break}}),this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,r=e.relatedNode.namespaceURI,n=e.target;(a=new g("attributes",n)).attributeName=t,a.attributeNamespace=r;var i=null;"undefined"!=typeof MutationEvent&&e.attrChange===MutationEvent.ADDITION||(i=e.prevValue),h(n,(function(e){if(e.attributes&&(!e.attributeFilter||!e.attributeFilter.length||-1!==e.attributeFilter.indexOf(t)||-1!==e.attributeFilter.indexOf(r)))return e.attributeOldValue?b(i):a}));break;case"DOMCharacterDataModified":var a=g("characterData",n=e.target);i=e.prevValue,h(n,(function(e){if(e.characterData)return e.characterDataOldValue?b(i):a}));break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":n=e.relatedNode;var o,s,c=e.target;"DOMNodeInserted"===e.type?(o=[c],s=[]):(o=[],s=[c]);var l=c.previousSibling,d=c.nextSibling;(a=g("childList",n)).addedNodes=o,a.removedNodes=s,a.previousSibling=l,a.nextSibling=d,h(n,(function(e){if(e.childList)return a}))}f=p=void 0}},t||(t=v),e.exports=t},7588:function(e){var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i,a,o,s,c=t&&t.prototype instanceof v?t:v,l=Object.create(c.prototype),$=new A(n||[]);return l._invoke=(i=e,a=r,o=$,s=u,function(e,t){if(s===f)throw new Error("Generator is already running");if(s===p){if("throw"===e)throw t;return L()}for(o.method=e,o.arg=t;;){var r=o.delegate;if(r){var n=T(r,o);if(n){if(n===m)continue;return n}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(s===u)throw s=p,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);s=f;var c=d(i,a,o);if("normal"===c.type){if(s=o.done?p:h,c.arg===m)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(s=p,o.method="throw",o.arg=c.arg)}}),l}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u="suspendedStart",h="suspendedYield",f="executing",p="completed",m={};function v(){}function $(){}function g(){}var b={};c(b,a,(function(){return this}));var x=Object.getPrototypeOf,y=x&&x(x(C([])));y&&y!==r&&n.call(y,a)&&(b=y);var w=g.prototype=v.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(i,a,o,s){var c=d(e[i],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(u).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(c.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function T(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method))return m;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=d(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function C(e){if(e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:L}}function L(){return{value:t,done:!0}}return $.prototype=g,c(w,"constructor",g),c(g,"constructor",$),$.displayName=c(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===$||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(S.prototype),c(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new S(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(w),c(w,s,"Generator"),c(w,a,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=C,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6958:function(e,t,r){r.d(t,{Z:function(){return I}});var n=r(4296),i=r(6464),a=r(6881),o=r(2942),s=r(7003),c=r(3379),l=r.n(c),d=r(7795),u=r.n(d),h=r(569),f=r.n(h),p=r(3565),m=r.n(p),v=r(9216),$=r.n(v),g=r(4589),b=r.n(g),x=r(9746),y={};x.Z&&x.Z.locals&&(y.locals=x.Z.locals);var w,_=0,S={};S.styleTagTransform=b(),S.setAttributes=m(),S.insert=f().bind(null,"head"),S.domAPI=u(),S.insertStyleElement=$(),y.use=function(e){return S.options=e||{},_++||(w=l()(x.Z,S)),y},y.unuse=function(){_>0&&!--_&&(w(),w=null)};var T=y;function M(e){var t,r;return{c:function(){t=(0,o.bi5)("svg"),r=(0,o.bi5)("path"),(0,o.Ljt)(r,"d","M599.99999 832.000004h47.999999a24 24 0 0 0 23.999999-24V376.000013a24 24 0 0 0-23.999999-24h-47.999999a24 24 0 0 0-24 24v431.999991a24 24 0 0 0 24 24zM927.999983 160.000017h-164.819997l-67.999998-113.399998A95.999998 95.999998 0 0 0 612.819989 0.00002H411.179993a95.999998 95.999998 0 0 0-82.319998 46.599999L260.819996 160.000017H95.999999A31.999999 31.999999 0 0 0 64 192.000016v32a31.999999 31.999999 0 0 0 31.999999 31.999999h32v671.999987a95.999998 95.999998 0 0 0 95.999998 95.999998h575.999989a95.999998 95.999998 0 0 0 95.999998-95.999998V256.000015h31.999999a31.999999 31.999999 0 0 0 32-31.999999V192.000016a31.999999 31.999999 0 0 0-32-31.999999zM407.679993 101.820018A12 12 0 0 1 417.999993 96.000018h187.999996a12 12 0 0 1 10.3 5.82L651.219989 160.000017H372.779994zM799.999986 928.000002H223.999997V256.000015h575.999989z m-423.999992-95.999998h47.999999a24 24 0 0 0 24-24V376.000013a24 24 0 0 0-24-24h-47.999999a24 24 0 0 0-24 24v431.999991a24 24 0 0 0 24 24z"),(0,o.Ljt)(t,"class","vc-icon-delete"),(0,o.Ljt)(t,"viewBox","0 0 1024 1024"),(0,o.Ljt)(t,"width","200"),(0,o.Ljt)(t,"height","200")},m:function(e,n){(0,o.$Tr)(e,t,n),(0,o.R3I)(t,r)},d:function(e){e&&(0,o.ogt)(t)}}}function E(e){var t,r,n;return{c:function(){t=(0,o.bi5)("svg"),r=(0,o.bi5)("path"),n=(0,o.bi5)("path"),(0,o.Ljt)(r,"d","M874.154197 150.116875A511.970373 511.970373 0 1 0 1023.993986 511.991687a511.927744 511.927744 0 0 0-149.839789-361.874812z m-75.324866 648.382129A405.398688 405.398688 0 1 1 917.422301 511.991687a405.313431 405.313431 0 0 1-118.59297 286.507317z"),(0,o.Ljt)(n,"d","M725.039096 299.274605a54.351559 54.351559 0 0 0-76.731613 0l-135.431297 135.431297L377.274375 299.274605a54.436817 54.436817 0 0 0-76.944756 76.987385l135.388668 135.431297-135.388668 135.473925a54.436817 54.436817 0 0 0 76.944756 76.987385l135.388668-135.431297 135.431297 135.473926a54.436817 54.436817 0 0 0 76.731613-76.987385l-135.388668-135.473926 135.388668-135.431296a54.479445 54.479445 0 0 0 0.213143-77.030014z"),(0,o.Ljt)(t,"viewBox","0 0 1024 1024"),(0,o.Ljt)(t,"width","200"),(0,o.Ljt)(t,"height","200")},m:function(e,i){(0,o.$Tr)(e,t,i),(0,o.R3I)(t,r),(0,o.R3I)(t,n)},d:function(e){e&&(0,o.ogt)(t)}}}function A(e){var t,r;return{c:function(){t=(0,o.bi5)("svg"),r=(0,o.bi5)("path"),(0,o.Ljt)(r,"fill-rule","evenodd"),(0,o.Ljt)(r,"d","M5.75 1a.75.75 0 00-.75.75v3c0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75v-3a.75.75 0 00-.75-.75h-4.5zm.75 3V2.5h3V4h-3zm-2.874-.467a.75.75 0 00-.752-1.298A1.75 1.75 0 002 3.75v9.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 13.25v-9.5a1.75 1.75 0 00-.874-1.515.75.75 0 10-.752 1.298.25.25 0 01.126.217v9.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-9.5a.25.25 0 01.126-.217z"),(0,o.Ljt)(t,"class","vc-icon-copy"),(0,o.Ljt)(t,"viewBox","0 0 16 16")},m:function(e,n){(0,o.$Tr)(e,t,n),(0,o.R3I)(t,r)},d:function(e){e&&(0,o.ogt)(t)}}}function C(e){var t,r;return{c:function(){t=(0,o.bi5)("svg"),r=(0,o.bi5)("path"),(0,o.Ljt)(r,"fill-rule","evenodd"),(0,o.Ljt)(r,"d","M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"),(0,o.Ljt)(t,"class","vc-icon-suc"),(0,o.Ljt)(t,"viewBox","0 0 16 16")},m:function(e,n){(0,o.$Tr)(e,t,n),(0,o.R3I)(t,r)},d:function(e){e&&(0,o.ogt)(t)}}}function L(e){var t,r,n;return{c:function(){t=(0,o.bi5)("svg"),r=(0,o.bi5)("path"),n=(0,o.bi5)("path"),(0,o.Ljt)(r,"d","M776.533333 1024 162.133333 1024C72.533333 1024 0 951.466667 0 861.866667L0 247.466667C0 157.866667 72.533333 85.333333 162.133333 85.333333L469.333333 85.333333c25.6 0 42.666667 17.066667 42.666667 42.666667s-17.066667 42.666667-42.666667 42.666667L162.133333 170.666667C119.466667 170.666667 85.333333 204.8 85.333333 247.466667l0 610.133333c0 42.666667 34.133333 76.8 76.8 76.8l610.133333 0c42.666667 0 76.8-34.133333 76.8-76.8L849.066667 554.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 307.2C938.666667 951.466667 866.133333 1024 776.533333 1024z"),(0,o.Ljt)(n,"d","M256 810.666667c-12.8 0-21.333333-4.266667-29.866667-12.8C217.6 789.333333 213.333333 772.266667 213.333333 759.466667l42.666667-213.333333c0-8.533333 4.266667-17.066667 12.8-21.333333l512-512c17.066667-17.066667 42.666667-17.066667 59.733333 0l170.666667 170.666667c17.066667 17.066667 17.066667 42.666667 0 59.733333l-512 512c-4.266667 4.266667-12.8 8.533333-21.333333 12.8l-213.333333 42.666667C260.266667 810.666667 260.266667 810.666667 256 810.666667zM337.066667 576l-25.6 136.533333 136.533333-25.6L921.6 213.333333 810.666667 102.4 337.066667 576z"),(0,o.Ljt)(t,"class","vc-icon-edit"),(0,o.Ljt)(t,"viewBox","0 0 1024 1024"),(0,o.Ljt)(t,"width","200"),(0,o.Ljt)(t,"height","200")},m:function(e,i){(0,o.$Tr)(e,t,i),(0,o.R3I)(t,r),(0,o.R3I)(t,n)},d:function(e){e&&(0,o.ogt)(t)}}}function R(e){var t,r;return{c:function(){t=(0,o.bi5)("svg"),r=(0,o.bi5)("path"),(0,o.Ljt)(r,"d","M581.338005 987.646578c-2.867097 4.095853-4.573702 8.669555-8.191705 12.287558a83.214071 83.214071 0 0 1-60.959939 24.029001 83.214071 83.214071 0 0 1-61.028203-24.029001c-3.618003-3.618003-5.324608-8.191705-8.123441-12.15103L24.370323 569.050448a83.418864 83.418864 0 0 1 117.892289-117.89229l369.923749 369.92375L1308.829682 24.438587A83.418864 83.418864 0 0 1 1426.721971 142.194348L581.338005 987.646578z"),(0,o.Ljt)(t,"class","vc-icon-don"),(0,o.Ljt)(t,"viewBox","0 0 1501 1024"),(0,o.Ljt)(t,"width","200"),(0,o.Ljt)(t,"height","200")},m:function(e,n){(0,o.$Tr)(e,t,n),(0,o.R3I)(t,r)},d:function(e){e&&(0,o.ogt)(t)}}}function P(e){var t,r;return{c:function(){t=(0,o.bi5)("svg"),r=(0,o.bi5)("path"),(0,o.Ljt)(r,"d","M894.976 574.464q0 78.848-29.696 148.48t-81.408 123.392-121.856 88.064-151.04 41.472q-5.12 1.024-9.216 1.536t-9.216 0.512l-177.152 0q-17.408 0-34.304-6.144t-30.208-16.896-22.016-25.088-8.704-29.696 8.192-29.696 21.504-24.576 29.696-16.384 33.792-6.144l158.72 1.024q54.272 0 102.4-19.968t83.968-53.76 56.32-79.36 20.48-97.792q0-49.152-18.432-92.16t-50.688-76.8-75.264-54.784-93.184-26.112q-2.048 0-2.56 0.512t-2.56 0.512l-162.816 0 0 80.896q0 17.408-13.824 25.6t-44.544-10.24q-8.192-5.12-26.112-17.92t-41.984-30.208-50.688-36.864l-51.2-38.912q-15.36-12.288-26.624-22.016t-11.264-24.064q0-12.288 12.8-25.6t29.184-26.624q18.432-15.36 44.032-35.84t50.688-39.936 45.056-35.328 28.16-22.016q24.576-17.408 39.936-7.168t16.384 30.72l0 81.92 162.816 0q5.12 0 10.752 1.024t10.752 2.048q79.872 8.192 149.504 41.984t121.344 87.552 80.896 123.392 29.184 147.456z"),(0,o.Ljt)(t,"class","vc-icon-cancel"),(0,o.Ljt)(t,"viewBox","0 0 1024 1024"),(0,o.Ljt)(t,"width","200"),(0,o.Ljt)(t,"height","200")},m:function(e,n){(0,o.$Tr)(e,t,n),(0,o.R3I)(t,r)},d:function(e){e&&(0,o.ogt)(t)}}}function D(e){var t,r,n,i,a,s,c,l,d,u="delete"===e[0]&&M(),h="clear"===e[0]&&E(),f="copy"===e[0]&&A(),p="success"===e[0]&&C(),m="edit"===e[0]&&L(),v="done"===e[0]&&R(),$="cancel"===e[0]&&P();return{c:function(){t=(0,o.bGB)("i"),u&&u.c(),r=(0,o.DhX)(),h&&h.c(),n=(0,o.DhX)(),f&&f.c(),i=(0,o.DhX)(),p&&p.c(),a=(0,o.DhX)(),m&&m.c(),s=(0,o.DhX)(),v&&v.c(),c=(0,o.DhX)(),$&&$.c(),(0,o.Ljt)(t,"class","vc-icon")},m:function(g,b){(0,o.$Tr)(g,t,b),u&&u.m(t,null),(0,o.R3I)(t,r),h&&h.m(t,null),(0,o.R3I)(t,n),f&&f.m(t,null),(0,o.R3I)(t,i),p&&p.m(t,null),(0,o.R3I)(t,a),m&&m.m(t,null),(0,o.R3I)(t,s),v&&v.m(t,null),(0,o.R3I)(t,c),$&&$.m(t,null),l||(d=(0,o.oLt)(t,"click",e[1]),l=!0)},p:function(e,o){o[0],"delete"===e[0]?u||((u=M()).c(),u.m(t,r)):u&&(u.d(1),u=null),"clear"===e[0]?h||((h=E()).c(),h.m(t,n)):h&&(h.d(1),h=null),"copy"===e[0]?f||((f=A()).c(),f.m(t,i)):f&&(f.d(1),f=null),"success"===e[0]?p||((p=C()).c(),p.m(t,a)):p&&(p.d(1),p=null),"edit"===e[0]?m||((m=L()).c(),m.m(t,s)):m&&(m.d(1),m=null),"done"===e[0]?v||((v=R()).c(),v.m(t,c)):v&&(v.d(1),v=null),"cancel"===e[0]?$||(($=P()).c(),$.m(t,null)):$&&($.d(1),$=null)},i:o.ZTd,o:o.ZTd,d:function(e){e&&(0,o.ogt)(t),u&&u.d(),h&&h.d(),f&&f.d(),p&&p.d(),m&&m.d(),v&&v.d(),$&&$.d(),l=!1,d()}}}function O(e,t,r){var n=t.name;return(0,s.H3)((function(){T.use()})),(0,s.ev)((function(){T.unuse()})),e.$$set=function(e){"name"in e&&r(0,n=e.name)},[n,function(t){o.cKT.call(this,e,t)}]}var I=function(e){function t(t){var r;return r=e.call(this)||this,(0,o.S1n)((0,i.Z)(r),t,O,D,o.N8,{name:0}),r}return(0,a.Z)(t,e),(0,n.Z)(t,[{key:"name",get:function(){return this.$$.ctx[0]},set:function(e){this.$$set({name:e}),(0,o.yl1)()}}]),t}(o.f_C)},3903:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6464),_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6881),svelte_internal__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2942),svelte__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7003),_component_icon_svelte__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6958),_logTool__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8665),_log_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5629),_logCommand_less__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3411);function get_each_context(e,t,r){var n=e.slice();return n[28]=t[r],n}function create_if_block_2(e){var t,r,n;return{c:function(){(t=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("li")).textContent="Close",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(t,"class","vc-cmd-prompted-hide")},m:function(i,a){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(i,t,a),r||(n=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(t,"click",e[5]),r=!0)},p:svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ZTd,d:function(e){e&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(t),r=!1,n()}}}function create_else_block(e){var t;return{c:function(){(t=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("li")).textContent="No Prompted"},m:function(e,r){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(e,t,r)},p:svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ZTd,d:function(e){e&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(t)}}}function create_each_block(e){var t,r,n,i,a=e[28].text+"";function o(){return e[14](e[28])}return{c:function(){t=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("li"),r=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.fLW)(a)},m:function(e,a){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(e,t,a),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(t,r),n||(i=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(t,"click",o),n=!0)},p:function(t,n){e=t,8&n&&a!==(a=e[28].text+"")&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.rTO)(r,a)},d:function(e){e&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(t),n=!1,i()}}}function create_if_block_1(e){var t,r,n,i,a;return r=new _component_icon_svelte__WEBPACK_IMPORTED_MODULE_2__.Z({props:{name:"clear"}}),{c:function(){t=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("div"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.YCL)(r.$$.fragment),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(t,"class","vc-cmd-clear-btn")},m:function(o,s){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(o,t,s),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.yef)(r,t,null),n=!0,i||(a=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(t,"click",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.AT7)(e[15])),i=!0)},p:svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ZTd,i:function(e){n||((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(r.$$.fragment,e),n=!0)},o:function(e){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(r.$$.fragment,e),n=!1},d:function(e){e&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(t),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.vpE)(r),i=!1,a()}}}function create_if_block(e){var t,r,n,i,a;return r=new _component_icon_svelte__WEBPACK_IMPORTED_MODULE_2__.Z({props:{name:"clear"}}),{c:function(){t=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("div"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.YCL)(r.$$.fragment),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(t,"class","vc-cmd-clear-btn")},m:function(o,s){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(o,t,s),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.yef)(r,t,null),n=!0,i||(a=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(t,"click",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.AT7)(e[18])),i=!0)},p:svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ZTd,i:function(e){n||((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(r.$$.fragment,e),n=!0)},o:function(e){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(r.$$.fragment,e),n=!1},d:function(e){e&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(t),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.vpE)(r),i=!1,a()}}}function create_fragment(e){for(var t,r,n,i,a,o,s,c,l,d,u,h,f,p,m,v,$,g,b,x,y,w=e[3].length>0&&create_if_block_2(e),_=e[3],S=[],T=0;T<_.length;T+=1)S[T]=create_each_block(get_each_context(e,_,T));var M=null;_.length||(M=create_else_block(e));var E=e[1].length>0&&create_if_block_1(e),A=e[4].length>0&&create_if_block(e);return{c:function(){t=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("form"),(r=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("button")).textContent="OK",n=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),i=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("ul"),w&&w.c(),a=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)();for(var b=0;b<S.length;b+=1)S[b].c();M&&M.c(),o=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),s=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("div"),E&&E.c(),c=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),l=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("textarea"),d=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),u=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("form"),(h=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("button")).textContent="Filter",f=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),p=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("ul"),m=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),v=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("div"),A&&A.c(),$=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),g=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("textarea"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(r,"class","vc-cmd-btn"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(r,"type","submit"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(i,"class","vc-cmd-prompted"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(i,"style",e[2]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(l,"class","vc-cmd-input"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(l,"placeholder","command..."),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(s,"class","vc-cmd-input-wrap"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(t,"class","vc-cmd"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(h,"class","vc-cmd-btn"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(h,"type","submit"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(p,"class","vc-cmd-prompted"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(g,"class","vc-cmd-input"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(g,"placeholder","filter..."),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(v,"class","vc-cmd-input-wrap"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(u,"class","vc-cmd vc-filter")},m:function(_,T){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(_,t,T),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(t,r),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(t,n),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(t,i),w&&w.m(i,null),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(i,a);for(var C=0;C<S.length;C+=1)S[C].m(i,null);M&&M.m(i,null),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(t,o),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(t,s),E&&E.m(s,null),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(s,c),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(s,l),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.BmG)(l,e[1]),e[17](l),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(_,d,T),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(_,u,T),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(u,h),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(u,f),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(u,p),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(u,m),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(u,v),A&&A.m(v,null),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(v,$),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(v,g),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.BmG)(g,e[4]),b=!0,x||(y=[(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(l,"input",e[16]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(l,"keydown",e[10]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(l,"keyup",e[11]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(l,"focus",e[8]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(l,"blur",e[9]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(t,"submit",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.AT7)(e[12])),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(g,"input",e[19]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(u,"submit",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.AT7)(e[13]))],x=!0)},p:function(e,t){var r=t[0];if(e[3].length>0?w?w.p(e,r):((w=create_if_block_2(e)).c(),w.m(i,a)):w&&(w.d(1),w=null),136&r){var n;for(_=e[3],n=0;n<_.length;n+=1){var o=get_each_context(e,_,n);S[n]?S[n].p(o,r):(S[n]=create_each_block(o),S[n].c(),S[n].m(i,null))}for(;n<S.length;n+=1)S[n].d(1);S.length=_.length,!_.length&&M?M.p(e,r):_.length?M&&(M.d(1),M=null):((M=create_else_block(e)).c(),M.m(i,null))}(!b||4&r)&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(i,"style",e[2]),e[1].length>0?E?(E.p(e,r),2&r&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(E,1)):((E=create_if_block_1(e)).c(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(E,1),E.m(s,c)):E&&((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.dvw)(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(E,1,1,(function(){E=null})),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.gbL)()),2&r&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.BmG)(l,e[1]),e[4].length>0?A?(A.p(e,r),16&r&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(A,1)):((A=create_if_block(e)).c(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(A,1),A.m(v,$)):A&&((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.dvw)(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(A,1,1,(function(){A=null})),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.gbL)()),16&r&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.BmG)(g,e[4])},i:function(e){b||((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(E),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(A),b=!0)},o:function(e){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(E),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(A),b=!1},d:function(r){r&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(t),w&&w.d(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.RMB)(S,r),M&&M.d(),E&&E.d(),e[17](null),r&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(d),r&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(u),A&&A.d(),x=!1,(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.j7q)(y)}}}function instance($$self,$$props,$$invalidate){var module=_log_model__WEBPACK_IMPORTED_MODULE_3__.W.getSingleton(_log_model__WEBPACK_IMPORTED_MODULE_3__.W,"VConsoleLogModel"),cachedObjKeys={},dispatch=(0,svelte__WEBPACK_IMPORTED_MODULE_1__.x)(),cmdElement,cmdValue="",promptedStyle="",promptedList=[],filterValue="";(0,svelte__WEBPACK_IMPORTED_MODULE_1__.H3)((function(){_logCommand_less__WEBPACK_IMPORTED_MODULE_4__.Z.use()})),(0,svelte__WEBPACK_IMPORTED_MODULE_1__.ev)((function(){_logCommand_less__WEBPACK_IMPORTED_MODULE_4__.Z.unuse()}));var evalCommand=function(e){module.evalCommand(e)},moveCursorToPos=function(e,t){e.setSelectionRange&&setTimeout((function(){e.setSelectionRange(t,t)}),1)},clearPromptedList=function(){$$invalidate(2,promptedStyle="display: none;"),$$invalidate(3,promptedList=[])},updatePromptedList=function updatePromptedList(identifier){if(""!==cmdValue){identifier||(identifier=(0,_logTool__WEBPACK_IMPORTED_MODULE_5__.oj)(cmdValue));var objName="window",keyName=cmdValue;if("."!==identifier.front.text&&"["!==identifier.front.text||(objName=identifier.front.before,keyName=""!==identifier.back.text?identifier.back.before:identifier.front.after),keyName=keyName.replace(/(^['"]+)|(['"']+$)/g,""),!cachedObjKeys[objName])try{cachedObjKeys[objName]=Object.getOwnPropertyNames(eval("("+objName+")")).sort()}catch(e){}try{if(cachedObjKeys[objName])for(var i=0;i<cachedObjKeys[objName].length&&!(promptedList.length>=100);i++){var key=String(cachedObjKeys[objName][i]),keyPattern=new RegExp("^"+keyName,"i");if(keyPattern.test(key)){var completeCmd=objName;"."===identifier.front.text||""===identifier.front.text?completeCmd+="."+key:"["===identifier.front.text&&(completeCmd+="['"+key+"']"),promptedList.push({text:key,value:completeCmd})}}}catch(e){}if(promptedList.length>0){var m=Math.min(200,31*(promptedList.length+1));$$invalidate(2,promptedStyle="display: block; height: "+m+"px; margin-top: "+(-m-2)+"px;"),$$invalidate(3,promptedList)}else clearPromptedList()}else clearPromptedList()},autoCompleteBrackets=function(e,t){if(8!==t&&46!==t&&""===e.front.after)switch(e.front.text){case"[":return $$invalidate(1,cmdValue+="]"),void moveCursorToPos(cmdElement,cmdValue.length-1);case"(":return $$invalidate(1,cmdValue+=")"),void moveCursorToPos(cmdElement,cmdValue.length-1);case"{":return $$invalidate(1,cmdValue+="}"),void moveCursorToPos(cmdElement,cmdValue.length-1)}},dispatchFilterEvent=function(){dispatch("filterText",{filterText:filterValue})},onTapClearText=function(e){"cmd"===e?($$invalidate(1,cmdValue=""),clearPromptedList()):"filter"===e&&($$invalidate(4,filterValue=""),dispatchFilterEvent())},onTapPromptedItem=function onTapPromptedItem(item){var type="";try{type=eval("typeof "+item.value)}catch(e){}$$invalidate(1,cmdValue=item.value+("function"===type?"()":"")),clearPromptedList()},onCmdFocus=function(){updatePromptedList()},onCmdBlur=function(){},onCmdKeyDown=function(e){13===e.keyCode&&(e.preventDefault(),onCmdSubmit())},onCmdKeyUp=function(e){$$invalidate(3,promptedList=[]);var t=(0,_logTool__WEBPACK_IMPORTED_MODULE_5__.oj)(e.target.value);autoCompleteBrackets(t,e.keyCode),updatePromptedList(t)},onCmdSubmit=function(){""!==cmdValue&&evalCommand(cmdValue),clearPromptedList()},onFilterSubmit=function(e){dispatchFilterEvent()},click_handler=function(e){return onTapPromptedItem(e)},click_handler_1=function(){return onTapClearText("cmd")};function textarea0_input_handler(){cmdValue=this.value,$$invalidate(1,cmdValue)}function textarea0_binding(e){svelte_internal__WEBPACK_IMPORTED_MODULE_0__.VnY[e?"unshift":"push"]((function(){$$invalidate(0,cmdElement=e)}))}var click_handler_2=function(){return onTapClearText("filter")};function textarea1_input_handler(){filterValue=this.value,$$invalidate(4,filterValue)}return[cmdElement,cmdValue,promptedStyle,promptedList,filterValue,clearPromptedList,onTapClearText,onTapPromptedItem,onCmdFocus,onCmdBlur,onCmdKeyDown,onCmdKeyUp,onCmdSubmit,onFilterSubmit,click_handler,click_handler_1,textarea0_input_handler,textarea0_binding,click_handler_2,textarea1_input_handler]}var LogCommand=function(e){function t(t){var r;return r=e.call(this)||this,(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.S1n)((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.Z)(r),t,instance,create_fragment,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.N8,{}),r}return(0,_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_6__.Z)(t,e),t}(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.f_C);__webpack_exports__.Z=LogCommand},4687:function(e,t,r){r.d(t,{x:function(){return i}});var n=r(3313),i=function(){var e=(0,n.fZ)({updateTime:0}),t=e.subscribe,r=e.set,i=e.update;return{subscribe:t,set:r,update:i,updateTime:function(){i((function(e){return e.updateTime=Date.now(),e}))}}}()},643:function(e,t,r){r.d(t,{N:function(){return n}});var n=function(){function e(){this._onDataUpdateCallbacks=[]}return e.getSingleton=function(t,r){return r||(r=t.toString()),e.singleton[r]||(e.singleton[r]=new t),e.singleton[r]},e}();n.singleton={}},5103:function(e,t,r){function n(e){return"[object Number]"===Object.prototype.toString.call(e)}function i(e){return"bigint"==typeof e}function a(e){return"string"==typeof e}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function s(e){return"boolean"==typeof e}function c(e){return void 0===e}function l(e){return null===e}function d(e){return"symbol"==typeof e}function u(e){return!("[object Object]"!==Object.prototype.toString.call(e)&&(n(e)||i(e)||a(e)||s(e)||o(e)||l(e)||h(e)||c(e)||d(e)))}function h(e){return"function"==typeof e}function f(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}function p(e){var t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object DOMWindow]"===t||"[object global]"===t}function m(e){return null!=e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e&&"function"!=typeof e&&"symbol"!=typeof e&&"bigint"!=typeof e&&"undefined"!=typeof Symbol&&"function"==typeof e[Symbol.iterator]}function v(e){return Object.prototype.toString.call(e).replace(/\[object (.*)\]/,"$1")}r.d(t,{Ak:function(){return w},C4:function(){return i},DV:function(){return g},FJ:function(){return p},Ft:function(){return l},HD:function(){return a},H_:function(){return U},KL:function(){return C},Kn:function(){return u},MH:function(){return D},PO:function(){return b},QI:function(){return z},QK:function(){return O},TW:function(){return m},_D:function(){return I},cF:function(){return B},hZ:function(){return A},hj:function(){return n},id:function(){return L},jn:function(){return s},kJ:function(){return o},kK:function(){return f},mf:function(){return h},o8:function(){return c},po:function(){return N},qr:function(){return P},qt:function(){return k},rE:function(){return T},yk:function(){return d},zl:function(){return v}});var $=/(function|class) ([^ \{\()}]{1,})[\(| ]/;function g(e){var t;if(null==e)return"";var r=$.exec((null==e||null==(t=e.constructor)?void 0:t.toString())||"");return r&&r.length>1?r[2]:""}function b(e){var t,r=Object.prototype.hasOwnProperty;if(!e||"object"!=typeof e||e.nodeType||p(e))return!1;try{if(e.constructor&&!r.call(e,"constructor")&&!r.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(t in e);return void 0===t||r.call(e,t)}var x=/[<>&" ]/g,y=function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"," ":"&nbsp;"}[e]};function w(e){return"string"!=typeof e&&"number"!=typeof e?e:String(e).replace(x,y)}var _=/[\n\t]/g,S=function(e){return{"\n":"\\n","\t":"\\t"}[e]};function T(e){return"string"!=typeof e?e:String(e).replace(_,S)}var M=function(e,t){void 0===t&&(t=0);var r="";return a(e)?(t>0&&(e=L(e,t)),r+='"'+T(e)+'"'):d(e)?r+=String(e).replace(/^Symbol\((.*)\)$/i,'Symbol("$1")'):h(e)?r+=(e.name||"function")+"()":i(e)?r+=String(e)+"n":r+=String(e),r},E=function e(t,r,n){if(void 0===n&&(n=0),u(t)||o(t))if(r.circularFinder(t)){if(o(t))r.ret+="(Circular Array)";else if(u){var i;r.ret+="(Circular "+((null==(i=t.constructor)?void 0:i.name)||"Object")+")"}}else{var a="",s="";if(r.pretty){for(var c=0;c<=n;c++)a+="  ";s="\n"}var l="{",h="}";o(t)&&(l="[",h="]"),r.ret+=l+s;for(var f=D(t),p=0;p<f.length;p++){var m=f[p];r.ret+=a;try{o(t)||(u(m)||o(m)||d(m)?r.ret+=Object.prototype.toString.call(m):r.ret+=m,r.ret+=": ")}catch(e){continue}try{var v=t[m];if(o(v))r.maxDepth>-1&&n>=r.maxDepth?r.ret+="Array("+v.length+")":e(v,r,n+1);else if(u(v)){var $;r.maxDepth>-1&&n>=r.maxDepth?r.ret+=((null==($=v.constructor)?void 0:$.name)||"Object")+" {}":e(v,r,n+1)}else r.ret+=M(v,r.keyMaxLen)}catch(e){r.ret+="(...)"}if(r.keyMaxLen>0&&r.ret.length>=10*r.keyMaxLen){r.ret+=", (...)";break}p<f.length-1&&(r.ret+=", "),r.ret+=s}r.ret+=a.substring(0,a.length-2)+h}else r.ret+=M(t,r.keyMaxLen)};function A(e,t){void 0===t&&(t={maxDepth:-1,keyMaxLen:-1,pretty:!1});var r,n=Object.assign({ret:"",maxDepth:-1,keyMaxLen:-1,pretty:!1,circularFinder:(r=new WeakSet,function(e){if("object"==typeof e&&null!==e){if(r.has(e))return!0;r.add(e)}return!1})},t);return E(e,n),n.ret}function C(e){return e<=0?"":e>=1e6?(e/1e3/1e3).toFixed(1)+" MB":e>=1e3?(e/1e3).toFixed(1)+" KB":e+" B"}function L(e,t){return e.length>t&&(e=e.substring(0,t)+"...("+C(function(e){try{return encodeURI(e).split(/%(?:u[0-9A-F]{2})?[0-9A-F]{2}|./).length-1}catch(e){return 0}}(e))+")"),e}var R=function(e,t){return String(e).localeCompare(String(t),void 0,{numeric:!0,sensitivity:"base"})};function P(e){return e.sort(R)}function D(e){return u(e)||o(e)?Object.keys(e):[]}function O(e){var t,r=D(e);return(u(t=e)||o(t)?Object.getOwnPropertyNames(t):[]).filter((function(e){return-1===r.indexOf(e)}))}function I(e){return u(e)||o(e)?Object.getOwnPropertySymbols(e):[]}function N(e,t){window.localStorage&&(e="vConsole_"+e,localStorage.setItem(e,t))}function B(e){if(window.localStorage)return e="vConsole_"+e,localStorage.getItem(e)}function z(e){return void 0===e&&(e=""),"__vc_"+e+Math.random().toString(36).substring(2,8)}function U(){return"undefined"!=typeof window&&!!window.__wxConfig&&!!window.wx&&!!window.__virtualDOM__}function k(e){if(U()&&"function"==typeof window.wx[e])try{for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=(t=window.wx[e]).call.apply(t,[window.wx].concat(n));return a}catch(t){return void console.debug("[vConsole] Fail to call wx."+e+"():",t)}}},5629:function(e,t,r){r.d(t,{W:function(){return l}});var n=r(6881),i=r(5103),a=r(643),o=r(4687),s=r(8665),c=r(9923),l=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).LOG_METHODS=["log","info","warn","debug","error"],t.ADDED_LOG_PLUGIN_ID=[],t.maxLogNumber=1e3,t.logCounter=0,t.pluginPattern=void 0,t.origConsole={},t}(0,n.Z)(t,e);var r=t.prototype;return r.bindPlugin=function(e){return!(this.ADDED_LOG_PLUGIN_ID.indexOf(e)>-1||(0===this.ADDED_LOG_PLUGIN_ID.length&&this.mockConsole(),c.O.create(e),this.ADDED_LOG_PLUGIN_ID.push(e),this.pluginPattern=new RegExp("^\\[("+this.ADDED_LOG_PLUGIN_ID.join("|")+")\\]$","i"),0))},r.unbindPlugin=function(e){var t=this.ADDED_LOG_PLUGIN_ID.indexOf(e);return-1!==t&&(this.ADDED_LOG_PLUGIN_ID.splice(t,1),c.O.delete(e),0===this.ADDED_LOG_PLUGIN_ID.length&&this.unmockConsole(),!0)},r.mockConsole=function(){var e=this;if("function"!=typeof this.origConsole.log){var t=this.LOG_METHODS;window.console?(t.map((function(t){e.origConsole[t]=window.console[t]})),this.origConsole.time=window.console.time,this.origConsole.timeEnd=window.console.timeEnd,this.origConsole.clear=window.console.clear):window.console={},t.map((function(t){window.console[t]=function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.addLog({type:t,origData:n||[]})}.bind(window.console)}));var r={};window.console.time=function(e){void 0===e&&(e=""),r[e]=Date.now()}.bind(window.console),window.console.timeEnd=function(t){void 0===t&&(t="");var n=r[t];n?(e.addLog({type:"log",origData:[t+":",Date.now()-n+"ms"]}),delete r[t]):e.addLog({type:"log",origData:[t+": 0ms"]})}.bind(window.console),window.console.clear=function(){e.clearLog();for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];e.callOriginalConsole.apply(e,["clear"].concat(r))}.bind(window.console),window._vcOrigConsole=this.origConsole}},r.unmockConsole=function(){for(var e in this.origConsole)window.console[e]=this.origConsole[e],delete this.origConsole[e];window._vcOrigConsole&&delete window._vcOrigConsole},r.callOriginalConsole=function(e){if("function"==typeof this.origConsole[e]){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.origConsole[e].apply(window.console,r)}},r.clearLog=function(){var e=c.O.getAll();for(var t in e)e[t].update((function(e){return e.logList=[],e}))},r.clearPluginLog=function(e){c.O.get(e).update((function(e){return e.logList=[],e}))},r.addLog=function(e,t){void 0===e&&(e={type:"log",origData:[]});var r={_id:i.QI(),type:e.type,cmdType:null==t?void 0:t.cmdType,date:Date.now(),data:(0,s.b1)(e.origData||[])},n=this._extractPluginIdByLog(r);this._isRepeatedLog(n,r)?this._updateLastLogRepeated(n):(this._pushLogList(n,r),this._limitLogListLength()),null!=t&&t.noOrig||this.callOriginalConsole.apply(this,[e.type].concat(e.origData))},r.evalCommand=function(e){this.addLog({type:"log",origData:[e]},{cmdType:"input"});var t=void 0;try{t=eval.call(window,"("+e+")")}catch(r){try{t=eval.call(window,e)}catch(e){}}this.addLog({type:"log",origData:[t]},{cmdType:"output"})},r._extractPluginIdByLog=function(e){var t,r="default",n=null==(t=e.data[0])?void 0:t.origData;if(i.HD(n)){var a=n.match(this.pluginPattern);if(null!==a&&a.length>1){var o=a[1].toLowerCase();this.ADDED_LOG_PLUGIN_ID.indexOf(o)>-1&&(r=o,e.data.shift())}}return r},r._isRepeatedLog=function(e,t){var r=c.O.getRaw(e),n=r.logList[r.logList.length-1];if(!n)return!1;var i=!1;if(t.type===n.type&&t.cmdType===n.cmdType&&t.data.length===n.data.length){i=!0;for(var a=0;a<t.data.length;a++)if(t.data[a].origData!==n.data[a].origData){i=!1;break}}return i},r._updateLastLogRepeated=function(e){c.O.get(e).update((function(e){var t=e.logList,r=t[t.length-1];return r.repeated=r.repeated?r.repeated+1:2,e}))},r._pushLogList=function(e,t){c.O.get(e).update((function(e){return e.logList.push(t),e})),o.x.updateTime()},r._limitLogListLength=function(){var e=this;if(this.logCounter++,this.logCounter%10==0){this.logCounter=0;var t=c.O.getAll();for(var r in t)t[r].update((function(t){return t.logList.length>e.maxLogNumber-10&&t.logList.splice(0,t.logList.length-e.maxLogNumber+10),t}))}},t}(a.N)},9923:function(e,t,r){r.d(t,{O:function(){return i}});var n=r(3313),i=function(){function e(){}return e.create=function(e){return this.storeMap[e]||(this.storeMap[e]=(0,n.fZ)({logList:[]})),this.storeMap[e]},e.delete=function(e){this.storeMap[e]&&delete this.storeMap[e]},e.get=function(e){return this.storeMap[e]},e.getRaw=function(e){return(0,n.U2)(this.storeMap[e])},e.getAll=function(){return this.storeMap},e}();i.storeMap={}},8665:function(e,t,r){r.d(t,{HX:function(){return d},LH:function(){return a},Tg:function(){return f},b1:function(){return h},oj:function(){return l}});var n=r(5103),i=function(e){var t=n.hZ(e,{maxDepth:0}),r=t.substring(0,36),i=n.DV(e);return t.length>36&&(r+="..."),n.rE(i+" "+r)},a=function(e,t){void 0===t&&(t=!0);var r="undefined",a=e;return e instanceof f?(r="uninvocatable",a="(...)"):n.kJ(e)?(r="array",a=i(e)):n.Kn(e)?(r="object",a=i(e)):n.HD(e)?(r="string",a=n.rE(e),t&&(a='"'+a+'"')):n.hj(e)?(r="number",a=String(e)):n.C4(e)?(r="bigint",a=String(e)+"n"):n.jn(e)?(r="boolean",a=String(e)):n.Ft(e)?(r="null",a="null"):n.o8(e)?(r="undefined",a="undefined"):n.mf(e)?(r="function",a=(e.name||"function")+"()"):n.yk(e)&&(r="symbol",a=String(e)),{text:a,valueType:r}},o=[".","[","(","{","}"],s=["]",")","}"],c=function(e,t,r){void 0===r&&(r=0);for(var n={text:"",pos:-1,before:"",after:""},i=e.length-1;i>=r;i--){var a=t.indexOf(e[i]);if(a>-1){n.text=t[a],n.pos=i,n.before=e.substring(r,i),n.after=e.substring(i+1,e.length);break}}return n},l=function(e){var t=c(e,o,0);return{front:t,back:c(e,s,t.pos+1)}},d=function(e,t){if(""===t)return!0;for(var r=0;r<e.data.length;r++)if("string"==typeof e.data[r].origData&&e.data[r].origData.indexOf(t)>-1)return!0;return!1},u=/(\%[csdo] )|( \%[csdo])/g,h=function(e){if(u.lastIndex=0,n.HD(e[0])&&u.test(e[0])){for(var t,r=[].concat(e),i=r.shift().split(u).filter((function(e){return void 0!==e&&""!==e})),a=r,o=[],s=!1,c="";i.length>0;){var l=i.shift();if(/ ?\%c ?/.test(l)?a.length>0?"string"!=typeof(c=a.shift())&&(c=""):(t=l,c="",s=!0):/ ?\%[sd] ?/.test(l)?(t=a.length>0?n.Kn(a[0])?n.DV(a.shift()):String(a.shift()):l,s=!0):/ ?\%o ?/.test(l)?(t=a.length>0?a.shift():l,s=!0):(t=l,s=!0),s){var d={origData:t};c&&(d.style=c),o.push(d),s=!1,t=void 0,c=""}}for(var h=0;h<a.length;h++)o.push({origData:a[h]});return o}for(var f=[],p=0;p<e.length;p++)f.push({origData:e[p]});return f},f=function(){}},9746:function(e,t,r){var n=r(6738),i=r.n(n),a=r(7705),o=r.n(a)()(i());o.push([e.id,".vc-icon {\n  word-break: normal;\n  white-space: normal;\n  overflow: visible;\n}\n.vc-icon svg {\n  fill: var(--VC-FG-2);\n  height: 1em;\n  width: 1em;\n  vertical-align: -0.11em;\n}\n.vc-icon .vc-icon-delete {\n  vertical-align: -0.11em;\n}\n.vc-icon .vc-icon-copy {\n  height: 1.1em;\n  width: 1.1em;\n  vertical-align: -0.16em;\n}\n.vc-icon .vc-icon-suc {\n  fill: var(--VC-TEXTGREEN);\n  height: 1.1em;\n  width: 1.1em;\n  vertical-align: -0.16em;\n}\n",""]),t.Z=o},3283:function(e,t,r){var n=r(6738),i=r.n(n),a=r(7705),o=r.n(a)()(i());o.push([e.id,'#__vconsole {\n  --VC-BG-0: #ededed;\n  --VC-BG-1: #f7f7f7;\n  --VC-BG-2: #fff;\n  --VC-BG-3: #f7f7f7;\n  --VC-BG-4: #4c4c4c;\n  --VC-BG-5: #fff;\n  --VC-BG-6: rgba(0, 0, 0, 0.1);\n  --VC-FG-0: rgba(0, 0, 0, 0.9);\n  --VC-FG-HALF: rgba(0, 0, 0, 0.9);\n  --VC-FG-1: rgba(0, 0, 0, 0.5);\n  --VC-FG-2: rgba(0, 0, 0, 0.3);\n  --VC-FG-3: rgba(0, 0, 0, 0.1);\n  --VC-RED: #fa5151;\n  --VC-ORANGE: #fa9d3b;\n  --VC-YELLOW: #ffc300;\n  --VC-GREEN: #91d300;\n  --VC-LIGHTGREEN: #95ec69;\n  --VC-BRAND: #07c160;\n  --VC-BLUE: #10aeff;\n  --VC-INDIGO: #1485ee;\n  --VC-PURPLE: #6467f0;\n  --VC-LINK: #576b95;\n  --VC-TEXTGREEN: #06ae56;\n  --VC-FG: black;\n  --VC-BG: white;\n  --VC-BG-COLOR-ACTIVE: #ececec;\n  --VC-WARN-BG: #fff3cc;\n  --VC-WARN-BORDER: #ffe799;\n  --VC-ERROR-BG: #fedcdc;\n  --VC-ERROR-BORDER: #fdb9b9;\n  --VC-DOM-TAG-NAME-COLOR: #881280;\n  --VC-DOM-ATTRIBUTE-NAME-COLOR: #994500;\n  --VC-DOM-ATTRIBUTE-VALUE-COLOR: #1a1aa6;\n  --VC-CODE-KEY-FG: #881391;\n  --VC-CODE-PRIVATE-KEY-FG: #cfa1d3;\n  --VC-CODE-FUNC-FG: #0d22aa;\n  --VC-CODE-NUMBER-FG: #1c00cf;\n  --VC-CODE-STR-FG: #c41a16;\n  --VC-CODE-NULL-FG: #808080;\n  color: var(--VC-FG-0);\n  font-size: 13px;\n  font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n  -webkit-user-select: auto;\n  /* global */\n}\n#__vconsole .vc-max-height {\n  max-height: 19.23076923em;\n}\n#__vconsole .vc-max-height-line {\n  max-height: 6.30769231em;\n}\n#__vconsole .vc-min-height {\n  min-height: 3.07692308em;\n}\n#__vconsole dd,\n#__vconsole dl,\n#__vconsole pre {\n  margin: 0;\n}\n#__vconsole pre {\n  white-space: pre-wrap;\n}\n#__vconsole i {\n  font-style: normal;\n}\n.vc-table .vc-table-row {\n  line-height: 1.5;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n  -moz-box-orient: horizontal;\n  -moz-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  overflow: hidden;\n  border-bottom: 1px solid var(--VC-FG-3);\n}\n.vc-table .vc-table-row.vc-left-border {\n  border-left: 1px solid var(--VC-FG-3);\n}\n.vc-table .vc-table-row-icon {\n  margin-left: 4px;\n}\n.vc-table .vc-table-col {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -moz-box-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  padding: 0.23076923em 0.30769231em;\n  border-left: 1px solid var(--VC-FG-3);\n  overflow: auto;\n}\n.vc-table .vc-table-col:first-child {\n  border: none;\n}\n.vc-table .vc-table-col-value {\n  white-space: pre-wrap;\n  word-break: break-word;\n  /*white-space: nowrap;\n    text-overflow: ellipsis;*/\n  -webkit-overflow-scrolling: touch;\n}\n.vc-table .vc-small .vc-table-col {\n  padding: 0 0.30769231em;\n  font-size: 0.92307692em;\n}\n.vc-table .vc-table-col-2 {\n  -webkit-box-flex: 2;\n  -webkit-flex: 2;\n  -moz-box-flex: 2;\n  -ms-flex: 2;\n  flex: 2;\n}\n.vc-table .vc-table-col-3 {\n  -webkit-box-flex: 3;\n  -webkit-flex: 3;\n  -moz-box-flex: 3;\n  -ms-flex: 3;\n  flex: 3;\n}\n.vc-table .vc-table-col-4 {\n  -webkit-box-flex: 4;\n  -webkit-flex: 4;\n  -moz-box-flex: 4;\n  -ms-flex: 4;\n  flex: 4;\n}\n.vc-table .vc-table-col-5 {\n  -webkit-box-flex: 5;\n  -webkit-flex: 5;\n  -moz-box-flex: 5;\n  -ms-flex: 5;\n  flex: 5;\n}\n.vc-table .vc-table-col-6 {\n  -webkit-box-flex: 6;\n  -webkit-flex: 6;\n  -moz-box-flex: 6;\n  -ms-flex: 6;\n  flex: 6;\n}\n.vc-table .vc-table-row-error {\n  border-color: var(--VC-ERROR-BORDER);\n  background-color: var(--VC-ERROR-BG);\n}\n.vc-table .vc-table-row-error .vc-table-col {\n  color: var(--VC-RED);\n  border-color: var(--VC-ERROR-BORDER);\n}\n.vc-table .vc-table-col-title {\n  font-weight: bold;\n}\n.vc-table .vc-table-action {\n  display: flex;\n  justify-content: space-evenly;\n}\n.vc-table .vc-table-action .vc-icon {\n  flex: 1;\n  text-align: center;\n  display: block;\n}\n.vc-table .vc-table-action .vc-icon:hover {\n  background: var(--VC-BG-3);\n}\n.vc-table .vc-table-action .vc-icon:active {\n  background: var(--VC-BG-1);\n}\n.vc-table .vc-table-input {\n  width: 100%;\n  border: none;\n  color: var(--VC-FG-0);\n  background-color: var(--VC-BG-6);\n  height: 3.53846154em;\n}\n.vc-table .vc-table-input:focus {\n  background-color: var(--VC-FG-2);\n}\n@media (prefers-color-scheme: dark) {\n  #__vconsole:not([data-theme="light"]) {\n    --VC-BG-0: #191919;\n    --VC-BG-1: #1f1f1f;\n    --VC-BG-2: #232323;\n    --VC-BG-3: #2f2f2f;\n    --VC-BG-4: #606060;\n    --VC-BG-5: #2c2c2c;\n    --VC-BG-6: rgba(255, 255, 255, 0.2);\n    --VC-FG-0: rgba(255, 255, 255, 0.8);\n    --VC-FG-HALF: rgba(255, 255, 255, 0.6);\n    --VC-FG-1: rgba(255, 255, 255, 0.5);\n    --VC-FG-2: rgba(255, 255, 255, 0.3);\n    --VC-FG-3: rgba(255, 255, 255, 0.05);\n    --VC-RED: #fa5151;\n    --VC-ORANGE: #c87d2f;\n    --VC-YELLOW: #cc9c00;\n    --VC-GREEN: #74a800;\n    --VC-LIGHTGREEN: #28b561;\n    --VC-BRAND: #07c160;\n    --VC-BLUE: #10aeff;\n    --VC-INDIGO: #1196ff;\n    --VC-PURPLE: #8183ff;\n    --VC-LINK: #7d90a9;\n    --VC-TEXTGREEN: #259c5c;\n    --VC-FG: white;\n    --VC-BG: black;\n    --VC-BG-COLOR-ACTIVE: #282828;\n    --VC-WARN-BG: #332700;\n    --VC-WARN-BORDER: #664e00;\n    --VC-ERROR-BG: #321010;\n    --VC-ERROR-BORDER: #642020;\n    --VC-DOM-TAG-NAME-COLOR: #5DB0D7;\n    --VC-DOM-ATTRIBUTE-NAME-COLOR: #9BBBDC;\n    --VC-DOM-ATTRIBUTE-VALUE-COLOR: #f29766;\n    --VC-CODE-KEY-FG: #e36eec;\n    --VC-CODE-PRIVATE-KEY-FG: #f4c5f7;\n    --VC-CODE-FUNC-FG: #556af2;\n    --VC-CODE-NUMBER-FG: #9980ff;\n    --VC-CODE-STR-FG: #e93f3b;\n    --VC-CODE-NULL-FG: #808080;\n  }\n}\n#__vconsole[data-theme="dark"] {\n  --VC-BG-0: #191919;\n  --VC-BG-1: #1f1f1f;\n  --VC-BG-2: #232323;\n  --VC-BG-3: #2f2f2f;\n  --VC-BG-4: #606060;\n  --VC-BG-5: #2c2c2c;\n  --VC-BG-6: rgba(255, 255, 255, 0.2);\n  --VC-FG-0: rgba(255, 255, 255, 0.8);\n  --VC-FG-HALF: rgba(255, 255, 255, 0.6);\n  --VC-FG-1: rgba(255, 255, 255, 0.5);\n  --VC-FG-2: rgba(255, 255, 255, 0.3);\n  --VC-FG-3: rgba(255, 255, 255, 0.05);\n  --VC-RED: #fa5151;\n  --VC-ORANGE: #c87d2f;\n  --VC-YELLOW: #cc9c00;\n  --VC-GREEN: #74a800;\n  --VC-LIGHTGREEN: #28b561;\n  --VC-BRAND: #07c160;\n  --VC-BLUE: #10aeff;\n  --VC-INDIGO: #1196ff;\n  --VC-PURPLE: #8183ff;\n  --VC-LINK: #7d90a9;\n  --VC-TEXTGREEN: #259c5c;\n  --VC-FG: white;\n  --VC-BG: black;\n  --VC-BG-COLOR-ACTIVE: #282828;\n  --VC-WARN-BG: #332700;\n  --VC-WARN-BORDER: #664e00;\n  --VC-ERROR-BG: #321010;\n  --VC-ERROR-BORDER: #642020;\n  --VC-DOM-TAG-NAME-COLOR: #5DB0D7;\n  --VC-DOM-ATTRIBUTE-NAME-COLOR: #9BBBDC;\n  --VC-DOM-ATTRIBUTE-VALUE-COLOR: #f29766;\n  --VC-CODE-KEY-FG: #e36eec;\n  --VC-CODE-PRIVATE-KEY-FG: #f4c5f7;\n  --VC-CODE-FUNC-FG: #556af2;\n  --VC-CODE-NUMBER-FG: #9980ff;\n  --VC-CODE-STR-FG: #e93f3b;\n  --VC-CODE-NULL-FG: #808080;\n}\n.vc-tabbar {\n  border-bottom: 1px solid var(--VC-FG-3);\n  overflow-x: auto;\n  height: 3em;\n  width: auto;\n  white-space: nowrap;\n}\n.vc-tabbar .vc-tab {\n  display: inline-block;\n  line-height: 3em;\n  padding: 0 1.15384615em;\n  border-right: 1px solid var(--VC-FG-3);\n  text-decoration: none;\n  color: var(--VC-FG-0);\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n}\n.vc-tabbar .vc-tab:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n.vc-tabbar .vc-tab.vc-actived {\n  background-color: var(--VC-BG-1);\n}\n.vc-toolbar {\n  border-top: 1px solid var(--VC-FG-3);\n  line-height: 3em;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n  -moz-box-orient: horizontal;\n  -moz-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n}\n.vc-toolbar .vc-tool {\n  display: none;\n  font-style: normal;\n  text-decoration: none;\n  color: var(--VC-FG-0);\n  width: 50%;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -moz-box-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  text-align: center;\n  position: relative;\n  -webkit-touch-callout: none;\n}\n.vc-toolbar .vc-tool.vc-toggle,\n.vc-toolbar .vc-tool.vc-global-tool {\n  display: block;\n}\n.vc-toolbar .vc-tool:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n.vc-toolbar .vc-tool:after {\n  content: " ";\n  position: absolute;\n  top: 0.53846154em;\n  bottom: 0.53846154em;\n  right: 0;\n  border-left: 1px solid var(--VC-FG-3);\n}\n.vc-toolbar .vc-tool-last:after {\n  border: none;\n}\n.vc-topbar {\n  background-color: var(--VC-BG-1);\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n  -moz-box-orient: horizontal;\n  -moz-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  width: 100%;\n}\n.vc-topbar .vc-toptab {\n  display: none;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -moz-box-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  line-height: 2.30769231em;\n  padding: 0 1.15384615em;\n  border-bottom: 1px solid var(--VC-FG-3);\n  text-decoration: none;\n  text-align: center;\n  color: var(--VC-FG-0);\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n}\n.vc-topbar .vc-toptab.vc-toggle {\n  display: block;\n}\n.vc-topbar .vc-toptab:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n.vc-topbar .vc-toptab.vc-actived {\n  border-bottom: 1px solid var(--VC-INDIGO);\n}\n.vc-mask {\n  display: none;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0);\n  z-index: 10001;\n  -webkit-transition: background 0.3s;\n  transition: background 0.3s;\n  -webkit-tap-highlight-color: transparent;\n  overflow-y: scroll;\n}\n.vc-panel {\n  display: none;\n  position: fixed;\n  min-height: 85%;\n  left: 0;\n  right: 0;\n  bottom: -100%;\n  z-index: 10002;\n  background-color: var(--VC-BG-0);\n  transition: bottom 0.3s;\n}\n.vc-toggle .vc-switch {\n  display: none;\n}\n.vc-toggle .vc-mask {\n  background: rgba(0, 0, 0, 0.6);\n  display: block;\n}\n.vc-toggle .vc-panel {\n  bottom: 0;\n}\n.vc-content {\n  background-color: var(--VC-BG-2);\n  overflow-x: hidden;\n  overflow-y: auto;\n  position: absolute;\n  top: 3.07692308em;\n  left: 0;\n  right: 0;\n  bottom: 3.07692308em;\n  -webkit-overflow-scrolling: touch;\n  margin-bottom: constant(safe-area-inset-bottom);\n  margin-bottom: env(safe-area-inset-bottom);\n}\n.vc-content.vc-has-topbar {\n  top: 5.46153846em;\n}\n.vc-plugin-box {\n  display: none;\n  position: relative;\n  min-height: 100%;\n}\n.vc-plugin-box.vc-actived {\n  display: block;\n}\n.vc-plugin-content {\n  padding-bottom: 6em;\n  -webkit-tap-highlight-color: transparent;\n}\n.vc-plugin-empty:before,\n.vc-plugin-content:empty:before {\n  content: "Empty";\n  color: var(--VC-FG-1);\n  position: absolute;\n  top: 45%;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  font-size: 1.15384615em;\n  text-align: center;\n}\n@supports (bottom: constant(safe-area-inset-bottom)) or (bottom: env(safe-area-inset-bottom)) {\n  .vc-toolbar,\n  .vc-switch {\n    bottom: constant(safe-area-inset-bottom);\n    bottom: env(safe-area-inset-bottom);\n  }\n}\n',""]),t.Z=o},7558:function(e,t,r){var n=r(6738),i=r.n(n),a=r(7705),o=r.n(a)()(i());o.push([e.id,".vc-switch {\n  display: block;\n  position: fixed;\n  right: 0.76923077em;\n  bottom: 0.76923077em;\n  color: #FFF;\n  background-color: var(--VC-BRAND);\n  line-height: 1;\n  font-size: 1.07692308em;\n  padding: 0.61538462em 1.23076923em;\n  z-index: 10000;\n  border-radius: 0.30769231em;\n  box-shadow: 0 0 0.61538462em rgba(0, 0, 0, 0.4);\n}\n",""]),t.Z=o},5670:function(e,t,r){var n=r(6738),i=r.n(n),a=r(7705),o=r.n(a)()(i());o.push([e.id,'/* color */\n.vcelm-node {\n  color: var(--VC-DOM-TAG-NAME-COLOR);\n}\n.vcelm-k {\n  color: var(--VC-DOM-ATTRIBUTE-NAME-COLOR);\n}\n.vcelm-v {\n  color: var(--VC-DOM-ATTRIBUTE-VALUE-COLOR);\n}\n.vcelm-l.vc-actived > .vcelm-node {\n  background-color: var(--VC-FG-3);\n}\n/* layout */\n.vcelm-l {\n  padding-left: 8px;\n  position: relative;\n  word-wrap: break-word;\n  line-height: 1.2;\n}\n/*.vcelm-l.vcelm-noc {\n  padding-left: 0;\n}*/\n.vcelm-l .vcelm-node:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vcelm-l.vcelm-noc .vcelm-node:active {\n  background-color: transparent;\n}\n.vcelm-t {\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n/* level */\n/* arrow */\n.vcelm-l:before {\n  content: "";\n  display: block;\n  position: absolute;\n  top: 6px;\n  left: 3px;\n  width: 0;\n  height: 0;\n  border: transparent solid 3px;\n  border-left-color: var(--VC-FG-1);\n}\n.vcelm-l.vc-toggle:before {\n  display: block;\n  top: 6px;\n  left: 0;\n  border-top-color: var(--VC-FG-1);\n  border-left-color: transparent;\n}\n.vcelm-l.vcelm-noc:before {\n  display: none;\n}\n',""]),t.Z=o},3327:function(e,t,r){var n=r(6738),i=r.n(n),a=r(7705),o=r.n(a)()(i());o.push([e.id,".vc-logs-has-cmd {\n  padding-bottom: 6.15384615em;\n}\n",""]),t.Z=o},1130:function(e,t,r){var n=r(6738),i=r.n(n),a=r(7705),o=r.n(a)()(i());o.push([e.id,".vc-cmd {\n  position: absolute;\n  height: 3.07692308em;\n  left: 0;\n  right: 0;\n  bottom: 3.07692308em;\n  border-top: 1px solid var(--VC-FG-3);\n  display: block !important;\n}\n.vc-cmd.vc-filter {\n  bottom: 0;\n}\n.vc-cmd-input-wrap {\n  display: block;\n  position: relative;\n  height: 2.15384615em;\n  margin-right: 3.07692308em;\n  padding: 0.46153846em 0.61538462em;\n}\n.vc-cmd-input {\n  width: 100%;\n  border: none;\n  resize: none;\n  outline: none;\n  padding: 0;\n  font-size: 0.92307692em;\n  background-color: transparent;\n  color: var(--VC-FG-0);\n}\n.vc-cmd-input::-webkit-input-placeholder {\n  line-height: 2.15384615em;\n}\n.vc-cmd-btn {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 3.07692308em;\n  border: none;\n  background-color: var(--VC-BG-0);\n  color: var(--VC-FG-0);\n  outline: none;\n  -webkit-touch-callout: none;\n  font-size: 1em;\n}\n.vc-cmd-clear-btn {\n  position: absolute;\n  text-align: center;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 3.07692308em;\n  line-height: 3.07692308em;\n}\n.vc-cmd-btn:active,\n.vc-cmd-clear-btn:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vc-cmd-prompted {\n  position: absolute;\n  left: 0.46153846em;\n  right: 0.46153846em;\n  background-color: var(--VC-BG-3);\n  border: 1px solid var(--VC-FG-3);\n  overflow-x: scroll;\n  display: none;\n}\n.vc-cmd-prompted li {\n  list-style: none;\n  line-height: 30px;\n  padding: 0 0.46153846em;\n  border-bottom: 1px solid var(--VC-FG-3);\n}\n.vc-cmd-prompted li:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vc-cmd-prompted-hide {\n  text-align: center;\n}\n",""]),t.Z=o},7147:function(e,t,r){var n=r(6738),i=r.n(n),a=r(7705),o=r.n(a)()(i());o.push([e.id,'.vc-log-row {\n  margin: 0;\n  padding: 0.46153846em 0.61538462em;\n  overflow: hidden;\n  line-height: 1.3;\n  border-bottom: 1px solid var(--VC-FG-3);\n  word-break: break-word;\n  position: relative;\n  display: flex;\n}\n.vc-log-info {\n  color: var(--VC-PURPLE);\n}\n.vc-log-debug {\n  color: var(--VC-YELLOW);\n}\n.vc-log-warn {\n  color: var(--VC-ORANGE);\n  border-color: var(--VC-WARN-BORDER);\n  background-color: var(--VC-WARN-BG);\n}\n.vc-log-error {\n  color: var(--VC-RED);\n  border-color: var(--VC-ERROR-BORDER);\n  background-color: var(--VC-ERROR-BG);\n}\n.vc-logrow-icon {\n  margin-left: auto;\n}\n.vc-log-time {\n  width: 6.15384615em;\n  color: #777;\n}\n.vc-log-repeat i {\n  margin-right: 0.30769231em;\n  padding: 0 6.5px;\n  color: #D7E0EF;\n  background-color: #42597F;\n  border-radius: 8.66666667px;\n}\n.vc-log-error .vc-log-repeat i {\n  color: #901818;\n  background-color: var(--VC-RED);\n}\n.vc-log-warn .vc-log-repeat i {\n  color: #987D20;\n  background-color: #F4BD02;\n}\n.vc-log-content {\n  flex: 1;\n}\n.vc-log-input,\n.vc-log-output {\n  padding-left: 0.92307692em;\n}\n.vc-log-input:before,\n.vc-log-output:before {\n  content: "";\n  position: absolute;\n  top: 0.15384615em;\n  left: 0;\n  font-size: 1.23076923em;\n  color: #6A5ACD;\n}\n.vc-log-output:before {\n  content: "";\n}\n',""]),t.Z=o},1237:function(e,t,r){var n=r(6738),i=r.n(n),a=r(7705),o=r.n(a)()(i());o.push([e.id,'.vc-log-tree {\n  display: block;\n  overflow: auto;\n  position: relative;\n  -webkit-overflow-scrolling: touch;\n}\n.vc-log-tree-node {\n  display: block;\n  font-style: italic;\n  padding-left: 0.76923077em;\n  position: relative;\n}\n.vc-log-tree.vc-is-tree > .vc-log-tree-node:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vc-log-tree.vc-is-tree > .vc-log-tree-node::before {\n  content: "";\n  position: absolute;\n  top: 0.30769231em;\n  left: 0.15384615em;\n  width: 0;\n  height: 0;\n  border: transparent solid 0.30769231em;\n  border-left-color: var(--VC-FG-1);\n}\n.vc-log-tree.vc-is-tree.vc-toggle > .vc-log-tree-node::before {\n  top: 0.46153846em;\n  left: 0;\n  border-top-color: var(--VC-FG-1);\n  border-left-color: transparent;\n}\n.vc-log-tree-child {\n  margin-left: 0.76923077em;\n}\n.vc-log-tree-loadmore {\n  text-decoration: underline;\n  padding-left: 1.84615385em;\n  position: relative;\n  color: var(--VC-CODE-FUNC-FG);\n}\n.vc-log-tree-loadmore::before {\n  content: "";\n  position: absolute;\n  top: -0.15384615em;\n  left: 0.76923077em;\n  font-size: 1.23076923em;\n  color: var(--VC-CODE-FUNC-FG);\n}\n.vc-log-tree-loadmore:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n',""]),t.Z=o},845:function(e,t,r){var n=r(6738),i=r.n(n),a=r(7705),o=r.n(a)()(i());o.push([e.id,".vc-log-key {\n  color: var(--VC-CODE-KEY-FG);\n}\n.vc-log-key-private {\n  color: var(--VC-CODE-PRIVATE-KEY-FG);\n}\n.vc-log-val {\n  white-space: pre-line;\n}\n.vc-log-val-function {\n  color: var(--VC-CODE-FUNC-FG);\n  font-style: italic !important;\n}\n.vc-log-val-bigint {\n  color: var(--VC-CODE-FUNC-FG);\n}\n.vc-log-val-number,\n.vc-log-val-boolean {\n  color: var(--VC-CODE-NUMBER-FG);\n}\n.vc-log-val-string.vc-log-val-haskey {\n  color: var(--VC-CODE-STR-FG);\n  white-space: normal;\n}\n.vc-log-val-null,\n.vc-log-val-undefined,\n.vc-log-val-uninvocatable {\n  color: var(--VC-CODE-NULL-FG);\n}\n.vc-log-val-symbol {\n  color: var(--VC-CODE-STR-FG);\n}\n",""]),t.Z=o},8747:function(e,t,r){var n=r(6738),i=r.n(n),a=r(7705),o=r.n(a)()(i());o.push([e.id,".vc-group .vc-group-preview {\n  -webkit-touch-callout: none;\n}\n.vc-group .vc-group-preview:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vc-group .vc-group-detail {\n  display: none;\n  padding: 0 0 0.76923077em 1.53846154em;\n  border-bottom: 1px solid var(--VC-FG-3);\n}\n.vc-group.vc-actived .vc-group-detail {\n  display: block;\n  background-color: var(--VC-BG-1);\n}\n.vc-group.vc-actived .vc-table-row {\n  background-color: var(--VC-BG-2);\n}\n.vc-group.vc-actived .vc-group-preview {\n  background-color: var(--VC-BG-1);\n}\n",""]),t.Z=o},3411:function(e,t,r){var n=r(3379),i=r.n(n),a=r(7795),o=r.n(a),s=r(569),c=r.n(s),l=r(3565),d=r.n(l),u=r(9216),h=r.n(u),f=r(4589),p=r.n(f),m=r(1130),v={};m.Z&&m.Z.locals&&(v.locals=m.Z.locals);var $,g=0,b={};b.styleTagTransform=p(),b.setAttributes=d(),b.insert=c().bind(null,"head"),b.domAPI=o(),b.insertStyleElement=h(),v.use=function(e){return b.options=e||{},g++||($=i()(m.Z,b)),v},v.unuse=function(){g>0&&!--g&&($(),$=null)},t.Z=v},3379:function(e){var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var a={},o=[],s=0;s<e.length;s++){var c=e[s],l=n.base?c[0]+n.base:c[0],d=a[l]||0,u="".concat(l," ").concat(d);a[l]=d+1;var h=r(u),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)t[h].references++,t[h].updater(f);else{var p=i(f,n);n.byIndex=s,t.splice(s,0,{identifier:u,updater:p,references:1})}o.push(u)}return o}function i(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,i){var a=n(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var s=r(a[o]);t[s].references--}for(var c=n(e,i),l=0;l<a.length;l++){var d=r(a[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}a=c}}},569:function(e){var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},9216:function(e){e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:function(e,t,r){e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},7795:function(e){e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var i=void 0!==r.layer;i&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,i&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var a=r.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:function(e){e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},6464:function(e,t,r){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:function(){return n}})},4296:function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r.d(t,{Z:function(){return i}})},6881:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(2717);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,n.Z)(e,t)}},2717:function(e,t,r){function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,{Z:function(){return n}})},7003:function(e,t,r){r.d(t,{H3:function(){return n.H3E},ev:function(){return n.evW},x:function(){return n.xa3}});var n=r(2942)},2942:function(e,t,r){function n(){}function i(e){return e()}function a(){return Object.create(null)}function o(e){e.forEach(i)}function s(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e){if(null==e)return n;for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var a=e.subscribe.apply(e,r);return a.unsubscribe?function(){return a.unsubscribe()}:a}function d(e){var t;return l(e,(function(e){return t=e}))(),t}function u(e,t,r){e.$$.on_destroy.push(l(t,r))}function h(e,t,r){return e.set(r),t}function f(e,t){e.appendChild(t)}function p(e,t,r){e.insertBefore(t,r||null)}function m(e){e.parentNode.removeChild(e)}function v(e,t){for(var r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function $(e){return document.createElement(e)}function g(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function b(e){return document.createTextNode(e)}function x(){return b(" ")}function y(){return b("")}function w(e,t,r,n){return e.addEventListener(t,r,n),function(){return e.removeEventListener(t,r,n)}}function _(e){return function(t){return t.preventDefault(),e.call(this,t)}}function S(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function T(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function M(e,t){e.value=null==t?"":t}function E(e,t,r,n){null===r?e.style.removeProperty(t):e.style.setProperty(t,r,n?"important":"")}function A(e,t,r){e.classList[r?"add":"remove"](t)}r.d(t,{FWw:function(){return L},f_C:function(){return le},hjT:function(){return V},R3I:function(){return f},Ljt:function(){return S},akz:function(){return ne},VnY:function(){return z},cKT:function(){return N},gbL:function(){return J},FIv:function(){return u},xa3:function(){return I},YCL:function(){return ie},vpE:function(){return oe},RMB:function(){return v},ogt:function(){return m},bGB:function(){return $},cSb:function(){return y},yl1:function(){return W},$XI:function(){return d},dvw:function(){return Z},S1n:function(){return ce},$Tr:function(){return p},oLt:function(){return w},yef:function(){return ae},ZTd:function(){return n},evW:function(){return O},H3E:function(){return D},cly:function(){return te},AT7:function(){return _},j7q:function(){return o},N8:function(){return c},rTO:function(){return T},BmG:function(){return M},fxP:function(){return h},czc:function(){return E},DhX:function(){return x},LdU:function(){return l},bi5:function(){return g},fLW:function(){return b},VHj:function(){return A},Ui:function(){return Q},etI:function(){return ee},GQg:function(){return re}}),r(2717),r(6881),new Set;var C,L=function(){function e(){this.e=this.n=null}var t=e.prototype;return t.c=function(e){this.h(e)},t.m=function(e,t,r){void 0===r&&(r=null),this.e||(this.e=$(t.nodeName),this.t=t,this.c(e)),this.i(r)},t.h=function(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)},t.i=function(e){for(var t=0;t<this.n.length;t+=1)p(this.t,this.n[t],e)},t.p=function(e){this.d(),this.h(e),this.i(this.a)},t.d=function(){this.n.forEach(m)},e}();function R(e){C=e}function P(){if(!C)throw new Error("Function called outside component initialization");return C}function D(e){P().$$.on_mount.push(e)}function O(e){P().$$.on_destroy.push(e)}function I(){var e=P();return function(t,r){var n=e.$$.callbacks[t];if(n){var i=function(e,t,r){void 0===r&&(r=!1);var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,r,!1,t),n}(t,r);n.slice().forEach((function(t){t.call(e,i)}))}}}function N(e,t){var r=this,n=e.$$.callbacks[t.type];n&&n.slice().forEach((function(e){return e.call(r,t)}))}new Map;var B=[],z=[],U=[],k=[],F=Promise.resolve(),q=!1;function G(e){U.push(e)}function V(e){k.push(e)}var H=new Set,j=0;function W(){var e=C;do{for(;j<B.length;){var t=B[j];j++,R(t),X(t.$$)}for(R(null),B.length=0,j=0;z.length;)z.pop()();for(var r=0;r<U.length;r+=1){var n=U[r];H.has(n)||(H.add(n),n())}U.length=0}while(B.length);for(;k.length;)k.pop()();q=!1,H.clear(),R(e)}function X(e){if(null!==e.fragment){e.update(),o(e.before_update);var t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(G)}}var K,Y=new Set;function Z(){K={r:0,c:[],p:K}}function J(){K.r||o(K.c),K=K.p}function Q(e,t){e&&e.i&&(Y.delete(e),e.i(t))}function ee(e,t,r,n){if(e&&e.o){if(Y.has(e))return;Y.add(e),K.c.push((function(){Y.delete(e),n&&(r&&e.d(1),n())})),e.o(t)}}function te(e,t){ee(e,1,1,(function(){t.delete(e.key)}))}function re(e,t,r,n,i,a,o,s,c,l,d,u){for(var h=e.length,f=a.length,p=h,m={};p--;)m[e[p].key]=p;var v=[],$=new Map,g=new Map;for(p=f;p--;){var b=u(i,a,p),x=r(b),y=o.get(x);y?n&&y.p(b,t):(y=l(x,b)).c(),$.set(x,v[p]=y),x in m&&g.set(x,Math.abs(p-m[x]))}var w=new Set,_=new Set;function S(e){Q(e,1),e.m(s,d),o.set(e.key,e),d=e.first,f--}for(;h&&f;){var T=v[f-1],M=e[h-1],E=T.key,A=M.key;T===M?(d=T.first,h--,f--):$.has(A)?!o.has(E)||w.has(E)?S(T):_.has(A)?h--:g.get(E)>g.get(A)?(_.add(E),S(T)):(w.add(A),h--):(c(M,o),h--)}for(;h--;){var C=e[h];$.has(C.key)||c(C,o)}for(;f;)S(v[f-1]);return v}function ne(e,t,r){var n=e.$$.props[t];void 0!==n&&(e.$$.bound[n]=r,r(e.$$.ctx[n]))}function ie(e){e&&e.c()}function ae(e,t,r,n){var a=e.$$,c=a.fragment,l=a.on_mount,d=a.on_destroy,u=a.after_update;c&&c.m(t,r),n||G((function(){var t=l.map(i).filter(s);d?d.push.apply(d,t):o(t),e.$$.on_mount=[]})),u.forEach(G)}function oe(e,t){var r=e.$$;null!==r.fragment&&(o(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function se(e,t){-1===e.$$.dirty[0]&&(B.push(e),q||(q=!0,F.then(W)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ce(e,t,r,i,s,c,l,d){void 0===d&&(d=[-1]);var u=C;R(e);var h=e.$$={fragment:null,ctx:null,props:c,update:n,not_equal:s,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:a(),dirty:d,skip_bound:!1,root:t.target||u.$$.root};l&&l(h.root);var f,p=!1;if(h.ctx=r?r(e,t.props||{},(function(t,r){var n=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:r;return h.ctx&&s(h.ctx[t],h.ctx[t]=n)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](n),p&&se(e,t)),r})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!i&&i(h.ctx),t.target){if(t.hydrate){var v=(f=t.target,Array.from(f.childNodes));h.fragment&&h.fragment.l(v),v.forEach(m)}else h.fragment&&h.fragment.c();t.intro&&Q(e.$$.fragment),ae(e,t.target,t.anchor,t.customElement),W()}R(u)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis&&globalThis,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&HTMLElement;var le=function(){function e(){}var t=e.prototype;return t.$destroy=function(){oe(this,1),this.$destroy=n},t.$on=function(e,t){var r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}},t.$set=function(e){this.$$set&&!function(e){return 0===Object.keys(e).length}(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)},e}()},3313:function(e,t,r){r.d(t,{U2:function(){return n.$XI},fZ:function(){return o}});var n=r(2942);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=[];function o(e,t){var r;void 0===t&&(t=n.ZTd);var o=new Set;function s(t){if((0,n.N8)(e,t)&&(e=t,r)){for(var s,c=!a.length,l=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(o);!(s=l()).done;){var d=s.value;d[1](),a.push(d,e)}if(c){for(var u=0;u<a.length;u+=2)a[u][0](a[u+1]);a.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,a){void 0===a&&(a=n.ZTd);var c=[i,a];return o.add(c),1===o.size&&(r=t(s)||n.ZTd),i(e),function(){o.delete(c),0===o.size&&(r(),r=null)}}}}}},__webpack_module_cache__={};function __webpack_require__1(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__1),r.exports}__webpack_require__1.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__1.d(t,{a:t}),t},__webpack_require__1.d=function(e,t){for(var r in t)__webpack_require__1.o(t,r)&&!__webpack_require__1.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__1.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__1.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var __webpack_exports__1={};return function(){__webpack_require__1.d(__webpack_exports__1,{default:function(){return An}}),__webpack_require__1(5441),__webpack_require__1(8765);var e=__webpack_require__1(4296),t=__webpack_require__1(5103),r={one:function(e,t){void 0===t&&(t=document);try{return t.querySelector(e)||void 0}catch(e){return}},all:function(e,t){void 0===t&&(t=document);try{var r=t.querySelectorAll(e);return[].slice.call(r)}catch(e){return[]}},addClass:function(e,r){if(e)for(var n=(0,t.kJ)(e)?e:[e],i=0;i<n.length;i++){var a=(n[i].className||"").split(" ");a.indexOf(r)>-1||(a.push(r),n[i].className=a.join(" "))}},removeClass:function(e,r){if(e)for(var n=(0,t.kJ)(e)?e:[e],i=0;i<n.length;i++){for(var a=n[i].className.split(" "),o=0;o<a.length;o++)a[o]==r&&(a[o]="");n[i].className=a.join(" ").trim()}},hasClass:function(e,t){return!(!e||!e.classList)&&e.classList.contains(t)},bind:function(e,r,n,i){void 0===i&&(i=!1),e&&((0,t.kJ)(e)?e:[e]).forEach((function(e){e.addEventListener(r,n,!!i)}))},delegate:function(e,t,n,i){e&&e.addEventListener(t,(function(t){var a=r.all(n,e);if(a)e:for(var o=0;o<a.length;o++)for(var s=t.target;s;){if(s==a[o]){i.call(s,t,s);break e}if((s=s.parentNode)==e)break}}),!1)},removeChildren:function(e){for(;e.firstChild;)e.removeChild(e.lastChild);return e}},n=r,i=__webpack_require__1(6464),a=__webpack_require__1(6881),o=__webpack_require__1(2942),s=__webpack_require__1(7003),c=__webpack_require__1(3379),l=__webpack_require__1.n(c),d=__webpack_require__1(7795),u=__webpack_require__1.n(d),h=__webpack_require__1(569),f=__webpack_require__1.n(h),p=__webpack_require__1(3565),m=__webpack_require__1.n(p),v=__webpack_require__1(9216),$=__webpack_require__1.n(v),g=__webpack_require__1(4589),b=__webpack_require__1.n(g),x=__webpack_require__1(7558),y={};x.Z&&x.Z.locals&&(y.locals=x.Z.locals);var w,_=0,S={};S.styleTagTransform=b(),S.setAttributes=m(),S.insert=f().bind(null,"head"),S.domAPI=u(),S.insertStyleElement=$(),y.use=function(e){return S.options=e||{},_++||(w=l()(x.Z,S)),y},y.unuse=function(){_>0&&!--_&&(w(),w=null)};var T=y;function M(e){var t,r,n,i;return{c:function(){t=(0,o.bGB)("div"),r=(0,o.fLW)("vConsole"),(0,o.Ljt)(t,"class","vc-switch"),(0,o.czc)(t,"right",e[2].x+"px"),(0,o.czc)(t,"bottom",e[2].y+"px"),(0,o.czc)(t,"display",e[0]?"block":"none")},m:function(a,s){(0,o.$Tr)(a,t,s),(0,o.R3I)(t,r),e[8](t),n||(i=[(0,o.oLt)(t,"touchstart",e[3]),(0,o.oLt)(t,"touchend",e[4]),(0,o.oLt)(t,"touchmove",e[5]),(0,o.oLt)(t,"click",e[7])],n=!0)},p:function(e,r){var n=r[0];4&n&&(0,o.czc)(t,"right",e[2].x+"px"),4&n&&(0,o.czc)(t,"bottom",e[2].y+"px"),1&n&&(0,o.czc)(t,"display",e[0]?"block":"none")},i:o.ZTd,o:o.ZTd,d:function(r){r&&(0,o.ogt)(t),e[8](null),n=!1,(0,o.j7q)(i)}}}function E(e,r,n){var i,a=r.show,c=void 0===a||a,l=r.position,d=void 0===l?{x:0,y:0}:l,u={hasMoved:!1,x:0,y:0,startX:0,startY:0,endX:0,endY:0},h={x:0,y:0};(0,s.H3)((function(){T.use()})),(0,s.ev)((function(){T.unuse()}));var f=function(e,r){var i=p(e,r);e=i[0],r=i[1],u.x=e,u.y=r,n(2,h.x=e,h),n(2,h.y=r,h),t.po("switch_x",e+""),t.po("switch_y",r+"")},p=function(e,t){var r=Math.max(document.documentElement.offsetWidth,window.innerWidth),n=Math.max(document.documentElement.offsetHeight,window.innerHeight);return e+i.offsetWidth>r&&(e=r-i.offsetWidth),t+i.offsetHeight>n&&(t=n-i.offsetHeight),e<0&&(e=0),t<20&&(t=20),[e,t]};return e.$$set=function(e){"show"in e&&n(0,c=e.show),"position"in e&&n(6,d=e.position)},e.$$.update=function(){66&e.$$.dirty&&i&&f(d.x,d.y)},[c,i,h,function(e){u.startX=e.touches[0].pageX,u.startY=e.touches[0].pageY,u.hasMoved=!1},function(e){u.hasMoved&&(u.startX=0,u.startY=0,u.hasMoved=!1,f(u.endX,u.endY))},function(e){if(!(e.touches.length<=0)){var t=e.touches[0].pageX-u.startX,r=e.touches[0].pageY-u.startY,i=Math.floor(u.x-t),a=Math.floor(u.y-r),o=p(i,a);i=o[0],a=o[1],n(2,h.x=i,h),n(2,h.y=a,h),u.endX=i,u.endY=a,u.hasMoved=!0,e.preventDefault()}},d,function(t){o.cKT.call(this,e,t)},function(e){o.VnY[e?"unshift":"push"]((function(){n(1,i=e)}))}]}var A=function(t){function r(e){var r;return r=t.call(this)||this,(0,o.S1n)((0,i.Z)(r),e,E,M,o.N8,{show:0,position:6}),r}return(0,a.Z)(r,t),(0,e.Z)(r,[{key:"show",get:function(){return this.$$.ctx[0]},set:function(e){this.$$set({show:e}),(0,o.yl1)()}},{key:"position",get:function(){return this.$$.ctx[6]},set:function(e){this.$$set({position:e}),(0,o.yl1)()}}]),r}(o.f_C),C=__webpack_require__1(4687),L=__webpack_require__1(3283),R={};L.Z&&L.Z.locals&&(R.locals=L.Z.locals);var P,D=0,O={};O.styleTagTransform=b(),O.setAttributes=m(),O.insert=f().bind(null,"head"),O.domAPI=u(),O.insertStyleElement=$(),R.use=function(e){return O.options=e||{},D++||(P=l()(L.Z,O)),R},R.unuse=function(){D>0&&!--D&&(P(),P=null)};var I=R;function N(e,t,r){var n=e.slice();return n[41]=t[r][0],n[42]=t[r][1],n}function B(e,t,r){var n=e.slice();return n[45]=t[r],n[47]=r,n}function z(e,t,r){var n=e.slice();return n[41]=t[r][0],n[42]=t[r][1],n}function U(e,t,r){var n=e.slice();return n[41]=t[r][0],n[42]=t[r][1],n}function k(e,t,r){var n=e.slice();return n[45]=t[r],n[47]=r,n}function F(e,t,r){var n=e.slice();return n[41]=t[r][0],n[42]=t[r][1],n}function q(e){var t,r,n,i,a,s=e[42].name+"";function c(){return e[26](e[42])}return{c:function(){t=(0,o.bGB)("a"),r=(0,o.fLW)(s),(0,o.Ljt)(t,"class","vc-tab"),(0,o.Ljt)(t,"id",n="__vc_tab_"+e[42].id),(0,o.VHj)(t,"vc-actived",e[42].id===e[2])},m:function(e,n){(0,o.$Tr)(e,t,n),(0,o.R3I)(t,r),i||(a=(0,o.oLt)(t,"click",c),i=!0)},p:function(i,a){e=i,8&a[0]&&s!==(s=e[42].name+"")&&(0,o.rTO)(r,s),8&a[0]&&n!==(n="__vc_tab_"+e[42].id)&&(0,o.Ljt)(t,"id",n),12&a[0]&&(0,o.VHj)(t,"vc-actived",e[42].id===e[2])},d:function(e){e&&(0,o.ogt)(t),i=!1,a()}}}function G(e){var t,r=e[42].hasTabPanel&&q(e);return{c:function(){r&&r.c(),t=(0,o.cSb)()},m:function(e,n){r&&r.m(e,n),(0,o.$Tr)(e,t,n)},p:function(e,n){e[42].hasTabPanel?r?r.p(e,n):((r=q(e)).c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d:function(e){r&&r.d(e),e&&(0,o.ogt)(t)}}}function V(e){var t,r,n,i,a,s=e[45].name+"";function c(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e)[27].apply(t,[e[42],e[47]].concat(n))}return{c:function(){t=(0,o.bGB)("i"),r=(0,o.fLW)(s),(0,o.Ljt)(t,"class",n="vc-toptab vc-topbar-"+e[42].id+" "+e[45].className),(0,o.VHj)(t,"vc-toggle",e[42].id===e[2]),(0,o.VHj)(t,"vc-actived",e[45].actived)},m:function(e,n){(0,o.$Tr)(e,t,n),(0,o.R3I)(t,r),i||(a=(0,o.oLt)(t,"click",c),i=!0)},p:function(i,a){e=i,8&a[0]&&s!==(s=e[45].name+"")&&(0,o.rTO)(r,s),8&a[0]&&n!==(n="vc-toptab vc-topbar-"+e[42].id+" "+e[45].className)&&(0,o.Ljt)(t,"class",n),12&a[0]&&(0,o.VHj)(t,"vc-toggle",e[42].id===e[2]),8&a[0]&&(0,o.VHj)(t,"vc-actived",e[45].actived)},d:function(e){e&&(0,o.ogt)(t),i=!1,a()}}}function H(e){for(var t,r=e[42].topbarList,n=[],i=0;i<r.length;i+=1)n[i]=V(k(e,r,i));return{c:function(){for(var e=0;e<n.length;e+=1)n[e].c();t=(0,o.cSb)()},m:function(e,r){for(var i=0;i<n.length;i+=1)n[i].m(e,r);(0,o.$Tr)(e,t,r)},p:function(e,i){if(16396&i[0]){var a;for(r=e[42].topbarList,a=0;a<r.length;a+=1){var o=k(e,r,a);n[a]?n[a].p(o,i):(n[a]=V(o),n[a].c(),n[a].m(t.parentNode,t))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},d:function(e){(0,o.RMB)(n,e),e&&(0,o.ogt)(t)}}}function j(e){var t,r;return{c:function(){t=(0,o.bGB)("div"),(0,o.Ljt)(t,"id",r="__vc_plug_"+e[42].id),(0,o.Ljt)(t,"class","vc-plugin-box"),(0,o.VHj)(t,"vc-actived",e[42].id===e[2])},m:function(r,n){(0,o.$Tr)(r,t,n),e[28](t)},p:function(e,n){8&n[0]&&r!==(r="__vc_plug_"+e[42].id)&&(0,o.Ljt)(t,"id",r),12&n[0]&&(0,o.VHj)(t,"vc-actived",e[42].id===e[2])},d:function(r){r&&(0,o.ogt)(t),e[28](null)}}}function W(e){var t,r,n,i,a,s=e[45].name+"";function c(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e)[30].apply(t,[e[42],e[47]].concat(n))}return{c:function(){t=(0,o.bGB)("i"),r=(0,o.fLW)(s),(0,o.Ljt)(t,"class",n="vc-tool vc-tool-"+e[42].id),(0,o.VHj)(t,"vc-global-tool",e[45].global),(0,o.VHj)(t,"vc-toggle",e[42].id===e[2])},m:function(e,n){(0,o.$Tr)(e,t,n),(0,o.R3I)(t,r),i||(a=(0,o.oLt)(t,"click",c),i=!0)},p:function(i,a){e=i,8&a[0]&&s!==(s=e[45].name+"")&&(0,o.rTO)(r,s),8&a[0]&&n!==(n="vc-tool vc-tool-"+e[42].id)&&(0,o.Ljt)(t,"class",n),8&a[0]&&(0,o.VHj)(t,"vc-global-tool",e[45].global),12&a[0]&&(0,o.VHj)(t,"vc-toggle",e[42].id===e[2])},d:function(e){e&&(0,o.ogt)(t),i=!1,a()}}}function X(e){for(var t,r=e[42].toolbarList,n=[],i=0;i<r.length;i+=1)n[i]=W(B(e,r,i));return{c:function(){for(var e=0;e<n.length;e+=1)n[e].c();t=(0,o.cSb)()},m:function(e,r){for(var i=0;i<n.length;i+=1)n[i].m(e,r);(0,o.$Tr)(e,t,r)},p:function(e,i){if(32780&i[0]){var a;for(r=e[42].toolbarList,a=0;a<r.length;a+=1){var o=B(e,r,a);n[a]?n[a].p(o,i):(n[a]=W(o),n[a].c(),n[a].m(t.parentNode,t))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},d:function(e){(0,o.RMB)(n,e),e&&(0,o.ogt)(t)}}}function K(e){var t,r,n,i,a,s,c,l,d,u,h,f,p,m,v,$,g,b,x,y,w;function _(t){e[24](t)}function S(t){e[25](t)}var T={};void 0!==e[0]&&(T.show=e[0]),void 0!==e[1]&&(T.position=e[1]),r=new A({props:T}),o.VnY.push((function(){return(0,o.akz)(r,"show",_)})),o.VnY.push((function(){return(0,o.akz)(r,"position",S)})),r.$on("click",e[11]);for(var M=Object.entries(e[3]),E=[],C=0;C<M.length;C+=1)E[C]=G(F(e,M,C));for(var L=Object.entries(e[3]),R=[],P=0;P<L.length;P+=1)R[P]=H(U(e,L,P));for(var D=Object.entries(e[3]),O=[],I=0;I<D.length;I+=1)O[I]=j(z(e,D,I));for(var B=Object.entries(e[3]),k=[],q=0;q<B.length;q+=1)k[q]=X(N(e,B,q));return{c:function(){var n,i;t=(0,o.bGB)("div"),(0,o.YCL)(r.$$.fragment),a=(0,o.DhX)(),s=(0,o.bGB)("div"),c=(0,o.DhX)(),l=(0,o.bGB)("div"),d=(0,o.bGB)("div");for(var x=0;x<E.length;x+=1)E[x].c();u=(0,o.DhX)(),h=(0,o.bGB)("div");for(var y=0;y<R.length;y+=1)R[y].c();f=(0,o.DhX)(),p=(0,o.bGB)("div");for(var w=0;w<O.length;w+=1)O[w].c();m=(0,o.DhX)(),v=(0,o.bGB)("div");for(var _=0;_<k.length;_+=1)k[_].c();$=(0,o.DhX)(),(g=(0,o.bGB)("i")).textContent="Hide",(0,o.Ljt)(s,"class","vc-mask"),(0,o.czc)(s,"display",e[10]?"block":"none"),(0,o.Ljt)(d,"class","vc-tabbar"),(0,o.Ljt)(h,"class","vc-topbar"),(0,o.Ljt)(p,"class","vc-content"),(0,o.VHj)(p,"vc-has-topbar",(null==(n=e[3][e[2]])||null==(i=n.topbarList)?void 0:i.length)>0),(0,o.Ljt)(g,"class","vc-tool vc-global-tool vc-tool-last vc-hide"),(0,o.Ljt)(v,"class","vc-toolbar"),(0,o.Ljt)(l,"class","vc-panel"),(0,o.czc)(l,"display",e[9]?"block":"none"),(0,o.Ljt)(t,"id","__vconsole"),(0,o.Ljt)(t,"style",b=e[7]?"font-size:"+e[7]+";":""),(0,o.Ljt)(t,"data-theme",e[5]),(0,o.VHj)(t,"vc-toggle",e[8])},m:function(n,i){(0,o.$Tr)(n,t,i),(0,o.yef)(r,t,null),(0,o.R3I)(t,a),(0,o.R3I)(t,s),(0,o.R3I)(t,c),(0,o.R3I)(t,l),(0,o.R3I)(l,d);for(var b=0;b<E.length;b+=1)E[b].m(d,null);(0,o.R3I)(l,u),(0,o.R3I)(l,h);for(var _=0;_<R.length;_+=1)R[_].m(h,null);(0,o.R3I)(l,f),(0,o.R3I)(l,p);for(var S=0;S<O.length;S+=1)O[S].m(p,null);e[29](p),(0,o.R3I)(l,m),(0,o.R3I)(l,v);for(var T=0;T<k.length;T+=1)k[T].m(v,null);(0,o.R3I)(v,$),(0,o.R3I)(v,g),x=!0,y||(w=[(0,o.oLt)(s,"click",e[12]),(0,o.oLt)(p,"touchstart",e[16]),(0,o.oLt)(p,"touchmove",e[17]),(0,o.oLt)(p,"touchend",e[18]),(0,o.oLt)(p,"scroll",e[19]),(0,o.oLt)(g,"click",e[12]),(0,o.oLt)(t,"touchstart",e[20].touchStart,!0),(0,o.oLt)(t,"touchmove",e[20].touchMove,!0),(0,o.oLt)(t,"touchend",e[20].touchEnd,!0)],y=!0)},p:function(e,a){var c,u,f={};if(!n&&1&a[0]&&(n=!0,f.show=e[0],(0,o.hjT)((function(){return n=!1}))),!i&&2&a[0]&&(i=!0,f.position=e[1],(0,o.hjT)((function(){return i=!1}))),r.$set(f),(!x||1024&a[0])&&(0,o.czc)(s,"display",e[10]?"block":"none"),8204&a[0]){var m;for(M=Object.entries(e[3]),m=0;m<M.length;m+=1){var g=F(e,M,m);E[m]?E[m].p(g,a):(E[m]=G(g),E[m].c(),E[m].m(d,null))}for(;m<E.length;m+=1)E[m].d(1);E.length=M.length}if(16396&a[0]){var y;for(L=Object.entries(e[3]),y=0;y<L.length;y+=1){var w=U(e,L,y);R[y]?R[y].p(w,a):(R[y]=H(w),R[y].c(),R[y].m(h,null))}for(;y<R.length;y+=1)R[y].d(1);R.length=L.length}if(28&a[0]){var _;for(D=Object.entries(e[3]),_=0;_<D.length;_+=1){var S=z(e,D,_);O[_]?O[_].p(S,a):(O[_]=j(S),O[_].c(),O[_].m(p,null))}for(;_<O.length;_+=1)O[_].d(1);O.length=D.length}if(12&a[0]&&(0,o.VHj)(p,"vc-has-topbar",(null==(c=e[3][e[2]])||null==(u=c.topbarList)?void 0:u.length)>0),32780&a[0]){var T;for(B=Object.entries(e[3]),T=0;T<B.length;T+=1){var A=N(e,B,T);k[T]?k[T].p(A,a):(k[T]=X(A),k[T].c(),k[T].m(v,$))}for(;T<k.length;T+=1)k[T].d(1);k.length=B.length}(!x||512&a[0])&&(0,o.czc)(l,"display",e[9]?"block":"none"),(!x||128&a[0]&&b!==(b=e[7]?"font-size:"+e[7]+";":""))&&(0,o.Ljt)(t,"style",b),(!x||32&a[0])&&(0,o.Ljt)(t,"data-theme",e[5]),256&a[0]&&(0,o.VHj)(t,"vc-toggle",e[8])},i:function(e){x||((0,o.Ui)(r.$$.fragment,e),x=!0)},o:function(e){(0,o.etI)(r.$$.fragment,e),x=!1},d:function(n){n&&(0,o.ogt)(t),(0,o.vpE)(r),(0,o.RMB)(E,n),(0,o.RMB)(R,n),(0,o.RMB)(O,n),e[29](null),(0,o.RMB)(k,n),y=!1,(0,o.j7q)(w)}}}function Y(e,r,n){var i,a,c=r.theme,l=void 0===c?"":c,d=r.disableScrolling,u=void 0!==d&&d,h=r.show,f=void 0!==h&&h,p=r.showSwitchButton,m=void 0===p||p,v=r.switchButtonPosition,$=void 0===v?{x:0,y:0}:v,g=r.activedPluginId,b=void 0===g?"":g,x=r.pluginList,y=void 0===x?{}:x,w=r.divContentInner,_=void 0===w?void 0:w,S=(0,s.x)(),T=!1,M="",E=!1,A=!1,L=!1,R=!0,P=0,D=null,O={};(0,s.H3)((function(){var e=document.querySelectorAll('[name="viewport"]');if(e&&e[0]){var t=(e[e.length-1].getAttribute("content")||"").match(/initial\-scale\=\d+(\.\d+)?/),r=t?parseFloat(t[0].split("=")[1]):1;1!==r&&n(7,M=Math.floor(1/r*13)+"px")}I.use&&I.use(),a=C.x.subscribe((function(e){f&&P!==e.updateTime&&(P=e.updateTime,N())}))})),(0,s.ev)((function(){I.unuse&&I.unuse(),a&&a()}));var N=function(){!u&&R&&i&&n(6,i.scrollTop=i.scrollHeight-i.offsetHeight,i)},B=function(e){e!==b&&(n(2,b=e),S("changePanel",{pluginId:e}),setTimeout((function(){i&&n(6,i.scrollTop=O[b]||0,i)}),0))},z=function(e,r,i){var a=y[r].topbarList[i],o=!0;if(t.mf(a.onClick)&&(o=a.onClick.call(e.target,e,a.data)),!1===o);else{for(var s=0;s<y[r].topbarList.length;s++)n(3,y[r].topbarList[s].actived=i===s,y);n(3,y)}},U=function(e,r,n){var i=y[r].toolbarList[n];t.mf(i.onClick)&&i.onClick.call(e.target,e,i.data)},k={tapTime:700,tapBoundary:10,lastTouchStartTime:0,touchstartX:0,touchstartY:0,touchHasMoved:!1,targetElem:null},F={touchStart:function(e){if(0===k.lastTouchStartTime){var t=e.targetTouches[0];k.touchstartX=t.pageX,k.touchstartY=t.pageY,k.lastTouchStartTime=e.timeStamp,k.targetElem=e.target.nodeType===Node.TEXT_NODE?e.target.parentNode:e.target}},touchMove:function(e){var t=e.changedTouches[0];(Math.abs(t.pageX-k.touchstartX)>k.tapBoundary||Math.abs(t.pageY-k.touchstartY)>k.tapBoundary)&&(k.touchHasMoved=!0)},touchEnd:function(e){if(!1===k.touchHasMoved&&e.timeStamp-k.lastTouchStartTime<k.tapTime&&null!=k.targetElem){var t=!1;switch(k.targetElem.tagName.toLowerCase()){case"textarea":t=!0;break;case"input":switch(k.targetElem.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":t=!1;break;default:t=!k.targetElem.disabled&&!k.targetElem.readOnly}}t?k.targetElem.focus():e.preventDefault();var r=e.changedTouches[0],n=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});k.targetElem.dispatchEvent(n)}k.lastTouchStartTime=0,k.touchHasMoved=!1,k.targetElem=null}};return e.$$set=function(e){"theme"in e&&n(5,l=e.theme),"disableScrolling"in e&&n(21,u=e.disableScrolling),"show"in e&&n(22,f=e.show),"showSwitchButton"in e&&n(0,m=e.showSwitchButton),"switchButtonPosition"in e&&n(1,$=e.switchButtonPosition),"activedPluginId"in e&&n(2,b=e.activedPluginId),"pluginList"in e&&n(3,y=e.pluginList),"divContentInner"in e&&n(4,_=e.divContentInner)},e.$$.update=function(){12582912&e.$$.dirty[0]&&(!0===f?(n(9,A=!0),n(10,L=!0),D&&clearTimeout(D),n(23,D=setTimeout((function(){n(8,E=!0),N()}),10))):(n(8,E=!1),D&&clearTimeout(D),n(23,D=setTimeout((function(){n(9,A=!1),n(10,L=!1)}),330))))},[m,$,b,y,_,l,i,M,E,A,L,function(e){S("show",{show:!0})},function(e){S("show",{show:!1})},B,z,U,function(e){var t=i.scrollTop,r=i.scrollHeight,a=t+i.offsetHeight;0===t?(n(6,i.scrollTop=1,i),0===i.scrollTop&&e.target.classList&&!e.target.classList.contains("vc-cmd-input")&&(T=!0)):a===r&&(n(6,i.scrollTop=t-1,i),i.scrollTop===t&&e.target.classList&&!e.target.classList.contains("vc-cmd-input")&&(T=!0))},function(e){T&&e.preventDefault()},function(e){T=!1},function(e){f&&(R=i.scrollTop+i.offsetHeight>=i.scrollHeight-50,O[b]=i.scrollTop)},F,u,f,D,function(e){n(0,m=e)},function(e){n(1,$=e)},function(e){return B(e.id)},function(e,t,r){return z(r,e.id,t)},function(e){o.VnY[e?"unshift":"push"]((function(){n(4,_=e)}))},function(e){o.VnY[e?"unshift":"push"]((function(){n(6,i=e)}))},function(e,t,r){return U(r,e.id,t)}]}var Z=function(t){function r(e){var r;return r=t.call(this)||this,(0,o.S1n)((0,i.Z)(r),e,Y,K,o.N8,{theme:5,disableScrolling:21,show:22,showSwitchButton:0,switchButtonPosition:1,activedPluginId:2,pluginList:3,divContentInner:4},null,[-1,-1]),r}return(0,a.Z)(r,t),(0,e.Z)(r,[{key:"theme",get:function(){return this.$$.ctx[5]},set:function(e){this.$$set({theme:e}),(0,o.yl1)()}},{key:"disableScrolling",get:function(){return this.$$.ctx[21]},set:function(e){this.$$set({disableScrolling:e}),(0,o.yl1)()}},{key:"show",get:function(){return this.$$.ctx[22]},set:function(e){this.$$set({show:e}),(0,o.yl1)()}},{key:"showSwitchButton",get:function(){return this.$$.ctx[0]},set:function(e){this.$$set({showSwitchButton:e}),(0,o.yl1)()}},{key:"switchButtonPosition",get:function(){return this.$$.ctx[1]},set:function(e){this.$$set({switchButtonPosition:e}),(0,o.yl1)()}},{key:"activedPluginId",get:function(){return this.$$.ctx[2]},set:function(e){this.$$set({activedPluginId:e}),(0,o.yl1)()}},{key:"pluginList",get:function(){return this.$$.ctx[3]},set:function(e){this.$$set({pluginList:e}),(0,o.yl1)()}},{key:"divContentInner",get:function(){return this.$$.ctx[4]},set:function(e){this.$$set({divContentInner:e}),(0,o.yl1)()}}]),r}(o.f_C),J=function(){function r(e,t){void 0===t&&(t="newPlugin"),this.isReady=!1,this.eventMap=new Map,this.exporter=void 0,this._id=void 0,this._name=void 0,this._vConsole=void 0,this.id=e,this.name=t,this.isReady=!1}var n=r.prototype;return n.on=function(e,t){return this.eventMap.set(e,t),this},n.onRemove=function(){this.unbindExporter()},n.trigger=function(e,t){var r=this.eventMap.get(e);if("function"==typeof r)r.call(this,t);else{var n="on"+e.charAt(0).toUpperCase()+e.slice(1);"function"==typeof this[n]&&this[n].call(this,t)}return this},n.bindExporter=function(){if(this._vConsole&&this.exporter){var e="default"===this.id?"log":this.id;this._vConsole[e]=this.exporter}},n.unbindExporter=function(){var e="default"===this.id?"log":this.id;this._vConsole&&this._vConsole[e]&&(this._vConsole[e]=void 0)},n.getUniqueID=function(e){return void 0===e&&(e=""),(0,t.QI)(e)},(0,e.Z)(r,[{key:"id",get:function(){return this._id},set:function(e){if("string"!=typeof e)throw"[vConsole] Plugin ID must be a string.";if(!e)throw"[vConsole] Plugin ID cannot be empty.";this._id=e.toLowerCase()}},{key:"name",get:function(){return this._name},set:function(e){if("string"!=typeof e)throw"[vConsole] Plugin name must be a string.";if(!e)throw"[vConsole] Plugin name cannot be empty.";this._name=e}},{key:"vConsole",get:function(){return this._vConsole||void 0},set:function(e){if(!e)throw"[vConsole] vConsole cannot be empty";this._vConsole=e,this.bindExporter()}}]),r}(),Q=function(e){function t(t,r,n,i){var a;return(a=e.call(this,t,r)||this).CompClass=void 0,a.compInstance=void 0,a.initialProps=void 0,a.CompClass=n,a.initialProps=i,a}(0,a.Z)(t,e);var r=t.prototype;return r.onReady=function(){this.isReady=!0},r.onRenderTab=function(e){var t=document.createElement("div");this.compInstance=new this.CompClass({target:t,props:this.initialProps}),e(t.firstElementChild)},r.onRemove=function(){e.prototype.onRemove&&e.prototype.onRemove.call(this),this.compInstance&&this.compInstance.$destroy()},t}(J),ee=__webpack_require__1(8665),te=__webpack_require__1(9923),re=__webpack_require__1(6958);function ne(e){var t,r;return(t=new re.Z({props:{name:e[0]?"success":"copy"}})).$on("click",e[1]),{c:function(){(0,o.YCL)(t.$$.fragment)},m:function(e,n){(0,o.yef)(t,e,n),r=!0},p:function(e,r){var n={};1&r[0]&&(n.name=e[0]?"success":"copy"),t.$set(n)},i:function(e){r||((0,o.Ui)(t.$$.fragment,e),r=!0)},o:function(e){(0,o.etI)(t.$$.fragment,e),r=!1},d:function(e){(0,o.vpE)(t,e)}}}function ie(e,r,n){var i=r.content,a=void 0===i?"":i,o=r.handler,s=void 0===o?void 0:o,c={target:document.documentElement},l=!1;return e.$$set=function(e){"content"in e&&n(2,a=e.content),"handler"in e&&n(3,s=e.handler)},[l,function(e){(function(e,t){var r=(void 0===t?{}:t).target,n=void 0===r?document.body:r,i=document.createElement("textarea"),a=document.activeElement;i.value=e,i.setAttribute("readonly",""),i.style.contain="strict",i.style.position="absolute",i.style.left="-9999px",i.style.fontSize="12pt";var o=document.getSelection(),s=!1;o.rangeCount>0&&(s=o.getRangeAt(0)),n.append(i),i.select(),i.selectionStart=0,i.selectionEnd=e.length;try{document.execCommand("copy")}catch(e){}i.remove(),s&&(o.removeAllRanges(),o.addRange(s)),a&&a.focus()})(t.mf(s)?s(a)||"":t.Kn(a)||t.kJ(a)?t.hZ(a):a,c),n(0,l=!0),setTimeout((function(){n(0,l=!1)}),600)},a,s]}var ae=function(t){function r(e){var r;return r=t.call(this)||this,(0,o.S1n)((0,i.Z)(r),e,ie,ne,o.N8,{content:2,handler:3}),r}return(0,a.Z)(r,t),(0,e.Z)(r,[{key:"content",get:function(){return this.$$.ctx[2]},set:function(e){this.$$set({content:e}),(0,o.yl1)()}},{key:"handler",get:function(){return this.$$.ctx[3]},set:function(e){this.$$set({handler:e}),(0,o.yl1)()}}]),r}(o.f_C),oe=__webpack_require__1(845),se={};oe.Z&&oe.Z.locals&&(se.locals=oe.Z.locals);var ce,le=0,de={};de.styleTagTransform=b(),de.setAttributes=m(),de.insert=f().bind(null,"head"),de.domAPI=u(),de.insertStyleElement=$(),se.use=function(e){return de.options=e||{},le++||(ce=l()(oe.Z,de)),se},se.unuse=function(){le>0&&!--le&&(ce(),ce=null)};var ue=se;function he(e){var r,n,i,a=t.rE(e[1])+"";return{c:function(){r=(0,o.bGB)("i"),n=(0,o.fLW)(a),i=(0,o.fLW)(":"),(0,o.Ljt)(r,"class","vc-log-key"),(0,o.VHj)(r,"vc-log-key-symbol","symbol"===e[2]),(0,o.VHj)(r,"vc-log-key-private","private"===e[2])},m:function(e,t){(0,o.$Tr)(e,r,t),(0,o.R3I)(r,n),(0,o.$Tr)(e,i,t)},p:function(e,i){2&i&&a!==(a=t.rE(e[1])+"")&&(0,o.rTO)(n,a),4&i&&(0,o.VHj)(r,"vc-log-key-symbol","symbol"===e[2]),4&i&&(0,o.VHj)(r,"vc-log-key-private","private"===e[2])},d:function(e){e&&(0,o.ogt)(r),e&&(0,o.ogt)(i)}}}function fe(e){var t;return{c:function(){t=(0,o.fLW)(e[3])},m:function(e,r){(0,o.$Tr)(e,t,r)},p:function(e,r){8&r&&(0,o.rTO)(t,e[3])},d:function(e){e&&(0,o.ogt)(t)}}}function pe(e){var t,r;return{c:function(){t=new o.FWw,r=(0,o.cSb)(),t.a=r},m:function(n,i){t.m(e[3],n,i),(0,o.$Tr)(n,r,i)},p:function(e,r){8&r&&t.p(e[3])},d:function(e){e&&(0,o.ogt)(r),e&&t.d()}}}function me(e){var t,r,n,i=void 0!==e[1]&&he(e);function a(e,t){return e[5]||"string"!==e[4]?fe:pe}var s=a(e),c=s(e);return{c:function(){i&&i.c(),t=(0,o.DhX)(),r=(0,o.bGB)("i"),c.c(),(0,o.Ljt)(r,"class",n="vc-log-val vc-log-val-"+e[4]),(0,o.Ljt)(r,"style",e[0]),(0,o.VHj)(r,"vc-log-val-haskey",void 0!==e[1])},m:function(e,n){i&&i.m(e,n),(0,o.$Tr)(e,t,n),(0,o.$Tr)(e,r,n),c.m(r,null)},p:function(e,l){var d=l[0];void 0!==e[1]?i?i.p(e,d):((i=he(e)).c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),s===(s=a(e))&&c?c.p(e,d):(c.d(1),(c=s(e))&&(c.c(),c.m(r,null))),16&d&&n!==(n="vc-log-val vc-log-val-"+e[4])&&(0,o.Ljt)(r,"class",n),1&d&&(0,o.Ljt)(r,"style",e[0]),18&d&&(0,o.VHj)(r,"vc-log-val-haskey",void 0!==e[1])},i:o.ZTd,o:o.ZTd,d:function(e){i&&i.d(e),e&&(0,o.ogt)(t),e&&(0,o.ogt)(r),c.d()}}}function ve(e,r,n){var i=r.origData,a=r.style,o=void 0===a?"":a,c=r.dataKey,l=void 0===c?void 0:c,d=r.keyType,u=void 0===d?"":d,h="",f="",p=!1,m=!1;return(0,s.H3)((function(){ue.use()})),(0,s.ev)((function(){ue.unuse()})),e.$$set=function(e){"origData"in e&&n(6,i=e.origData),"style"in e&&n(0,o=e.style),"dataKey"in e&&n(1,l=e.dataKey),"keyType"in e&&n(2,u=e.keyType)},e.$$.update=function(){if(250&e.$$.dirty&&!p){n(5,m=void 0!==l);var r=(0,ee.LH)(i,m);n(4,f=r.valueType),n(3,h=r.text),m||"string"!==f||n(3,h=t.Ak(h.replace("\\n","\n").replace("\\t","\t"))),n(7,p=!0)}},[o,l,u,h,f,m,i,p]}var $e=function(t){function r(e){var r;return r=t.call(this)||this,(0,o.S1n)((0,i.Z)(r),e,ve,me,o.N8,{origData:6,style:0,dataKey:1,keyType:2}),r}return(0,a.Z)(r,t),(0,e.Z)(r,[{key:"origData",get:function(){return this.$$.ctx[6]},set:function(e){this.$$set({origData:e}),(0,o.yl1)()}},{key:"style",get:function(){return this.$$.ctx[0]},set:function(e){this.$$set({style:e}),(0,o.yl1)()}},{key:"dataKey",get:function(){return this.$$.ctx[1]},set:function(e){this.$$set({dataKey:e}),(0,o.yl1)()}},{key:"keyType",get:function(){return this.$$.ctx[2]},set:function(e){this.$$set({keyType:e}),(0,o.yl1)()}}]),r}(o.f_C),ge=__webpack_require__1(1237),be={};ge.Z&&ge.Z.locals&&(be.locals=ge.Z.locals);var xe,ye=0,we={};we.styleTagTransform=b(),we.setAttributes=m(),we.insert=f().bind(null,"head"),we.domAPI=u(),we.insertStyleElement=$(),be.use=function(e){return we.options=e||{},ye++||(xe=l()(ge.Z,we)),be},be.unuse=function(){ye>0&&!--ye&&(xe(),xe=null)};var _e=be;function Se(e,t,r){var n=e.slice();return n[18]=t[r],n[20]=r,n}function Te(e,t,r){var n=e.slice();return n[18]=t[r],n}function Me(e,t,r){var n=e.slice();return n[18]=t[r],n[20]=r,n}function Ee(e){for(var t,r,n,i,a,s,c,l=[],d=new Map,u=[],h=new Map,f=[],p=new Map,m=e[5],v=function(e){return e[18]},$=0;$<m.length;$+=1){var g=Me(e,m,$),b=v(g);d.set(b,l[$]=Ce(b,g))}for(var x=e[9]<e[5].length&&Le(e),y=e[7],w=function(e){return e[18]},_=0;_<y.length;_+=1){var S=Te(e,y,_),T=w(S);h.set(T,u[_]=Re(T,S))}for(var M=e[6],E=function(e){return e[18]},A=0;A<M.length;A+=1){var C=Se(e,M,A),L=E(C);p.set(L,f[A]=De(L,C))}var R=e[10]<e[6].length&&Oe(e),P=e[8]&&Ie(e);return{c:function(){t=(0,o.bGB)("div");for(var e=0;e<l.length;e+=1)l[e].c();r=(0,o.DhX)(),x&&x.c(),n=(0,o.DhX)();for(var c=0;c<u.length;c+=1)u[c].c();i=(0,o.DhX)();for(var d=0;d<f.length;d+=1)f[d].c();a=(0,o.DhX)(),R&&R.c(),s=(0,o.DhX)(),P&&P.c(),(0,o.Ljt)(t,"class","vc-log-tree-child")},m:function(e,d){(0,o.$Tr)(e,t,d);for(var h=0;h<l.length;h+=1)l[h].m(t,null);(0,o.R3I)(t,r),x&&x.m(t,null),(0,o.R3I)(t,n);for(var p=0;p<u.length;p+=1)u[p].m(t,null);(0,o.R3I)(t,i);for(var m=0;m<f.length;m+=1)f[m].m(t,null);(0,o.R3I)(t,a),R&&R.m(t,null),(0,o.R3I)(t,s),P&&P.m(t,null),c=!0},p:function(e,c){16928&c&&(m=e[5],(0,o.dvw)(),l=(0,o.GQg)(l,c,v,1,e,m,d,t,o.cly,Ce,r,Me),(0,o.gbL)()),e[9]<e[5].length?x?x.p(e,c):((x=Le(e)).c(),x.m(t,n)):x&&(x.d(1),x=null),16512&c&&(y=e[7],(0,o.dvw)(),u=(0,o.GQg)(u,c,w,1,e,y,h,t,o.cly,Re,i,Te),(0,o.gbL)()),17472&c&&(M=e[6],(0,o.dvw)(),f=(0,o.GQg)(f,c,E,1,e,M,p,t,o.cly,De,a,Se),(0,o.gbL)()),e[10]<e[6].length?R?R.p(e,c):((R=Oe(e)).c(),R.m(t,s)):R&&(R.d(1),R=null),e[8]?P?(P.p(e,c),256&c&&(0,o.Ui)(P,1)):((P=Ie(e)).c(),(0,o.Ui)(P,1),P.m(t,null)):P&&((0,o.dvw)(),(0,o.etI)(P,1,1,(function(){P=null})),(0,o.gbL)())},i:function(e){if(!c){for(var t=0;t<m.length;t+=1)(0,o.Ui)(l[t]);for(var r=0;r<y.length;r+=1)(0,o.Ui)(u[r]);for(var n=0;n<M.length;n+=1)(0,o.Ui)(f[n]);(0,o.Ui)(P),c=!0}},o:function(e){for(var t=0;t<l.length;t+=1)(0,o.etI)(l[t]);for(var r=0;r<u.length;r+=1)(0,o.etI)(u[r]);for(var n=0;n<f.length;n+=1)(0,o.etI)(f[n]);(0,o.etI)(P),c=!1},d:function(e){e&&(0,o.ogt)(t);for(var r=0;r<l.length;r+=1)l[r].d();x&&x.d();for(var n=0;n<u.length;n+=1)u[n].d();for(var i=0;i<f.length;i+=1)f[i].d();R&&R.d(),P&&P.d()}}}function Ae(e){var t,r;return t=new ze({props:{origData:e[14](e[18]),dataKey:e[18]}}),{c:function(){(0,o.YCL)(t.$$.fragment)},m:function(e,n){(0,o.yef)(t,e,n),r=!0},p:function(e,r){var n={};32&r&&(n.origData=e[14](e[18])),32&r&&(n.dataKey=e[18]),t.$set(n)},i:function(e){r||((0,o.Ui)(t.$$.fragment,e),r=!0)},o:function(e){(0,o.etI)(t.$$.fragment,e),r=!1},d:function(e){(0,o.vpE)(t,e)}}}function Ce(e,t){var r,n,i,a=t[20]<t[9]&&Ae(t);return{key:e,first:null,c:function(){r=(0,o.cSb)(),a&&a.c(),n=(0,o.cSb)(),this.first=r},m:function(e,t){(0,o.$Tr)(e,r,t),a&&a.m(e,t),(0,o.$Tr)(e,n,t),i=!0},p:function(e,r){(t=e)[20]<t[9]?a?(a.p(t,r),544&r&&(0,o.Ui)(a,1)):((a=Ae(t)).c(),(0,o.Ui)(a,1),a.m(n.parentNode,n)):a&&((0,o.dvw)(),(0,o.etI)(a,1,1,(function(){a=null})),(0,o.gbL)())},i:function(e){i||((0,o.Ui)(a),i=!0)},o:function(e){(0,o.etI)(a),i=!1},d:function(e){e&&(0,o.ogt)(r),a&&a.d(e),e&&(0,o.ogt)(n)}}}function Le(e){var t,r,n,i,a=e[12](e[5].length-e[9])+"";return{c:function(){t=(0,o.bGB)("div"),r=(0,o.fLW)(a),(0,o.Ljt)(t,"class","vc-log-tree-loadmore")},m:function(a,s){(0,o.$Tr)(a,t,s),(0,o.R3I)(t,r),n||(i=(0,o.oLt)(t,"click",e[16]),n=!0)},p:function(e,t){544&t&&a!==(a=e[12](e[5].length-e[9])+"")&&(0,o.rTO)(r,a)},d:function(e){e&&(0,o.ogt)(t),n=!1,i()}}}function Re(e,t){var r,n,i;return n=new ze({props:{origData:t[14](t[18]),dataKey:String(t[18]),keyType:"symbol"}}),{key:e,first:null,c:function(){r=(0,o.cSb)(),(0,o.YCL)(n.$$.fragment),this.first=r},m:function(e,t){(0,o.$Tr)(e,r,t),(0,o.yef)(n,e,t),i=!0},p:function(e,r){t=e;var i={};128&r&&(i.origData=t[14](t[18])),128&r&&(i.dataKey=String(t[18])),n.$set(i)},i:function(e){i||((0,o.Ui)(n.$$.fragment,e),i=!0)},o:function(e){(0,o.etI)(n.$$.fragment,e),i=!1},d:function(e){e&&(0,o.ogt)(r),(0,o.vpE)(n,e)}}}function Pe(e){var t,r;return t=new ze({props:{origData:e[14](e[18]),dataKey:e[18],keyType:"private"}}),{c:function(){(0,o.YCL)(t.$$.fragment)},m:function(e,n){(0,o.yef)(t,e,n),r=!0},p:function(e,r){var n={};64&r&&(n.origData=e[14](e[18])),64&r&&(n.dataKey=e[18]),t.$set(n)},i:function(e){r||((0,o.Ui)(t.$$.fragment,e),r=!0)},o:function(e){(0,o.etI)(t.$$.fragment,e),r=!1},d:function(e){(0,o.vpE)(t,e)}}}function De(e,t){var r,n,i,a=t[20]<t[10]&&Pe(t);return{key:e,first:null,c:function(){r=(0,o.cSb)(),a&&a.c(),n=(0,o.cSb)(),this.first=r},m:function(e,t){(0,o.$Tr)(e,r,t),a&&a.m(e,t),(0,o.$Tr)(e,n,t),i=!0},p:function(e,r){(t=e)[20]<t[10]?a?(a.p(t,r),1088&r&&(0,o.Ui)(a,1)):((a=Pe(t)).c(),(0,o.Ui)(a,1),a.m(n.parentNode,n)):a&&((0,o.dvw)(),(0,o.etI)(a,1,1,(function(){a=null})),(0,o.gbL)())},i:function(e){i||((0,o.Ui)(a),i=!0)},o:function(e){(0,o.etI)(a),i=!1},d:function(e){e&&(0,o.ogt)(r),a&&a.d(e),e&&(0,o.ogt)(n)}}}function Oe(e){var t,r,n,i,a=e[12](e[6].length-e[10])+"";return{c:function(){t=(0,o.bGB)("div"),r=(0,o.fLW)(a),(0,o.Ljt)(t,"class","vc-log-tree-loadmore")},m:function(a,s){(0,o.$Tr)(a,t,s),(0,o.R3I)(t,r),n||(i=(0,o.oLt)(t,"click",e[17]),n=!0)},p:function(e,t){1088&t&&a!==(a=e[12](e[6].length-e[10])+"")&&(0,o.rTO)(r,a)},d:function(e){e&&(0,o.ogt)(t),n=!1,i()}}}function Ie(e){var t,r;return t=new ze({props:{origData:e[14]("__proto__"),dataKey:"__proto__",keyType:"private"}}),{c:function(){(0,o.YCL)(t.$$.fragment)},m:function(e,n){(0,o.yef)(t,e,n),r=!0},p:o.ZTd,i:function(e){r||((0,o.Ui)(t.$$.fragment,e),r=!0)},o:function(e){(0,o.etI)(t.$$.fragment,e),r=!1},d:function(e){(0,o.vpE)(t,e)}}}function Ne(e){var t,r,n,i,a,s,c;n=new $e({props:{origData:e[0],dataKey:e[1],keyType:e[2]}});var l=e[4]&&e[3]&&Ee(e);return{c:function(){t=(0,o.bGB)("div"),r=(0,o.bGB)("div"),(0,o.YCL)(n.$$.fragment),i=(0,o.DhX)(),l&&l.c(),(0,o.Ljt)(r,"class","vc-log-tree-node"),(0,o.Ljt)(t,"class","vc-log-tree"),(0,o.VHj)(t,"vc-toggle",e[3]),(0,o.VHj)(t,"vc-is-tree",e[4])},m:function(d,u){(0,o.$Tr)(d,t,u),(0,o.R3I)(t,r),(0,o.yef)(n,r,null),(0,o.R3I)(t,i),l&&l.m(t,null),a=!0,s||(c=(0,o.oLt)(r,"click",e[13]),s=!0)},p:function(e,r){var i=r[0],a={};1&i&&(a.origData=e[0]),2&i&&(a.dataKey=e[1]),4&i&&(a.keyType=e[2]),n.$set(a),e[4]&&e[3]?l?(l.p(e,i),24&i&&(0,o.Ui)(l,1)):((l=Ee(e)).c(),(0,o.Ui)(l,1),l.m(t,null)):l&&((0,o.dvw)(),(0,o.etI)(l,1,1,(function(){l=null})),(0,o.gbL)()),8&i&&(0,o.VHj)(t,"vc-toggle",e[3]),16&i&&(0,o.VHj)(t,"vc-is-tree",e[4])},i:function(e){a||((0,o.Ui)(n.$$.fragment,e),(0,o.Ui)(l),a=!0)},o:function(e){(0,o.etI)(n.$$.fragment,e),(0,o.etI)(l),a=!1},d:function(e){e&&(0,o.ogt)(t),(0,o.vpE)(n),l&&l.d(),s=!1,c()}}}function Be(e,r,n){var i,a,o,c=r.origData,l=r.dataKey,d=void 0===l?void 0:l,u=r.keyType,h=void 0===u?"":u,f=!1,p=!1,m=!1,v=!1,$=50,g=50;(0,s.H3)((function(){_e.use()})),(0,s.ev)((function(){_e.unuse()}));var b=function(e){"enum"===e?n(9,$+=50):"nonEnum"===e&&n(10,g+=50)};return e.$$set=function(e){"origData"in e&&n(0,c=e.origData),"dataKey"in e&&n(1,d=e.dataKey),"keyType"in e&&n(2,h=e.keyType)},e.$$.update=function(){33017&e.$$.dirty&&(f||(n(4,m=!(c instanceof ee.Tg)&&(t.kJ(c)||t.Kn(c))),n(15,f=!0)),m&&p&&(n(5,i=i||t.qr(t.MH(c))),n(6,a=a||t.qr(t.QK(c))),n(7,o=o||t._D(c)),n(8,v=t.Kn(c)&&-1===a.indexOf("__proto__"))))},[c,d,h,p,m,i,a,o,v,$,g,b,function(e){return"(..."+e+" Key"+(e>1?"s":"")+" Left)"},function(){n(3,p=!p)},function(e){try{return c[e]}catch(e){return new ee.Tg}},f,function(){return b("enum")},function(){return b("nonEnum")}]}var ze=function(t){function r(e){var r;return r=t.call(this)||this,(0,o.S1n)((0,i.Z)(r),e,Be,Ne,o.N8,{origData:0,dataKey:1,keyType:2}),r}return(0,a.Z)(r,t),(0,e.Z)(r,[{key:"origData",get:function(){return this.$$.ctx[0]},set:function(e){this.$$set({origData:e}),(0,o.yl1)()}},{key:"dataKey",get:function(){return this.$$.ctx[1]},set:function(e){this.$$set({dataKey:e}),(0,o.yl1)()}},{key:"keyType",get:function(){return this.$$.ctx[2]},set:function(e){this.$$set({keyType:e}),(0,o.yl1)()}}]),r}(o.f_C),Ue=ze,ke=__webpack_require__1(7147),Fe={};ke.Z&&ke.Z.locals&&(Fe.locals=ke.Z.locals);var qe,Ge=0,Ve={};Ve.styleTagTransform=b(),Ve.setAttributes=m(),Ve.insert=f().bind(null,"head"),Ve.domAPI=u(),Ve.insertStyleElement=$(),Fe.use=function(e){return Ve.options=e||{},Ge++||(qe=l()(ke.Z,Ve)),Fe},Fe.unuse=function(){Ge>0&&!--Ge&&(qe(),qe=null)};var He=Fe;function je(e,t,r){var n=e.slice();return n[7]=t[r],n[9]=r,n}function We(e){for(var t,r,n,i,a,s,c,l,d,u=[],h=new Map,f=e[1]&&Xe(e),p=e[0].repeated&&Ke(e),m=e[0].data,v=function(e){return e[9]},$=0;$<m.length;$+=1){var g=je(e,m,$),b=v(g);h.set(b,u[$]=Je(b,g))}return c=new ae({props:{handler:e[4]}}),{c:function(){t=(0,o.bGB)("div"),f&&f.c(),r=(0,o.DhX)(),p&&p.c(),n=(0,o.DhX)(),i=(0,o.bGB)("div");for(var d=0;d<u.length;d+=1)u[d].c();a=(0,o.DhX)(),s=(0,o.bGB)("div"),(0,o.YCL)(c.$$.fragment),(0,o.Ljt)(i,"class","vc-log-content"),(0,o.Ljt)(s,"class","vc-logrow-icon"),(0,o.Ljt)(t,"class",l="vc-log-row vc-log-"+e[0].type),(0,o.VHj)(t,"vc-log-input","input"===e[0].cmdType),(0,o.VHj)(t,"vc-log-output","output"===e[0].cmdType)},m:function(e,l){(0,o.$Tr)(e,t,l),f&&f.m(t,null),(0,o.R3I)(t,r),p&&p.m(t,null),(0,o.R3I)(t,n),(0,o.R3I)(t,i);for(var h=0;h<u.length;h+=1)u[h].m(i,null);(0,o.R3I)(t,a),(0,o.R3I)(t,s),(0,o.yef)(c,s,null),d=!0},p:function(e,a){e[1]?f?f.p(e,a):((f=Xe(e)).c(),f.m(t,r)):f&&(f.d(1),f=null),e[0].repeated?p?p.p(e,a):((p=Ke(e)).c(),p.m(t,n)):p&&(p.d(1),p=null),9&a&&(m=e[0].data,(0,o.dvw)(),u=(0,o.GQg)(u,a,v,1,e,m,h,i,o.cly,Je,null,je),(0,o.gbL)()),(!d||1&a&&l!==(l="vc-log-row vc-log-"+e[0].type))&&(0,o.Ljt)(t,"class",l),1&a&&(0,o.VHj)(t,"vc-log-input","input"===e[0].cmdType),1&a&&(0,o.VHj)(t,"vc-log-output","output"===e[0].cmdType)},i:function(e){if(!d){for(var t=0;t<m.length;t+=1)(0,o.Ui)(u[t]);(0,o.Ui)(c.$$.fragment,e),d=!0}},o:function(e){for(var t=0;t<u.length;t+=1)(0,o.etI)(u[t]);(0,o.etI)(c.$$.fragment,e),d=!1},d:function(e){e&&(0,o.ogt)(t),f&&f.d(),p&&p.d();for(var r=0;r<u.length;r+=1)u[r].d();(0,o.vpE)(c)}}}function Xe(e){var t,r;return{c:function(){t=(0,o.bGB)("div"),r=(0,o.fLW)(e[2]),(0,o.Ljt)(t,"class","vc-log-time")},m:function(e,n){(0,o.$Tr)(e,t,n),(0,o.R3I)(t,r)},p:function(e,t){4&t&&(0,o.rTO)(r,e[2])},d:function(e){e&&(0,o.ogt)(t)}}}function Ke(e){var t,r,n,i=e[0].repeated+"";return{c:function(){t=(0,o.bGB)("div"),r=(0,o.bGB)("i"),n=(0,o.fLW)(i),(0,o.Ljt)(t,"class","vc-log-repeat")},m:function(e,i){(0,o.$Tr)(e,t,i),(0,o.R3I)(t,r),(0,o.R3I)(r,n)},p:function(e,t){1&t&&i!==(i=e[0].repeated+"")&&(0,o.rTO)(n,i)},d:function(e){e&&(0,o.ogt)(t)}}}function Ye(e){var t,r;return t=new $e({props:{origData:e[7].origData,style:e[7].style}}),{c:function(){(0,o.YCL)(t.$$.fragment)},m:function(e,n){(0,o.yef)(t,e,n),r=!0},p:function(e,r){var n={};1&r&&(n.origData=e[7].origData),1&r&&(n.style=e[7].style),t.$set(n)},i:function(e){r||((0,o.Ui)(t.$$.fragment,e),r=!0)},o:function(e){(0,o.etI)(t.$$.fragment,e),r=!1},d:function(e){(0,o.vpE)(t,e)}}}function Ze(e){var t,r;return t=new Ue({props:{origData:e[7].origData}}),{c:function(){(0,o.YCL)(t.$$.fragment)},m:function(e,n){(0,o.yef)(t,e,n),r=!0},p:function(e,r){var n={};1&r&&(n.origData=e[7].origData),t.$set(n)},i:function(e){r||((0,o.Ui)(t.$$.fragment,e),r=!0)},o:function(e){(0,o.etI)(t.$$.fragment,e),r=!1},d:function(e){(0,o.vpE)(t,e)}}}function Je(e,t){var r,n,i,a,s,c,l=[Ze,Ye],d=[];function u(e,t){return 1&t&&(n=null),null==n&&(n=!!e[3](e[7].origData)),n?0:1}return i=u(t,-1),a=d[i]=l[i](t),{key:e,first:null,c:function(){r=(0,o.cSb)(),a.c(),s=(0,o.cSb)(),this.first=r},m:function(e,t){(0,o.$Tr)(e,r,t),d[i].m(e,t),(0,o.$Tr)(e,s,t),c=!0},p:function(e,r){var n=i;(i=u(t=e,r))===n?d[i].p(t,r):((0,o.dvw)(),(0,o.etI)(d[n],1,1,(function(){d[n]=null})),(0,o.gbL)(),(a=d[i])?a.p(t,r):(a=d[i]=l[i](t)).c(),(0,o.Ui)(a,1),a.m(s.parentNode,s))},i:function(e){c||((0,o.Ui)(a),c=!0)},o:function(e){(0,o.etI)(a),c=!1},d:function(e){e&&(0,o.ogt)(r),d[i].d(e),e&&(0,o.ogt)(s)}}}function Qe(e){var t,r,n=e[0]&&We(e);return{c:function(){n&&n.c(),t=(0,o.cSb)()},m:function(e,i){n&&n.m(e,i),(0,o.$Tr)(e,t,i),r=!0},p:function(e,r){var i=r[0];e[0]?n?(n.p(e,i),1&i&&(0,o.Ui)(n,1)):((n=We(e)).c(),(0,o.Ui)(n,1),n.m(t.parentNode,t)):n&&((0,o.dvw)(),(0,o.etI)(n,1,1,(function(){n=null})),(0,o.gbL)())},i:function(e){r||((0,o.Ui)(n),r=!0)},o:function(e){(0,o.etI)(n),r=!1},d:function(e){n&&n.d(e),e&&(0,o.ogt)(t)}}}function et(e,r,n){var i=r.log,a=r.showTimestamps,o=void 0!==a&&a,c=!1,l="",d=function(e,t){var r="000"+e;return r.substring(r.length-t)};return(0,s.H3)((function(){He.use()})),(0,s.ev)((function(){He.unuse()})),e.$$set=function(e){"log"in e&&n(0,i=e.log),"showTimestamps"in e&&n(1,o=e.showTimestamps)},e.$$.update=function(){if(39&e.$$.dirty&&(c||n(5,c=!0),o&&""===l)){var t=new Date(i.date);n(2,l=d(t.getHours(),2)+":"+d(t.getMinutes(),2)+":"+d(t.getSeconds(),2)+":"+d(t.getMilliseconds(),3))}},[i,o,l,function(e){return!(e instanceof ee.Tg)&&(t.kJ(e)||t.Kn(e))},function(){var e=[];try{for(var r=0;r<i.data.length;r++)e.push(t.hZ(i.data[r].origData,{maxDepth:10,keyMaxLen:1e4,pretty:!1}))}catch(e){}return e.join(" ")},c]}var tt=function(t){function r(e){var r;return r=t.call(this)||this,(0,o.S1n)((0,i.Z)(r),e,et,Qe,o.N8,{log:0,showTimestamps:1}),r}return(0,a.Z)(r,t),(0,e.Z)(r,[{key:"log",get:function(){return this.$$.ctx[0]},set:function(e){this.$$set({log:e}),(0,o.yl1)()}},{key:"showTimestamps",get:function(){return this.$$.ctx[1]},set:function(e){this.$$set({showTimestamps:e}),(0,o.yl1)()}}]),r}(o.f_C),rt=__webpack_require__1(3903),nt=__webpack_require__1(3327),it={};nt.Z&&nt.Z.locals&&(it.locals=nt.Z.locals);var at,ot=0,st={};st.styleTagTransform=b(),st.setAttributes=m(),st.insert=f().bind(null,"head"),st.domAPI=u(),st.insertStyleElement=$(),it.use=function(e){return st.options=e||{},ot++||(at=l()(nt.Z,st)),it},it.unuse=function(){ot>0&&!--ot&&(at(),at=null)};var ct=it;function lt(e,t,r){var n=e.slice();return n[9]=t[r],n}function dt(e){var t;return{c:function(){t=(0,o.bGB)("div"),(0,o.Ljt)(t,"class","vc-plugin-empty")},m:function(e,r){(0,o.$Tr)(e,t,r)},p:o.ZTd,i:o.ZTd,o:o.ZTd,d:function(e){e&&(0,o.ogt)(t)}}}function ut(e){for(var t,r,n=[],i=new Map,a=e[5].logList,s=function(e){return e[9]._id},c=0;c<a.length;c+=1){var l=lt(e,a,c),d=s(l);i.set(d,n[c]=ft(d,l))}return{c:function(){for(var e=0;e<n.length;e+=1)n[e].c();t=(0,o.cSb)()},m:function(e,i){for(var a=0;a<n.length;a+=1)n[a].m(e,i);(0,o.$Tr)(e,t,i),r=!0},p:function(e,r){46&r&&(a=e[5].logList,(0,o.dvw)(),n=(0,o.GQg)(n,r,s,1,e,a,i,t.parentNode,o.cly,ft,t,lt),(0,o.gbL)())},i:function(e){if(!r){for(var t=0;t<a.length;t+=1)(0,o.Ui)(n[t]);r=!0}},o:function(e){for(var t=0;t<n.length;t+=1)(0,o.etI)(n[t]);r=!1},d:function(e){for(var r=0;r<n.length;r+=1)n[r].d(e);e&&(0,o.ogt)(t)}}}function ht(e){var t,r;return t=new tt({props:{log:e[9],showTimestamps:e[2]}}),{c:function(){(0,o.YCL)(t.$$.fragment)},m:function(e,n){(0,o.yef)(t,e,n),r=!0},p:function(e,r){var n={};32&r&&(n.log=e[9]),4&r&&(n.showTimestamps=e[2]),t.$set(n)},i:function(e){r||((0,o.Ui)(t.$$.fragment,e),r=!0)},o:function(e){(0,o.etI)(t.$$.fragment,e),r=!1},d:function(e){(0,o.vpE)(t,e)}}}function ft(e,t){var r,n,i,a=("all"===t[1]||t[1]===t[9].type)&&(""===t[3]||(0,ee.HX)(t[9],t[3])),s=a&&ht(t);return{key:e,first:null,c:function(){r=(0,o.cSb)(),s&&s.c(),n=(0,o.cSb)(),this.first=r},m:function(e,t){(0,o.$Tr)(e,r,t),s&&s.m(e,t),(0,o.$Tr)(e,n,t),i=!0},p:function(e,r){t=e,42&r&&(a=("all"===t[1]||t[1]===t[9].type)&&(""===t[3]||(0,ee.HX)(t[9],t[3]))),a?s?(s.p(t,r),42&r&&(0,o.Ui)(s,1)):((s=ht(t)).c(),(0,o.Ui)(s,1),s.m(n.parentNode,n)):s&&((0,o.dvw)(),(0,o.etI)(s,1,1,(function(){s=null})),(0,o.gbL)())},i:function(e){i||((0,o.Ui)(s),i=!0)},o:function(e){(0,o.etI)(s),i=!1},d:function(e){e&&(0,o.ogt)(r),s&&s.d(e),e&&(0,o.ogt)(n)}}}function pt(e){var t,r;return(t=new rt.Z({})).$on("filterText",e[6]),{c:function(){(0,o.YCL)(t.$$.fragment)},m:function(e,n){(0,o.yef)(t,e,n),r=!0},p:o.ZTd,i:function(e){r||((0,o.Ui)(t.$$.fragment,e),r=!0)},o:function(e){(0,o.etI)(t.$$.fragment,e),r=!1},d:function(e){(0,o.vpE)(t,e)}}}function mt(e){var t,r,n,i,a,s=[ut,dt],c=[];function l(e,t){return e[5]&&e[5].logList.length>0?0:1}r=l(e),n=c[r]=s[r](e);var d=e[0]&&pt(e);return{c:function(){t=(0,o.bGB)("div"),n.c(),i=(0,o.DhX)(),d&&d.c(),(0,o.Ljt)(t,"class","vc-plugin-content"),(0,o.VHj)(t,"vc-logs-has-cmd",e[0])},m:function(e,n){(0,o.$Tr)(e,t,n),c[r].m(t,null),(0,o.R3I)(t,i),d&&d.m(t,null),a=!0},p:function(e,a){var u=a[0],h=r;(r=l(e))===h?c[r].p(e,u):((0,o.dvw)(),(0,o.etI)(c[h],1,1,(function(){c[h]=null})),(0,o.gbL)(),(n=c[r])?n.p(e,u):(n=c[r]=s[r](e)).c(),(0,o.Ui)(n,1),n.m(t,i)),e[0]?d?(d.p(e,u),1&u&&(0,o.Ui)(d,1)):((d=pt(e)).c(),(0,o.Ui)(d,1),d.m(t,null)):d&&((0,o.dvw)(),(0,o.etI)(d,1,1,(function(){d=null})),(0,o.gbL)()),1&u&&(0,o.VHj)(t,"vc-logs-has-cmd",e[0])},i:function(e){a||((0,o.Ui)(n),(0,o.Ui)(d),a=!0)},o:function(e){(0,o.etI)(n),(0,o.etI)(d),a=!1},d:function(e){e&&(0,o.ogt)(t),c[r].d(),d&&d.d()}}}function vt(e,t,r){var n,i=o.ZTd;e.$$.on_destroy.push((function(){return i()}));var a,c=t.pluginId,l=void 0===c?"default":c,d=t.showCmd,u=void 0!==d&&d,h=t.filterType,f=void 0===h?"all":h,p=t.showTimestamps,m=void 0!==p&&p,v=!1,$="";return(0,s.H3)((function(){ct.use()})),(0,s.ev)((function(){ct.unuse()})),e.$$set=function(e){"pluginId"in e&&r(7,l=e.pluginId),"showCmd"in e&&r(0,u=e.showCmd),"filterType"in e&&r(1,f=e.filterType),"showTimestamps"in e&&r(2,m=e.showTimestamps)},e.$$.update=function(){384&e.$$.dirty&&(v||(r(4,a=te.O.get(l)),i(),i=(0,o.LdU)(a,(function(e){return r(5,n=e)})),r(8,v=!0)))},[u,f,m,$,a,n,function(e){r(3,$=e.detail.filterText||"")},l,v]}var $t=function(t){function r(e){var r;return r=t.call(this)||this,(0,o.S1n)((0,i.Z)(r),e,vt,mt,o.N8,{pluginId:7,showCmd:0,filterType:1,showTimestamps:2}),r}return(0,a.Z)(r,t),(0,e.Z)(r,[{key:"pluginId",get:function(){return this.$$.ctx[7]},set:function(e){this.$$set({pluginId:e}),(0,o.yl1)()}},{key:"showCmd",get:function(){return this.$$.ctx[0]},set:function(e){this.$$set({showCmd:e}),(0,o.yl1)()}},{key:"filterType",get:function(){return this.$$.ctx[1]},set:function(e){this.$$set({filterType:e}),(0,o.yl1)()}},{key:"showTimestamps",get:function(){return this.$$.ctx[2]},set:function(e){this.$$set({showTimestamps:e}),(0,o.yl1)()}}]),r}(o.f_C),gt=__webpack_require__1(5629),bt=function(){function e(e){this.model=void 0,this.pluginId=void 0,this.pluginId=e}return e.prototype.destroy=function(){this.model=void 0},e}(),xt=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).model=gt.W.getSingleton(gt.W,"VConsoleLogModel"),t}(0,a.Z)(t,e);var r=t.prototype;return r.log=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.addLog.apply(this,["log"].concat(t))},r.info=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.addLog.apply(this,["info"].concat(t))},r.debug=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.addLog.apply(this,["debug"].concat(t))},r.warn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.addLog.apply(this,["warn"].concat(t))},r.error=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.addLog.apply(this,["error"].concat(t))},r.clear=function(){this.model&&this.model.clearPluginLog(this.pluginId)},r.addLog=function(e){if(this.model){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];r.unshift("["+this.pluginId+"]"),this.model.addLog({type:e,origData:r},{noOrig:!0})}},t}(bt),yt=function(e){function t(t,r){var n;return(n=e.call(this,t,r,$t,{pluginId:t,filterType:"all"})||this).model=gt.W.getSingleton(gt.W,"VConsoleLogModel"),n.isReady=!1,n.isShow=!1,n.isInBottom=!0,n.model.bindPlugin(t),n.exporter=new xt(t),n}(0,a.Z)(t,e);var r=t.prototype;return r.onReady=function(){var t,r;e.prototype.onReady.call(this),this.model.maxLogNumber=Number(null==(t=this.vConsole.option.log)?void 0:t.maxLogNumber)||1e3,this.compInstance.showTimestamps=!(null==(r=this.vConsole.option.log)||!r.showTimestamps)},r.onRemove=function(){e.prototype.onRemove.call(this),this.model.unbindPlugin(this.id)},r.onAddTopBar=function(e){for(var t=this,r=["All","Log","Info","Warn","Error"],n=[],i=0;i<r.length;i++)n.push({name:r[i],data:{type:r[i].toLowerCase()},actived:0===i,className:"",onClick:function(e,r){if(r.type===t.compInstance.filterType)return!1;t.compInstance.filterType=r.type}});n[0].className="vc-actived",e(n)},r.onAddTool=function(e){var t=this;e([{name:"Clear",global:!1,onClick:function(e){t.model.clearPluginLog(t.id),t.vConsole.triggerEvent("clearLog")}}])},r.onUpdateOption=function(){var e,t,r,n;(null==(e=this.vConsole.option.log)?void 0:e.maxLogNumber)!==this.model.maxLogNumber&&(this.model.maxLogNumber=Number(null==(r=this.vConsole.option.log)?void 0:r.maxLogNumber)||1e3),!(null==(t=this.vConsole.option.log)||!t.showTimestamps)!==this.compInstance.showTimestamps&&(this.compInstance.showTimestamps=!(null==(n=this.vConsole.option.log)||!n.showTimestamps))},t}(Q),wt=function(e){function r(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).onErrorHandler=void 0,t.resourceErrorHandler=void 0,t.rejectionHandler=void 0,t}(0,a.Z)(r,e);var n=r.prototype;return n.onReady=function(){e.prototype.onReady.call(this),this.bindErrors(),this.compInstance.showCmd=!0},n.onRemove=function(){e.prototype.onRemove.call(this),this.unbindErrors()},n.bindErrors=function(){t.FJ(window)&&t.mf(window.addEventListener)&&(this.catchWindowOnError(),this.catchResourceError(),this.catchUnhandledRejection())},n.unbindErrors=function(){t.FJ(window)&&t.mf(window.addEventListener)&&(window.removeEventListener("error",this.onErrorHandler),window.removeEventListener("error",this.resourceErrorHandler),window.removeEventListener("unhandledrejection",this.rejectionHandler))},n.catchWindowOnError=function(){var e=this;this.onErrorHandler=this.onErrorHandler?this.onErrorHandler:function(t){var r=t.message;t.filename&&(r+="\n"+t.filename.replace(location.origin,"")),(t.lineno||t.colno)&&(r+=":"+t.lineno+":"+t.colno);var n=!!t.error&&!!t.error.stack&&t.error.stack.toString()||"";e.model.addLog({type:"error",origData:[r,n]},{noOrig:!0})},window.removeEventListener("error",this.onErrorHandler),window.addEventListener("error",this.onErrorHandler)},n.catchResourceError=function(){var e=this;this.resourceErrorHandler=this.resourceErrorHandler?this.resourceErrorHandler:function(t){var r=t.target;if(["link","video","script","img","audio"].indexOf(r.localName)>-1){var n=r.href||r.src||r.currentSrc;e.model.addLog({type:"error",origData:["GET <"+r.localName+"> error: "+n]},{noOrig:!0})}},window.removeEventListener("error",this.resourceErrorHandler),window.addEventListener("error",this.resourceErrorHandler,!0)},n.catchUnhandledRejection=function(){var e=this;this.rejectionHandler=this.rejectionHandler?this.rejectionHandler:function(t){var r=t&&t.reason,n="Uncaught (in promise) ",i=[n,r];r instanceof Error&&(i=[n,{name:r.name,message:r.message,stack:r.stack}]),e.model.addLog({type:"error",origData:i},{noOrig:!0})},window.removeEventListener("unhandledrejection",this.rejectionHandler),window.addEventListener("unhandledrejection",this.rejectionHandler)},r}(yt),_t=function(e){function t(){return e.apply(this,arguments)||this}(0,a.Z)(t,e);var r=t.prototype;return r.onReady=function(){e.prototype.onReady.call(this),this.printSystemInfo()},r.printSystemInfo=function(){var e=navigator.userAgent,t=[],r=e.match(/MicroMessenger\/([\d\.]+)/i),n=r&&r[1]?r[1]:null;"servicewechat.com"===location.host||console.info("[system]","Location:",location.href);var i=e.match(/(ipod).*\s([\d_]+)/i),a=e.match(/(ipad).*\s([\d_]+)/i),o=e.match(/(iphone)\sos\s([\d_]+)/i),s=e.match(/(android)\s([\d\.]+)/i),c=e.match(/(Mac OS X)\s([\d_]+)/i);t=[],s?t.push("Android "+s[2]):o?t.push("iPhone, iOS "+o[2].replace(/_/g,".")):a?t.push("iPad, iOS "+a[2].replace(/_/g,".")):i?t.push("iPod, iOS "+i[2].replace(/_/g,".")):c&&t.push("Mac, MacOS "+c[2].replace(/_/g,".")),n&&t.push("WeChat "+n),console.info("[system]","Client:",t.length?t.join(", "):"Unknown");var l=e.toLowerCase().match(/ nettype\/([^ ]+)/g);l&&l[0]&&(t=[(l=l[0].split("/"))[1]],console.info("[system]","Network:",t.length?t.join(", "):"Unknown")),console.info("[system]","UA:",e),setTimeout((function(){var e=window.performance||window.msPerformance||window.webkitPerformance;if(e&&e.timing){var t=e.timing;t.navigationStart&&console.info("[system]","navigationStart:",t.navigationStart),t.navigationStart&&t.domainLookupStart&&console.info("[system]","navigation:",t.domainLookupStart-t.navigationStart+"ms"),t.domainLookupEnd&&t.domainLookupStart&&console.info("[system]","dns:",t.domainLookupEnd-t.domainLookupStart+"ms"),t.connectEnd&&t.connectStart&&(t.connectEnd&&t.secureConnectionStart?console.info("[system]","tcp (ssl):",t.connectEnd-t.connectStart+"ms ("+(t.connectEnd-t.secureConnectionStart)+"ms)"):console.info("[system]","tcp:",t.connectEnd-t.connectStart+"ms")),t.responseStart&&t.requestStart&&console.info("[system]","request:",t.responseStart-t.requestStart+"ms"),t.responseEnd&&t.responseStart&&console.info("[system]","response:",t.responseEnd-t.responseStart+"ms"),t.domComplete&&t.domLoading&&(t.domContentLoadedEventStart&&t.domLoading?console.info("[system]","domComplete (domLoaded):",t.domComplete-t.domLoading+"ms ("+(t.domContentLoadedEventStart-t.domLoading)+"ms)"):console.info("[system]","domComplete:",t.domComplete-t.domLoading+"ms")),t.loadEventEnd&&t.loadEventStart&&console.info("[system]","loadEvent:",t.loadEventEnd-t.loadEventStart+"ms"),t.navigationStart&&t.loadEventEnd&&console.info("[system]","total (DOM):",t.loadEventEnd-t.navigationStart+"ms ("+(t.domComplete-t.navigationStart)+"ms)")}}),0)},t}(yt),St=__webpack_require__1(3313),Tt=__webpack_require__1(643);function Mt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Et(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Et(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var At=function(e,r){void 0===r&&(r={}),t.Kn(r)||(r={});var n=e?e.split("?"):[];if(n.shift(),n.length>0)for(var i,a=Mt(n=n.join("?").split("&"));!(i=a()).done;){var o=i.value.split("=");try{r[o[0]]=decodeURIComponent(o[1])}catch(e){r[o[0]]=o[1]}}return r},Ct=function(e,r){var n="";switch(e){case"":case"text":case"json":if(t.HD(r))try{n=JSON.parse(r),n=t.hZ(n,{maxDepth:10,keyMaxLen:1e4,pretty:!0})}catch(e){n=t.id(String(r),1e4)}else t.Kn(r)||t.kJ(r)?n=t.hZ(r,{maxDepth:10,keyMaxLen:1e4,pretty:!0}):void 0!==r&&(n=Object.prototype.toString.call(r));break;default:void 0!==r&&(n=Object.prototype.toString.call(r))}return n},Lt=function(e){if(!e)return null;var r=null;if("string"==typeof e)try{r=JSON.parse(e)}catch(t){var n=e.split("&");if(1===n.length)r=e;else{r={};for(var i,a=Mt(n);!(i=a()).done;){var o=i.value.split("=");r[o[0]]=void 0===o[1]?"undefined":o[1]}}}else if(t.TW(e)){r={};for(var s,c=Mt(e);!(s=c()).done;){var l=s.value,d=l[0],u=l[1];r[d]="string"==typeof u?u:"[object Object]"}}else r=t.PO(e)?e:"[object "+t.zl(e)+"]";return r},Rt=function(e){return void 0===e&&(e=""),e.startsWith("//")&&(e=""+new URL(window.location.href).protocol+e),e.startsWith("http")?new URL(e):new URL(e,window.location.href)},Pt=function(){this.id="",this.name="",this.method="",this.url="",this.status=0,this.statusText="",this.cancelState=0,this.readyState=0,this.header=null,this.responseType="",this.requestType=void 0,this.requestHeader=null,this.response=void 0,this.responseSize=0,this.responseSizeText="",this.startTime=0,this.endTime=0,this.costTime=0,this.getData=null,this.postData=null,this.actived=!1,this.noVConsole=!1,this.id=(0,t.QI)()},Dt=function(e){function t(r){return(e.call(this)||this)._response=void 0,new Proxy(r,t.Handler)}return(0,a.Z)(t,e),t}(Pt);Dt.Handler={get:function(e,t){return"response"===t?e._response:Reflect.get(e,t)},set:function(e,t,r){var n;switch(t){case"response":return e._response=Ct(e.responseType,r),!0;case"url":var i=(null==(n=r=String(r))?void 0:n.replace(new RegExp("[/]*$"),"").split("/").pop())||"Unknown";Reflect.set(e,"name",i);var a=At(r,e.getData);Reflect.set(e,"getData",a);break;case"status":var o=String(r)||"Unknown";Reflect.set(e,"statusText",o);break;case"startTime":if(r&&e.endTime){var s=e.endTime-r;Reflect.set(e,"costTime",s)}break;case"endTime":if(r&&e.startTime){var c=r-e.startTime;Reflect.set(e,"costTime",c)}}return Reflect.set(e,t,r)}};var Ot=function(){function e(e,t){var r=this;this.XMLReq=void 0,this.item=void 0,this.onUpdateCallback=void 0,this.XMLReq=e,this.XMLReq.onreadystatechange=function(){r.onReadyStateChange()},this.XMLReq.onabort=function(){r.onAbort()},this.XMLReq.ontimeout=function(){r.onTimeout()},this.item=new Pt,this.item.requestType="xhr",this.onUpdateCallback=t}var r=e.prototype;return r.get=function(e,t){switch(t){case"_noVConsole":return this.item.noVConsole;case"open":return this.getOpen(e);case"send":return this.getSend(e);case"setRequestHeader":return this.getSetRequestHeader(e);default:var r=Reflect.get(e,t);return"function"==typeof r?r.bind(e):r}},r.set=function(e,t,r){switch(t){case"_noVConsole":return void(this.item.noVConsole=!!r);case"onreadystatechange":return this.setOnReadyStateChange(e,t,r);case"onabort":return this.setOnAbort(e,t,r);case"ontimeout":return this.setOnTimeout(e,t,r)}return Reflect.set(e,t,r)},r.onReadyStateChange=function(){this.item.readyState=this.XMLReq.readyState,this.item.responseType=this.XMLReq.responseType,this.item.endTime=Date.now(),this.item.costTime=this.item.endTime-this.item.startTime,this.updateItemByReadyState(),this.item.response=Ct(this.item.responseType,this.item.response),this.triggerUpdate()},r.onAbort=function(){this.item.cancelState=1,this.item.statusText="Abort",this.triggerUpdate()},r.onTimeout=function(){this.item.cancelState=3,this.item.statusText="Timeout",this.triggerUpdate()},r.triggerUpdate=function(){this.item.noVConsole||this.onUpdateCallback(this.item)},r.getOpen=function(e){var t=this,r=Reflect.get(e,"open");return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i[0],s=i[1];return t.item.method=o?o.toUpperCase():"GET",t.item.url=s||"",t.item.name=t.item.url.replace(new RegExp("[/]*$"),"").split("/").pop()||"",t.item.getData=At(t.item.url,{}),t.triggerUpdate(),r.apply(e,i)}},r.getSend=function(e){var t=this,r=Reflect.get(e,"send");return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i[0];return t.item.postData=Lt(o),t.triggerUpdate(),r.apply(e,i)}},r.getSetRequestHeader=function(e){var t=this,r=Reflect.get(e,"setRequestHeader");return function(){t.item.requestHeader||(t.item.requestHeader={});for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t.item.requestHeader[i[0]]=i[1],t.triggerUpdate(),r.apply(e,i)}},r.setOnReadyStateChange=function(e,t,r){var n=this;return Reflect.set(e,t,(function(){n.onReadyStateChange();for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];r.apply(e,i)}))},r.setOnAbort=function(e,t,r){var n=this;return Reflect.set(e,t,(function(){n.onAbort();for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];r.apply(e,i)}))},r.setOnTimeout=function(e,t,r){var n=this;return Reflect.set(e,t,(function(){n.onTimeout();for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];r.apply(e,i)}))},r.updateItemByReadyState=function(){switch(this.XMLReq.readyState){case 0:case 1:this.item.status=0,this.item.statusText="Pending",this.item.startTime||(this.item.startTime=Date.now());break;case 2:this.item.status=this.XMLReq.status,this.item.statusText="Loading",this.item.header={};for(var e=(this.XMLReq.getAllResponseHeaders()||"").split("\n"),r=0;r<e.length;r++){var n=e[r];if(n){var i=n.split(": "),a=i[0],o=i.slice(1).join(": ");this.item.header[a]=o}}break;case 3:this.item.status=this.XMLReq.status,this.item.statusText="Loading",this.XMLReq.response&&this.XMLReq.response.length&&(this.item.responseSize=this.XMLReq.response.length,this.item.responseSizeText=(0,t.KL)(this.item.responseSize));break;case 4:this.item.status=this.XMLReq.status||this.item.status||0,this.item.statusText=String(this.item.status),this.item.endTime=Date.now(),this.item.costTime=this.item.endTime-(this.item.startTime||this.item.endTime),this.item.response=this.XMLReq.response,this.XMLReq.response&&this.XMLReq.response.length&&(this.item.responseSize=this.XMLReq.response.length,this.item.responseSizeText=(0,t.KL)(this.item.responseSize));break;default:this.item.status=this.XMLReq.status,this.item.statusText="Unknown"}},e}(),It=function(){function e(){}return e.create=function(e){return new Proxy(XMLHttpRequest,{construct:function(t){var r=new t;return new Proxy(r,new Ot(r,e))}})},e}();function Nt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Bt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}It.origXMLHttpRequest=XMLHttpRequest;var zt=function(){function e(e,t,r){this.resp=void 0,this.item=void 0,this.onUpdateCallback=void 0,this.resp=e,this.item=t,this.onUpdateCallback=r,this.mockReader()}var r=e.prototype;return r.set=function(e,t,r){return Reflect.set(e,t,r)},r.get=function(e,t){var r=this,n=Reflect.get(e,t);switch(t){case"arrayBuffer":case"blob":case"formData":case"json":case"text":return function(){return r.item.responseType=t.toLowerCase(),n.apply(e).then((function(e){return r.item.response=Ct(r.item.responseType,e),r.onUpdateCallback(r.item),e}))}}return"function"==typeof n?n.bind(e):n},r.mockReader=function(){var e,r=this;if(this.resp.body&&"function"==typeof this.resp.body.getReader){var n=this.resp.body.getReader;this.resp.body.getReader=function(){var i=n.apply(r.resp.body);if(4===r.item.readyState)return i;var a=i.read,o=i.cancel;return r.item.responseType="arraybuffer",i.read=function(){return a.apply(i).then((function(n){if(e){var i=new Uint8Array(e.length+n.value.length);i.set(e),i.set(n.value,e.length),e=i}else e=new Uint8Array(n.value);return r.item.endTime=Date.now(),r.item.costTime=r.item.endTime-(r.item.startTime||r.item.endTime),r.item.readyState=n.done?4:3,r.item.statusText=n.done?String(r.item.status):"Loading",r.item.responseSize=e.length,r.item.responseSizeText=t.KL(r.item.responseSize),n.done&&(r.item.response=Ct(r.item.responseType,e)),r.onUpdateCallback(r.item),n}))},i.cancel=function(){r.item.cancelState=2,r.item.statusText="Cancel",r.item.endTime=Date.now(),r.item.costTime=r.item.endTime-(r.item.startTime||r.item.endTime),r.item.response=Ct(r.item.responseType,e),r.onUpdateCallback(r.item);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return o.apply(i,n)},i}}},e}(),Ut=function(){function e(e){this.onUpdateCallback=void 0,this.onUpdateCallback=e}var r=e.prototype;return r.apply=function(e,t,r){var n=this,i=r[0],a=r[1],o=new Pt;return this.beforeFetch(o,i,a),e.apply(t,r).then(this.afterFetch(o)).catch((function(e){throw o.endTime=Date.now(),o.costTime=o.endTime-(o.startTime||o.endTime),n.onUpdateCallback(o),e}))},r.beforeFetch=function(e,r,n){var i,a="GET",o=null;if(t.HD(r)?(a=(null==n?void 0:n.method)||"GET",i=Rt(r),o=(null==n?void 0:n.headers)||null):(a=r.method||"GET",i=Rt(r.url),o=r.headers),e.method=a,e.requestType="fetch",e.requestHeader=o,e.url=i.toString(),e.name=(i.pathname.split("/").pop()||"")+i.search,e.status=0,e.statusText="Pending",e.readyState=1,e.startTime||(e.startTime=Date.now()),"[object Headers]"===Object.prototype.toString.call(o)){e.requestHeader={};for(var s,c=Nt(o);!(s=c()).done;){var l=s.value,d=l[0],u=l[1];e.requestHeader[d]=u}}else e.requestHeader=o;if(i.search&&i.searchParams){e.getData={};for(var h,f=Nt(i.searchParams);!(h=f()).done;){var p=h.value,m=p[0],v=p[1];e.getData[m]=v}}null!=n&&n.body&&(e.postData=Lt(n.body)),this.onUpdateCallback(e)},r.afterFetch=function(e){var r=this;return function(n){e.endTime=Date.now(),e.costTime=e.endTime-(e.startTime||e.endTime),e.status=n.status,e.statusText=String(n.status);var i=!1;e.header={};for(var a,o=Nt(n.headers);!(a=o()).done;){var s=a.value,c=s[0],l=s[1];e.header[c]=l,i=l.toLowerCase().indexOf("chunked")>-1||i}return i?e.readyState=3:(e.readyState=4,r.handleResponseBody(n.clone(),e).then((function(n){e.responseSize="string"==typeof n?n.length:n.byteLength,e.responseSizeText=t.KL(e.responseSize),e.response=Ct(e.responseType,n),r.onUpdateCallback(e)}))),r.onUpdateCallback(e),new Proxy(n,new zt(n,e,r.onUpdateCallback))}},r.handleResponseBody=function(e,t){var r=e.headers.get("content-type");return r&&r.includes("application/json")?(t.responseType="json",e.text()):r&&(r.includes("text/html")||r.includes("text/plain"))?(t.responseType="text",e.text()):(t.responseType="arraybuffer",e.arrayBuffer())},e}(),kt=function(){function e(){}return e.create=function(e){return new Proxy(fetch,new Ut(e))},e}();function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}kt.origFetch=fetch;var qt=function(e){return e instanceof Blob?e.type:e instanceof FormData?"multipart/form-data":e instanceof URLSearchParams?"application/x-www-form-urlencoded;charset=UTF-8":"text/plain;charset=UTF-8"},Gt=function(){function e(e){this.onUpdateCallback=void 0,this.onUpdateCallback=e}return e.prototype.apply=function(e,t,r){var n=r[0],i=r[1],a=new Pt,o=Rt(n);if(a.method="POST",a.url=n,a.name=(o.pathname.split("/").pop()||"")+o.search,a.requestType="ping",a.requestHeader={"Content-Type":qt(i)},a.status=0,a.statusText="Pending",o.search&&o.searchParams){a.getData={};for(var s,c=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Ft(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ft(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(o.searchParams);!(s=c()).done;){var l=s.value,d=l[0],u=l[1];a.getData[d]=u}}a.postData=Lt(i),a.startTime||(a.startTime=Date.now()),this.onUpdateCallback(a);var h=e.apply(t,r);return h?(a.endTime=Date.now(),a.costTime=a.endTime-(a.startTime||a.endTime),a.status=0,a.statusText="Sent",a.readyState=4):(a.status=500,a.statusText="Unknown"),this.onUpdateCallback(a),h},e}(),Vt=function(){function e(){}return e.create=function(e){return new Proxy(navigator.sendBeacon,new Gt(e))},e}();Vt.origSendBeacon=navigator.sendBeacon;var Ht=(0,St.fZ)({}),jt=function(e){function t(){var t;return(t=e.call(this)||this).maxNetworkNumber=1e3,t.itemCounter=0,t.mockXHR(),t.mockFetch(),t.mockSendBeacon(),t}(0,a.Z)(t,e);var r=t.prototype;return r.unMock=function(){window.hasOwnProperty("XMLHttpRequest")&&(window.XMLHttpRequest=It.origXMLHttpRequest),window.hasOwnProperty("fetch")&&(window.fetch=kt.origFetch),window.navigator.sendBeacon&&(window.navigator.sendBeacon=Vt.origSendBeacon)},r.clearLog=function(){Ht.set({})},r.updateRequest=function(e,t){var r=(0,St.U2)(Ht),n=!!r[e];if(n){var i=r[e];for(var a in t)i[a]=t[a];t=i}Ht.update((function(r){return r[e]=t,r})),n||(C.x.updateTime(),this.limitListLength())},r.mockXHR=function(){var e=this;window.hasOwnProperty("XMLHttpRequest")&&(window.XMLHttpRequest=It.create((function(t){e.updateRequest(t.id,t)})))},r.mockFetch=function(){var e=this;window.hasOwnProperty("fetch")&&(window.fetch=kt.create((function(t){e.updateRequest(t.id,t)})))},r.mockSendBeacon=function(){var e=this;window.navigator.sendBeacon&&(window.navigator.sendBeacon=Vt.create((function(t){e.updateRequest(t.id,t)})))},r.limitListLength=function(){var e=this;if(this.itemCounter++,this.itemCounter%10==0){this.itemCounter=0;var t=(0,St.U2)(Ht),r=Object.keys(t);r.length>this.maxNetworkNumber-10&&Ht.update((function(t){for(var n=r.splice(0,r.length-e.maxNetworkNumber+10),i=0;i<n.length;i++)t[n[i]]=void 0,delete t[n[i]];return t}))}},t}(Tt.N),Wt=__webpack_require__1(8747),Xt={};Wt.Z&&Wt.Z.locals&&(Xt.locals=Wt.Z.locals);var Kt,Yt=0,Zt={};Zt.styleTagTransform=b(),Zt.setAttributes=m(),Zt.insert=f().bind(null,"head"),Zt.domAPI=u(),Zt.insertStyleElement=$(),Xt.use=function(e){return Zt.options=e||{},Yt++||(Kt=l()(Wt.Z,Zt)),Xt},Xt.unuse=function(){Yt>0&&!--Yt&&(Kt(),Kt=null)};var Jt=Xt;function Qt(e,t,r){var n=e.slice();return n[7]=t[r][0],n[8]=t[r][1],n}function er(e,t,r){var n=e.slice();return n[11]=t[r][0],n[12]=t[r][1],n}function tr(e,t,r){var n=e.slice();return n[11]=t[r][0],n[12]=t[r][1],n}function rr(e,t,r){var n=e.slice();return n[11]=t[r][0],n[12]=t[r][1],n}function nr(e,t,r){var n=e.slice();return n[11]=t[r][0],n[12]=t[r][1],n}function ir(e){var t,r,n;return{c:function(){t=(0,o.fLW)("("),r=(0,o.fLW)(e[0]),n=(0,o.fLW)(")")},m:function(e,i){(0,o.$Tr)(e,t,i),(0,o.$Tr)(e,r,i),(0,o.$Tr)(e,n,i)},p:function(e,t){1&t&&(0,o.rTO)(r,e[0])},d:function(e){e&&(0,o.ogt)(t),e&&(0,o.ogt)(r),e&&(0,o.ogt)(n)}}}function ar(e){var t,r,n,i,a,s,c,l;s=new ae({props:{content:e[8].requestHeader}});for(var d=Object.entries(e[8].requestHeader),u=[],h=0;h<d.length;h+=1)u[h]=or(nr(e,d,h));return{c:function(){t=(0,o.bGB)("div"),r=(0,o.bGB)("dl"),n=(0,o.bGB)("dt"),i=(0,o.fLW)("Request Headers\n                "),a=(0,o.bGB)("i"),(0,o.YCL)(s.$$.fragment),c=(0,o.DhX)();for(var e=0;e<u.length;e+=1)u[e].c();(0,o.Ljt)(a,"class","vc-table-row-icon"),(0,o.Ljt)(n,"class","vc-table-col vc-table-col-title"),(0,o.Ljt)(r,"class","vc-table-row vc-left-border")},m:function(e,d){(0,o.$Tr)(e,t,d),(0,o.R3I)(t,r),(0,o.R3I)(r,n),(0,o.R3I)(n,i),(0,o.R3I)(n,a),(0,o.yef)(s,a,null),(0,o.R3I)(t,c);for(var h=0;h<u.length;h+=1)u[h].m(t,null);l=!0},p:function(e,r){var n={};if(2&r&&(n.content=e[8].requestHeader),s.$set(n),10&r){var i;for(d=Object.entries(e[8].requestHeader),i=0;i<d.length;i+=1){var a=nr(e,d,i);u[i]?u[i].p(a,r):(u[i]=or(a),u[i].c(),u[i].m(t,null))}for(;i<u.length;i+=1)u[i].d(1);u.length=d.length}},i:function(e){l||((0,o.Ui)(s.$$.fragment,e),l=!0)},o:function(e){(0,o.etI)(s.$$.fragment,e),l=!1},d:function(e){e&&(0,o.ogt)(t),(0,o.vpE)(s),(0,o.RMB)(u,e)}}}function or(e){var t,r,n,i,a,s,c,l=e[11]+"",d=e[3](e[12])+"";return{c:function(){t=(0,o.bGB)("div"),r=(0,o.bGB)("div"),n=(0,o.fLW)(l),i=(0,o.DhX)(),a=(0,o.bGB)("div"),s=(0,o.fLW)(d),c=(0,o.DhX)(),(0,o.Ljt)(r,"class","vc-table-col vc-table-col-2"),(0,o.Ljt)(a,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,o.Ljt)(t,"class","vc-table-row vc-left-border vc-small")},m:function(e,l){(0,o.$Tr)(e,t,l),(0,o.R3I)(t,r),(0,o.R3I)(r,n),(0,o.R3I)(t,i),(0,o.R3I)(t,a),(0,o.R3I)(a,s),(0,o.R3I)(t,c)},p:function(e,t){2&t&&l!==(l=e[11]+"")&&(0,o.rTO)(n,l),2&t&&d!==(d=e[3](e[12])+"")&&(0,o.rTO)(s,d)},d:function(e){e&&(0,o.ogt)(t)}}}function sr(e){var t,r,n,i,a,s,c,l;s=new ae({props:{content:e[8].getData}});for(var d=Object.entries(e[8].getData),u=[],h=0;h<d.length;h+=1)u[h]=cr(rr(e,d,h));return{c:function(){t=(0,o.bGB)("div"),r=(0,o.bGB)("dl"),n=(0,o.bGB)("dt"),i=(0,o.fLW)("Query String Parameters\n                "),a=(0,o.bGB)("i"),(0,o.YCL)(s.$$.fragment),c=(0,o.DhX)();for(var e=0;e<u.length;e+=1)u[e].c();(0,o.Ljt)(a,"class","vc-table-row-icon"),(0,o.Ljt)(n,"class","vc-table-col vc-table-col-title"),(0,o.Ljt)(r,"class","vc-table-row vc-left-border")},m:function(e,d){(0,o.$Tr)(e,t,d),(0,o.R3I)(t,r),(0,o.R3I)(r,n),(0,o.R3I)(n,i),(0,o.R3I)(n,a),(0,o.yef)(s,a,null),(0,o.R3I)(t,c);for(var h=0;h<u.length;h+=1)u[h].m(t,null);l=!0},p:function(e,r){var n={};if(2&r&&(n.content=e[8].getData),s.$set(n),10&r){var i;for(d=Object.entries(e[8].getData),i=0;i<d.length;i+=1){var a=rr(e,d,i);u[i]?u[i].p(a,r):(u[i]=cr(a),u[i].c(),u[i].m(t,null))}for(;i<u.length;i+=1)u[i].d(1);u.length=d.length}},i:function(e){l||((0,o.Ui)(s.$$.fragment,e),l=!0)},o:function(e){(0,o.etI)(s.$$.fragment,e),l=!1},d:function(e){e&&(0,o.ogt)(t),(0,o.vpE)(s),(0,o.RMB)(u,e)}}}function cr(e){var t,r,n,i,a,s,c,l=e[11]+"",d=e[3](e[12])+"";return{c:function(){t=(0,o.bGB)("div"),r=(0,o.bGB)("div"),n=(0,o.fLW)(l),i=(0,o.DhX)(),a=(0,o.bGB)("div"),s=(0,o.fLW)(d),c=(0,o.DhX)(),(0,o.Ljt)(r,"class","vc-table-col vc-table-col-2"),(0,o.Ljt)(a,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,o.Ljt)(t,"class","vc-table-row vc-left-border vc-small")},m:function(e,l){(0,o.$Tr)(e,t,l),(0,o.R3I)(t,r),(0,o.R3I)(r,n),(0,o.R3I)(t,i),(0,o.R3I)(t,a),(0,o.R3I)(a,s),(0,o.R3I)(t,c)},p:function(e,t){2&t&&l!==(l=e[11]+"")&&(0,o.rTO)(n,l),2&t&&d!==(d=e[3](e[12])+"")&&(0,o.rTO)(s,d)},d:function(e){e&&(0,o.ogt)(t)}}}function lr(e){var t,r,n,i,a,s,c,l;function d(e,t){return"string"==typeof e[8].postData?ur:dr}s=new ae({props:{content:e[8].postData}});var u=d(e),h=u(e);return{c:function(){t=(0,o.bGB)("div"),r=(0,o.bGB)("dl"),n=(0,o.bGB)("dt"),i=(0,o.fLW)("Request Payload\n                "),a=(0,o.bGB)("i"),(0,o.YCL)(s.$$.fragment),c=(0,o.DhX)(),h.c(),(0,o.Ljt)(a,"class","vc-table-row-icon"),(0,o.Ljt)(n,"class","vc-table-col vc-table-col-title"),(0,o.Ljt)(r,"class","vc-table-row vc-left-border")},m:function(e,d){(0,o.$Tr)(e,t,d),(0,o.R3I)(t,r),(0,o.R3I)(r,n),(0,o.R3I)(n,i),(0,o.R3I)(n,a),(0,o.yef)(s,a,null),(0,o.R3I)(t,c),h.m(t,null),l=!0},p:function(e,r){var n={};2&r&&(n.content=e[8].postData),s.$set(n),u===(u=d(e))&&h?h.p(e,r):(h.d(1),(h=u(e))&&(h.c(),h.m(t,null)))},i:function(e){l||((0,o.Ui)(s.$$.fragment,e),l=!0)},o:function(e){(0,o.etI)(s.$$.fragment,e),l=!1},d:function(e){e&&(0,o.ogt)(t),(0,o.vpE)(s),h.d()}}}function dr(e){for(var t,r=Object.entries(e[8].postData),n=[],i=0;i<r.length;i+=1)n[i]=hr(tr(e,r,i));return{c:function(){for(var e=0;e<n.length;e+=1)n[e].c();t=(0,o.cSb)()},m:function(e,r){for(var i=0;i<n.length;i+=1)n[i].m(e,r);(0,o.$Tr)(e,t,r)},p:function(e,i){if(10&i){var a;for(r=Object.entries(e[8].postData),a=0;a<r.length;a+=1){var o=tr(e,r,a);n[a]?n[a].p(o,i):(n[a]=hr(o),n[a].c(),n[a].m(t.parentNode,t))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},d:function(e){(0,o.RMB)(n,e),e&&(0,o.ogt)(t)}}}function ur(e){var t,r,n,i=e[8].postData+"";return{c:function(){t=(0,o.bGB)("div"),r=(0,o.bGB)("pre"),n=(0,o.fLW)(i),(0,o.Ljt)(r,"class","vc-table-col vc-table-col-value vc-max-height-line"),(0,o.Ljt)(t,"class","vc-table-row vc-left-border vc-small")},m:function(e,i){(0,o.$Tr)(e,t,i),(0,o.R3I)(t,r),(0,o.R3I)(r,n)},p:function(e,t){2&t&&i!==(i=e[8].postData+"")&&(0,o.rTO)(n,i)},d:function(e){e&&(0,o.ogt)(t)}}}function hr(e){var t,r,n,i,a,s,c,l=e[11]+"",d=e[3](e[12])+"";return{c:function(){t=(0,o.bGB)("div"),r=(0,o.bGB)("div"),n=(0,o.fLW)(l),i=(0,o.DhX)(),a=(0,o.bGB)("div"),s=(0,o.fLW)(d),c=(0,o.DhX)(),(0,o.Ljt)(r,"class","vc-table-col vc-table-col-2"),(0,o.Ljt)(a,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,o.Ljt)(t,"class","vc-table-row vc-left-border vc-small")},m:function(e,l){(0,o.$Tr)(e,t,l),(0,o.R3I)(t,r),(0,o.R3I)(r,n),(0,o.R3I)(t,i),(0,o.R3I)(t,a),(0,o.R3I)(a,s),(0,o.R3I)(t,c)},p:function(e,t){2&t&&l!==(l=e[11]+"")&&(0,o.rTO)(n,l),2&t&&d!==(d=e[3](e[12])+"")&&(0,o.rTO)(s,d)},d:function(e){e&&(0,o.ogt)(t)}}}function fr(e){var t,r,n,i,a,s,c,l;s=new ae({props:{content:e[8].header}});for(var d=Object.entries(e[8].header),u=[],h=0;h<d.length;h+=1)u[h]=pr(er(e,d,h));return{c:function(){t=(0,o.bGB)("div"),r=(0,o.bGB)("dl"),n=(0,o.bGB)("dt"),i=(0,o.fLW)("Response Headers\n                "),a=(0,o.bGB)("i"),(0,o.YCL)(s.$$.fragment),c=(0,o.DhX)();for(var e=0;e<u.length;e+=1)u[e].c();(0,o.Ljt)(a,"class","vc-table-row-icon"),(0,o.Ljt)(n,"class","vc-table-col vc-table-col-title"),(0,o.Ljt)(r,"class","vc-table-row vc-left-border")},m:function(e,d){(0,o.$Tr)(e,t,d),(0,o.R3I)(t,r),(0,o.R3I)(r,n),(0,o.R3I)(n,i),(0,o.R3I)(n,a),(0,o.yef)(s,a,null),(0,o.R3I)(t,c);for(var h=0;h<u.length;h+=1)u[h].m(t,null);l=!0},p:function(e,r){var n={};if(2&r&&(n.content=e[8].header),s.$set(n),10&r){var i;for(d=Object.entries(e[8].header),i=0;i<d.length;i+=1){var a=er(e,d,i);u[i]?u[i].p(a,r):(u[i]=pr(a),u[i].c(),u[i].m(t,null))}for(;i<u.length;i+=1)u[i].d(1);u.length=d.length}},i:function(e){l||((0,o.Ui)(s.$$.fragment,e),l=!0)},o:function(e){(0,o.etI)(s.$$.fragment,e),l=!1},d:function(e){e&&(0,o.ogt)(t),(0,o.vpE)(s),(0,o.RMB)(u,e)}}}function pr(e){var t,r,n,i,a,s,c,l=e[11]+"",d=e[3](e[12])+"";return{c:function(){t=(0,o.bGB)("div"),r=(0,o.bGB)("div"),n=(0,o.fLW)(l),i=(0,o.DhX)(),a=(0,o.bGB)("div"),s=(0,o.fLW)(d),c=(0,o.DhX)(),(0,o.Ljt)(r,"class","vc-table-col vc-table-col-2"),(0,o.Ljt)(a,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,o.Ljt)(t,"class","vc-table-row vc-left-border vc-small")},m:function(e,l){(0,o.$Tr)(e,t,l),(0,o.R3I)(t,r),(0,o.R3I)(r,n),(0,o.R3I)(t,i),(0,o.R3I)(t,a),(0,o.R3I)(a,s),(0,o.R3I)(t,c)},p:function(e,t){2&t&&l!==(l=e[11]+"")&&(0,o.rTO)(n,l),2&t&&d!==(d=e[3](e[12])+"")&&(0,o.rTO)(s,d)},d:function(e){e&&(0,o.ogt)(t)}}}function mr(e){var t,r,n,i,a,s=e[8].responseSizeText+"";return{c:function(){t=(0,o.bGB)("div"),(r=(0,o.bGB)("div")).textContent="Size",n=(0,o.DhX)(),i=(0,o.bGB)("div"),a=(0,o.fLW)(s),(0,o.Ljt)(r,"class","vc-table-col vc-table-col-2"),(0,o.Ljt)(i,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,o.Ljt)(t,"class","vc-table-row vc-left-border vc-small")},m:function(e,s){(0,o.$Tr)(e,t,s),(0,o.R3I)(t,r),(0,o.R3I)(t,n),(0,o.R3I)(t,i),(0,o.R3I)(i,a)},p:function(e,t){2&t&&s!==(s=e[8].responseSizeText+"")&&(0,o.rTO)(a,s)},d:function(e){e&&(0,o.ogt)(t)}}}function vr(e){var t,r,n,i,a,s,c,l,d,u,h,f,p,m,v,$,g,b,x,y,w,_,S,T,M,E,A,C,L,R,P,D,O,I,N,B,z,U,k,F,q,G,V,H,j,W,X,K,Y,Z,J,Q,ee,te,re,ne,ie,oe,se,ce,le,de,ue,he=e[8].name+"",fe=e[8].method+"",pe=e[8].statusText+"",me=e[8].costTime+"",ve=e[8].url+"",$e=e[8].method+"",ge=e[8].requestType+"",be=e[8].status+"",xe=(e[8].response||"")+"";function ye(){return e[4](e[8])}b=new ae({props:{content:e[8].url}});var we=null!==e[8].requestHeader&&ar(e),_e=null!==e[8].getData&&sr(e),Se=null!==e[8].postData&&lr(e),Te=null!==e[8].header&&fr(e);ee=new ae({props:{content:e[8].response}});var Me=e[8].responseSize>0&&mr(e);return{c:function(){t=(0,o.bGB)("div"),r=(0,o.bGB)("dl"),n=(0,o.bGB)("dd"),i=(0,o.fLW)(he),a=(0,o.bGB)("dd"),s=(0,o.fLW)(fe),c=(0,o.bGB)("dd"),l=(0,o.fLW)(pe),d=(0,o.bGB)("dd"),u=(0,o.fLW)(me),h=(0,o.DhX)(),f=(0,o.bGB)("div"),p=(0,o.bGB)("div"),m=(0,o.bGB)("dl"),v=(0,o.bGB)("dt"),$=(0,o.fLW)("General\n                "),g=(0,o.bGB)("i"),(0,o.YCL)(b.$$.fragment),x=(0,o.DhX)(),y=(0,o.bGB)("div"),(w=(0,o.bGB)("div")).textContent="URL",_=(0,o.DhX)(),S=(0,o.bGB)("div"),T=(0,o.fLW)(ve),M=(0,o.DhX)(),E=(0,o.bGB)("div"),(A=(0,o.bGB)("div")).textContent="Method",C=(0,o.DhX)(),L=(0,o.bGB)("div"),R=(0,o.fLW)($e),P=(0,o.DhX)(),D=(0,o.bGB)("div"),(O=(0,o.bGB)("div")).textContent="Request Type",I=(0,o.DhX)(),N=(0,o.bGB)("div"),B=(0,o.fLW)(ge),z=(0,o.DhX)(),U=(0,o.bGB)("div"),(k=(0,o.bGB)("div")).textContent="HTTP Status",F=(0,o.DhX)(),q=(0,o.bGB)("div"),G=(0,o.fLW)(be),V=(0,o.DhX)(),we&&we.c(),H=(0,o.DhX)(),_e&&_e.c(),j=(0,o.DhX)(),Se&&Se.c(),W=(0,o.DhX)(),Te&&Te.c(),X=(0,o.DhX)(),K=(0,o.bGB)("div"),Y=(0,o.bGB)("dl"),Z=(0,o.bGB)("dt"),J=(0,o.fLW)("Response\n                "),Q=(0,o.bGB)("i"),(0,o.YCL)(ee.$$.fragment),te=(0,o.DhX)(),Me&&Me.c(),re=(0,o.DhX)(),ne=(0,o.bGB)("div"),ie=(0,o.bGB)("pre"),oe=(0,o.fLW)(xe),se=(0,o.DhX)(),(0,o.Ljt)(n,"class","vc-table-col vc-table-col-4"),(0,o.Ljt)(a,"class","vc-table-col"),(0,o.Ljt)(c,"class","vc-table-col"),(0,o.Ljt)(d,"class","vc-table-col"),(0,o.Ljt)(r,"class","vc-table-row vc-group-preview"),(0,o.VHj)(r,"vc-table-row-error",e[8].status>=400),(0,o.Ljt)(g,"class","vc-table-row-icon"),(0,o.Ljt)(v,"class","vc-table-col vc-table-col-title"),(0,o.Ljt)(m,"class","vc-table-row vc-left-border"),(0,o.Ljt)(w,"class","vc-table-col vc-table-col-2"),(0,o.Ljt)(S,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,o.Ljt)(y,"class","vc-table-row vc-left-border vc-small"),(0,o.Ljt)(A,"class","vc-table-col vc-table-col-2"),(0,o.Ljt)(L,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,o.Ljt)(E,"class","vc-table-row vc-left-border vc-small"),(0,o.Ljt)(O,"class","vc-table-col vc-table-col-2"),(0,o.Ljt)(N,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,o.Ljt)(D,"class","vc-table-row vc-left-border vc-small"),(0,o.Ljt)(k,"class","vc-table-col vc-table-col-2"),(0,o.Ljt)(q,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,o.Ljt)(U,"class","vc-table-row vc-left-border vc-small"),(0,o.Ljt)(Q,"class","vc-table-row-icon"),(0,o.Ljt)(Z,"class","vc-table-col vc-table-col-title"),(0,o.Ljt)(Y,"class","vc-table-row vc-left-border"),(0,o.Ljt)(ie,"class","vc-table-col vc-max-height vc-min-height"),(0,o.Ljt)(ne,"class","vc-table-row vc-left-border vc-small"),(0,o.Ljt)(f,"class","vc-group-detail"),(0,o.Ljt)(t,"class","vc-group"),(0,o.Ljt)(t,"id",ce=e[8].id),(0,o.VHj)(t,"vc-actived",e[8].actived)},m:function(e,ae){(0,o.$Tr)(e,t,ae),(0,o.R3I)(t,r),(0,o.R3I)(r,n),(0,o.R3I)(n,i),(0,o.R3I)(r,a),(0,o.R3I)(a,s),(0,o.R3I)(r,c),(0,o.R3I)(c,l),(0,o.R3I)(r,d),(0,o.R3I)(d,u),(0,o.R3I)(t,h),(0,o.R3I)(t,f),(0,o.R3I)(f,p),(0,o.R3I)(p,m),(0,o.R3I)(m,v),(0,o.R3I)(v,$),(0,o.R3I)(v,g),(0,o.yef)(b,g,null),(0,o.R3I)(p,x),(0,o.R3I)(p,y),(0,o.R3I)(y,w),(0,o.R3I)(y,_),(0,o.R3I)(y,S),(0,o.R3I)(S,T),(0,o.R3I)(p,M),(0,o.R3I)(p,E),(0,o.R3I)(E,A),(0,o.R3I)(E,C),(0,o.R3I)(E,L),(0,o.R3I)(L,R),(0,o.R3I)(p,P),(0,o.R3I)(p,D),(0,o.R3I)(D,O),(0,o.R3I)(D,I),(0,o.R3I)(D,N),(0,o.R3I)(N,B),(0,o.R3I)(p,z),(0,o.R3I)(p,U),(0,o.R3I)(U,k),(0,o.R3I)(U,F),(0,o.R3I)(U,q),(0,o.R3I)(q,G),(0,o.R3I)(f,V),we&&we.m(f,null),(0,o.R3I)(f,H),_e&&_e.m(f,null),(0,o.R3I)(f,j),Se&&Se.m(f,null),(0,o.R3I)(f,W),Te&&Te.m(f,null),(0,o.R3I)(f,X),(0,o.R3I)(f,K),(0,o.R3I)(K,Y),(0,o.R3I)(Y,Z),(0,o.R3I)(Z,J),(0,o.R3I)(Z,Q),(0,o.yef)(ee,Q,null),(0,o.R3I)(K,te),Me&&Me.m(K,null),(0,o.R3I)(K,re),(0,o.R3I)(K,ne),(0,o.R3I)(ne,ie),(0,o.R3I)(ie,oe),(0,o.R3I)(t,se),le=!0,de||(ue=(0,o.oLt)(r,"click",ye),de=!0)},p:function(n,a){e=n,(!le||2&a)&&he!==(he=e[8].name+"")&&(0,o.rTO)(i,he),(!le||2&a)&&fe!==(fe=e[8].method+"")&&(0,o.rTO)(s,fe),(!le||2&a)&&pe!==(pe=e[8].statusText+"")&&(0,o.rTO)(l,pe),(!le||2&a)&&me!==(me=e[8].costTime+"")&&(0,o.rTO)(u,me),2&a&&(0,o.VHj)(r,"vc-table-row-error",e[8].status>=400);var c={};2&a&&(c.content=e[8].url),b.$set(c),(!le||2&a)&&ve!==(ve=e[8].url+"")&&(0,o.rTO)(T,ve),(!le||2&a)&&$e!==($e=e[8].method+"")&&(0,o.rTO)(R,$e),(!le||2&a)&&ge!==(ge=e[8].requestType+"")&&(0,o.rTO)(B,ge),(!le||2&a)&&be!==(be=e[8].status+"")&&(0,o.rTO)(G,be),null!==e[8].requestHeader?we?(we.p(e,a),2&a&&(0,o.Ui)(we,1)):((we=ar(e)).c(),(0,o.Ui)(we,1),we.m(f,H)):we&&((0,o.dvw)(),(0,o.etI)(we,1,1,(function(){we=null})),(0,o.gbL)()),null!==e[8].getData?_e?(_e.p(e,a),2&a&&(0,o.Ui)(_e,1)):((_e=sr(e)).c(),(0,o.Ui)(_e,1),_e.m(f,j)):_e&&((0,o.dvw)(),(0,o.etI)(_e,1,1,(function(){_e=null})),(0,o.gbL)()),null!==e[8].postData?Se?(Se.p(e,a),2&a&&(0,o.Ui)(Se,1)):((Se=lr(e)).c(),(0,o.Ui)(Se,1),Se.m(f,W)):Se&&((0,o.dvw)(),(0,o.etI)(Se,1,1,(function(){Se=null})),(0,o.gbL)()),null!==e[8].header?Te?(Te.p(e,a),2&a&&(0,o.Ui)(Te,1)):((Te=fr(e)).c(),(0,o.Ui)(Te,1),Te.m(f,X)):Te&&((0,o.dvw)(),(0,o.etI)(Te,1,1,(function(){Te=null})),(0,o.gbL)());var d={};2&a&&(d.content=e[8].response),ee.$set(d),e[8].responseSize>0?Me?Me.p(e,a):((Me=mr(e)).c(),Me.m(K,re)):Me&&(Me.d(1),Me=null),(!le||2&a)&&xe!==(xe=(e[8].response||"")+"")&&(0,o.rTO)(oe,xe),(!le||2&a&&ce!==(ce=e[8].id))&&(0,o.Ljt)(t,"id",ce),2&a&&(0,o.VHj)(t,"vc-actived",e[8].actived)},i:function(e){le||((0,o.Ui)(b.$$.fragment,e),(0,o.Ui)(we),(0,o.Ui)(_e),(0,o.Ui)(Se),(0,o.Ui)(Te),(0,o.Ui)(ee.$$.fragment,e),le=!0)},o:function(e){(0,o.etI)(b.$$.fragment,e),(0,o.etI)(we),(0,o.etI)(_e),(0,o.etI)(Se),(0,o.etI)(Te),(0,o.etI)(ee.$$.fragment,e),le=!1},d:function(e){e&&(0,o.ogt)(t),(0,o.vpE)(b),we&&we.d(),_e&&_e.d(),Se&&Se.d(),Te&&Te.d(),(0,o.vpE)(ee),Me&&Me.d(),de=!1,ue()}}}function $r(e){for(var t,r,n,i,a,s,c,l,d,u,h=e[0]>0&&ir(e),f=Object.entries(e[1]),p=[],m=0;m<f.length;m+=1)p[m]=vr(Qt(e,f,m));var v=function(e){return(0,o.etI)(p[e],1,1,(function(){p[e]=null}))};return{c:function(){t=(0,o.bGB)("div"),r=(0,o.bGB)("dl"),n=(0,o.bGB)("dd"),i=(0,o.fLW)("Name "),h&&h.c(),(a=(0,o.bGB)("dd")).textContent="Method",(s=(0,o.bGB)("dd")).textContent="Status",(c=(0,o.bGB)("dd")).textContent="Time",l=(0,o.DhX)(),d=(0,o.bGB)("div");for(var e=0;e<p.length;e+=1)p[e].c();(0,o.Ljt)(n,"class","vc-table-col vc-table-col-4"),(0,o.Ljt)(a,"class","vc-table-col"),(0,o.Ljt)(s,"class","vc-table-col"),(0,o.Ljt)(c,"class","vc-table-col"),(0,o.Ljt)(r,"class","vc-table-row"),(0,o.Ljt)(d,"class","vc-plugin-content"),(0,o.Ljt)(t,"class","vc-table")},m:function(e,f){(0,o.$Tr)(e,t,f),(0,o.R3I)(t,r),(0,o.R3I)(r,n),(0,o.R3I)(n,i),h&&h.m(n,null),(0,o.R3I)(r,a),(0,o.R3I)(r,s),(0,o.R3I)(r,c),(0,o.R3I)(t,l),(0,o.R3I)(t,d);for(var m=0;m<p.length;m+=1)p[m].m(d,null);u=!0},p:function(e,t){var r=t[0];if(e[0]>0?h?h.p(e,r):((h=ir(e)).c(),h.m(n,null)):h&&(h.d(1),h=null),14&r){var i;for(f=Object.entries(e[1]),i=0;i<f.length;i+=1){var a=Qt(e,f,i);p[i]?(p[i].p(a,r),(0,o.Ui)(p[i],1)):(p[i]=vr(a),p[i].c(),(0,o.Ui)(p[i],1),p[i].m(d,null))}for((0,o.dvw)(),i=f.length;i<p.length;i+=1)v(i);(0,o.gbL)()}},i:function(e){if(!u){for(var t=0;t<f.length;t+=1)(0,o.Ui)(p[t]);u=!0}},o:function(e){p=p.filter(Boolean);for(var t=0;t<p.length;t+=1)(0,o.etI)(p[t]);u=!1},d:function(e){e&&(0,o.ogt)(t),h&&h.d(),(0,o.RMB)(p,e)}}}function gr(e,r,n){var i;(0,o.FIv)(e,Ht,(function(e){return n(1,i=e)}));var a=0,c=function(e){n(0,a=Object.keys(e).length)},l=Ht.subscribe(c);c(i);var d=function(e){(0,o.fxP)(Ht,i[e].actived=!i[e].actived,i)};return(0,s.H3)((function(){Jt.use()})),(0,s.ev)((function(){l(),Jt.unuse()})),[a,i,d,function(e){return t.Kn(e)||t.kJ(e)?t.hZ(e,{maxDepth:10,keyMaxLen:1e4,pretty:!0}):e},function(e){return d(e.id)}]}var br=function(e){function t(t){var r;return r=e.call(this)||this,(0,o.S1n)((0,i.Z)(r),t,gr,$r,o.N8,{}),r}return(0,a.Z)(t,e),t}(o.f_C),xr=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).model=jt.getSingleton(jt,"VConsoleNetworkModel"),t}(0,a.Z)(t,e);var r=t.prototype;return r.add=function(e){var t=new Dt(new Pt);for(var r in e)t[r]=e[r];return t.startTime=t.startTime||Date.now(),t.requestType=t.requestType||"custom",this.model.updateRequest(t.id,t),t},r.update=function(e,t){this.model.updateRequest(e,t)},r.clear=function(){this.model.clearLog()},t}(bt),yr=function(e){function t(t,r,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,r,br,n)||this).model=jt.getSingleton(jt,"VConsoleNetworkModel"),i.exporter=void 0,i.exporter=new xr(t),i}(0,a.Z)(t,e);var r=t.prototype;return r.onReady=function(){e.prototype.onReady.call(this),this.onUpdateOption()},r.onAddTool=function(e){var t=this;e([{name:"Clear",global:!1,onClick:function(e){t.model.clearLog()}}])},r.onRemove=function(){e.prototype.onRemove.call(this),this.model&&this.model.unMock()},r.onUpdateOption=function(){var e,t;(null==(e=this.vConsole.option.network)?void 0:e.maxNetworkNumber)!==this.model.maxNetworkNumber&&(this.model.maxNetworkNumber=Number(null==(t=this.vConsole.option.network)?void 0:t.maxNetworkNumber)||1e3)},t}(Q),wr=__webpack_require__1(8679),_r=__webpack_require__1.n(wr),Sr=(0,St.fZ)(),Tr=(0,St.fZ)(),Mr=__webpack_require__1(5670),Er={};Mr.Z&&Mr.Z.locals&&(Er.locals=Mr.Z.locals);var Ar,Cr=0,Lr={};Lr.styleTagTransform=b(),Lr.setAttributes=m(),Lr.insert=f().bind(null,"head"),Lr.domAPI=u(),Lr.insertStyleElement=$(),Er.use=function(e){return Lr.options=e||{},Cr++||(Ar=l()(Mr.Z,Lr)),Er},Er.unuse=function(){Cr>0&&!--Cr&&(Ar(),Ar=null)};var Rr=Er;function Pr(e,t,r){var n=e.slice();return n[8]=t[r],n}function Dr(e,t,r){var n=e.slice();return n[11]=t[r],n}function Or(e){var t,r,n,i=e[0].nodeType===Node.ELEMENT_NODE&&Ir(e),a=e[0].nodeType===Node.TEXT_NODE&&jr(e);return{c:function(){t=(0,o.bGB)("div"),i&&i.c(),r=(0,o.DhX)(),a&&a.c(),(0,o.Ljt)(t,"class","vcelm-l"),(0,o.VHj)(t,"vc-actived",e[0]._isActived),(0,o.VHj)(t,"vc-toggle",e[0]._isExpand),(0,o.VHj)(t,"vcelm-noc",e[0]._isSingleLine)},m:function(e,s){(0,o.$Tr)(e,t,s),i&&i.m(t,null),(0,o.R3I)(t,r),a&&a.m(t,null),n=!0},p:function(e,n){e[0].nodeType===Node.ELEMENT_NODE?i?(i.p(e,n),1&n&&(0,o.Ui)(i,1)):((i=Ir(e)).c(),(0,o.Ui)(i,1),i.m(t,r)):i&&((0,o.dvw)(),(0,o.etI)(i,1,1,(function(){i=null})),(0,o.gbL)()),e[0].nodeType===Node.TEXT_NODE?a?a.p(e,n):((a=jr(e)).c(),a.m(t,null)):a&&(a.d(1),a=null),1&n&&(0,o.VHj)(t,"vc-actived",e[0]._isActived),1&n&&(0,o.VHj)(t,"vc-toggle",e[0]._isExpand),1&n&&(0,o.VHj)(t,"vcelm-noc",e[0]._isSingleLine)},i:function(e){n||((0,o.Ui)(i),n=!0)},o:function(e){(0,o.etI)(i),n=!1},d:function(e){e&&(0,o.ogt)(t),i&&i.d(),a&&a.d()}}}function Ir(e){var t,r,n,i,a,s,c,l,d,u,h=e[0].nodeName+"",f=(e[0].className||e[0].attributes.length)&&Nr(e),p=e[0]._isNullEndTag&&kr(),m=e[0].childNodes.length>0&&Fr(e),v=!e[0]._isNullEndTag&&Hr(e);return{c:function(){t=(0,o.bGB)("span"),r=(0,o.fLW)("<"),n=(0,o.fLW)(h),f&&f.c(),i=(0,o.cSb)(),p&&p.c(),a=(0,o.fLW)(">"),m&&m.c(),s=(0,o.cSb)(),v&&v.c(),c=(0,o.cSb)(),(0,o.Ljt)(t,"class","vcelm-node")},m:function(h,$){(0,o.$Tr)(h,t,$),(0,o.R3I)(t,r),(0,o.R3I)(t,n),f&&f.m(t,null),(0,o.R3I)(t,i),p&&p.m(t,null),(0,o.R3I)(t,a),m&&m.m(h,$),(0,o.$Tr)(h,s,$),v&&v.m(h,$),(0,o.$Tr)(h,c,$),l=!0,d||(u=(0,o.oLt)(t,"click",e[2]),d=!0)},p:function(e,r){(!l||1&r)&&h!==(h=e[0].nodeName+"")&&(0,o.rTO)(n,h),e[0].className||e[0].attributes.length?f?f.p(e,r):((f=Nr(e)).c(),f.m(t,i)):f&&(f.d(1),f=null),e[0]._isNullEndTag?p||((p=kr()).c(),p.m(t,a)):p&&(p.d(1),p=null),e[0].childNodes.length>0?m?(m.p(e,r),1&r&&(0,o.Ui)(m,1)):((m=Fr(e)).c(),(0,o.Ui)(m,1),m.m(s.parentNode,s)):m&&((0,o.dvw)(),(0,o.etI)(m,1,1,(function(){m=null})),(0,o.gbL)()),e[0]._isNullEndTag?v&&(v.d(1),v=null):v?v.p(e,r):((v=Hr(e)).c(),v.m(c.parentNode,c))},i:function(e){l||((0,o.Ui)(m),l=!0)},o:function(e){(0,o.etI)(m),l=!1},d:function(e){e&&(0,o.ogt)(t),f&&f.d(),p&&p.d(),m&&m.d(e),e&&(0,o.ogt)(s),v&&v.d(e),e&&(0,o.ogt)(c),d=!1,u()}}}function Nr(e){for(var t,r=e[0].attributes,n=[],i=0;i<r.length;i+=1)n[i]=Ur(Dr(e,r,i));return{c:function(){t=(0,o.bGB)("i");for(var e=0;e<n.length;e+=1)n[e].c();(0,o.Ljt)(t,"class","vcelm-k")},m:function(e,r){(0,o.$Tr)(e,t,r);for(var i=0;i<n.length;i+=1)n[i].m(t,null)},p:function(e,i){if(1&i){var a;for(r=e[0].attributes,a=0;a<r.length;a+=1){var o=Dr(e,r,a);n[a]?n[a].p(o,i):(n[a]=Ur(o),n[a].c(),n[a].m(t,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},d:function(e){e&&(0,o.ogt)(t),(0,o.RMB)(n,e)}}}function Br(e){var t,r=e[11].name+"";return{c:function(){t=(0,o.fLW)(r)},m:function(e,r){(0,o.$Tr)(e,t,r)},p:function(e,n){1&n&&r!==(r=e[11].name+"")&&(0,o.rTO)(t,r)},d:function(e){e&&(0,o.ogt)(t)}}}function zr(e){var t,r,n,i,a,s=e[11].name+"",c=e[11].value+"";return{c:function(){t=(0,o.fLW)(s),r=(0,o.fLW)('="'),n=(0,o.bGB)("i"),i=(0,o.fLW)(c),a=(0,o.fLW)('"'),(0,o.Ljt)(n,"class","vcelm-v")},m:function(e,s){(0,o.$Tr)(e,t,s),(0,o.$Tr)(e,r,s),(0,o.$Tr)(e,n,s),(0,o.R3I)(n,i),(0,o.$Tr)(e,a,s)},p:function(e,r){1&r&&s!==(s=e[11].name+"")&&(0,o.rTO)(t,s),1&r&&c!==(c=e[11].value+"")&&(0,o.rTO)(i,c)},d:function(e){e&&(0,o.ogt)(t),e&&(0,o.ogt)(r),e&&(0,o.ogt)(n),e&&(0,o.ogt)(a)}}}function Ur(e){var t,r;function n(e,t){return""!==e[11].value?zr:Br}var i=n(e),a=i(e);return{c:function(){t=(0,o.fLW)("\n            "),a.c(),r=(0,o.cSb)()},m:function(e,n){(0,o.$Tr)(e,t,n),a.m(e,n),(0,o.$Tr)(e,r,n)},p:function(e,t){i===(i=n(e))&&a?a.p(e,t):(a.d(1),(a=i(e))&&(a.c(),a.m(r.parentNode,r)))},d:function(e){e&&(0,o.ogt)(t),a.d(e),e&&(0,o.ogt)(r)}}}function kr(e){var t;return{c:function(){t=(0,o.fLW)("/")},m:function(e,r){(0,o.$Tr)(e,t,r)},d:function(e){e&&(0,o.ogt)(t)}}}function Fr(e){var t,r,n,i,a=[Gr,qr],s=[];function c(e,t){return e[0]._isExpand?1:0}return t=c(e),r=s[t]=a[t](e),{c:function(){r.c(),n=(0,o.cSb)()},m:function(e,r){s[t].m(e,r),(0,o.$Tr)(e,n,r),i=!0},p:function(e,i){var l=t;(t=c(e))===l?s[t].p(e,i):((0,o.dvw)(),(0,o.etI)(s[l],1,1,(function(){s[l]=null})),(0,o.gbL)(),(r=s[t])?r.p(e,i):(r=s[t]=a[t](e)).c(),(0,o.Ui)(r,1),r.m(n.parentNode,n))},i:function(e){i||((0,o.Ui)(r),i=!0)},o:function(e){(0,o.etI)(r),i=!1},d:function(e){s[t].d(e),e&&(0,o.ogt)(n)}}}function qr(e){for(var t,r,n=e[0].childNodes,i=[],a=0;a<n.length;a+=1)i[a]=Vr(Pr(e,n,a));var s=function(e){return(0,o.etI)(i[e],1,1,(function(){i[e]=null}))};return{c:function(){for(var e=0;e<i.length;e+=1)i[e].c();t=(0,o.cSb)()},m:function(e,n){for(var a=0;a<i.length;a+=1)i[a].m(e,n);(0,o.$Tr)(e,t,n),r=!0},p:function(e,r){if(1&r){var a;for(n=e[0].childNodes,a=0;a<n.length;a+=1){var c=Pr(e,n,a);i[a]?(i[a].p(c,r),(0,o.Ui)(i[a],1)):(i[a]=Vr(c),i[a].c(),(0,o.Ui)(i[a],1),i[a].m(t.parentNode,t))}for((0,o.dvw)(),a=n.length;a<i.length;a+=1)s(a);(0,o.gbL)()}},i:function(e){if(!r){for(var t=0;t<n.length;t+=1)(0,o.Ui)(i[t]);r=!0}},o:function(e){i=i.filter(Boolean);for(var t=0;t<i.length;t+=1)(0,o.etI)(i[t]);r=!1},d:function(e){(0,o.RMB)(i,e),e&&(0,o.ogt)(t)}}}function Gr(e){var t;return{c:function(){t=(0,o.fLW)("...")},m:function(e,r){(0,o.$Tr)(e,t,r)},p:o.ZTd,i:o.ZTd,o:o.ZTd,d:function(e){e&&(0,o.ogt)(t)}}}function Vr(e){var t,r,n;return(t=new Kr({props:{node:e[8]}})).$on("toggleNode",e[4]),{c:function(){(0,o.YCL)(t.$$.fragment),r=(0,o.DhX)()},m:function(e,i){(0,o.yef)(t,e,i),(0,o.$Tr)(e,r,i),n=!0},p:function(e,r){var n={};1&r&&(n.node=e[8]),t.$set(n)},i:function(e){n||((0,o.Ui)(t.$$.fragment,e),n=!0)},o:function(e){(0,o.etI)(t.$$.fragment,e),n=!1},d:function(e){(0,o.vpE)(t,e),e&&(0,o.ogt)(r)}}}function Hr(e){var t,r,n,i,a=e[0].nodeName+"";return{c:function(){t=(0,o.bGB)("span"),r=(0,o.fLW)("</"),n=(0,o.fLW)(a),i=(0,o.fLW)(">"),(0,o.Ljt)(t,"class","vcelm-node")},m:function(e,a){(0,o.$Tr)(e,t,a),(0,o.R3I)(t,r),(0,o.R3I)(t,n),(0,o.R3I)(t,i)},p:function(e,t){1&t&&a!==(a=e[0].nodeName+"")&&(0,o.rTO)(n,a)},d:function(e){e&&(0,o.ogt)(t)}}}function jr(e){var t,r,n=e[1](e[0].textContent)+"";return{c:function(){t=(0,o.bGB)("span"),r=(0,o.fLW)(n),(0,o.Ljt)(t,"class","vcelm-t vcelm-noc")},m:function(e,n){(0,o.$Tr)(e,t,n),(0,o.R3I)(t,r)},p:function(e,t){1&t&&n!==(n=e[1](e[0].textContent)+"")&&(0,o.rTO)(r,n)},d:function(e){e&&(0,o.ogt)(t)}}}function Wr(e){var t,r,n=e[0]&&Or(e);return{c:function(){n&&n.c(),t=(0,o.cSb)()},m:function(e,i){n&&n.m(e,i),(0,o.$Tr)(e,t,i),r=!0},p:function(e,r){var i=r[0];e[0]?n?(n.p(e,i),1&i&&(0,o.Ui)(n,1)):((n=Or(e)).c(),(0,o.Ui)(n,1),n.m(t.parentNode,t)):n&&((0,o.dvw)(),(0,o.etI)(n,1,1,(function(){n=null})),(0,o.gbL)())},i:function(e){r||((0,o.Ui)(n),r=!0)},o:function(e){(0,o.etI)(n),r=!1},d:function(e){n&&n.d(e),e&&(0,o.ogt)(t)}}}function Xr(e,t,r){var n;(0,o.FIv)(e,Tr,(function(e){return r(3,n=e)}));var i=t.node,a=(0,s.x)(),c=["br","hr","img","input","link","meta"];return(0,s.H3)((function(){Rr.use()})),(0,s.ev)((function(){Rr.unuse()})),e.$$set=function(e){"node"in e&&r(0,i=e.node)},e.$$.update=function(){var t;9&e.$$.dirty&&i&&(r(0,i._isActived=i===n,i),r(0,i._isNullEndTag=(t=i,c.indexOf(t.nodeName)>-1),i),r(0,i._isSingleLine=0===i.childNodes.length||i._isNullEndTag,i))},[i,function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},function(){i._isNullEndTag||(r(0,i._isExpand=!i._isExpand,i),a("toggleNode",{node:i}))},n,function(t){o.cKT.call(this,e,t)}]}var Kr=function(t){function r(e){var r;return r=t.call(this)||this,(0,o.S1n)((0,i.Z)(r),e,Xr,Wr,o.N8,{node:0}),r}return(0,a.Z)(r,t),(0,e.Z)(r,[{key:"node",get:function(){return this.$$.ctx[0]},set:function(e){this.$$set({node:e}),(0,o.yl1)()}}]),r}(o.f_C),Yr=Kr;function Zr(e){var t,r,n;return(r=new Yr({props:{node:e[0]}})).$on("toggleNode",e[1]),{c:function(){t=(0,o.bGB)("div"),(0,o.YCL)(r.$$.fragment),(0,o.Ljt)(t,"class","vc-plugin-content")},m:function(e,i){(0,o.$Tr)(e,t,i),(0,o.yef)(r,t,null),n=!0},p:function(e,t){var n={};1&t[0]&&(n.node=e[0]),r.$set(n)},i:function(e){n||((0,o.Ui)(r.$$.fragment,e),n=!0)},o:function(e){(0,o.etI)(r.$$.fragment,e),n=!1},d:function(e){e&&(0,o.ogt)(t),(0,o.vpE)(r)}}}function Jr(e,t,r){var n;return(0,o.FIv)(e,Sr,(function(e){return r(0,n=e)})),[n,function(t){o.cKT.call(this,e,t)}]}var Qr=function(e){function t(t){var r;return r=e.call(this)||this,(0,o.S1n)((0,i.Z)(r),t,Jr,Zr,o.N8,{}),r}return(0,a.Z)(t,e),t}(o.f_C),en=function(e){function t(t,r,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,r,Qr,n)||this).isInited=!1,i.observer=void 0,i.nodeMap=void 0,i}(0,a.Z)(t,e);var r=t.prototype;return r.onShow=function(){this.isInited||this._init()},r.onRemove=function(){e.prototype.onRemove.call(this),this.isInited&&(this.observer.disconnect(),this.isInited=!1,this.nodeMap=void 0,Sr.set(void 0))},r.onAddTool=function(e){var t=this;e([{name:"Expand",global:!1,onClick:function(e){t._expandActivedNode()}},{name:"Collapse",global:!1,onClick:function(e){t._collapseActivedNode()}}])},r._init=function(){var e=this;this.isInited=!0,this.nodeMap=new WeakMap;var t=this._generateVNode(document.documentElement);t._isExpand=!0,Tr.set(t),Sr.set(t),this.compInstance.$on("toggleNode",(function(e){Tr.set(e.detail.node)})),this.observer=new(_r())((function(t){for(var r=0;r<t.length;r++){var n=t[r];e._isInVConsole(n.target)||e._handleMutation(n)}})),this.observer.observe(document.documentElement,{attributes:!0,childList:!0,characterData:!0,subtree:!0})},r._handleMutation=function(e){switch(e.type){case"childList":e.removedNodes.length>0&&this._onChildRemove(e),e.addedNodes.length>0&&this._onChildAdd(e);break;case"attributes":this._onAttributesChange(e);break;case"characterData":this._onCharacterDataChange(e)}},r._onChildRemove=function(e){var t=this.nodeMap.get(e.target);if(t){for(var r=0;r<e.removedNodes.length;r++){var n=this.nodeMap.get(e.removedNodes[r]);if(n){for(var i=0;i<t.childNodes.length;i++)if(t.childNodes[i]===n){t.childNodes.splice(i,1);break}this.nodeMap.delete(e.removedNodes[r])}}this._refreshStore()}},r._onChildAdd=function(e){var t=this.nodeMap.get(e.target);if(t){for(var r=0;r<e.addedNodes.length;r++){var n=e.addedNodes[r],i=this._generateVNode(n);if(i){var a=void 0,o=n;do{if(null===o.nextSibling)break;o.nodeType===Node.ELEMENT_NODE&&(a=this.nodeMap.get(o.nextSibling)||void 0),o=o.nextSibling}while(void 0===a);if(void 0===a)t.childNodes.push(i);else for(var s=0;s<t.childNodes.length;s++)if(t.childNodes[s]===a){t.childNodes.splice(s,0,i);break}}}this._refreshStore()}},r._onAttributesChange=function(e){this._updateVNodeAttributes(e.target),this._refreshStore()},r._onCharacterDataChange=function(e){var t=this.nodeMap.get(e.target);t&&(t.textContent=e.target.textContent,this._refreshStore())},r._generateVNode=function(e){if(!this._isIgnoredNode(e)){var t={nodeType:e.nodeType,nodeName:e.nodeName.toLowerCase(),textContent:"",id:"",className:"",attributes:[],childNodes:[]};if(this.nodeMap.set(e,t),t.nodeType!=e.TEXT_NODE&&t.nodeType!=e.DOCUMENT_TYPE_NODE||(t.textContent=e.textContent),e.childNodes.length>0){t.childNodes=[];for(var r=0;r<e.childNodes.length;r++){var n=this._generateVNode(e.childNodes[r]);n&&t.childNodes.push(n)}}return this._updateVNodeAttributes(e),t}},r._updateVNodeAttributes=function(e){var t=this.nodeMap.get(e);if(t&&e instanceof Element&&(t.id=e.id||"",t.className=e.className||"",e.hasAttributes&&e.hasAttributes())){t.attributes=[];for(var r=0;r<e.attributes.length;r++)t.attributes.push({name:e.attributes[r].name,value:e.attributes[r].value||""})}},r._expandActivedNode=function(){var e=(0,St.U2)(Tr);if(e._isExpand)for(var t=0;t<e.childNodes.length;t++)e.childNodes[t]._isExpand=!0;else e._isExpand=!0;this._refreshStore()},r._collapseActivedNode=function(){var e=(0,St.U2)(Tr);if(e._isExpand){for(var t=!1,r=0;r<e.childNodes.length;r++)e.childNodes[r]._isExpand&&(t=!0,e.childNodes[r]._isExpand=!1);t||(e._isExpand=!1),this._refreshStore()}},r._isIgnoredNode=function(e){if(e.nodeType===e.TEXT_NODE){if(""===e.textContent.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$|\n+/g,""))return!0}else if(e.nodeType===e.COMMENT_NODE)return!0;return!1},r._isInVConsole=function(e){for(var t=e;void 0!==t;){if("__vconsole"==t.id)return!0;t=t.parentElement||void 0}return!1},r._refreshStore=function(){Sr.update((function(e){return e}))},t}(Q);function tn(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function rn(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){tn(a,n,i,o,s,"next",e)}function s(e){tn(a,n,i,o,s,"throw",e)}o(void 0)}))}}var nn=__webpack_require__1(4264),an=__webpack_require__1.n(nn);function on(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(r),!0).forEach((function(t){on(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ln=function(e){if(!e||0===e.length)return{};for(var t={},r=e.split(";"),n=0;n<r.length;n++){var i=r[n].indexOf("=");if(!(i<0)){var a=r[n].substring(0,i).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),o=r[n].substring(i+1,r[n].length);try{a=decodeURIComponent(a)}catch(e){}try{o=decodeURIComponent(o)}catch(e){}t[a]=o}}return t},dn=function(e,t,r){"undefined"!=typeof document&&void 0!==document.cookie&&(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+function(e){void 0===e&&(e={});var t=e,r=t.path,n=t.domain,i=t.expires,a=t.secure,o=t.sameSite,s=["none","lax","strict"].indexOf((o||"").toLowerCase())>-1?o:null;return[null==r?"":";path="+r,null==n?"":";domain="+n,null==i?"":";expires="+i.toUTCString(),void 0===a||!1===a?"":";secure",null===s?"":";SameSite="+s].join("")}(r))},un=function(){return"undefined"==typeof document||void 0===document.cookie?"":document.cookie},hn=function(){function t(){}var r=t.prototype;return r.key=function(e){return e<this.keys.length?this.keys[e]:null},r.setItem=function(e,t,r){dn(e,t,r)},r.getItem=function(e){var t=ln(un());return Object.prototype.hasOwnProperty.call(t,e)?t[e]:null},r.removeItem=function(e,t){for(var r,n,i=["","/"],a=(null==(r=location)||null==(n=r.hostname)?void 0:n.split("."))||[];a.length>1;)i.push(a.join(".")),a.shift();for(var o=0;o<i.length;o++)for(var s,c,l=(null==(s=location)||null==(c=s.pathname)?void 0:c.split("/"))||[],d="";l.length>0;){d+=("/"===d?"":"/")+l.shift();var u=cn(cn({},t),{},{path:d,domain:i[o],expires:new Date(0)});dn(e,"",u)}},r.clear=function(){for(var e=[].concat(this.keys),t=0;t<e.length;t++)this.removeItem(e[t])},(0,e.Z)(t,[{key:"length",get:function(){return this.keys.length}},{key:"keys",get:function(){var e=ln(un());return Object.keys(e).sort()}}]),t}(),fn=function(){function r(){this.keys=[],this.currentSize=0,this.limitSize=0}var n,i=r.prototype;return i.key=function(e){return e<this.keys.length?this.keys[e]:null},i.prepare=(n=rn(an().mark((function e(){var r=this;return an().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){(0,t.qt)("getStorageInfo",{success:function(t){r.keys=t?t.keys.sort():[],r.currentSize=t?t.currentSize:0,r.limitSize=t?t.limitSize:0,e(!0)},fail:function(){n(!1)}})})));case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),i.getItem=function(e){return new Promise((function(r,n){(0,t.qt)("getStorage",{key:e,success:function(e){var t=e.data;if("object"==typeof e.data)try{t=JSON.stringify(e.data)}catch(e){}r(t)},fail:function(e){n(e)}})}))},i.setItem=function(e,r){return new Promise((function(n,i){(0,t.qt)("setStorage",{key:e,data:r,success:function(e){n(e)},fail:function(e){i(e)}})}))},i.removeItem=function(e){return new Promise((function(r,n){(0,t.qt)("removeStorage",{key:e,success:function(e){r(e)},fail:function(e){n(e)}})}))},i.clear=function(){return new Promise((function(e,r){(0,t.qt)("clearStorage",{success:function(t){e(t)},fail:function(e){r(e)}})}))},(0,e.Z)(r,[{key:"length",get:function(){return this.keys.length}}]),r}(),pn={updateTime:(0,St.fZ)(0),activedName:(0,St.fZ)(null),defaultStorages:(0,St.fZ)(["cookies","localStorage","sessionStorage"])},mn=function(r){function n(){var e;return(e=r.call(this)||this).storage=new Map,pn.activedName.subscribe((function(e){var t=(0,St.U2)(pn.defaultStorages);t.length>0&&-1===t.indexOf(e)&&pn.activedName.set(t[0])})),pn.defaultStorages.subscribe((function(t){-1===t.indexOf((0,St.U2)(pn.activedName))&&pn.activedName.set(t[0]),e.updateEnabledStorages()})),e}(0,a.Z)(n,r);var i,o,s,c,l,d=n.prototype;return d.getItem=(l=rn(an().mark((function e(t){return an().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.activedStorage){e.next=2;break}return e.abrupt("return","");case 2:return e.next=4,this.promisify(this.activedStorage.getItem(t));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)}),d.setItem=(c=rn(an().mark((function e(t,r){var n;return an().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.activedStorage){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.promisify(this.activedStorage.setItem(t,r));case 4:return n=e.sent,this.refresh(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)}),d.removeItem=(s=rn(an().mark((function e(t){var r;return an().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.activedStorage){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.promisify(this.activedStorage.removeItem(t));case 4:return r=e.sent,this.refresh(),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)}),d.clear=(o=rn(an().mark((function e(){var t;return an().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.activedStorage){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.promisify(this.activedStorage.clear());case 4:return t=e.sent,this.refresh(),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)}),d.refresh=function(){pn.updateTime.set(Date.now())},d.getEntries=(i=rn(an().mark((function e(){var t,r,n,i,a;return an().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.activedStorage){e.next=3;break}return e.abrupt("return",[]);case 3:if("function"!=typeof t.prepare){e.next=6;break}return e.next=6,t.prepare();case 6:r=[],n=0;case 8:if(!(n<t.length)){e.next=17;break}return i=t.key(n),e.next=12,this.getItem(i);case 12:a=e.sent,r.push([i,a]);case 14:n++,e.next=8;break;case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)}),d.updateEnabledStorages=function(){var e=(0,St.U2)(pn.defaultStorages);e.indexOf("cookies")>-1?void 0!==document.cookie&&this.storage.set("cookies",new hn):this.deleteStorage("cookies"),e.indexOf("localStorage")>-1?window.localStorage&&this.storage.set("localStorage",window.localStorage):this.deleteStorage("localStorage"),e.indexOf("sessionStorage")>-1?window.sessionStorage&&this.storage.set("sessionStorage",window.sessionStorage):this.deleteStorage("sessionStorage"),e.indexOf("wxStorage")>-1?(0,t.H_)()&&this.storage.set("wxStorage",new fn):this.deleteStorage("wxStorage")},d.promisify=function(e){return"string"==typeof e||null==e?Promise.resolve(e):e},d.deleteStorage=function(e){this.storage.has(e)&&this.storage.delete(e)},(0,e.Z)(n,[{key:"activedStorage",get:function(){return this.storage.get((0,St.U2)(pn.activedName))}}]),n}(Tt.N);function vn(e,t,r){var n=e.slice();return n[20]=t[r][0],n[21]=t[r][1],n[23]=r,n}function $n(e){var t;return{c:function(){t=(0,o.bGB)("div"),(0,o.Ljt)(t,"class","vc-plugin-empty")},m:function(e,r){(0,o.$Tr)(e,t,r)},p:o.ZTd,d:function(e){e&&(0,o.ogt)(t)}}}function gn(e){var t,r,n,i,a,s=e[20]+"",c=e[5](e[21])+"";return{c:function(){t=(0,o.bGB)("div"),r=(0,o.fLW)(s),n=(0,o.DhX)(),i=(0,o.bGB)("div"),a=(0,o.fLW)(c),(0,o.Ljt)(t,"class","vc-table-col"),(0,o.Ljt)(i,"class","vc-table-col vc-table-col-2")},m:function(e,s){(0,o.$Tr)(e,t,s),(0,o.R3I)(t,r),(0,o.$Tr)(e,n,s),(0,o.$Tr)(e,i,s),(0,o.R3I)(i,a)},p:function(e,t){1&t&&s!==(s=e[20]+"")&&(0,o.rTO)(r,s),1&t&&c!==(c=e[5](e[21])+"")&&(0,o.rTO)(a,c)},d:function(e){e&&(0,o.ogt)(t),e&&(0,o.ogt)(n),e&&(0,o.ogt)(i)}}}function bn(e){var t,r,n,i,a,s,c;return{c:function(){t=(0,o.bGB)("div"),r=(0,o.bGB)("textarea"),n=(0,o.DhX)(),i=(0,o.bGB)("div"),a=(0,o.bGB)("textarea"),(0,o.Ljt)(r,"class","vc-table-input"),(0,o.Ljt)(t,"class","vc-table-col"),(0,o.Ljt)(a,"class","vc-table-input"),(0,o.Ljt)(i,"class","vc-table-col vc-table-col-2")},m:function(l,d){(0,o.$Tr)(l,t,d),(0,o.R3I)(t,r),(0,o.BmG)(r,e[2]),(0,o.$Tr)(l,n,d),(0,o.$Tr)(l,i,d),(0,o.R3I)(i,a),(0,o.BmG)(a,e[3]),s||(c=[(0,o.oLt)(r,"input",e[11]),(0,o.oLt)(a,"input",e[12])],s=!0)},p:function(e,t){4&t&&(0,o.BmG)(r,e[2]),8&t&&(0,o.BmG)(a,e[3])},d:function(e){e&&(0,o.ogt)(t),e&&(0,o.ogt)(n),e&&(0,o.ogt)(i),s=!1,(0,o.j7q)(c)}}}function xn(e){var t,r,n,i,a,s;return(t=new re.Z({props:{name:"delete"}})).$on("click",(function(){return e[14](e[20])})),n=new ae({props:{content:[e[20],e[21]].join("=")}}),(a=new re.Z({props:{name:"edit"}})).$on("click",(function(){return e[15](e[20],e[21],e[23])})),{c:function(){(0,o.YCL)(t.$$.fragment),r=(0,o.DhX)(),(0,o.YCL)(n.$$.fragment),i=(0,o.DhX)(),(0,o.YCL)(a.$$.fragment)},m:function(e,c){(0,o.yef)(t,e,c),(0,o.$Tr)(e,r,c),(0,o.yef)(n,e,c),(0,o.$Tr)(e,i,c),(0,o.yef)(a,e,c),s=!0},p:function(t,r){e=t;var i={};1&r&&(i.content=[e[20],e[21]].join("=")),n.$set(i)},i:function(e){s||((0,o.Ui)(t.$$.fragment,e),(0,o.Ui)(n.$$.fragment,e),(0,o.Ui)(a.$$.fragment,e),s=!0)},o:function(e){(0,o.etI)(t.$$.fragment,e),(0,o.etI)(n.$$.fragment,e),(0,o.etI)(a.$$.fragment,e),s=!1},d:function(e){(0,o.vpE)(t,e),e&&(0,o.ogt)(r),(0,o.vpE)(n,e),e&&(0,o.ogt)(i),(0,o.vpE)(a,e)}}}function yn(e){var t,r,n,i;return(t=new re.Z({props:{name:"cancel"}})).$on("click",e[9]),(n=new re.Z({props:{name:"done"}})).$on("click",(function(){return e[13](e[20])})),{c:function(){(0,o.YCL)(t.$$.fragment),r=(0,o.DhX)(),(0,o.YCL)(n.$$.fragment)},m:function(e,a){(0,o.yef)(t,e,a),(0,o.$Tr)(e,r,a),(0,o.yef)(n,e,a),i=!0},p:function(t,r){e=t},i:function(e){i||((0,o.Ui)(t.$$.fragment,e),(0,o.Ui)(n.$$.fragment,e),i=!0)},o:function(e){(0,o.etI)(t.$$.fragment,e),(0,o.etI)(n.$$.fragment,e),i=!1},d:function(e){(0,o.vpE)(t,e),e&&(0,o.ogt)(r),(0,o.vpE)(n,e)}}}function wn(e){var t,r,n,i,a,s,c;function l(e,t){return e[1]===e[23]?bn:gn}var d=l(e),u=d(e),h=[yn,xn],f=[];function p(e,t){return e[1]===e[23]?0:1}return i=p(e),a=f[i]=h[i](e),{c:function(){t=(0,o.bGB)("div"),u.c(),r=(0,o.DhX)(),n=(0,o.bGB)("div"),a.c(),s=(0,o.DhX)(),(0,o.Ljt)(n,"class","vc-table-col vc-table-col-1 vc-table-action"),(0,o.Ljt)(t,"class","vc-table-row")},m:function(e,a){(0,o.$Tr)(e,t,a),u.m(t,null),(0,o.R3I)(t,r),(0,o.R3I)(t,n),f[i].m(n,null),(0,o.R3I)(t,s),c=!0},p:function(e,s){d===(d=l(e))&&u?u.p(e,s):(u.d(1),(u=d(e))&&(u.c(),u.m(t,r)));var c=i;(i=p(e))===c?f[i].p(e,s):((0,o.dvw)(),(0,o.etI)(f[c],1,1,(function(){f[c]=null})),(0,o.gbL)(),(a=f[i])?a.p(e,s):(a=f[i]=h[i](e)).c(),(0,o.Ui)(a,1),a.m(n,null))},i:function(e){c||((0,o.Ui)(a),c=!0)},o:function(e){(0,o.etI)(a),c=!1},d:function(e){e&&(0,o.ogt)(t),u.d(),f[i].d()}}}function _n(e){for(var t,r,n,i,a=e[0],s=[],c=0;c<a.length;c+=1)s[c]=wn(vn(e,a,c));var l=function(e){return(0,o.etI)(s[e],1,1,(function(){s[e]=null}))},d=null;return a.length||(d=$n()),{c:function(){t=(0,o.bGB)("div"),(r=(0,o.bGB)("div")).innerHTML='<div class="vc-table-col">Key</div> \n    <div class="vc-table-col vc-table-col-2">Value</div> \n    <div class="vc-table-col vc-table-col-1 vc-table-action"></div>',n=(0,o.DhX)();for(var e=0;e<s.length;e+=1)s[e].c();d&&d.c(),(0,o.Ljt)(r,"class","vc-table-row"),(0,o.Ljt)(t,"class","vc-table")},m:function(e,a){(0,o.$Tr)(e,t,a),(0,o.R3I)(t,r),(0,o.R3I)(t,n);for(var c=0;c<s.length;c+=1)s[c].m(t,null);d&&d.m(t,null),i=!0},p:function(e,r){var n=r[0];if(1007&n){var i;for(a=e[0],i=0;i<a.length;i+=1){var c=vn(e,a,i);s[i]?(s[i].p(c,n),(0,o.Ui)(s[i],1)):(s[i]=wn(c),s[i].c(),(0,o.Ui)(s[i],1),s[i].m(t,null))}for((0,o.dvw)(),i=a.length;i<s.length;i+=1)l(i);(0,o.gbL)(),!a.length&&d?d.p(e,n):a.length?d&&(d.d(1),d=null):((d=$n()).c(),d.m(t,null))}},i:function(e){if(!i){for(var t=0;t<a.length;t+=1)(0,o.Ui)(s[t]);i=!0}},o:function(e){s=s.filter(Boolean);for(var t=0;t<s.length;t+=1)(0,o.etI)(s[t]);i=!1},d:function(e){e&&(0,o.ogt)(t),(0,o.RMB)(s,e),d&&d.d()}}}function Sn(e,r,n){var i,a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},s=mn.getSingleton(mn,"VConsoleStorageModel"),c=pn.updateTime;(0,o.FIv)(e,c,(function(e){return n(10,i=e)}));var l=[],d=-1,u="",h="",f=function(){n(1,d=-1),n(2,u=""),n(3,h="")},p=function(e){return a(void 0,void 0,void 0,an().mark((function t(){return an().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.removeItem(e);case 2:case"end":return t.stop()}}),t)})))},m=function(e){return a(void 0,void 0,void 0,an().mark((function t(){return an().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u===e){t.next=3;break}return t.next=3,s.removeItem(e);case 3:s.setItem(u,h),f();case 5:case"end":return t.stop()}}),t)})))},v=function(e,t,r){return a(void 0,void 0,void 0,an().mark((function i(){return an().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n(2,u=e),n(3,h=t),n(1,d=r);case 3:case"end":return i.stop()}}),i)})))};return e.$$.update=function(){1024&e.$$.dirty&&i&&a(void 0,void 0,void 0,an().mark((function e(){return an().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(),e.t0=n,e.next=4,s.getEntries();case 4:e.t1=l=e.sent,(0,e.t0)(0,e.t1);case 6:case"end":return e.stop()}}),e)})))},[l,d,u,h,c,function(e){return(0,t.id)(e,1024)},p,m,v,function(){f()},i,function(){u=this.value,n(2,u)},function(){h=this.value,n(3,h)},function(e){return m(e)},function(e){return p(e)},function(e,t,r){return v(e,t,r)}]}var Tn=function(e){function t(t){var r;return r=e.call(this)||this,(0,o.S1n)((0,i.Z)(r),t,Sn,_n,o.N8,{}),r}return(0,a.Z)(t,e),t}(o.f_C),Mn=function(e){function t(t,r,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,r,Tn,n)||this).model=mn.getSingleton(mn,"VConsoleStorageModel"),i.onAddTopBarCallback=void 0,i}(0,a.Z)(t,e);var r=t.prototype;return r.onReady=function(){e.prototype.onReady.call(this),this.onUpdateOption()},r.onShow=function(){this.model.refresh()},r.onAddTopBar=function(e){this.onAddTopBarCallback=e,this.updateTopBar()},r.onAddTool=function(e){var t=this;e([{name:"Add",global:!1,onClick:function(){t.model.setItem("new_"+Date.now(),"new_value")}},{name:"Refresh",global:!1,onClick:function(){t.model.refresh()}},{name:"Clear",global:!1,onClick:function(){t.model.clear()}}])},r.onUpdateOption=function(){var e,t;void 0!==(null==(e=this.vConsole.option.storage)?void 0:e.defaultStorages)&&(pn.defaultStorages.set((null==(t=this.vConsole.option.storage)?void 0:t.defaultStorages)||[]),this.updateTopBar())},r.updateTopBar=function(){var e=this;if("function"==typeof this.onAddTopBarCallback){for(var t=(0,St.U2)(pn.defaultStorages),r=[],n=0;n<t.length;n++){var i=t[n];r.push({name:i[0].toUpperCase()+i.substring(1),data:{name:i},actived:0===n,onClick:function(t,r){var n=(0,St.U2)(pn.activedName);if(r.name===n)return!1;pn.activedName.set(r.name),e.model.refresh()}})}this.onAddTopBarCallback(r)}},t}(Q),En=function(){function r(e){var i=this;if(this.version="3.14.6",this.isInited=!1,this.option={},this.compInstance=void 0,this.pluginList={},this.log=void 0,this.system=void 0,this.network=void 0,r.instance&&r.instance instanceof r)return console.debug("[vConsole] vConsole is already exists."),r.instance;if(r.instance=this,this.isInited=!1,this.option={defaultPlugins:["system","network","element","storage"],log:{},network:{},storage:{}},t.Kn(e))for(var a in e)this.option[a]=e[a];void 0!==this.option.maxLogNumber&&(this.option.log.maxLogNumber=this.option.maxLogNumber,console.debug("[vConsole] Deprecated option: `maxLogNumber`, use `log.maxLogNumber` instead.")),void 0!==this.option.onClearLog&&console.debug("[vConsole] Deprecated option: `onClearLog`."),void 0!==this.option.maxNetworkNumber&&(this.option.network.maxNetworkNumber=this.option.maxNetworkNumber,console.debug("[vConsole] Deprecated option: `maxNetworkNumber`, use `network.maxNetworkNumber` instead.")),this._addBuiltInPlugins();var o,s=function(){i.isInited||(i._initComponent(),i._autoRun())};void 0!==document?"loading"===document.readyState?n.bind(window,"DOMContentLoaded",s):s():o=setTimeout((function e(){document&&"complete"==document.readyState?(o&&clearTimeout(o),s()):o=setTimeout(e,1)}),1)}var i=r.prototype;return i._addBuiltInPlugins=function(){this.addPlugin(new wt("default","Log"));var e=this.option.defaultPlugins,r={system:{proto:_t,name:"System"}};if(r.network={proto:yr,name:"Network"},r.element={proto:en,name:"Element"},r.storage={proto:Mn,name:"Storage"},e&&t.kJ(e))for(var n=0;n<e.length;n++){var i=r[e[n]];i?this.addPlugin(new i.proto(e[n],i.name)):console.debug("[vConsole] Unrecognized default plugin ID:",e[n])}},i._initComponent=function(){var e=this;if(!n.one("#__vconsole")){var r,i=1*t.cF("switch_x"),a=1*t.cF("switch_y");"string"==typeof this.option.target?r=document.querySelector(this.option.target):this.option.target instanceof HTMLElement&&(r=this.option.target),r instanceof HTMLElement||(r=document.documentElement),this.compInstance=new Z({target:r,props:{switchButtonPosition:{x:i,y:a}}}),this.compInstance.$on("show",(function(t){t.detail.show?e.show():e.hide()})),this.compInstance.$on("changePanel",(function(t){var r=t.detail.pluginId;e.showPlugin(r)}))}this._updateComponentByOptions()},i._updateComponentByOptions=function(){if(this.compInstance){if(this.compInstance.theme!==this.option.theme){var e=this.option.theme;e="light"!==e&&"dark"!==e?"":e,this.compInstance.theme=e}this.compInstance.disableScrolling!==this.option.disableLogScrolling&&(this.compInstance.disableScrolling=!!this.option.disableLogScrolling)}},i.setSwitchPosition=function(e,t){this.compInstance.switchButtonPosition={x:e,y:t}},i._autoRun=function(){for(var e in this.isInited=!0,this.pluginList)this._initPlugin(this.pluginList[e]);this._showFirstPluginWhenEmpty(),this.triggerEvent("ready")},i._showFirstPluginWhenEmpty=function(){var e=Object.keys(this.pluginList);""===this.compInstance.activedPluginId&&e.length>0&&this.showPlugin(e[0])},i.triggerEvent=function(e,r){var n=this;e="on"+e.charAt(0).toUpperCase()+e.slice(1),t.mf(this.option[e])&&setTimeout((function(){n.option[e].apply(n,r)}),0)},i._initPlugin=function(e){var r=this;e.vConsole=this,this.compInstance.pluginList[e.id]={id:e.id,name:e.name,hasTabPanel:!1,topbarList:[],toolbarList:[]},this.compInstance.pluginList=this._reorderPluginList(this.compInstance.pluginList),e.trigger("init"),e.trigger("renderTab",(function(n){r.compInstance.pluginList[e.id].hasTabPanel=!0,n&&(t.HD(n)?r.compInstance.divContentInner.innerHTML+=n:t.mf(n.appendTo)?n.appendTo(r.compInstance.divContentInner):t.kK(n)&&r.compInstance.divContentInner.insertAdjacentElement("beforeend",n)),r.compInstance.pluginList=r.compInstance.pluginList})),e.trigger("addTopBar",(function(t){if(t){for(var n=[],i=0;i<t.length;i++){var a=t[i];n.push({name:a.name||"Undefined",className:a.className||"",actived:!!a.actived,data:a.data,onClick:a.onClick})}r.compInstance.pluginList[e.id].topbarList=n,r.compInstance.pluginList=r.compInstance.pluginList}})),e.trigger("addTool",(function(t){if(t){for(var n=[],i=0;i<t.length;i++){var a=t[i];n.push({name:a.name||"Undefined",global:!!a.global,data:a.data,onClick:a.onClick})}r.compInstance.pluginList[e.id].toolbarList=n,r.compInstance.pluginList=r.compInstance.pluginList}})),e.isReady=!0,e.trigger("ready")},i._triggerPluginsEvent=function(e){for(var t in this.pluginList)this.pluginList[t].isReady&&this.pluginList[t].trigger(e)},i._triggerPluginEvent=function(e,t){var r=this.pluginList[e];r&&r.isReady&&r.trigger(t)},i._reorderPluginList=function(e){var r=this;if(!t.kJ(this.option.pluginOrder))return e;for(var n=Object.keys(e).sort((function(e,t){var n=r.option.pluginOrder.indexOf(e),i=r.option.pluginOrder.indexOf(t);return n===i?0:-1===n?1:-1===i?-1:n-i})),i={},a=0;a<n.length;a++)i[n[a]]=e[n[a]];return i},i.addPlugin=function(e){return void 0!==this.pluginList[e.id]?(console.debug("[vConsole] Plugin `"+e.id+"` has already been added."),!1):(this.pluginList[e.id]=e,this.isInited&&(this._initPlugin(e),this._showFirstPluginWhenEmpty()),!0)},i.removePlugin=function(e){e=(e+"").toLowerCase();var t=this.pluginList[e];if(void 0===t)return console.debug("[vConsole] Plugin `"+e+"` does not exist."),!1;t.trigger("remove");try{delete this.pluginList[e],delete this.compInstance.pluginList[e]}catch(t){this.pluginList[e]=void 0,this.compInstance.pluginList[e]=void 0}return this.compInstance.pluginList=this.compInstance.pluginList,this.compInstance.activedPluginId==e&&(this.compInstance.activedPluginId="",this._showFirstPluginWhenEmpty()),!0},i.show=function(){this.isInited&&(this.compInstance.show=!0,this._triggerPluginsEvent("showConsole"))},i.hide=function(){this.isInited&&(this.compInstance.show=!1,this._triggerPluginsEvent("hideConsole"))},i.showSwitch=function(){this.isInited&&(this.compInstance.showSwitchButton=!0)},i.hideSwitch=function(){this.isInited&&(this.compInstance.showSwitchButton=!1)},i.showPlugin=function(e){this.isInited&&(this.pluginList[e]||console.debug("[vConsole] Plugin `"+e+"` does not exist."),this.compInstance.activedPluginId&&this._triggerPluginEvent(this.compInstance.activedPluginId,"hide"),this.compInstance.activedPluginId=e,this._triggerPluginEvent(this.compInstance.activedPluginId,"show"))},i.setOption=function(e,r){if("string"==typeof e){for(var n=e.split("."),i=this.option,a=0;a<n.length-1;a++)void 0===i[n[a]]&&(i[n[a]]={}),i=i[n[a]];i[n[n.length-1]]=r,this._triggerPluginsEvent("updateOption"),this._updateComponentByOptions()}else if(t.Kn(e)){for(var o in e)this.option[o]=e[o];this._triggerPluginsEvent("updateOption"),this._updateComponentByOptions()}else console.debug("[vConsole] The first parameter of `vConsole.setOption()` must be a string or an object.")},i.destroy=function(){if(this.isInited){this.isInited=!1,r.instance=void 0;for(var e=Object.keys(this.pluginList),t=e.length-1;t>=0;t--)this.removePlugin(e[t]);this.compInstance.$destroy()}},(0,e.Z)(r,null,[{key:"instance",get:function(){return window.__VCONSOLE_INSTANCE},set:function(e){void 0===e||e instanceof r?window.__VCONSOLE_INSTANCE=e:console.debug("[vConsole] Cannot set `VConsole.instance` because the value is not the instance of VConsole.")}}]),r}();En.VConsolePlugin=void 0,En.VConsoleLogPlugin=void 0,En.VConsoleDefaultPlugin=void 0,En.VConsoleSystemPlugin=void 0,En.VConsoleNetworkPlugin=void 0,En.VConsoleElementPlugin=void 0,En.VConsoleStoragePlugin=void 0,En.VConsolePlugin=J,En.VConsoleLogPlugin=yt,En.VConsoleDefaultPlugin=wt,En.VConsoleSystemPlugin=_t,En.VConsoleNetworkPlugin=yr,En.VConsoleElementPlugin=en,En.VConsoleStoragePlugin=Mn;var An=En}(),__webpack_exports__1=__webpack_exports__1.default,__webpack_exports__1}()},module.exports=n()})),parcelRequire.register("kQrTP",(function(e,t){(function(){var r=this&&this.THREE||parcelRequire("ilwiq");if(!r)throw new Error("FBOHelper requires three.js");var n="\n#fboh-fbos-list{\n\tall: unset;\n\tposition: fixed;\n\tleft: 0;\n\ttop: 0;\n\tz-index: 1000000;\n\twidth: 150px;\n}\n#fboh-fbos-list, #fboh-fbos-list *, #fboh-hotspot, #fboh-label, #fboh-info{\n\tbox-sizing: border-box;\n\tfont-family: 'Roboto Mono', 'courier new', courier, monospace;\n\tfont-size: 11px;\n\tline-height: 1.4em;\n}\n#fboh-fbos-list li{\n\tcursor: pointer;\n\tcolor: white;\n\twidth: 100%;\n\tpadding: 4px 0;\n\tborder-top: 1px solid #888;\n\tborder-bottom: 1px solid black;\n\tbackground-color: #444;\n\ttext-align: center;\n\ttext-shadow: 0 -1px black;\n}\n#fboh-fbos-list li:hover{\n\tbackground-color: rgba( 158, 253, 56, .5 );\n}\n#fboh-fbos-list li.active{\n\tbackground-color: rgba( 158, 253, 56, .5 );\n\tcolor: white;\n\ttext-shadow: 0 1px black;\n}\n#fboh-hotspot{\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbackground-color: rgba( 158, 253, 56,.5);\n\tpointer-events: none;\n}\n#fboh-label{\n\tposition: absolute;\n\tleft: 0;\n\tbottom: 0;\n\ttransform-origin: bottom left;\n\tpointer-events: none;\n}\n#fboh-info{\n\tdisplay: none;\n\tposition: absolute;\n\tleft: 160px;\n\ttop: 10px;\n\tpointer-events: none;\n}\n.fboh-card{\n\tdisplay: block;\n\twhite-space: nowrap;\n\tcolor: black;\n\tpadding: 10px;\n\tbackground-color: white;\n\tborder: 1px solid black;\n}\n";let i={};i[r.AlphaFormat]="THREE.AlphaFormat",i[r.RGBFormat]="THREE.RGBFormat",i[r.RGBAFormat]="THREE.RGBAFormat",i[r.LuminanceFormat]="THREE.LuminanceFormat",i[r.LuminanceAlphaFormat]="THREE.LuminanceAlphaFormat";let a={};a[r.UnsignedByteType]="THREE.UnsignedByteType",a[r.ByteType]="THREE.ByteType",a[r.ShortType]="THREE.ShortType",a[r.UnsignedShortType]="THREE.UnsignedShortType",a[r.IntType]="THREE.IntType",a[r.UnsignedIntType]="THREE.UnsignedIntType",a[r.FloatType]="THREE.FloatType",a[r.HalfFloatType]="THREE.HalfFloatType",a[r.UnsignedShort4444Type]="THREE.UnsignedShort4444Type",a[r.UnsignedShort5551Type]="THREE.UnsignedShort5551Type",a[r.UnsignedShort565Type]="THREE.UnsignedShort565Type";class o{constructor(e){this.renderer=e,this.autoUpdate=!1,this.fbos=[],this.list=document.createElement("ul"),this.list.setAttribute("id","fboh-fbos-list"),document.body.appendChild(this.list),this.scene=new r.Scene,this.camera=new r.OrthographicCamera(-1,1,1,-1,1e-6,1e3),this.raycaster=new r.Raycaster,this.mouse=new r.Vector2,this.grid=document.createElement("div"),this.grid.setAttribute("style","position: fixed; left: 50%; top: 50%; border: 1px solid #000000; transform: translate3d(-50%, -50%, 0 ); box-shadow: 0 0 50px black; display: none"),this.grid.setAttribute("id","bfoh-grid"),document.body.appendChild(this.grid),this.hotspot=document.createElement("div"),this.hotspot.setAttribute("id","fboh-hotspot"),this.grid.appendChild(this.hotspot),this.label=document.createElement("div"),this.label.setAttribute("id","fboh-label"),this.label.className="fboh-card",this.hotspot.appendChild(this.label),this.info=document.createElement("div"),this.info.setAttribute("id","fboh-info"),this.info.className="fboh-card",document.body.appendChild(this.info),this.currentObj=null,this.currentU=0,this.currentV=0,this.fboMap=new Map,this.offsetX=0,this.offsetY=0,this.grid.appendChild(this.hotspot);const t=window.document.head||window.document.getElementsByTagName("head")[0],i=window.document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n)),t.appendChild(i);const a=document.createElement("link");a.type="text/css",a.rel="stylesheet",a.href="https://fonts.googleapis.com/css?family=Roboto+Mono",t.appendChild(a),this.grid.addEventListener("wheel",(e=>{var t=e.deltaY<0?1:-1;this.camera.zoom+=t/50,this.camera.updateProjectionMatrix(),this.grid.style.transform=`translate3d(-50%, -50%, 0 ) scale(${this.camera.zoom},${this.camera.zoom}) translate3d(${this.offsetX}px,${this.offsetY}px,0) `,this.label.style.transform=`scale(${1/this.camera.zoom},${1/this.camera.zoom})`,this.hotspot.style.transform=`scale(${1/this.camera.zoom},${1/this.camera.zoom})`,this.hotspot.style.borderWidth=1/this.camera.zoom+"px",this.readPixel(this.currentObj,this.currentU,this.currentV)}));let o=!1,s={x:0,y:0},c={x:0,y:0};this.grid.addEventListener("mousedown",(e=>{o=!0,s.x=e.clientX,s.y=e.clientY,c.x=this.offsetX,c.y=this.offsetY})),this.grid.addEventListener("mouseup",(e=>{o=!1})),this.grid.addEventListener("mouseout",(e=>{this.label.style.display="none",o=!1})),this.grid.addEventListener("mouseover",(e=>{this.label.style.display="block"})),this.grid.addEventListener("mousemove",(t=>{if(o)this.offsetX=c.x+(t.clientX-s.x)/this.camera.zoom,this.offsetY=c.y+(t.clientY-s.y)/this.camera.zoom,this.camera.position.x=-this.offsetX,this.camera.position.y=this.offsetY,this.grid.style.transform=`translate3d(-50%, -50%, 0 ) scale(${this.camera.zoom},${this.camera.zoom}) translate3d(${this.offsetX}px,${this.offsetY}px,0)`;else{this.mouse.x=t.clientX/e.domElement.clientWidth*2-1,this.mouse.y=-t.clientY/e.domElement.clientHeight*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);const r=this.raycaster.intersectObject(this.currentObj.quad,!0);r.length>0?(this.readPixel(this.fboMap.get(r[0].object),r[0].uv.x,r[0].uv.y),this.label.style.display="block"):this.label.style.display="none"}})),window.addEventListener("keydown",(e=>{27===e.keyCode&&this.hide()})),this.grid.addEventListener("keydown",(e=>{27===e.keyCode&&this.hide()}))}hide(){this.hideAll(),this.info.style.display="none",this.grid.style.display="none",this.currentObj=null}attach(e,t,n){var o=document.createElement("li");o.textContent=t,e.image&&(e.width=e.image.width,e.height=e.image.height);const s=600,c=e.height*s/e.width,l=new r.MeshBasicMaterial({map:e,side:r.DoubleSide}),d=new r.Mesh(new r.PlaneBufferGeometry(1,1),l);d.visible=!1,d.width=s,d.height=c,d.scale.set(s,c,1),this.scene.add(d);var u={width:s,height:c,name:t,fbo:e,flipY:e.flipY,li:o,visible:!1,quad:d,material:l,formatter:n};this.fbos.push(u),this.fboMap.set(d,u),o.addEventListener("click",(t=>{d.visible=!d.visible,d.visible?(this.hideAll(),d.visible=!0,o.classList.add("active"),this.info.style.display="block",this.grid.style.display="block",this.grid.style.width=u.width+2+"px",this.grid.style.height=u.height+2+"px",this.currentObj=u,this.info.innerHTML=`Width: ${e.width} Height: ${e.height}<br/>Format: ${i[e.texture?e.texture.format:e.format]} Type: ${a[e.texture?e.texture.type:e.type]}`):(this.info.style.display="none",o.classList.remove("active"),this.grid.style.display="none",this.currentObj=null)})),this.buildList()}detach(e){var t=0;for(var r of this.fbos)r.fbo===e&&this.fbos.splice(t,1),t++;this.buildList()}refreshFBO(e){for(var t of this.fbos)if(t.fbo===e){const r=600,n=e.height*r/e.width;t.width=r,t.height=n,t.quad.width=r,t.quad.height=n,t.quad.scale.set(r,n,1)}}hideAll(){this.fbos.forEach((e=>{e.quad.visible=!1,e.li.classList.remove("active")}))}buildList(){for(;this.list.firstChild;)this.list.removeChild(this.list.firstChild);for(var e of this.fbos)this.list.appendChild(e.li)}setSize(e,t){this.camera.left=e/-2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=t/-2,this.camera.updateProjectionMatrix()}readPixel(e,t,n){if(this.currentU=t,this.currentV=n,null===this.currentObj)return;const i=e.fbo,a=~~(i.width*t),o=~~(i.height*n);let s={};s[r.UnsignedByteType]=Uint8Array,s[r.ByteType]=Int8Array,s[r.ShortType]=Int16Array,s[r.UnsignedShortType]=Uint16Array,s[r.IntType]=Int32Array,s[r.UnsignedIntType]=Uint32Array,s[r.FloatType]=Float32Array,s[r.HalfFloatType]=null,s[r.UnsignedShort4444Type]=Uint16Array,s[r.UnsignedShort5551Type]=Uint16Array,s[r.UnsignedShort565Type]=Uint16Array;var c=s[i.texture?i.texture.type:i.type];if(null===c)return void console.warning(i.texture?i.texture.type:i.type+" not supported");const l=new c(4);this.renderer.readRenderTargetPixels(i,a,o,1,1,l);const d=`X : ${a} Y: ${o} u: ${t} v: ${n}`,u=e.formatter?e.formatter({x:a,y:o,u:t,v:n,r:l[0],g:l[1],b:l[2],a:l[3]}):`R: ${l[0]} G: ${l[1]} B: ${l[2]} A: ${l[3]}`;this.label.innerHTML=`${d}<br/>${u}`;const h=~~(t*i.width)*e.quad.width/i.width,f=~~(e.flipY?(1-n)*i.height:n*i.height)*e.quad.height/i.height;this.hotspot.style.width=e.quad.width/i.width+"px",this.hotspot.style.height=e.quad.height/i.height+"px",this.hotspot.style.transform=`translate3d(${h}px,${f}px,0)`,this.label.style.bottom=e.quad.height/i.height+"px"}update(){this.renderer.autoClear=!1,this.renderer.render(this.scene,this.camera),this.renderer.autoClear=!0,this.autoUpdate&&this.readPixel(this.currentObj,this.currentU,this.currentV)}}e.exports&&(t=e.exports=o),t.FBOHelper=o}).call(this)})),parcelRequire.register("f1q41",(function(e,t){(function(){var r,n="Expected a function",i="__lodash_hash_undefined__",a="__lodash_placeholder__",o=16,s=32,c=64,l=128,d=256,u=1/0,h=9007199254740991,f=NaN,p=4294967295,m=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",o],["flip",512],["partial",s],["partialRight",c],["rearg",d]],v="[object Arguments]",$="[object Array]",g="[object Boolean]",b="[object Date]",x="[object Error]",y="[object Function]",w="[object GeneratorFunction]",_="[object Map]",S="[object Number]",T="[object Object]",M="[object Promise]",E="[object RegExp]",A="[object Set]",C="[object String]",L="[object Symbol]",R="[object WeakMap]",P="[object ArrayBuffer]",D="[object DataView]",O="[object Float32Array]",I="[object Float64Array]",N="[object Int8Array]",B="[object Int16Array]",z="[object Int32Array]",U="[object Uint8Array]",k="[object Uint8ClampedArray]",F="[object Uint16Array]",q="[object Uint32Array]",G=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,j=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,X=RegExp(j.source),K=RegExp(W.source),Y=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ee=/^\w*$/,te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(re.source),ie=/^\s+/,ae=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,ue=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fe=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,$e=/^0o[0-7]+$/i,ge=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xe=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,we="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",_e="\\u2700-\\u27bf",Se="a-z\\xdf-\\xf6\\xf8-\\xff",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",Me="\\ufe0e\\ufe0f",Ee="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ae="[']",Ce="[\ud800-\udfff]",Le="["+Ee+"]",Re="["+we+"]",Pe="\\d+",De="[\\u2700-\\u27bf]",Oe="["+Se+"]",Ie="[^\ud800-\udfff"+Ee+Pe+_e+Se+Te+"]",Ne="[^\ud800-\udfff]",Be="(?:\ud83c[\udde6-\uddff]){2}",ze="[\ud800-\udbff][\udc00-\udfff]",Ue="["+Te+"]",ke="(?:"+Oe+"|"+Ie+")",Fe="(?:"+Ue+"|"+Ie+")",qe="(?:['](?:d|ll|m|re|s|t|ve))?",Ge="(?:['](?:D|LL|M|RE|S|T|VE))?",Ve="(?:"+Re+"|"+"\ud83c[\udffb-\udfff])"+"?",He="[\\ufe0e\\ufe0f]?",je=He+Ve+("(?:\\u200d(?:"+[Ne,Be,ze].join("|")+")"+He+Ve+")*"),We="(?:"+[De,Be,ze].join("|")+")"+je,Xe="(?:"+[Ne+Re+"?",Re,Be,ze,Ce].join("|")+")",Ke=RegExp(Ae,"g"),Ye=RegExp(Re,"g"),Ze=RegExp("\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|"+Xe+je,"g"),Je=RegExp([Ue+"?"+Oe+"+"+qe+"(?="+[Le,Ue,"$"].join("|")+")",Fe+"+"+Ge+"(?="+[Le,Ue+ke,"$"].join("|")+")",Ue+"?"+ke+"+"+qe,Ue+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pe,We].join("|"),"g"),Qe=RegExp("[\\u200d\ud800-\udfff"+we+Me+"]"),et=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,nt={};nt[O]=nt[I]=nt[N]=nt[B]=nt[z]=nt[U]=nt[k]=nt[F]=nt[q]=!0,nt[v]=nt[$]=nt[P]=nt[g]=nt[D]=nt[b]=nt[x]=nt[y]=nt[_]=nt[S]=nt[T]=nt[E]=nt[A]=nt[C]=nt[R]=!1;var it={};it[v]=it[$]=it[P]=it[D]=it[g]=it[b]=it[O]=it[I]=it[N]=it[B]=it[z]=it[_]=it[S]=it[T]=it[E]=it[A]=it[C]=it[L]=it[U]=it[k]=it[F]=it[q]=!0,it[x]=it[y]=it[R]=!1;var at={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ot=parseFloat,st=parseInt,ct="object"==typeof $parcel$global&&$parcel$global&&$parcel$global.Object===Object&&$parcel$global,lt="object"==typeof self&&self&&self.Object===Object&&self,dt=ct||lt||Function("return this")(),ut=t&&!t.nodeType&&t,ht=ut&&e&&!e.nodeType&&e,ft=ht&&ht.exports===ut,pt=ft&&ct.process,mt=function(){try{var e=ht&&ht.require&&ht.require("util").types;return e||pt&&pt.binding&&pt.binding("util")}catch(e){}}(),vt=mt&&mt.isArrayBuffer,$t=mt&&mt.isDate,gt=mt&&mt.isMap,bt=mt&&mt.isRegExp,xt=mt&&mt.isSet,yt=mt&&mt.isTypedArray;function wt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function _t(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n}function St(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Tt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Mt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Et(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}function At(e,t){return!!(null==e?0:e.length)&&zt(e,t,0)>-1}function Ct(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Lt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Rt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Pt(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}function Dt(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function Ot(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var It=qt("length");function Nt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Bt(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function zt(e,t,r){return t==t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Bt(e,kt,r)}function Ut(e,t,r,n){for(var i=r-1,a=e.length;++i<a;)if(n(e[i],t))return i;return-1}function kt(e){return e!=e}function Ft(e,t){var r=null==e?0:e.length;return r?Ht(e,t)/r:f}function qt(e){return function(t){return null==t?r:t[e]}}function Gt(e){return function(t){return null==e?r:e[t]}}function Vt(e,t,r,n,i){return i(e,(function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)})),r}function Ht(e,t){for(var n,i=-1,a=e.length;++i<a;){var o=t(e[i]);o!==r&&(n=n===r?o:n+o)}return n}function jt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Wt(e){return e?e.slice(0,ur(e)+1).replace(ie,""):e}function Xt(e){return function(t){return e(t)}}function Kt(e,t){return Lt(t,(function(t){return e[t]}))}function Yt(e,t){return e.has(t)}function Zt(e,t){for(var r=-1,n=e.length;++r<n&&zt(t,e[r],0)>-1;);return r}function Jt(e,t){for(var r=e.length;r--&&zt(t,e[r],0)>-1;);return r}function Qt(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var er=Gt({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),tr=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rr(e){return"\\"+at[e]}function nr(e){return Qe.test(e)}function ir(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function ar(e,t){return function(r){return e(t(r))}}function or(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r];s!==t&&s!==a||(e[r]=a,o[i++]=r)}return o}function sr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function cr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function lr(e){return nr(e)?function(e){var t=Ze.lastIndex=0;for(;Ze.test(e);)++t;return t}(e):It(e)}function dr(e){return nr(e)?function(e){return e.match(Ze)||[]}(e):function(e){return e.split("")}(e)}function ur(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var hr=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var fr=function e(t){var ae,we=(t=null==t?dt:fr.defaults(dt.Object(),t,fr.pick(dt,tt))).Array,_e=t.Date,Se=t.Error,Te=t.Function,Me=t.Math,Ee=t.Object,Ae=t.RegExp,Ce=t.String,Le=t.TypeError,Re=we.prototype,Pe=Te.prototype,De=Ee.prototype,Oe=t["__core-js_shared__"],Ie=Pe.toString,Ne=De.hasOwnProperty,Be=0,ze=(ae=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||""))?"Symbol(src)_1."+ae:"",Ue=De.toString,ke=Ie.call(Ee),Fe=dt._,qe=Ae("^"+Ie.call(Ne).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ge=ft?t.Buffer:r,Ve=t.Symbol,He=t.Uint8Array,je=Ge?Ge.allocUnsafe:r,We=ar(Ee.getPrototypeOf,Ee),Xe=Ee.create,Ze=De.propertyIsEnumerable,Qe=Re.splice,at=Ve?Ve.isConcatSpreadable:r,ct=Ve?Ve.iterator:r,lt=Ve?Ve.toStringTag:r,ut=function(){try{var e=fa(Ee,"defineProperty");return e({},"",{}),e}catch(e){}}(),ht=t.clearTimeout!==dt.clearTimeout&&t.clearTimeout,pt=_e&&_e.now!==dt.Date.now&&_e.now,mt=t.setTimeout!==dt.setTimeout&&t.setTimeout,It=Me.ceil,Gt=Me.floor,pr=Ee.getOwnPropertySymbols,mr=Ge?Ge.isBuffer:r,vr=t.isFinite,$r=Re.join,gr=ar(Ee.keys,Ee),br=Me.max,xr=Me.min,yr=_e.now,wr=t.parseInt,_r=Me.random,Sr=Re.reverse,Tr=fa(t,"DataView"),Mr=fa(t,"Map"),Er=fa(t,"Promise"),Ar=fa(t,"Set"),Cr=fa(t,"WeakMap"),Lr=fa(Ee,"create"),Rr=Cr&&new Cr,Pr={},Dr=Ga(Tr),Or=Ga(Mr),Ir=Ga(Er),Nr=Ga(Ar),Br=Ga(Cr),zr=Ve?Ve.prototype:r,Ur=zr?zr.valueOf:r,kr=zr?zr.toString:r;function Fr(e){if(ss(e)&&!Yo(e)&&!(e instanceof Hr)){if(e instanceof Vr)return e;if(Ne.call(e,"__wrapped__"))return Va(e)}return new Vr(e)}var qr=function(){function e(){}return function(t){if(!os(t))return{};if(Xe)return Xe(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function Gr(){}function Vr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function Hr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function jr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Xr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Kr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Xr;++t<r;)this.add(e[t])}function Yr(e){var t=this.__data__=new Wr(e);this.size=t.size}function Zr(e,t){var r=Yo(e),n=!r&&Ko(e),i=!r&&!n&&es(e),a=!r&&!n&&!i&&ms(e),o=r||n||i||a,s=o?jt(e.length,Ce):[],c=s.length;for(var l in e)!t&&!Ne.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||xa(l,c))||s.push(l);return s}function Jr(e){var t=e.length;return t?e[Yn(0,t-1)]:r}function Qr(e,t){return Ba(Ri(e),ln(t,0,e.length))}function en(e){return Ba(Ri(e))}function tn(e,t,n){(n!==r&&!jo(e[t],n)||n===r&&!(t in e))&&sn(e,t,n)}function rn(e,t,n){var i=e[t];Ne.call(e,t)&&jo(i,n)&&(n!==r||t in e)||sn(e,t,n)}function nn(e,t){for(var r=e.length;r--;)if(jo(e[r][0],t))return r;return-1}function an(e,t,r,n){return pn(e,(function(e,i,a){t(n,e,r(e),a)})),n}function on(e,t){return e&&Pi(t,Bs(t),e)}function sn(e,t,r){"__proto__"==t&&ut?ut(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function cn(e,t){for(var n=-1,i=t.length,a=we(i),o=null==e;++n<i;)a[n]=o?r:Ps(e,t[n]);return a}function ln(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function dn(e,t,n,i,a,o){var s,c=1&t,l=2&t,d=4&t;if(n&&(s=a?n(e,i,a,o):n(e)),s!==r)return s;if(!os(e))return e;var u=Yo(e);if(u){if(s=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&Ne.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!c)return Ri(e,s)}else{var h=va(e),f=h==y||h==w;if(es(e))return Ti(e,c);if(h==T||h==v||f&&!a){if(s=l||f?{}:ga(e),!c)return l?function(e,t){return Pi(e,ma(e),t)}(e,function(e,t){return e&&Pi(t,zs(t),e)}(s,e)):function(e,t){return Pi(e,pa(e),t)}(e,on(s,e))}else{if(!it[h])return a?e:{};s=function(e,t,r){var n=e.constructor;switch(t){case P:return Mi(e);case g:case b:return new n(+e);case D:return function(e,t){var r=t?Mi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case O:case I:case N:case B:case z:case U:case k:case F:case q:return Ei(e,r);case _:return new n;case S:case C:return new n(e);case E:return function(e){var t=new e.constructor(e.source,fe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case A:return new n;case L:return i=e,Ur?Ee(Ur.call(i)):{}}var i}(e,h,c)}}o||(o=new Yr);var p=o.get(e);if(p)return p;o.set(e,s),hs(e)?e.forEach((function(r){s.add(dn(r,t,n,r,e,o))})):cs(e)&&e.forEach((function(r,i){s.set(i,dn(r,t,n,i,e,o))}));var m=u?r:(d?l?oa:aa:l?zs:Bs)(e);return St(m||e,(function(r,i){m&&(r=e[i=r]),rn(s,i,dn(r,t,n,i,e,o))})),s}function un(e,t,n){var i=n.length;if(null==e)return!i;for(e=Ee(e);i--;){var a=n[i],o=t[a],s=e[a];if(s===r&&!(a in e)||!o(s))return!1}return!0}function hn(e,t,i){if("function"!=typeof e)throw new Le(n);return Da((function(){e.apply(r,i)}),t)}function fn(e,t,r,n){var i=-1,a=At,o=!0,s=e.length,c=[],l=t.length;if(!s)return c;r&&(t=Lt(t,Xt(r))),n?(a=Ct,o=!1):t.length>=200&&(a=Yt,o=!1,t=new Kr(t));e:for(;++i<s;){var d=e[i],u=null==r?d:r(d);if(d=n||0!==d?d:0,o&&u==u){for(var h=l;h--;)if(t[h]===u)continue e;c.push(d)}else a(t,u,n)||c.push(d)}return c}Fr.templateSettings={escape:Y,evaluate:Z,interpolate:J,variable:"",imports:{_:Fr}},Fr.prototype=Gr.prototype,Fr.prototype.constructor=Fr,Vr.prototype=qr(Gr.prototype),Vr.prototype.constructor=Vr,Hr.prototype=qr(Gr.prototype),Hr.prototype.constructor=Hr,jr.prototype.clear=function(){this.__data__=Lr?Lr(null):{},this.size=0},jr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},jr.prototype.get=function(e){var t=this.__data__;if(Lr){var n=t[e];return n===i?r:n}return Ne.call(t,e)?t[e]:r},jr.prototype.has=function(e){var t=this.__data__;return Lr?t[e]!==r:Ne.call(t,e)},jr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Lr&&t===r?i:t,this},Wr.prototype.clear=function(){this.__data__=[],this.size=0},Wr.prototype.delete=function(e){var t=this.__data__,r=nn(t,e);return!(r<0)&&(r==t.length-1?t.pop():Qe.call(t,r,1),--this.size,!0)},Wr.prototype.get=function(e){var t=this.__data__,n=nn(t,e);return n<0?r:t[n][1]},Wr.prototype.has=function(e){return nn(this.__data__,e)>-1},Wr.prototype.set=function(e,t){var r=this.__data__,n=nn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Xr.prototype.clear=function(){this.size=0,this.__data__={hash:new jr,map:new(Mr||Wr),string:new jr}},Xr.prototype.delete=function(e){var t=ua(this,e).delete(e);return this.size-=t?1:0,t},Xr.prototype.get=function(e){return ua(this,e).get(e)},Xr.prototype.has=function(e){return ua(this,e).has(e)},Xr.prototype.set=function(e,t){var r=ua(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Kr.prototype.add=Kr.prototype.push=function(e){return this.__data__.set(e,i),this},Kr.prototype.has=function(e){return this.__data__.has(e)},Yr.prototype.clear=function(){this.__data__=new Wr,this.size=0},Yr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Yr.prototype.get=function(e){return this.__data__.get(e)},Yr.prototype.has=function(e){return this.__data__.has(e)},Yr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Wr){var n=r.__data__;if(!Mr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Xr(n)}return r.set(e,t),this.size=r.size,this};var pn=Ii(wn),mn=Ii(_n,!0);function vn(e,t){var r=!0;return pn(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function $n(e,t,n){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(c===r?s==s&&!ps(s):n(s,c)))var c=s,l=o}return l}function gn(e,t){var r=[];return pn(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function bn(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=ba),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?bn(s,t-1,r,n,i):Rt(i,s):n||(i[i.length]=s)}return i}var xn=Ni(),yn=Ni(!0);function wn(e,t){return e&&xn(e,t,Bs)}function _n(e,t){return e&&yn(e,t,Bs)}function Sn(e,t){return Et(t,(function(t){return ns(e[t])}))}function Tn(e,t){for(var n=0,i=(t=yi(t,e)).length;null!=e&&n<i;)e=e[qa(t[n++])];return n&&n==i?e:r}function Mn(e,t,r){var n=t(e);return Yo(e)?n:Rt(n,r(e))}function En(e){return null==e?e===r?"[object Undefined]":"[object Null]":lt&&lt in Ee(e)?function(e){var t=Ne.call(e,lt),n=e[lt];try{e[lt]=r;var i=!0}catch(e){}var a=Ue.call(e);i&&(t?e[lt]=n:delete e[lt]);return a}(e):function(e){return Ue.call(e)}(e)}function An(e,t){return e>t}function Cn(e,t){return null!=e&&Ne.call(e,t)}function Ln(e,t){return null!=e&&t in Ee(e)}function Rn(e,t,n){for(var i=n?Ct:At,a=e[0].length,o=e.length,s=o,c=we(o),l=1/0,d=[];s--;){var u=e[s];s&&t&&(u=Lt(u,Xt(t))),l=xr(u.length,l),c[s]=!n&&(t||a>=120&&u.length>=120)?new Kr(s&&u):r}u=e[0];var h=-1,f=c[0];e:for(;++h<a&&d.length<l;){var p=u[h],m=t?t(p):p;if(p=n||0!==p?p:0,!(f?Yt(f,m):i(d,m,n))){for(s=o;--s;){var v=c[s];if(!(v?Yt(v,m):i(e[s],m,n)))continue e}f&&f.push(m),d.push(p)}}return d}function Pn(e,t,n){var i=null==(e=Ca(e,t=yi(t,e)))?e:e[qa(to(t))];return null==i?r:wt(i,e,n)}function Dn(e){return ss(e)&&En(e)==v}function On(e,t,n,i,a){return e===t||(null==e||null==t||!ss(e)&&!ss(t)?e!=e&&t!=t:function(e,t,n,i,a,o){var s=Yo(e),c=Yo(t),l=s?$:va(e),d=c?$:va(t),u=(l=l==v?T:l)==T,h=(d=d==v?T:d)==T,f=l==d;if(f&&es(e)){if(!es(t))return!1;s=!0,u=!1}if(f&&!u)return o||(o=new Yr),s||ms(e)?na(e,t,n,i,a,o):function(e,t,r,n,i,a,o){switch(r){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!a(new He(e),new He(t)));case g:case b:case S:return jo(+e,+t);case x:return e.name==t.name&&e.message==t.message;case E:case C:return e==t+"";case _:var s=ir;case A:var c=1&n;if(s||(s=sr),e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;n|=2,o.set(e,t);var d=na(s(e),s(t),n,i,a,o);return o.delete(e),d;case L:if(Ur)return Ur.call(e)==Ur.call(t)}return!1}(e,t,l,n,i,a,o);if(!(1&n)){var p=u&&Ne.call(e,"__wrapped__"),m=h&&Ne.call(t,"__wrapped__");if(p||m){var y=p?e.value():e,w=m?t.value():t;return o||(o=new Yr),a(y,w,n,i,o)}}return!!f&&(o||(o=new Yr),function(e,t,n,i,a,o){var s=1&n,c=aa(e),l=c.length,d=aa(t).length;if(l!=d&&!s)return!1;var u=l;for(;u--;){var h=c[u];if(!(s?h in t:Ne.call(t,h)))return!1}var f=o.get(e),p=o.get(t);if(f&&p)return f==t&&p==e;var m=!0;o.set(e,t),o.set(t,e);var v=s;for(;++u<l;){var $=e[h=c[u]],g=t[h];if(i)var b=s?i(g,$,h,t,e,o):i($,g,h,e,t,o);if(!(b===r?$===g||a($,g,n,i,o):b)){m=!1;break}v||(v="constructor"==h)}if(m&&!v){var x=e.constructor,y=t.constructor;x==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof y&&y instanceof y||(m=!1)}return o.delete(e),o.delete(t),m}(e,t,n,i,a,o))}(e,t,n,i,On,a))}function In(e,t,n,i){var a=n.length,o=a,s=!i;if(null==e)return!o;for(e=Ee(e);a--;){var c=n[a];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<o;){var l=(c=n[a])[0],d=e[l],u=c[1];if(s&&c[2]){if(d===r&&!(l in e))return!1}else{var h=new Yr;if(i)var f=i(d,u,l,e,t,h);if(!(f===r?On(u,d,3,i,h):f))return!1}}return!0}function Nn(e){return!(!os(e)||(t=e,ze&&ze in t))&&(ns(e)?qe:ve).test(Ga(e));var t}function Bn(e){return"function"==typeof e?e:null==e?lc:"object"==typeof e?Yo(e)?Gn(e[0],e[1]):qn(e):gc(e)}function zn(e){if(!Ta(e))return gr(e);var t=[];for(var r in Ee(e))Ne.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Un(e){if(!os(e))return function(e){var t=[];if(null!=e)for(var r in Ee(e))t.push(r);return t}(e);var t=Ta(e),r=[];for(var n in e)("constructor"!=n||!t&&Ne.call(e,n))&&r.push(n);return r}function kn(e,t){return e<t}function Fn(e,t){var r=-1,n=Jo(e)?we(e.length):[];return pn(e,(function(e,i,a){n[++r]=t(e,i,a)})),n}function qn(e){var t=ha(e);return 1==t.length&&t[0][2]?Ea(t[0][0],t[0][1]):function(r){return r===e||In(r,e,t)}}function Gn(e,t){return wa(e)&&Ma(t)?Ea(qa(e),t):function(n){var i=Ps(n,e);return i===r&&i===t?Ds(n,e):On(t,i,3)}}function Vn(e,t,n,i,a){e!==t&&xn(t,(function(o,s){if(a||(a=new Yr),os(o))!function(e,t,n,i,a,o,s){var c=Ra(e,n),l=Ra(t,n),d=s.get(l);if(d)return void tn(e,n,d);var u=o?o(c,l,n+"",e,t,s):r,h=u===r;if(h){var f=Yo(l),p=!f&&es(l),m=!f&&!p&&ms(l);u=l,f||p||m?Yo(c)?u=c:Qo(c)?u=Ri(c):p?(h=!1,u=Ti(l,!0)):m?(h=!1,u=Ei(l,!0)):u=[]:ds(l)||Ko(l)?(u=c,Ko(c)?u=_s(c):os(c)&&!ns(c)||(u=ga(l))):h=!1}h&&(s.set(l,u),a(u,l,i,o,s),s.delete(l));tn(e,n,u)}(e,t,s,n,Vn,i,a);else{var c=i?i(Ra(e,s),o,s+"",e,t,a):r;c===r&&(c=o),tn(e,s,c)}}),zs)}function Hn(e,t){var n=e.length;if(n)return xa(t+=t<0?n:0,n)?e[t]:r}function jn(e,t,r){t=t.length?Lt(t,(function(e){return Yo(e)?function(t){return Tn(t,1===e.length?e[0]:e)}:e})):[lc];var n=-1;return t=Lt(t,Xt(da())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(Fn(e,(function(e,r,i){return{criteria:Lt(t,(function(t){return t(e)})),index:++n,value:e}})),(function(e,t){return function(e,t,r){var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;for(;++n<o;){var c=Ai(i[n],a[n]);if(c)return n>=s?c:c*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function Wn(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],s=Tn(e,o);r(s,o)&&ti(a,yi(o,e),s)}return a}function Xn(e,t,r,n){var i=n?Ut:zt,a=-1,o=t.length,s=e;for(e===t&&(t=Ri(t)),r&&(s=Lt(e,Xt(r)));++a<o;)for(var c=0,l=t[a],d=r?r(l):l;(c=i(s,d,c,n))>-1;)s!==e&&Qe.call(s,c,1),Qe.call(e,c,1);return e}function Kn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==a){var a=i;xa(i)?Qe.call(e,i,1):fi(e,i)}}return e}function Yn(e,t){return e+Gt(_r()*(t-e+1))}function Zn(e,t){var r="";if(!e||t<1||t>h)return r;do{t%2&&(r+=e),(t=Gt(t/2))&&(e+=e)}while(t);return r}function Jn(e,t){return Oa(Aa(e,t,lc),e+"")}function Qn(e){return Jr(js(e))}function ei(e,t){var r=js(e);return Ba(r,ln(t,0,r.length))}function ti(e,t,n,i){if(!os(e))return e;for(var a=-1,o=(t=yi(t,e)).length,s=o-1,c=e;null!=c&&++a<o;){var l=qa(t[a]),d=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(a!=s){var u=c[l];(d=i?i(u,l,c):r)===r&&(d=os(u)?u:xa(t[a+1])?[]:{})}rn(c,l,d),c=c[l]}return e}var ri=Rr?function(e,t){return Rr.set(e,t),e}:lc,ni=ut?function(e,t){return ut(e,"toString",{configurable:!0,enumerable:!1,value:oc(t),writable:!0})}:lc;function ii(e){return Ba(js(e))}function ai(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=we(i);++n<i;)a[n]=e[n+t];return a}function oi(e,t){var r;return pn(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function si(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var a=n+i>>>1,o=e[a];null!==o&&!ps(o)&&(r?o<=t:o<t)?n=a+1:i=a}return i}return ci(e,t,lc,r)}function ci(e,t,n,i){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,c=null===t,l=ps(t),d=t===r;a<o;){var u=Gt((a+o)/2),h=n(e[u]),f=h!==r,p=null===h,m=h==h,v=ps(h);if(s)var $=i||m;else $=d?m&&(i||f):c?m&&f&&(i||!p):l?m&&f&&!p&&(i||!v):!p&&!v&&(i?h<=t:h<t);$?a=u+1:o=u}return xr(o,4294967294)}function li(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r],s=t?t(o):o;if(!r||!jo(s,c)){var c=s;a[i++]=0===o?0:o}}return a}function di(e){return"number"==typeof e?e:ps(e)?f:+e}function ui(e){if("string"==typeof e)return e;if(Yo(e))return Lt(e,ui)+"";if(ps(e))return kr?kr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function hi(e,t,r){var n=-1,i=At,a=e.length,o=!0,s=[],c=s;if(r)o=!1,i=Ct;else if(a>=200){var l=t?null:Zi(e);if(l)return sr(l);o=!1,i=Yt,c=new Kr}else c=t?[]:s;e:for(;++n<a;){var d=e[n],u=t?t(d):d;if(d=r||0!==d?d:0,o&&u==u){for(var h=c.length;h--;)if(c[h]===u)continue e;t&&c.push(u),s.push(d)}else i(c,u,r)||(c!==s&&c.push(u),s.push(d))}return s}function fi(e,t){return null==(e=Ca(e,t=yi(t,e)))||delete e[qa(to(t))]}function pi(e,t,r,n){return ti(e,t,r(Tn(e,t)),n)}function mi(e,t,r,n){for(var i=e.length,a=n?i:-1;(n?a--:++a<i)&&t(e[a],a,e););return r?ai(e,n?0:a,n?a+1:i):ai(e,n?a+1:0,n?i:a)}function vi(e,t){var r=e;return r instanceof Hr&&(r=r.value()),Pt(t,(function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))}),r)}function $i(e,t,r){var n=e.length;if(n<2)return n?hi(e[0]):[];for(var i=-1,a=we(n);++i<n;)for(var o=e[i],s=-1;++s<n;)s!=i&&(a[i]=fn(a[i]||o,e[s],t,r));return hi(bn(a,1),t,r)}function gi(e,t,n){for(var i=-1,a=e.length,o=t.length,s={};++i<a;){var c=i<o?t[i]:r;n(s,e[i],c)}return s}function bi(e){return Qo(e)?e:[]}function xi(e){return"function"==typeof e?e:lc}function yi(e,t){return Yo(e)?e:wa(e,t)?[e]:Fa(Ss(e))}var wi=Jn;function _i(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:ai(e,t,n)}var Si=ht||function(e){return dt.clearTimeout(e)};function Ti(e,t){if(t)return e.slice();var r=e.length,n=je?je(r):new e.constructor(r);return e.copy(n),n}function Mi(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function Ei(e,t){var r=t?Mi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Ai(e,t){if(e!==t){var n=e!==r,i=null===e,a=e==e,o=ps(e),s=t!==r,c=null===t,l=t==t,d=ps(t);if(!c&&!d&&!o&&e>t||o&&s&&l&&!c&&!d||i&&s&&l||!n&&l||!a)return 1;if(!i&&!o&&!d&&e<t||d&&n&&a&&!i&&!o||c&&n&&a||!s&&a||!l)return-1}return 0}function Ci(e,t,r,n){for(var i=-1,a=e.length,o=r.length,s=-1,c=t.length,l=br(a-o,0),d=we(c+l),u=!n;++s<c;)d[s]=t[s];for(;++i<o;)(u||i<a)&&(d[r[i]]=e[i]);for(;l--;)d[s++]=e[i++];return d}function Li(e,t,r,n){for(var i=-1,a=e.length,o=-1,s=r.length,c=-1,l=t.length,d=br(a-s,0),u=we(d+l),h=!n;++i<d;)u[i]=e[i];for(var f=i;++c<l;)u[f+c]=t[c];for(;++o<s;)(h||i<a)&&(u[f+r[o]]=e[i++]);return u}function Ri(e,t){var r=-1,n=e.length;for(t||(t=we(n));++r<n;)t[r]=e[r];return t}function Pi(e,t,n,i){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var c=t[o],l=i?i(n[c],e[c],c,n,e):r;l===r&&(l=e[c]),a?sn(n,c,l):rn(n,c,l)}return n}function Di(e,t){return function(r,n){var i=Yo(r)?_t:an,a=t?t():{};return i(r,e,da(n,2),a)}}function Oi(e){return Jn((function(t,n){var i=-1,a=n.length,o=a>1?n[a-1]:r,s=a>2?n[2]:r;for(o=e.length>3&&"function"==typeof o?(a--,o):r,s&&ya(n[0],n[1],s)&&(o=a<3?r:o,a=1),t=Ee(t);++i<a;){var c=n[i];c&&e(t,c,i,o)}return t}))}function Ii(e,t){return function(r,n){if(null==r)return r;if(!Jo(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Ee(r);(t?a--:++a<i)&&!1!==n(o[a],a,o););return r}}function Ni(e){return function(t,r,n){for(var i=-1,a=Ee(t),o=n(t),s=o.length;s--;){var c=o[e?s:++i];if(!1===r(a[c],c,a))break}return t}}function Bi(e){return function(t){var n=nr(t=Ss(t))?dr(t):r,i=n?n[0]:t.charAt(0),a=n?_i(n,1).join(""):t.slice(1);return i[e]()+a}}function zi(e){return function(t){return Pt(nc(Ks(t).replace(Ke,"")),e,"")}}function Ui(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=qr(e.prototype),n=e.apply(r,t);return os(n)?n:r}}function ki(e){return function(t,n,i){var a=Ee(t);if(!Jo(t)){var o=da(n,3);t=Bs(t),n=function(e){return o(a[e],e,a)}}var s=e(t,n,i);return s>-1?a[o?t[s]:s]:r}}function Fi(e){return ia((function(t){var i=t.length,a=i,o=Vr.prototype.thru;for(e&&t.reverse();a--;){var s=t[a];if("function"!=typeof s)throw new Le(n);if(o&&!c&&"wrapper"==ca(s))var c=new Vr([],!0)}for(a=c?a:i;++a<i;){var l=ca(s=t[a]),d="wrapper"==l?sa(s):r;c=d&&_a(d[0])&&424==d[1]&&!d[4].length&&1==d[9]?c[ca(d[0])].apply(c,d[3]):1==s.length&&_a(s)?c[l]():c.thru(s)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Yo(r))return c.plant(r).value();for(var n=0,a=i?t[n].apply(this,e):r;++n<i;)a=t[n].call(this,a);return a}}))}function qi(e,t,n,i,a,o,s,c,d,u){var h=t&l,f=1&t,p=2&t,m=24&t,v=512&t,$=p?r:Ui(e);return function r(){for(var l=arguments.length,g=we(l),b=l;b--;)g[b]=arguments[b];if(m)var x=la(r),y=Qt(g,x);if(i&&(g=Ci(g,i,a,m)),o&&(g=Li(g,o,s,m)),l-=y,m&&l<u){var w=or(g,x);return Ki(e,t,qi,r.placeholder,n,g,w,c,d,u-l)}var _=f?n:this,S=p?_[e]:e;return l=g.length,c?g=La(g,c):v&&l>1&&g.reverse(),h&&d<l&&(g.length=d),this&&this!==dt&&this instanceof r&&(S=$||Ui(S)),S.apply(_,g)}}function Gi(e,t){return function(r,n){return function(e,t,r,n){return wn(e,(function(e,i,a){t(n,r(e),i,a)})),n}(r,e,t(n),{})}}function Vi(e,t){return function(n,i){var a;if(n===r&&i===r)return t;if(n!==r&&(a=n),i!==r){if(a===r)return i;"string"==typeof n||"string"==typeof i?(n=ui(n),i=ui(i)):(n=di(n),i=di(i)),a=e(n,i)}return a}}function Hi(e){return ia((function(t){return t=Lt(t,Xt(da())),Jn((function(r){var n=this;return e(t,(function(e){return wt(e,n,r)}))}))}))}function ji(e,t){var n=(t=t===r?" ":ui(t)).length;if(n<2)return n?Zn(t,e):t;var i=Zn(t,It(e/lr(t)));return nr(t)?_i(dr(i),0,e).join(""):i.slice(0,e)}function Wi(e){return function(t,n,i){return i&&"number"!=typeof i&&ya(t,n,i)&&(n=i=r),t=bs(t),n===r?(n=t,t=0):n=bs(n),function(e,t,r,n){for(var i=-1,a=br(It((t-e)/(r||1)),0),o=we(a);a--;)o[n?a:++i]=e,e+=r;return o}(t,n,i=i===r?t<n?1:-1:bs(i),e)}}function Xi(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=ws(t),r=ws(r)),e(t,r)}}function Ki(e,t,n,i,a,o,l,d,u,h){var f=8&t;t|=f?s:c,4&(t&=~(f?c:s))||(t&=-4);var p=[e,t,a,f?o:r,f?l:r,f?r:o,f?r:l,d,u,h],m=n.apply(r,p);return _a(e)&&Pa(m,p),m.placeholder=i,Ia(m,e,t)}function Yi(e){var t=Me[e];return function(e,r){if(e=ws(e),(r=null==r?0:xr(xs(r),292))&&vr(e)){var n=(Ss(e)+"e").split("e");return+((n=(Ss(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Zi=Ar&&1/sr(new Ar([,-0]))[1]==u?function(e){return new Ar(e)}:pc;function Ji(e){return function(t){var r=va(t);return r==_?ir(t):r==A?cr(t):function(e,t){return Lt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qi(e,t,i,u,h,f,p,m){var v=2&t;if(!v&&"function"!=typeof e)throw new Le(n);var $=u?u.length:0;if($||(t&=-97,u=h=r),p=p===r?p:br(xs(p),0),m=m===r?m:xs(m),$-=h?h.length:0,t&c){var g=u,b=h;u=h=r}var x=v?r:sa(e),y=[e,t,i,u,h,g,b,f,p,m];if(x&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,s=n==l&&8==r||n==l&&r==d&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!s)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?Ci(u,c,t[4]):c,e[4]=u?or(e[3],a):t[4]}(c=t[5])&&(u=e[5],e[5]=u?Li(u,c,t[6]):c,e[6]=u?or(e[5],a):t[6]);(c=t[7])&&(e[7]=c);n&l&&(e[8]=null==e[8]?t[8]:xr(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(y,x),e=y[0],t=y[1],i=y[2],u=y[3],h=y[4],!(m=y[9]=y[9]===r?v?0:e.length:br(y[9]-$,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||t==o?function(e,t,n){var i=Ui(e);return function a(){for(var o=arguments.length,s=we(o),c=o,l=la(a);c--;)s[c]=arguments[c];var d=o<3&&s[0]!==l&&s[o-1]!==l?[]:or(s,l);return(o-=d.length)<n?Ki(e,t,qi,a.placeholder,r,s,d,r,r,n-o):wt(this&&this!==dt&&this instanceof a?i:e,this,s)}}(e,t,m):t!=s&&33!=t||h.length?qi.apply(r,y):function(e,t,r,n){var i=1&t,a=Ui(e);return function t(){for(var o=-1,s=arguments.length,c=-1,l=n.length,d=we(l+s),u=this&&this!==dt&&this instanceof t?a:e;++c<l;)d[c]=n[c];for(;s--;)d[c++]=arguments[++o];return wt(u,i?r:this,d)}}(e,t,i,u);else var w=function(e,t,r){var n=1&t,i=Ui(e);return function t(){return(this&&this!==dt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,i);return Ia((x?ri:Pa)(w,y),e,t)}function ea(e,t,n,i){return e===r||jo(e,De[n])&&!Ne.call(i,n)?t:e}function ta(e,t,n,i,a,o){return os(e)&&os(t)&&(o.set(t,e),Vn(e,t,r,ta,o),o.delete(t)),e}function ra(e){return ds(e)?r:e}function na(e,t,n,i,a,o){var s=1&n,c=e.length,l=t.length;if(c!=l&&!(s&&l>c))return!1;var d=o.get(e),u=o.get(t);if(d&&u)return d==t&&u==e;var h=-1,f=!0,p=2&n?new Kr:r;for(o.set(e,t),o.set(t,e);++h<c;){var m=e[h],v=t[h];if(i)var $=s?i(v,m,h,t,e,o):i(m,v,h,e,t,o);if($!==r){if($)continue;f=!1;break}if(p){if(!Ot(t,(function(e,t){if(!Yt(p,t)&&(m===e||a(m,e,n,i,o)))return p.push(t)}))){f=!1;break}}else if(m!==v&&!a(m,v,n,i,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function ia(e){return Oa(Aa(e,r,Ya),e+"")}function aa(e){return Mn(e,Bs,pa)}function oa(e){return Mn(e,zs,ma)}var sa=Rr?function(e){return Rr.get(e)}:pc;function ca(e){for(var t=e.name+"",r=Pr[t],n=Ne.call(Pr,t)?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t}function la(e){return(Ne.call(Fr,"placeholder")?Fr:e).placeholder}function da(){var e=Fr.iteratee||dc;return e=e===dc?Bn:e,arguments.length?e(arguments[0],arguments[1]):e}function ua(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function ha(e){for(var t=Bs(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Ma(i)]}return t}function fa(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return Nn(n)?n:r}var pa=pr?function(e){return null==e?[]:(e=Ee(e),Et(pr(e),(function(t){return Ze.call(e,t)})))}:yc,ma=pr?function(e){for(var t=[];e;)Rt(t,pa(e)),e=We(e);return t}:yc,va=En;function $a(e,t,r){for(var n=-1,i=(t=yi(t,e)).length,a=!1;++n<i;){var o=qa(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&as(i)&&xa(o,i)&&(Yo(e)||Ko(e))}function ga(e){return"function"!=typeof e.constructor||Ta(e)?{}:qr(We(e))}function ba(e){return Yo(e)||Ko(e)||!!(at&&e&&e[at])}function xa(e,t){var r=typeof e;return!!(t=null==t?h:t)&&("number"==r||"symbol"!=r&&ge.test(e))&&e>-1&&e%1==0&&e<t}function ya(e,t,r){if(!os(r))return!1;var n=typeof t;return!!("number"==n?Jo(r)&&xa(t,r.length):"string"==n&&t in r)&&jo(r[t],e)}function wa(e,t){if(Yo(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ps(e))||(ee.test(e)||!Q.test(e)||null!=t&&e in Ee(t))}function _a(e){var t=ca(e),r=Fr[t];if("function"!=typeof r||!(t in Hr.prototype))return!1;if(e===r)return!0;var n=sa(r);return!!n&&e===n[0]}(Tr&&va(new Tr(new ArrayBuffer(1)))!=D||Mr&&va(new Mr)!=_||Er&&va(Er.resolve())!=M||Ar&&va(new Ar)!=A||Cr&&va(new Cr)!=R)&&(va=function(e){var t=En(e),n=t==T?e.constructor:r,i=n?Ga(n):"";if(i)switch(i){case Dr:return D;case Or:return _;case Ir:return M;case Nr:return A;case Br:return R}return t});var Sa=Oe?ns:wc;function Ta(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||De)}function Ma(e){return e==e&&!os(e)}function Ea(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==r||e in Ee(n)))}}function Aa(e,t,n){return t=br(t===r?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=br(r.length-t,0),o=we(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=we(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),wt(e,this,s)}}function Ca(e,t){return t.length<2?e:Tn(e,ai(t,0,-1))}function La(e,t){for(var n=e.length,i=xr(t.length,n),a=Ri(e);i--;){var o=t[i];e[i]=xa(o,n)?a[o]:r}return e}function Ra(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Pa=Na(ri),Da=mt||function(e,t){return dt.setTimeout(e,t)},Oa=Na(ni);function Ia(e,t,r){var n=t+"";return Oa(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return St(m,(function(r){var n="_."+r[0];t&r[1]&&!At(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ce):[]}(n),r)))}function Na(e){var t=0,n=0;return function(){var i=yr(),a=16-(i-n);if(n=i,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function Ba(e,t){var n=-1,i=e.length,a=i-1;for(t=t===r?i:t;++n<t;){var o=Yn(n,a),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var za,Ua,ka,Fa=(za=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(te,(function(e,r,n,i){t.push(n?i.replace(ue,"$1"):r||e)})),t},Ua=ko(za,(function(e){return 500===ka.size&&ka.clear(),e})),ka=Ua.cache,Ua);function qa(e){if("string"==typeof e||ps(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ga(e){if(null!=e){try{return Ie.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Va(e){if(e instanceof Hr)return e.clone();var t=new Vr(e.__wrapped__,e.__chain__);return t.__actions__=Ri(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ha=Jn((function(e,t){return Qo(e)?fn(e,bn(t,1,Qo,!0)):[]})),ja=Jn((function(e,t){var n=to(t);return Qo(n)&&(n=r),Qo(e)?fn(e,bn(t,1,Qo,!0),da(n,2)):[]})),Wa=Jn((function(e,t){var n=to(t);return Qo(n)&&(n=r),Qo(e)?fn(e,bn(t,1,Qo,!0),r,n):[]}));function Xa(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:xs(r);return i<0&&(i=br(n+i,0)),Bt(e,da(t,3),i)}function Ka(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i-1;return n!==r&&(a=xs(n),a=n<0?br(i+a,0):xr(a,i-1)),Bt(e,da(t,3),a,!0)}function Ya(e){return(null==e?0:e.length)?bn(e,1):[]}function Za(e){return e&&e.length?e[0]:r}var Ja=Jn((function(e){var t=Lt(e,bi);return t.length&&t[0]===e[0]?Rn(t):[]})),Qa=Jn((function(e){var t=to(e),n=Lt(e,bi);return t===to(n)?t=r:n.pop(),n.length&&n[0]===e[0]?Rn(n,da(t,2)):[]})),eo=Jn((function(e){var t=to(e),n=Lt(e,bi);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?Rn(n,r,t):[]}));function to(e){var t=null==e?0:e.length;return t?e[t-1]:r}var ro=Jn(no);function no(e,t){return e&&e.length&&t&&t.length?Xn(e,t):e}var io=ia((function(e,t){var r=null==e?0:e.length,n=cn(e,t);return Kn(e,Lt(t,(function(e){return xa(e,r)?+e:e})).sort(Ai)),n}));function ao(e){return null==e?e:Sr.call(e)}var oo=Jn((function(e){return hi(bn(e,1,Qo,!0))})),so=Jn((function(e){var t=to(e);return Qo(t)&&(t=r),hi(bn(e,1,Qo,!0),da(t,2))})),co=Jn((function(e){var t=to(e);return t="function"==typeof t?t:r,hi(bn(e,1,Qo,!0),r,t)}));function lo(e){if(!e||!e.length)return[];var t=0;return e=Et(e,(function(e){if(Qo(e))return t=br(e.length,t),!0})),jt(t,(function(t){return Lt(e,qt(t))}))}function uo(e,t){if(!e||!e.length)return[];var n=lo(e);return null==t?n:Lt(n,(function(e){return wt(t,r,e)}))}var ho=Jn((function(e,t){return Qo(e)?fn(e,t):[]})),fo=Jn((function(e){return $i(Et(e,Qo))})),po=Jn((function(e){var t=to(e);return Qo(t)&&(t=r),$i(Et(e,Qo),da(t,2))})),mo=Jn((function(e){var t=to(e);return t="function"==typeof t?t:r,$i(Et(e,Qo),r,t)})),vo=Jn(lo);var $o=Jn((function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,uo(e,n)}));function go(e){var t=Fr(e);return t.__chain__=!0,t}function bo(e,t){return t(e)}var xo=ia((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,a=function(t){return cn(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Hr&&xa(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:bo,args:[a],thisArg:r}),new Vr(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(a)}));var yo=Di((function(e,t,r){Ne.call(e,r)?++e[r]:sn(e,r,1)}));var wo=ki(Xa),_o=ki(Ka);function So(e,t){return(Yo(e)?St:pn)(e,da(t,3))}function To(e,t){return(Yo(e)?Tt:mn)(e,da(t,3))}var Mo=Di((function(e,t,r){Ne.call(e,r)?e[r].push(t):sn(e,r,[t])}));var Eo=Jn((function(e,t,r){var n=-1,i="function"==typeof t,a=Jo(e)?we(e.length):[];return pn(e,(function(e){a[++n]=i?wt(t,e,r):Pn(e,t,r)})),a})),Ao=Di((function(e,t,r){sn(e,r,t)}));function Co(e,t){return(Yo(e)?Lt:Fn)(e,da(t,3))}var Lo=Di((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var Ro=Jn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&ya(e,t[0],t[1])?t=[]:r>2&&ya(t[0],t[1],t[2])&&(t=[t[0]]),jn(e,bn(t,1),[])})),Po=pt||function(){return dt.Date.now()};function Do(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Qi(e,l,r,r,r,r,t)}function Oo(e,t){var i;if("function"!=typeof t)throw new Le(n);return e=xs(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=r),i}}var Io=Jn((function(e,t,r){var n=1;if(r.length){var i=or(r,la(Io));n|=s}return Qi(e,n,t,r,i)})),No=Jn((function(e,t,r){var n=3;if(r.length){var i=or(r,la(No));n|=s}return Qi(t,n,e,r,i)}));function Bo(e,t,i){var a,o,s,c,l,d,u=0,h=!1,f=!1,p=!0;if("function"!=typeof e)throw new Le(n);function m(t){var n=a,i=o;return a=o=r,u=t,c=e.apply(i,n)}function v(e){return u=e,l=Da(g,t),h?m(e):c}function $(e){var n=e-d;return d===r||n>=t||n<0||f&&e-u>=s}function g(){var e=Po();if($(e))return b(e);l=Da(g,function(e){var r=t-(e-d);return f?xr(r,s-(e-u)):r}(e))}function b(e){return l=r,p&&a?m(e):(a=o=r,c)}function x(){var e=Po(),n=$(e);if(a=arguments,o=this,d=e,n){if(l===r)return v(d);if(f)return Si(l),l=Da(g,t),m(d)}return l===r&&(l=Da(g,t)),c}return t=ws(t)||0,os(i)&&(h=!!i.leading,s=(f="maxWait"in i)?br(ws(i.maxWait)||0,t):s,p="trailing"in i?!!i.trailing:p),x.cancel=function(){l!==r&&Si(l),u=0,a=d=o=l=r},x.flush=function(){return l===r?c:b(Po())},x}var zo=Jn((function(e,t){return hn(e,1,t)})),Uo=Jn((function(e,t,r){return hn(e,ws(t)||0,r)}));function ko(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Le(n);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(ko.Cache||Xr),r}function Fo(e){if("function"!=typeof e)throw new Le(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ko.Cache=Xr;var qo=wi((function(e,t){var r=(t=1==t.length&&Yo(t[0])?Lt(t[0],Xt(da())):Lt(bn(t,1),Xt(da()))).length;return Jn((function(n){for(var i=-1,a=xr(n.length,r);++i<a;)n[i]=t[i].call(this,n[i]);return wt(e,this,n)}))})),Go=Jn((function(e,t){var n=or(t,la(Go));return Qi(e,s,r,t,n)})),Vo=Jn((function(e,t){var n=or(t,la(Vo));return Qi(e,c,r,t,n)})),Ho=ia((function(e,t){return Qi(e,d,r,r,r,t)}));function jo(e,t){return e===t||e!=e&&t!=t}var Wo=Xi(An),Xo=Xi((function(e,t){return e>=t})),Ko=Dn(function(){return arguments}())?Dn:function(e){return ss(e)&&Ne.call(e,"callee")&&!Ze.call(e,"callee")},Yo=we.isArray,Zo=vt?Xt(vt):function(e){return ss(e)&&En(e)==P};function Jo(e){return null!=e&&as(e.length)&&!ns(e)}function Qo(e){return ss(e)&&Jo(e)}var es=mr||wc,ts=$t?Xt($t):function(e){return ss(e)&&En(e)==b};function rs(e){if(!ss(e))return!1;var t=En(e);return t==x||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ds(e)}function ns(e){if(!os(e))return!1;var t=En(e);return t==y||t==w||"[object AsyncFunction]"==t||"[object Proxy]"==t}function is(e){return"number"==typeof e&&e==xs(e)}function as(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function os(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ss(e){return null!=e&&"object"==typeof e}var cs=gt?Xt(gt):function(e){return ss(e)&&va(e)==_};function ls(e){return"number"==typeof e||ss(e)&&En(e)==S}function ds(e){if(!ss(e)||En(e)!=T)return!1;var t=We(e);if(null===t)return!0;var r=Ne.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Ie.call(r)==ke}var us=bt?Xt(bt):function(e){return ss(e)&&En(e)==E};var hs=xt?Xt(xt):function(e){return ss(e)&&va(e)==A};function fs(e){return"string"==typeof e||!Yo(e)&&ss(e)&&En(e)==C}function ps(e){return"symbol"==typeof e||ss(e)&&En(e)==L}var ms=yt?Xt(yt):function(e){return ss(e)&&as(e.length)&&!!nt[En(e)]};var vs=Xi(kn),$s=Xi((function(e,t){return e<=t}));function gs(e){if(!e)return[];if(Jo(e))return fs(e)?dr(e):Ri(e);if(ct&&e[ct])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[ct]());var t=va(e);return(t==_?ir:t==A?sr:js)(e)}function bs(e){return e?(e=ws(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function xs(e){var t=bs(e),r=t%1;return t==t?r?t-r:t:0}function ys(e){return e?ln(xs(e),0,p):0}function ws(e){if("number"==typeof e)return e;if(ps(e))return f;if(os(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=os(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Wt(e);var r=me.test(e);return r||$e.test(e)?st(e.slice(2),r?2:8):pe.test(e)?f:+e}function _s(e){return Pi(e,zs(e))}function Ss(e){return null==e?"":ui(e)}var Ts=Oi((function(e,t){if(Ta(t)||Jo(t))Pi(t,Bs(t),e);else for(var r in t)Ne.call(t,r)&&rn(e,r,t[r])})),Ms=Oi((function(e,t){Pi(t,zs(t),e)})),Es=Oi((function(e,t,r,n){Pi(t,zs(t),e,n)})),As=Oi((function(e,t,r,n){Pi(t,Bs(t),e,n)})),Cs=ia(cn);var Ls=Jn((function(e,t){e=Ee(e);var n=-1,i=t.length,a=i>2?t[2]:r;for(a&&ya(t[0],t[1],a)&&(i=1);++n<i;)for(var o=t[n],s=zs(o),c=-1,l=s.length;++c<l;){var d=s[c],u=e[d];(u===r||jo(u,De[d])&&!Ne.call(e,d))&&(e[d]=o[d])}return e})),Rs=Jn((function(e){return e.push(r,ta),wt(ks,r,e)}));function Ps(e,t,n){var i=null==e?r:Tn(e,t);return i===r?n:i}function Ds(e,t){return null!=e&&$a(e,t,Ln)}var Os=Gi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),e[t]=r}),oc(lc)),Is=Gi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),Ne.call(e,t)?e[t].push(r):e[t]=[r]}),da),Ns=Jn(Pn);function Bs(e){return Jo(e)?Zr(e):zn(e)}function zs(e){return Jo(e)?Zr(e,!0):Un(e)}var Us=Oi((function(e,t,r){Vn(e,t,r)})),ks=Oi((function(e,t,r,n){Vn(e,t,r,n)})),Fs=ia((function(e,t){var r={};if(null==e)return r;var n=!1;t=Lt(t,(function(t){return t=yi(t,e),n||(n=t.length>1),t})),Pi(e,oa(e),r),n&&(r=dn(r,7,ra));for(var i=t.length;i--;)fi(r,t[i]);return r}));var qs=ia((function(e,t){return null==e?{}:function(e,t){return Wn(e,t,(function(t,r){return Ds(e,r)}))}(e,t)}));function Gs(e,t){if(null==e)return{};var r=Lt(oa(e),(function(e){return[e]}));return t=da(t),Wn(e,r,(function(e,r){return t(e,r[0])}))}var Vs=Ji(Bs),Hs=Ji(zs);function js(e){return null==e?[]:Kt(e,Bs(e))}var Ws=zi((function(e,t,r){return t=t.toLowerCase(),e+(r?Xs(t):t)}));function Xs(e){return rc(Ss(e).toLowerCase())}function Ks(e){return(e=Ss(e))&&e.replace(be,er).replace(Ye,"")}var Ys=zi((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Zs=zi((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Js=Bi("toLowerCase");var Qs=zi((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var ec=zi((function(e,t,r){return e+(r?" ":"")+rc(t)}));var tc=zi((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),rc=Bi("toUpperCase");function nc(e,t,n){return e=Ss(e),(t=n?r:t)===r?function(e){return et.test(e)}(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.match(le)||[]}(e):e.match(t)||[]}var ic=Jn((function(e,t){try{return wt(e,r,t)}catch(e){return rs(e)?e:new Se(e)}})),ac=ia((function(e,t){return St(t,(function(t){t=qa(t),sn(e,t,Io(e[t],e))})),e}));function oc(e){return function(){return e}}var sc=Fi(),cc=Fi(!0);function lc(e){return e}function dc(e){return Bn("function"==typeof e?e:dn(e,1))}var uc=Jn((function(e,t){return function(r){return Pn(r,e,t)}})),hc=Jn((function(e,t){return function(r){return Pn(e,r,t)}}));function fc(e,t,r){var n=Bs(t),i=Sn(t,n);null!=r||os(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=Sn(t,Bs(t)));var a=!(os(r)&&"chain"in r&&!r.chain),o=ns(e);return St(i,(function(r){var n=t[r];e[r]=n,o&&(e.prototype[r]=function(){var t=this.__chain__;if(a||t){var r=e(this.__wrapped__),i=r.__actions__=Ri(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Rt([this.value()],arguments))})})),e}function pc(){}var mc=Hi(Lt),vc=Hi(Mt),$c=Hi(Ot);function gc(e){return wa(e)?qt(qa(e)):function(e){return function(t){return Tn(t,e)}}(e)}var bc=Wi(),xc=Wi(!0);function yc(){return[]}function wc(){return!1}var _c=Vi((function(e,t){return e+t}),0),Sc=Yi("ceil"),Tc=Vi((function(e,t){return e/t}),1),Mc=Yi("floor");var Ec,Ac=Vi((function(e,t){return e*t}),1),Cc=Yi("round"),Lc=Vi((function(e,t){return e-t}),0);return Fr.after=function(e,t){if("function"!=typeof t)throw new Le(n);return e=xs(e),function(){if(--e<1)return t.apply(this,arguments)}},Fr.ary=Do,Fr.assign=Ts,Fr.assignIn=Ms,Fr.assignInWith=Es,Fr.assignWith=As,Fr.at=Cs,Fr.before=Oo,Fr.bind=Io,Fr.bindAll=ac,Fr.bindKey=No,Fr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Yo(e)?e:[e]},Fr.chain=go,Fr.chunk=function(e,t,n){t=(n?ya(e,t,n):t===r)?1:br(xs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,o=0,s=we(It(i/t));a<i;)s[o++]=ai(e,a,a+=t);return s},Fr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i},Fr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=we(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return Rt(Yo(r)?Ri(r):[r],bn(t,1))},Fr.cond=function(e){var t=null==e?0:e.length,r=da();return e=t?Lt(e,(function(e){if("function"!=typeof e[1])throw new Le(n);return[r(e[0]),e[1]]})):[],Jn((function(r){for(var n=-1;++n<t;){var i=e[n];if(wt(i[0],this,r))return wt(i[1],this,r)}}))},Fr.conforms=function(e){return function(e){var t=Bs(e);return function(r){return un(r,e,t)}}(dn(e,1))},Fr.constant=oc,Fr.countBy=yo,Fr.create=function(e,t){var r=qr(e);return null==t?r:on(r,t)},Fr.curry=function e(t,n,i){var a=Qi(t,8,r,r,r,r,r,n=i?r:n);return a.placeholder=e.placeholder,a},Fr.curryRight=function e(t,n,i){var a=Qi(t,o,r,r,r,r,r,n=i?r:n);return a.placeholder=e.placeholder,a},Fr.debounce=Bo,Fr.defaults=Ls,Fr.defaultsDeep=Rs,Fr.defer=zo,Fr.delay=Uo,Fr.difference=Ha,Fr.differenceBy=ja,Fr.differenceWith=Wa,Fr.drop=function(e,t,n){var i=null==e?0:e.length;return i?ai(e,(t=n||t===r?1:xs(t))<0?0:t,i):[]},Fr.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?ai(e,0,(t=i-(t=n||t===r?1:xs(t)))<0?0:t):[]},Fr.dropRightWhile=function(e,t){return e&&e.length?mi(e,da(t,3),!0,!0):[]},Fr.dropWhile=function(e,t){return e&&e.length?mi(e,da(t,3),!0):[]},Fr.fill=function(e,t,n,i){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ya(e,t,n)&&(n=0,i=a),function(e,t,n,i){var a=e.length;for((n=xs(n))<0&&(n=-n>a?0:a+n),(i=i===r||i>a?a:xs(i))<0&&(i+=a),i=n>i?0:ys(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},Fr.filter=function(e,t){return(Yo(e)?Et:gn)(e,da(t,3))},Fr.flatMap=function(e,t){return bn(Co(e,t),1)},Fr.flatMapDeep=function(e,t){return bn(Co(e,t),u)},Fr.flatMapDepth=function(e,t,n){return n=n===r?1:xs(n),bn(Co(e,t),n)},Fr.flatten=Ya,Fr.flattenDeep=function(e){return(null==e?0:e.length)?bn(e,u):[]},Fr.flattenDepth=function(e,t){return(null==e?0:e.length)?bn(e,t=t===r?1:xs(t)):[]},Fr.flip=function(e){return Qi(e,512)},Fr.flow=sc,Fr.flowRight=cc,Fr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Fr.functions=function(e){return null==e?[]:Sn(e,Bs(e))},Fr.functionsIn=function(e){return null==e?[]:Sn(e,zs(e))},Fr.groupBy=Mo,Fr.initial=function(e){return(null==e?0:e.length)?ai(e,0,-1):[]},Fr.intersection=Ja,Fr.intersectionBy=Qa,Fr.intersectionWith=eo,Fr.invert=Os,Fr.invertBy=Is,Fr.invokeMap=Eo,Fr.iteratee=dc,Fr.keyBy=Ao,Fr.keys=Bs,Fr.keysIn=zs,Fr.map=Co,Fr.mapKeys=function(e,t){var r={};return t=da(t,3),wn(e,(function(e,n,i){sn(r,t(e,n,i),e)})),r},Fr.mapValues=function(e,t){var r={};return t=da(t,3),wn(e,(function(e,n,i){sn(r,n,t(e,n,i))})),r},Fr.matches=function(e){return qn(dn(e,1))},Fr.matchesProperty=function(e,t){return Gn(e,dn(t,1))},Fr.memoize=ko,Fr.merge=Us,Fr.mergeWith=ks,Fr.method=uc,Fr.methodOf=hc,Fr.mixin=fc,Fr.negate=Fo,Fr.nthArg=function(e){return e=xs(e),Jn((function(t){return Hn(t,e)}))},Fr.omit=Fs,Fr.omitBy=function(e,t){return Gs(e,Fo(da(t)))},Fr.once=function(e){return Oo(2,e)},Fr.orderBy=function(e,t,n,i){return null==e?[]:(Yo(t)||(t=null==t?[]:[t]),Yo(n=i?r:n)||(n=null==n?[]:[n]),jn(e,t,n))},Fr.over=mc,Fr.overArgs=qo,Fr.overEvery=vc,Fr.overSome=$c,Fr.partial=Go,Fr.partialRight=Vo,Fr.partition=Lo,Fr.pick=qs,Fr.pickBy=Gs,Fr.property=gc,Fr.propertyOf=function(e){return function(t){return null==e?r:Tn(e,t)}},Fr.pull=ro,Fr.pullAll=no,Fr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Xn(e,t,da(r,2)):e},Fr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Xn(e,t,r,n):e},Fr.pullAt=io,Fr.range=bc,Fr.rangeRight=xc,Fr.rearg=Ho,Fr.reject=function(e,t){return(Yo(e)?Et:gn)(e,Fo(da(t,3)))},Fr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],a=e.length;for(t=da(t,3);++n<a;){var o=e[n];t(o,n,e)&&(r.push(o),i.push(n))}return Kn(e,i),r},Fr.rest=function(e,t){if("function"!=typeof e)throw new Le(n);return Jn(e,t=t===r?t:xs(t))},Fr.reverse=ao,Fr.sampleSize=function(e,t,n){return t=(n?ya(e,t,n):t===r)?1:xs(t),(Yo(e)?Qr:ei)(e,t)},Fr.set=function(e,t,r){return null==e?e:ti(e,t,r)},Fr.setWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:ti(e,t,n,i)},Fr.shuffle=function(e){return(Yo(e)?en:ii)(e)},Fr.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&ya(e,t,n)?(t=0,n=i):(t=null==t?0:xs(t),n=n===r?i:xs(n)),ai(e,t,n)):[]},Fr.sortBy=Ro,Fr.sortedUniq=function(e){return e&&e.length?li(e):[]},Fr.sortedUniqBy=function(e,t){return e&&e.length?li(e,da(t,2)):[]},Fr.split=function(e,t,n){return n&&"number"!=typeof n&&ya(e,t,n)&&(t=n=r),(n=n===r?p:n>>>0)?(e=Ss(e))&&("string"==typeof t||null!=t&&!us(t))&&!(t=ui(t))&&nr(e)?_i(dr(e),0,n):e.split(t,n):[]},Fr.spread=function(e,t){if("function"!=typeof e)throw new Le(n);return t=null==t?0:br(xs(t),0),Jn((function(r){var n=r[t],i=_i(r,0,t);return n&&Rt(i,n),wt(e,this,i)}))},Fr.tail=function(e){var t=null==e?0:e.length;return t?ai(e,1,t):[]},Fr.take=function(e,t,n){return e&&e.length?ai(e,0,(t=n||t===r?1:xs(t))<0?0:t):[]},Fr.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?ai(e,(t=i-(t=n||t===r?1:xs(t)))<0?0:t,i):[]},Fr.takeRightWhile=function(e,t){return e&&e.length?mi(e,da(t,3),!1,!0):[]},Fr.takeWhile=function(e,t){return e&&e.length?mi(e,da(t,3)):[]},Fr.tap=function(e,t){return t(e),e},Fr.throttle=function(e,t,r){var i=!0,a=!0;if("function"!=typeof e)throw new Le(n);return os(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),Bo(e,t,{leading:i,maxWait:t,trailing:a})},Fr.thru=bo,Fr.toArray=gs,Fr.toPairs=Vs,Fr.toPairsIn=Hs,Fr.toPath=function(e){return Yo(e)?Lt(e,qa):ps(e)?[e]:Ri(Fa(Ss(e)))},Fr.toPlainObject=_s,Fr.transform=function(e,t,r){var n=Yo(e),i=n||es(e)||ms(e);if(t=da(t,4),null==r){var a=e&&e.constructor;r=i?n?new a:[]:os(e)&&ns(a)?qr(We(e)):{}}return(i?St:wn)(e,(function(e,n,i){return t(r,e,n,i)})),r},Fr.unary=function(e){return Do(e,1)},Fr.union=oo,Fr.unionBy=so,Fr.unionWith=co,Fr.uniq=function(e){return e&&e.length?hi(e):[]},Fr.uniqBy=function(e,t){return e&&e.length?hi(e,da(t,2)):[]},Fr.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?hi(e,r,t):[]},Fr.unset=function(e,t){return null==e||fi(e,t)},Fr.unzip=lo,Fr.unzipWith=uo,Fr.update=function(e,t,r){return null==e?e:pi(e,t,xi(r))},Fr.updateWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:pi(e,t,xi(n),i)},Fr.values=js,Fr.valuesIn=function(e){return null==e?[]:Kt(e,zs(e))},Fr.without=ho,Fr.words=nc,Fr.wrap=function(e,t){return Go(xi(t),e)},Fr.xor=fo,Fr.xorBy=po,Fr.xorWith=mo,Fr.zip=vo,Fr.zipObject=function(e,t){return gi(e||[],t||[],rn)},Fr.zipObjectDeep=function(e,t){return gi(e||[],t||[],ti)},Fr.zipWith=$o,Fr.entries=Vs,Fr.entriesIn=Hs,Fr.extend=Ms,Fr.extendWith=Es,fc(Fr,Fr),Fr.add=_c,Fr.attempt=ic,Fr.camelCase=Ws,Fr.capitalize=Xs,Fr.ceil=Sc,Fr.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=ws(n))==n?n:0),t!==r&&(t=(t=ws(t))==t?t:0),ln(ws(e),t,n)},Fr.clone=function(e){return dn(e,4)},Fr.cloneDeep=function(e){return dn(e,5)},Fr.cloneDeepWith=function(e,t){return dn(e,5,t="function"==typeof t?t:r)},Fr.cloneWith=function(e,t){return dn(e,4,t="function"==typeof t?t:r)},Fr.conformsTo=function(e,t){return null==t||un(e,t,Bs(t))},Fr.deburr=Ks,Fr.defaultTo=function(e,t){return null==e||e!=e?t:e},Fr.divide=Tc,Fr.endsWith=function(e,t,n){e=Ss(e),t=ui(t);var i=e.length,a=n=n===r?i:ln(xs(n),0,i);return(n-=t.length)>=0&&e.slice(n,a)==t},Fr.eq=jo,Fr.escape=function(e){return(e=Ss(e))&&K.test(e)?e.replace(W,tr):e},Fr.escapeRegExp=function(e){return(e=Ss(e))&&ne.test(e)?e.replace(re,"\\$&"):e},Fr.every=function(e,t,n){var i=Yo(e)?Mt:vn;return n&&ya(e,t,n)&&(t=r),i(e,da(t,3))},Fr.find=wo,Fr.findIndex=Xa,Fr.findKey=function(e,t){return Nt(e,da(t,3),wn)},Fr.findLast=_o,Fr.findLastIndex=Ka,Fr.findLastKey=function(e,t){return Nt(e,da(t,3),_n)},Fr.floor=Mc,Fr.forEach=So,Fr.forEachRight=To,Fr.forIn=function(e,t){return null==e?e:xn(e,da(t,3),zs)},Fr.forInRight=function(e,t){return null==e?e:yn(e,da(t,3),zs)},Fr.forOwn=function(e,t){return e&&wn(e,da(t,3))},Fr.forOwnRight=function(e,t){return e&&_n(e,da(t,3))},Fr.get=Ps,Fr.gt=Wo,Fr.gte=Xo,Fr.has=function(e,t){return null!=e&&$a(e,t,Cn)},Fr.hasIn=Ds,Fr.head=Za,Fr.identity=lc,Fr.includes=function(e,t,r,n){e=Jo(e)?e:js(e),r=r&&!n?xs(r):0;var i=e.length;return r<0&&(r=br(i+r,0)),fs(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&zt(e,t,r)>-1},Fr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:xs(r);return i<0&&(i=br(n+i,0)),zt(e,t,i)},Fr.inRange=function(e,t,n){return t=bs(t),n===r?(n=t,t=0):n=bs(n),function(e,t,r){return e>=xr(t,r)&&e<br(t,r)}(e=ws(e),t,n)},Fr.invoke=Ns,Fr.isArguments=Ko,Fr.isArray=Yo,Fr.isArrayBuffer=Zo,Fr.isArrayLike=Jo,Fr.isArrayLikeObject=Qo,Fr.isBoolean=function(e){return!0===e||!1===e||ss(e)&&En(e)==g},Fr.isBuffer=es,Fr.isDate=ts,Fr.isElement=function(e){return ss(e)&&1===e.nodeType&&!ds(e)},Fr.isEmpty=function(e){if(null==e)return!0;if(Jo(e)&&(Yo(e)||"string"==typeof e||"function"==typeof e.splice||es(e)||ms(e)||Ko(e)))return!e.length;var t=va(e);if(t==_||t==A)return!e.size;if(Ta(e))return!zn(e).length;for(var r in e)if(Ne.call(e,r))return!1;return!0},Fr.isEqual=function(e,t){return On(e,t)},Fr.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:r)?n(e,t):r;return i===r?On(e,t,r,n):!!i},Fr.isError=rs,Fr.isFinite=function(e){return"number"==typeof e&&vr(e)},Fr.isFunction=ns,Fr.isInteger=is,Fr.isLength=as,Fr.isMap=cs,Fr.isMatch=function(e,t){return e===t||In(e,t,ha(t))},Fr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,In(e,t,ha(t),n)},Fr.isNaN=function(e){return ls(e)&&e!=+e},Fr.isNative=function(e){if(Sa(e))throw new Se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nn(e)},Fr.isNil=function(e){return null==e},Fr.isNull=function(e){return null===e},Fr.isNumber=ls,Fr.isObject=os,Fr.isObjectLike=ss,Fr.isPlainObject=ds,Fr.isRegExp=us,Fr.isSafeInteger=function(e){return is(e)&&e>=-9007199254740991&&e<=h},Fr.isSet=hs,Fr.isString=fs,Fr.isSymbol=ps,Fr.isTypedArray=ms,Fr.isUndefined=function(e){return e===r},Fr.isWeakMap=function(e){return ss(e)&&va(e)==R},Fr.isWeakSet=function(e){return ss(e)&&"[object WeakSet]"==En(e)},Fr.join=function(e,t){return null==e?"":$r.call(e,t)},Fr.kebabCase=Ys,Fr.last=to,Fr.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i;return n!==r&&(a=(a=xs(n))<0?br(i+a,0):xr(a,i-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,a):Bt(e,kt,a,!0)},Fr.lowerCase=Zs,Fr.lowerFirst=Js,Fr.lt=vs,Fr.lte=$s,Fr.max=function(e){return e&&e.length?$n(e,lc,An):r},Fr.maxBy=function(e,t){return e&&e.length?$n(e,da(t,2),An):r},Fr.mean=function(e){return Ft(e,lc)},Fr.meanBy=function(e,t){return Ft(e,da(t,2))},Fr.min=function(e){return e&&e.length?$n(e,lc,kn):r},Fr.minBy=function(e,t){return e&&e.length?$n(e,da(t,2),kn):r},Fr.stubArray=yc,Fr.stubFalse=wc,Fr.stubObject=function(){return{}},Fr.stubString=function(){return""},Fr.stubTrue=function(){return!0},Fr.multiply=Ac,Fr.nth=function(e,t){return e&&e.length?Hn(e,xs(t)):r},Fr.noConflict=function(){return dt._===this&&(dt._=Fe),this},Fr.noop=pc,Fr.now=Po,Fr.pad=function(e,t,r){e=Ss(e);var n=(t=xs(t))?lr(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return ji(Gt(i),r)+e+ji(It(i),r)},Fr.padEnd=function(e,t,r){e=Ss(e);var n=(t=xs(t))?lr(e):0;return t&&n<t?e+ji(t-n,r):e},Fr.padStart=function(e,t,r){e=Ss(e);var n=(t=xs(t))?lr(e):0;return t&&n<t?ji(t-n,r)+e:e},Fr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),wr(Ss(e).replace(ie,""),t||0)},Fr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ya(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=bs(e),t===r?(t=e,e=0):t=bs(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var a=_r();return xr(e+a*(t-e+ot("1e-"+((a+"").length-1))),t)}return Yn(e,t)},Fr.reduce=function(e,t,r){var n=Yo(e)?Pt:Vt,i=arguments.length<3;return n(e,da(t,4),r,i,pn)},Fr.reduceRight=function(e,t,r){var n=Yo(e)?Dt:Vt,i=arguments.length<3;return n(e,da(t,4),r,i,mn)},Fr.repeat=function(e,t,n){return t=(n?ya(e,t,n):t===r)?1:xs(t),Zn(Ss(e),t)},Fr.replace=function(){var e=arguments,t=Ss(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Fr.result=function(e,t,n){var i=-1,a=(t=yi(t,e)).length;for(a||(a=1,e=r);++i<a;){var o=null==e?r:e[qa(t[i])];o===r&&(i=a,o=n),e=ns(o)?o.call(e):o}return e},Fr.round=Cc,Fr.runInContext=e,Fr.sample=function(e){return(Yo(e)?Jr:Qn)(e)},Fr.size=function(e){if(null==e)return 0;if(Jo(e))return fs(e)?lr(e):e.length;var t=va(e);return t==_||t==A?e.size:zn(e).length},Fr.snakeCase=Qs,Fr.some=function(e,t,n){var i=Yo(e)?Ot:oi;return n&&ya(e,t,n)&&(t=r),i(e,da(t,3))},Fr.sortedIndex=function(e,t){return si(e,t)},Fr.sortedIndexBy=function(e,t,r){return ci(e,t,da(r,2))},Fr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=si(e,t);if(n<r&&jo(e[n],t))return n}return-1},Fr.sortedLastIndex=function(e,t){return si(e,t,!0)},Fr.sortedLastIndexBy=function(e,t,r){return ci(e,t,da(r,2),!0)},Fr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=si(e,t,!0)-1;if(jo(e[r],t))return r}return-1},Fr.startCase=ec,Fr.startsWith=function(e,t,r){return e=Ss(e),r=null==r?0:ln(xs(r),0,e.length),t=ui(t),e.slice(r,r+t.length)==t},Fr.subtract=Lc,Fr.sum=function(e){return e&&e.length?Ht(e,lc):0},Fr.sumBy=function(e,t){return e&&e.length?Ht(e,da(t,2)):0},Fr.template=function(e,t,n){var i=Fr.templateSettings;n&&ya(e,t,n)&&(t=r),e=Ss(e),t=Es({},t,i,ea);var a,o,s=Es({},t.imports,i.imports,ea),c=Bs(s),l=Kt(s,c),d=0,u=t.interpolate||xe,h="__p += '",f=Ae((t.escape||xe).source+"|"+u.source+"|"+(u===J?he:xe).source+"|"+(t.evaluate||xe).source+"|$","g"),p="//# sourceURL="+(Ne.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(f,(function(t,r,n,i,s,c){return n||(n=i),h+=e.slice(d,c).replace(ye,rr),r&&(a=!0,h+="' +\n__e("+r+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),d=c+t.length,t})),h+="';\n";var m=Ne.call(t,"variable")&&t.variable;if(m){if(de.test(m))throw new Se("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(G,""):h).replace(V,"$1").replace(H,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=ic((function(){return Te(c,p+"return "+h).apply(r,l)}));if(v.source=h,rs(v))throw v;return v},Fr.times=function(e,t){if((e=xs(e))<1||e>h)return[];var r=p,n=xr(e,p);t=da(t),e-=p;for(var i=jt(n,t);++r<e;)t(r);return i},Fr.toFinite=bs,Fr.toInteger=xs,Fr.toLength=ys,Fr.toLower=function(e){return Ss(e).toLowerCase()},Fr.toNumber=ws,Fr.toSafeInteger=function(e){return e?ln(xs(e),-9007199254740991,h):0===e?e:0},Fr.toString=Ss,Fr.toUpper=function(e){return Ss(e).toUpperCase()},Fr.trim=function(e,t,n){if((e=Ss(e))&&(n||t===r))return Wt(e);if(!e||!(t=ui(t)))return e;var i=dr(e),a=dr(t);return _i(i,Zt(i,a),Jt(i,a)+1).join("")},Fr.trimEnd=function(e,t,n){if((e=Ss(e))&&(n||t===r))return e.slice(0,ur(e)+1);if(!e||!(t=ui(t)))return e;var i=dr(e);return _i(i,0,Jt(i,dr(t))+1).join("")},Fr.trimStart=function(e,t,n){if((e=Ss(e))&&(n||t===r))return e.replace(ie,"");if(!e||!(t=ui(t)))return e;var i=dr(e);return _i(i,Zt(i,dr(t))).join("")},Fr.truncate=function(e,t){var n=30,i="...";if(os(t)){var a="separator"in t?t.separator:a;n="length"in t?xs(t.length):n,i="omission"in t?ui(t.omission):i}var o=(e=Ss(e)).length;if(nr(e)){var s=dr(e);o=s.length}if(n>=o)return e;var c=n-lr(i);if(c<1)return i;var l=s?_i(s,0,c).join(""):e.slice(0,c);if(a===r)return l+i;if(s&&(c+=l.length-c),us(a)){if(e.slice(c).search(a)){var d,u=l;for(a.global||(a=Ae(a.source,Ss(fe.exec(a))+"g")),a.lastIndex=0;d=a.exec(u);)var h=d.index;l=l.slice(0,h===r?c:h)}}else if(e.indexOf(ui(a),c)!=c){var f=l.lastIndexOf(a);f>-1&&(l=l.slice(0,f))}return l+i},Fr.unescape=function(e){return(e=Ss(e))&&X.test(e)?e.replace(j,hr):e},Fr.uniqueId=function(e){var t=++Be;return Ss(e)+t},Fr.upperCase=tc,Fr.upperFirst=rc,Fr.each=So,Fr.eachRight=To,Fr.first=Za,fc(Fr,(Ec={},wn(Fr,(function(e,t){Ne.call(Fr.prototype,t)||(Ec[t]=e)})),Ec),{chain:!1}),Fr.VERSION="4.17.21",St(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Fr[e].placeholder=Fr})),St(["drop","take"],(function(e,t){Hr.prototype[e]=function(n){n=n===r?1:br(xs(n),0);var i=this.__filtered__&&!t?new Hr(this):this.clone();return i.__filtered__?i.__takeCount__=xr(n,i.__takeCount__):i.__views__.push({size:xr(n,p),type:e+(i.__dir__<0?"Right":"")}),i},Hr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),St(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Hr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:da(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),St(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Hr.prototype[e]=function(){return this[r](1).value()[0]}})),St(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Hr.prototype[e]=function(){return this.__filtered__?new Hr(this):this[r](1)}})),Hr.prototype.compact=function(){return this.filter(lc)},Hr.prototype.find=function(e){return this.filter(e).head()},Hr.prototype.findLast=function(e){return this.reverse().find(e)},Hr.prototype.invokeMap=Jn((function(e,t){return"function"==typeof e?new Hr(this):this.map((function(r){return Pn(r,e,t)}))})),Hr.prototype.reject=function(e){return this.filter(Fo(da(e)))},Hr.prototype.slice=function(e,t){e=xs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Hr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=xs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Hr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hr.prototype.toArray=function(){return this.take(p)},wn(Hr.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=Fr[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);a&&(Fr.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,c=t instanceof Hr,l=s[0],d=c||Yo(t),u=function(e){var t=a.apply(Fr,Rt([e],s));return i&&h?t[0]:t};d&&n&&"function"==typeof l&&1!=l.length&&(c=d=!1);var h=this.__chain__,f=!!this.__actions__.length,p=o&&!h,m=c&&!f;if(!o&&d){t=m?t:new Hr(this);var v=e.apply(t,s);return v.__actions__.push({func:bo,args:[u],thisArg:r}),new Vr(v,h)}return p&&m?e.apply(this,s):(v=this.thru(u),p?i?v.value()[0]:v.value():v)})})),St(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Re[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Fr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Yo(i)?i:[],e)}return this[r]((function(r){return t.apply(Yo(r)?r:[],e)}))}})),wn(Hr.prototype,(function(e,t){var r=Fr[t];if(r){var n=r.name+"";Ne.call(Pr,n)||(Pr[n]=[]),Pr[n].push({name:t,func:r})}})),Pr[qi(r,2).name]=[{name:"wrapper",func:r}],Hr.prototype.clone=function(){var e=new Hr(this.__wrapped__);return e.__actions__=Ri(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ri(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ri(this.__views__),e},Hr.prototype.reverse=function(){if(this.__filtered__){var e=new Hr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Yo(e),n=t<0,i=r?e.length:0,a=function(e,t,r){var n=-1,i=r.length;for(;++n<i;){var a=r[n],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=xr(t,e+o);break;case"takeRight":e=br(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,c=s-o,l=n?s:o-1,d=this.__iteratees__,u=d.length,h=0,f=xr(c,this.__takeCount__);if(!r||!n&&i==c&&f==c)return vi(e,this.__actions__);var p=[];e:for(;c--&&h<f;){for(var m=-1,v=e[l+=t];++m<u;){var $=d[m],g=$.iteratee,b=$.type,x=g(v);if(2==b)v=x;else if(!x){if(1==b)continue e;break e}}p[h++]=v}return p},Fr.prototype.at=xo,Fr.prototype.chain=function(){return go(this)},Fr.prototype.commit=function(){return new Vr(this.value(),this.__chain__)},Fr.prototype.next=function(){this.__values__===r&&(this.__values__=gs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},Fr.prototype.plant=function(e){for(var t,n=this;n instanceof Gr;){var i=Va(n);i.__index__=0,i.__values__=r,t?a.__wrapped__=i:t=i;var a=i;n=n.__wrapped__}return a.__wrapped__=e,t},Fr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hr){var t=e;return this.__actions__.length&&(t=new Hr(this)),(t=t.reverse()).__actions__.push({func:bo,args:[ao],thisArg:r}),new Vr(t,this.__chain__)}return this.thru(ao)},Fr.prototype.toJSON=Fr.prototype.valueOf=Fr.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},Fr.prototype.first=Fr.prototype.head,ct&&(Fr.prototype[ct]=function(){return this}),Fr}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(dt._=fr,define((function(){return fr}))):ht?((ht.exports=fr)._=fr,ut._=fr):dt._=fr}).call(this)}));var $ilwiq=parcelRequire("ilwiq"),$ilwiq=parcelRequire("ilwiq");class $559434fcc6e6401d$export$aa93f11e7884f0f4 extends $ilwiq.Loader{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new $559434fcc6e6401d$var$GLTFMaterialsClearcoatExtension(e)})),this.register((function(e){return new $559434fcc6e6401d$var$GLTFTextureBasisUExtension(e)})),this.register((function(e){return new $559434fcc6e6401d$var$GLTFTextureWebPExtension(e)})),this.register((function(e){return new $559434fcc6e6401d$var$GLTFMaterialsSheenExtension(e)})),this.register((function(e){return new $559434fcc6e6401d$var$GLTFMaterialsTransmissionExtension(e)})),this.register((function(e){return new $559434fcc6e6401d$var$GLTFMaterialsVolumeExtension(e)})),this.register((function(e){return new $559434fcc6e6401d$var$GLTFMaterialsIorExtension(e)})),this.register((function(e){return new $559434fcc6e6401d$var$GLTFMaterialsSpecularExtension(e)})),this.register((function(e){return new $559434fcc6e6401d$var$GLTFLightsExtension(e)})),this.register((function(e){return new $559434fcc6e6401d$var$GLTFMeshoptCompression(e)}))}load(e,t,r,n){const i=this;let a;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:$ilwiq.LoaderUtils.extractUrlBase(e),this.manager.itemStart(e);const o=function(t){n?n(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},s=new(0,$ilwiq.FileLoader)(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(r){try{i.parse(r,a,(function(r){t(r),i.manager.itemEnd(e)}),o)}catch(e){o(e)}}),r,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,n){let i;const a={},o={};if("string"==typeof e)i=e;else{if($ilwiq.LoaderUtils.decodeText(new Uint8Array(e,0,4))===$559434fcc6e6401d$var$BINARY_EXTENSION_HEADER_MAGIC){try{a[$559434fcc6e6401d$var$EXTENSIONS.KHR_BINARY_GLTF]=new $559434fcc6e6401d$var$GLTFBinaryExtension(e)}catch(e){return void(n&&n(e))}i=a[$559434fcc6e6401d$var$EXTENSIONS.KHR_BINARY_GLTF].content}else i=$ilwiq.LoaderUtils.decodeText(new Uint8Array(e))}const s=JSON.parse(i);if(void 0===s.asset||s.asset.version[0]<2)return void(n&&n(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const c=new $559434fcc6e6401d$var$GLTFParser(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let e=0;e<this.pluginCallbacks.length;e++){const t=this.pluginCallbacks[e](c);o[t.name]=t,a[t.name]=!0}if(s.extensionsUsed)for(let e=0;e<s.extensionsUsed.length;++e){const t=s.extensionsUsed[e],r=s.extensionsRequired||[];switch(t){case $559434fcc6e6401d$var$EXTENSIONS.KHR_MATERIALS_UNLIT:a[t]=new $559434fcc6e6401d$var$GLTFMaterialsUnlitExtension;break;case $559434fcc6e6401d$var$EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:a[t]=new $559434fcc6e6401d$var$GLTFMaterialsPbrSpecularGlossinessExtension;break;case $559434fcc6e6401d$var$EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:a[t]=new $559434fcc6e6401d$var$GLTFDracoMeshCompressionExtension(s,this.dracoLoader);break;case $559434fcc6e6401d$var$EXTENSIONS.KHR_TEXTURE_TRANSFORM:a[t]=new $559434fcc6e6401d$var$GLTFTextureTransformExtension;break;case $559434fcc6e6401d$var$EXTENSIONS.KHR_MESH_QUANTIZATION:a[t]=new $559434fcc6e6401d$var$GLTFMeshQuantizationExtension;break;default:r.indexOf(t)>=0&&void 0===o[t]&&console.warn('THREE.GLTFLoader: Unknown extension "'+t+'".')}}c.setExtensions(a),c.setPlugins(o),c.parse(r,n)}parseAsync(e,t){const r=this;return new Promise((function(n,i){r.parse(e,t,n,i)}))}}function $559434fcc6e6401d$var$GLTFRegistry(){let e={};return{get:function(t){return e[t]},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const $559434fcc6e6401d$var$EXTENSIONS={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class $559434fcc6e6401d$var$GLTFLightsExtension{constructor(e){this.parser=e,this.name=$559434fcc6e6401d$var$EXTENSIONS.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,n=t.length;r<n;r++){const n=t[r];n.extensions&&n.extensions[this.name]&&void 0!==n.extensions[this.name].light&&e._addNodeRef(this.cache,n.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let n=t.cache.get(r);if(n)return n;const i=t.json,a=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e];let o;const s=new(0,$ilwiq.Color)(16777215);void 0!==a.color&&s.fromArray(a.color);const c=void 0!==a.range?a.range:0;switch(a.type){case"directional":o=new(0,$ilwiq.DirectionalLight)(s),o.target.position.set(0,0,-1),o.add(o.target);break;case"point":o=new(0,$ilwiq.PointLight)(s),o.distance=c;break;case"spot":o=new(0,$ilwiq.SpotLight)(s),o.distance=c,a.spot=a.spot||{},a.spot.innerConeAngle=void 0!==a.spot.innerConeAngle?a.spot.innerConeAngle:0,a.spot.outerConeAngle=void 0!==a.spot.outerConeAngle?a.spot.outerConeAngle:Math.PI/4,o.angle=a.spot.outerConeAngle,o.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,o.target.position.set(0,0,-1),o.add(o.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+a.type)}return o.position.set(0,0,0),o.decay=2,void 0!==a.intensity&&(o.intensity=a.intensity),o.name=t.createUniqueName(a.name||"light_"+e),n=Promise.resolve(o),t.cache.add(r,n),n}createNodeAttachment(e){const t=this,r=this.parser,n=r.json.nodes[e],i=(n.extensions&&n.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return r._getNodeRef(t.cache,i,e)}))}}class $559434fcc6e6401d$var$GLTFMaterialsUnlitExtension{constructor(){this.name=$559434fcc6e6401d$var$EXTENSIONS.KHR_MATERIALS_UNLIT}getMaterialType(){return $ilwiq.MeshBasicMaterial}extendParams(e,t,r){const n=[];e.color=new(0,$ilwiq.Color)(1,1,1),e.opacity=1;const i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const t=i.baseColorFactor;e.color.fromArray(t),e.opacity=t[3]}void 0!==i.baseColorTexture&&n.push(r.assignTexture(e,"map",i.baseColorTexture))}return Promise.all(n)}}class $559434fcc6e6401d$var$GLTFMaterialsClearcoatExtension{constructor(e){this.parser=e,this.name=$559434fcc6e6401d$var$EXTENSIONS.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?$ilwiq.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],a=n.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(r.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(r.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(r.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){const e=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new(0,$ilwiq.Vector2)(e,e)}return Promise.all(i)}}class $559434fcc6e6401d$var$GLTFMaterialsSheenExtension{constructor(e){this.parser=e,this.name=$559434fcc6e6401d$var$EXTENSIONS.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?$ilwiq.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[];t.sheenColor=new(0,$ilwiq.Color)(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=n.extensions[this.name];return void 0!==a.sheenColorFactor&&t.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&i.push(r.assignTexture(t,"sheenColorMap",a.sheenColorTexture)),void 0!==a.sheenRoughnessTexture&&i.push(r.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(i)}}class $559434fcc6e6401d$var$GLTFMaterialsTransmissionExtension{constructor(e){this.parser=e,this.name=$559434fcc6e6401d$var$EXTENSIONS.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?$ilwiq.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],a=n.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(r.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)}}class $559434fcc6e6401d$var$GLTFMaterialsVolumeExtension{constructor(e){this.parser=e,this.name=$559434fcc6e6401d$var$EXTENSIONS.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?$ilwiq.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],a=n.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&i.push(r.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||0;const o=a.attenuationColor||[1,1,1];return t.attenuationColor=new(0,$ilwiq.Color)(o[0],o[1],o[2]),Promise.all(i)}}class $559434fcc6e6401d$var$GLTFMaterialsIorExtension{constructor(e){this.parser=e,this.name=$559434fcc6e6401d$var$EXTENSIONS.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?$ilwiq.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const n=r.extensions[this.name];return t.ior=void 0!==n.ior?n.ior:1.5,Promise.resolve()}}class $559434fcc6e6401d$var$GLTFMaterialsSpecularExtension{constructor(e){this.parser=e,this.name=$559434fcc6e6401d$var$EXTENSIONS.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?$ilwiq.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],a=n.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&i.push(r.assignTexture(t,"specularIntensityMap",a.specularTexture));const o=a.specularColorFactor||[1,1,1];return t.specularColor=new(0,$ilwiq.Color)(o[0],o[1],o[2]),void 0!==a.specularColorTexture&&i.push(r.assignTexture(t,"specularColorMap",a.specularColorTexture).then((function(e){e.encoding=$ilwiq.sRGBEncoding}))),Promise.all(i)}}class $559434fcc6e6401d$var$GLTFTextureBasisUExtension{constructor(e){this.parser=e,this.name=$559434fcc6e6401d$var$EXTENSIONS.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,n=r.textures[e];if(!n.extensions||!n.extensions[this.name])return null;const i=n.extensions[this.name],a=r.images[i.source],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a,o)}}class $559434fcc6e6401d$var$GLTFTextureWebPExtension{constructor(e){this.parser=e,this.name=$559434fcc6e6401d$var$EXTENSIONS.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,n=r.json,i=n.textures[e];if(!i.extensions||!i.extensions[t])return null;const a=i.extensions[t],o=n.images[a.source];let s=r.textureLoader;if(o.uri){const e=r.options.manager.getHandler(o.uri);null!==e&&(s=e)}return this.detectSupport().then((function(i){if(i)return r.loadTextureImage(e,o,s);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}class $559434fcc6e6401d$var$GLTFMeshoptCompression{constructor(e){this.name=$559434fcc6e6401d$var$EXTENSIONS.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const e=r.extensions[this.name],n=this.parser.getDependency("buffer",e.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([n,i.ready]).then((function(t){const r=e.byteOffset||0,n=e.byteLength||0,a=e.count,o=e.byteStride,s=new ArrayBuffer(a*o),c=new Uint8Array(t[0],r,n);return i.decodeGltfBuffer(new Uint8Array(s),a,o,c,e.mode,e.filter),s}))}return null}}const $559434fcc6e6401d$var$BINARY_EXTENSION_HEADER_MAGIC="glTF",$559434fcc6e6401d$var$BINARY_EXTENSION_HEADER_LENGTH=12,$559434fcc6e6401d$var$BINARY_EXTENSION_CHUNK_TYPES={JSON:1313821514,BIN:5130562};class $559434fcc6e6401d$var$GLTFBinaryExtension{constructor(e){this.name=$559434fcc6e6401d$var$EXTENSIONS.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,$559434fcc6e6401d$var$BINARY_EXTENSION_HEADER_LENGTH);if(this.header={magic:$ilwiq.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==$559434fcc6e6401d$var$BINARY_EXTENSION_HEADER_MAGIC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-$559434fcc6e6401d$var$BINARY_EXTENSION_HEADER_LENGTH,n=new DataView(e,$559434fcc6e6401d$var$BINARY_EXTENSION_HEADER_LENGTH);let i=0;for(;i<r;){const t=n.getUint32(i,!0);i+=4;const r=n.getUint32(i,!0);if(i+=4,r===$559434fcc6e6401d$var$BINARY_EXTENSION_CHUNK_TYPES.JSON){const r=new Uint8Array(e,$559434fcc6e6401d$var$BINARY_EXTENSION_HEADER_LENGTH+i,t);this.content=$ilwiq.LoaderUtils.decodeText(r)}else if(r===$559434fcc6e6401d$var$BINARY_EXTENSION_CHUNK_TYPES.BIN){const r=$559434fcc6e6401d$var$BINARY_EXTENSION_HEADER_LENGTH+i;this.body=e.slice(r,r+t)}i+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class $559434fcc6e6401d$var$GLTFDracoMeshCompressionExtension{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=$559434fcc6e6401d$var$EXTENSIONS.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,n=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},c={};for(const e in a){const t=$559434fcc6e6401d$var$ATTRIBUTES[e]||e.toLowerCase();o[t]=a[e]}for(const t in e.attributes){const n=$559434fcc6e6401d$var$ATTRIBUTES[t]||t.toLowerCase();if(void 0!==a[t]){const i=r.accessors[e.attributes[t]],a=$559434fcc6e6401d$var$WEBGL_COMPONENT_TYPES[i.componentType];c[n]=a,s[n]=!0===i.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){n.decodeDracoFile(e,(function(e){for(const t in e.attributes){const r=e.attributes[t],n=s[t];void 0!==n&&(r.normalized=n)}t(e)}),o,c)}))}))}}class $559434fcc6e6401d$var$GLTFTextureTransformExtension{constructor(){this.name=$559434fcc6e6401d$var$EXTENSIONS.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class $559434fcc6e6401d$var$GLTFMeshStandardSGMaterial extends $ilwiq.MeshStandardMaterial{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),r=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),n=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),i=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),a=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),o={specular:{value:(new(0,$ilwiq.Color)).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=o,this.onBeforeCompile=function(e){for(const t in o)e.uniforms[t]=o[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",n).replace("#include <metalnessmap_fragment>",i).replace("#include <lights_physical_fragment>",a)},Object.defineProperties(this,{specular:{get:function(){return o.specular.value},set:function(e){o.specular.value=e}},specularMap:{get:function(){return o.specularMap.value},set:function(e){o.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return o.glossiness.value},set:function(e){o.glossiness.value=e}},glossinessMap:{get:function(){return o.glossinessMap.value},set:function(e){o.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class $559434fcc6e6401d$var$GLTFMaterialsPbrSpecularGlossinessExtension{constructor(){this.name=$559434fcc6e6401d$var$EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return $559434fcc6e6401d$var$GLTFMeshStandardSGMaterial}extendParams(e,t,r){const n=t.extensions[this.name];e.color=new(0,$ilwiq.Color)(1,1,1),e.opacity=1;const i=[];if(Array.isArray(n.diffuseFactor)){const t=n.diffuseFactor;e.color.fromArray(t),e.opacity=t[3]}if(void 0!==n.diffuseTexture&&i.push(r.assignTexture(e,"map",n.diffuseTexture)),e.emissive=new(0,$ilwiq.Color)(0,0,0),e.glossiness=void 0!==n.glossinessFactor?n.glossinessFactor:1,e.specular=new(0,$ilwiq.Color)(1,1,1),Array.isArray(n.specularFactor)&&e.specular.fromArray(n.specularFactor),void 0!==n.specularGlossinessTexture){const t=n.specularGlossinessTexture;i.push(r.assignTexture(e,"glossinessMap",t)),i.push(r.assignTexture(e,"specularMap",t))}return Promise.all(i)}createMaterial(e){const t=new $559434fcc6e6401d$var$GLTFMeshStandardSGMaterial(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=$ilwiq.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class $559434fcc6e6401d$var$GLTFMeshQuantizationExtension{constructor(){this.name=$559434fcc6e6401d$var$EXTENSIONS.KHR_MESH_QUANTIZATION}}class $559434fcc6e6401d$var$GLTFCubicSplineInterpolant extends $ilwiq.Interpolant{constructor(e,t,r,n){super(e,t,r,n)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=e*n*3+n;for(let e=0;e!==n;e++)t[e]=r[i+e];return t}}$559434fcc6e6401d$var$GLTFCubicSplineInterpolant.prototype.beforeStart_=$559434fcc6e6401d$var$GLTFCubicSplineInterpolant.prototype.copySampleValue_,$559434fcc6e6401d$var$GLTFCubicSplineInterpolant.prototype.afterEnd_=$559434fcc6e6401d$var$GLTFCubicSplineInterpolant.prototype.copySampleValue_,$559434fcc6e6401d$var$GLTFCubicSplineInterpolant.prototype.interpolate_=function(e,t,r,n){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,c=3*o,l=n-t,d=(r-t)/l,u=d*d,h=u*d,f=e*c,p=f-c,m=-2*h+3*u,v=h-u,$=1-m,g=v-u+d;for(let e=0;e!==o;e++){const t=a[p+e+o],r=a[p+e+s]*l,n=a[f+e+o],c=a[f+e]*l;i[e]=$*t+g*r+m*n+v*c}return i};const $559434fcc6e6401d$var$_q=new(0,$ilwiq.Quaternion);class $559434fcc6e6401d$var$GLTFCubicSplineQuaternionInterpolant extends $559434fcc6e6401d$var$GLTFCubicSplineInterpolant{interpolate_(e,t,r,n){const i=super.interpolate_(e,t,r,n);return $559434fcc6e6401d$var$_q.fromArray(i).normalize().toArray(i),i}}const $559434fcc6e6401d$var$WEBGL_CONSTANTS={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},$559434fcc6e6401d$var$WEBGL_COMPONENT_TYPES={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},$559434fcc6e6401d$var$WEBGL_FILTERS={9728:$ilwiq.NearestFilter,9729:$ilwiq.LinearFilter,9984:$ilwiq.NearestMipmapNearestFilter,9985:$ilwiq.LinearMipmapNearestFilter,9986:$ilwiq.NearestMipmapLinearFilter,9987:$ilwiq.LinearMipmapLinearFilter},$559434fcc6e6401d$var$WEBGL_WRAPPINGS={33071:$ilwiq.ClampToEdgeWrapping,33648:$ilwiq.MirroredRepeatWrapping,10497:$ilwiq.RepeatWrapping},$559434fcc6e6401d$var$WEBGL_TYPE_SIZES={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},$559434fcc6e6401d$var$ATTRIBUTES={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},$559434fcc6e6401d$var$PATH_PROPERTIES={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},$559434fcc6e6401d$var$INTERPOLATION={CUBICSPLINE:void 0,LINEAR:$ilwiq.InterpolateLinear,STEP:$ilwiq.InterpolateDiscrete},$559434fcc6e6401d$var$ALPHA_MODES={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function $559434fcc6e6401d$var$createDefaultMaterial(e){return void 0===e.DefaultMaterial&&(e.DefaultMaterial=new(0,$ilwiq.MeshStandardMaterial)({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:$ilwiq.FrontSide})),e.DefaultMaterial}function $559434fcc6e6401d$var$addUnknownExtensionsToUserData(e,t,r){for(const n in r.extensions)void 0===e[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=r.extensions[n])}function $559434fcc6e6401d$var$assignExtrasToUserData(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function $559434fcc6e6401d$var$addMorphTargets(e,t,r){let n=!1,i=!1;for(let e=0,r=t.length;e<r;e++){const r=t[e];if(void 0!==r.POSITION&&(n=!0),void 0!==r.NORMAL&&(i=!0),n&&i)break}if(!n&&!i)return Promise.resolve(e);const a=[],o=[];for(let s=0,c=t.length;s<c;s++){const c=t[s];if(n){const t=void 0!==c.POSITION?r.getDependency("accessor",c.POSITION):e.attributes.position;a.push(t)}if(i){const t=void 0!==c.NORMAL?r.getDependency("accessor",c.NORMAL):e.attributes.normal;o.push(t)}}return Promise.all([Promise.all(a),Promise.all(o)]).then((function(t){const r=t[0],a=t[1];return n&&(e.morphAttributes.position=r),i&&(e.morphAttributes.normal=a),e.morphTargetsRelative=!0,e}))}function $559434fcc6e6401d$var$updateMorphTargets(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let r=0,n=t.weights.length;r<n;r++)e.morphTargetInfluences[r]=t.weights[r];if(t.extras&&Array.isArray(t.extras.targetNames)){const r=t.extras.targetNames;if(e.morphTargetInfluences.length===r.length){e.morphTargetDictionary={};for(let t=0,n=r.length;t<n;t++)e.morphTargetDictionary[r[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function $559434fcc6e6401d$var$createPrimitiveKey(e){const t=e.extensions&&e.extensions[$559434fcc6e6401d$var$EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];let r;return r=t?"draco:"+t.bufferView+":"+t.indices+":"+$559434fcc6e6401d$var$createAttributesKey(t.attributes):e.indices+":"+$559434fcc6e6401d$var$createAttributesKey(e.attributes)+":"+e.mode,r}function $559434fcc6e6401d$var$createAttributesKey(e){let t="";const r=Object.keys(e).sort();for(let n=0,i=r.length;n<i;n++)t+=r[n]+":"+e[r[n]]+";";return t}function $559434fcc6e6401d$var$getNormalizedComponentScale(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class $559434fcc6e6401d$var$GLTFParser{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new $559434fcc6e6401d$var$GLTFRegistry,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},"undefined"!=typeof createImageBitmap&&!1===/Firefox|^((?!chrome|android).)*safari/i.test(navigator.userAgent)?this.textureLoader=new(0,$ilwiq.ImageBitmapLoader)(this.options.manager):this.textureLoader=new(0,$ilwiq.TextureLoader)(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new(0,$ilwiq.FileLoader)(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,n=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])})).then((function(t){const a={scene:t[0][n.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:n.asset,parser:r,userData:{}};$559434fcc6e6401d$var$addUnknownExtensionsToUserData(i,a,n),$559434fcc6e6401d$var$assignExtrasToUserData(a,n),Promise.all(r._invokeAll((function(e){return e.afterRoot&&e.afterRoot(a)}))).then((function(){e(a)}))})).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let r=0,n=t.length;r<n;r++){const n=t[r].joints;for(let t=0,r=n.length;t<r;t++)e[n[t]].isBone=!0}for(let t=0,n=e.length;t<n;t++){const n=e[t];void 0!==n.mesh&&(this._addNodeRef(this.meshCache,n.mesh),void 0!==n.skin&&(r[n.mesh].isSkinnedMesh=!0)),void 0!==n.camera&&this._addNodeRef(this.cameraCache,n.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const n=r.clone(),i=(e,t)=>{const r=this.associations.get(e);null!=r&&this.associations.set(t,r);for(const[r,n]of e.children.entries())i(n,t.children[r])};return i(r,n),n.name+="_instance_"+e.uses[t]++,n}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const n=e(t[r]);if(n)return n}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let n=0;n<t.length;n++){const i=e(t[n]);i&&r.push(i)}return r}getDependency(e,t){const r=e+":"+t;let n=this.cache.get(r);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this.loadNode(t);break;case"mesh":n=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":n=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":n=this.loadSkin(t);break;case"animation":n=this.loadAnimation(t);break;case"camera":n=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,n)}return n}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,n=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(n.map((function(t,n){return r.getDependency(e,n)}))),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[$559434fcc6e6401d$var$EXTENSIONS.KHR_BINARY_GLTF].body);const n=this.options;return new Promise((function(e,i){r.load($ilwiq.LoaderUtils.resolveURL(t.uri,n.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){const r=t.byteLength||0,n=t.byteOffset||0;return e.slice(n,n+r)}))}loadAccessor(e){const t=this,r=this.json,n=this.json.accessors[e];if(void 0===n.bufferView&&void 0===n.sparse)return Promise.resolve(null);const i=[];return void 0!==n.bufferView?i.push(this.getDependency("bufferView",n.bufferView)):i.push(null),void 0!==n.sparse&&(i.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(i).then((function(e){const i=e[0],a=$559434fcc6e6401d$var$WEBGL_TYPE_SIZES[n.type],o=$559434fcc6e6401d$var$WEBGL_COMPONENT_TYPES[n.componentType],s=o.BYTES_PER_ELEMENT,c=s*a,l=n.byteOffset||0,d=void 0!==n.bufferView?r.bufferViews[n.bufferView].byteStride:void 0,u=!0===n.normalized;let h,f;if(d&&d!==c){const e=Math.floor(l/d),r="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+e+":"+n.count;let c=t.cache.get(r);c||(h=new o(i,e*d,n.count*d/s),c=new(0,$ilwiq.InterleavedBuffer)(h,d/s),t.cache.add(r,c)),f=new(0,$ilwiq.InterleavedBufferAttribute)(c,a,l%d/s,u)}else h=null===i?new o(n.count*a):new o(i,l,n.count*a),f=new(0,$ilwiq.BufferAttribute)(h,a,u);if(void 0!==n.sparse){const t=$559434fcc6e6401d$var$WEBGL_TYPE_SIZES.SCALAR,r=$559434fcc6e6401d$var$WEBGL_COMPONENT_TYPES[n.sparse.indices.componentType],s=n.sparse.indices.byteOffset||0,c=n.sparse.values.byteOffset||0,l=new r(e[1],s,n.sparse.count*t),d=new o(e[2],c,n.sparse.count*a);null!==i&&(f=new(0,$ilwiq.BufferAttribute)(f.array.slice(),f.itemSize,f.normalized));for(let e=0,t=l.length;e<t;e++){const t=l[e];if(f.setX(t,d[e*a]),a>=2&&f.setY(t,d[e*a+1]),a>=3&&f.setZ(t,d[e*a+2]),a>=4&&f.setW(t,d[e*a+3]),a>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return f}))}loadTexture(e){const t=this.json,r=this.options,n=t.textures[e],i=t.images[n.source];let a=this.textureLoader;if(i.uri){const e=r.manager.getHandler(i.uri);null!==e&&(a=e)}return this.loadTextureImage(e,i,a)}loadTextureImage(e,t,r){const n=this,i=this.json,a=this.options,o=i.textures[e],s=(t.uri||t.bufferView)+":"+o.sampler;if(this.textureCache[s])return this.textureCache[s];const c=self.URL||self.webkitURL;let l=t.uri||"",d=!1;if(void 0!==t.bufferView)l=n.getDependency("bufferView",t.bufferView).then((function(e){d=!0;const r=new Blob([e],{type:t.mimeType});return l=c.createObjectURL(r),l}));else if(void 0===t.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then((function(e){return new Promise((function(t,n){let i=t;!0===r.isImageBitmapLoader&&(i=function(e){const r=new(0,$ilwiq.Texture)(e);r.needsUpdate=!0,t(r)}),r.load($ilwiq.LoaderUtils.resolveURL(e,a.path),i,void 0,n)}))})).then((function(t){!0===d&&c.revokeObjectURL(l),t.flipY=!1,o.name&&(t.name=o.name);const r=(i.samplers||{})[o.sampler]||{};return t.magFilter=$559434fcc6e6401d$var$WEBGL_FILTERS[r.magFilter]||$ilwiq.LinearFilter,t.minFilter=$559434fcc6e6401d$var$WEBGL_FILTERS[r.minFilter]||$ilwiq.LinearMipmapLinearFilter,t.wrapS=$559434fcc6e6401d$var$WEBGL_WRAPPINGS[r.wrapS]||$ilwiq.RepeatWrapping,t.wrapT=$559434fcc6e6401d$var$WEBGL_WRAPPINGS[r.wrapT]||$ilwiq.RepeatWrapping,n.associations.set(t,{textures:e}),t})).catch((function(){return console.error("THREE.GLTFLoader: Couldn't load texture",l),null}));return this.textureCache[s]=u,u}assignTexture(e,t,r){const n=this;return this.getDependency("texture",r.index).then((function(i){if(void 0===r.texCoord||0==r.texCoord||"aoMap"===t&&1==r.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),n.extensions[$559434fcc6e6401d$var$EXTENSIONS.KHR_TEXTURE_TRANSFORM]){const e=void 0!==r.extensions?r.extensions[$559434fcc6e6401d$var$EXTENSIONS.KHR_TEXTURE_TRANSFORM]:void 0;if(e){const t=n.associations.get(i);i=n.extensions[$559434fcc6e6401d$var$EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(i,e),n.associations.set(i,t)}}return e[t]=i,i}))}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const n=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){const e="PointsMaterial:"+r.uuid;let t=this.cache.get(e);t||(t=new(0,$ilwiq.PointsMaterial),$ilwiq.Material.prototype.copy.call(t,r),t.color.copy(r.color),t.map=r.map,t.sizeAttenuation=!1,this.cache.add(e,t)),r=t}else if(e.isLine){const e="LineBasicMaterial:"+r.uuid;let t=this.cache.get(e);t||(t=new(0,$ilwiq.LineBasicMaterial),$ilwiq.Material.prototype.copy.call(t,r),t.color.copy(r.color),this.cache.add(e,t)),r=t}if(n||i||a){let e="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(e+="specular-glossiness:"),n&&(e+="derivative-tangents:"),i&&(e+="vertex-colors:"),a&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=r.clone(),i&&(t.vertexColors=!0),a&&(t.flatShading=!0),n&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(r))),r=t}r.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=r}getMaterialType(){return $ilwiq.MeshStandardMaterial}loadMaterial(e){const t=this,r=this.json,n=this.extensions,i=r.materials[e];let a;const o={},s=i.extensions||{},c=[];if(s[$559434fcc6e6401d$var$EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const e=n[$559434fcc6e6401d$var$EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];a=e.getMaterialType(),c.push(e.extendParams(o,i,t))}else if(s[$559434fcc6e6401d$var$EXTENSIONS.KHR_MATERIALS_UNLIT]){const e=n[$559434fcc6e6401d$var$EXTENSIONS.KHR_MATERIALS_UNLIT];a=e.getMaterialType(),c.push(e.extendParams(o,i,t))}else{const r=i.pbrMetallicRoughness||{};if(o.color=new(0,$ilwiq.Color)(1,1,1),o.opacity=1,Array.isArray(r.baseColorFactor)){const e=r.baseColorFactor;o.color.fromArray(e),o.opacity=e[3]}void 0!==r.baseColorTexture&&c.push(t.assignTexture(o,"map",r.baseColorTexture)),o.metalness=void 0!==r.metallicFactor?r.metallicFactor:1,o.roughness=void 0!==r.roughnessFactor?r.roughnessFactor:1,void 0!==r.metallicRoughnessTexture&&(c.push(t.assignTexture(o,"metalnessMap",r.metallicRoughnessTexture)),c.push(t.assignTexture(o,"roughnessMap",r.metallicRoughnessTexture))),a=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),c.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===i.doubleSided&&(o.side=$ilwiq.DoubleSide);const l=i.alphaMode||$559434fcc6e6401d$var$ALPHA_MODES.OPAQUE;if(l===$559434fcc6e6401d$var$ALPHA_MODES.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,l===$559434fcc6e6401d$var$ALPHA_MODES.MASK&&(o.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&a!==$ilwiq.MeshBasicMaterial&&(c.push(t.assignTexture(o,"normalMap",i.normalTexture)),o.normalScale=new(0,$ilwiq.Vector2)(1,1),void 0!==i.normalTexture.scale)){const e=i.normalTexture.scale;o.normalScale.set(e,e)}return void 0!==i.occlusionTexture&&a!==$ilwiq.MeshBasicMaterial&&(c.push(t.assignTexture(o,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(o.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&a!==$ilwiq.MeshBasicMaterial&&(o.emissive=(new(0,$ilwiq.Color)).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&a!==$ilwiq.MeshBasicMaterial&&c.push(t.assignTexture(o,"emissiveMap",i.emissiveTexture)),Promise.all(c).then((function(){let r;return r=a===$559434fcc6e6401d$var$GLTFMeshStandardSGMaterial?n[$559434fcc6e6401d$var$EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):new a(o),i.name&&(r.name=i.name),r.map&&(r.map.encoding=$ilwiq.sRGBEncoding),r.emissiveMap&&(r.emissiveMap.encoding=$ilwiq.sRGBEncoding),$559434fcc6e6401d$var$assignExtrasToUserData(r,i),t.associations.set(r,{materials:e}),i.extensions&&$559434fcc6e6401d$var$addUnknownExtensionsToUserData(n,r,i),r}))}createUniqueName(e){const t=$ilwiq.PropertyBinding.sanitizeNodeName(e||"");let r=t;for(let e=1;this.nodeNamesUsed[r];++e)r=t+"_"+e;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const t=this,r=this.extensions,n=this.primitiveCache;function i(e){return r[$559434fcc6e6401d$var$EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(r){return $559434fcc6e6401d$var$addPrimitiveAttributes(r,e,t)}))}const a=[];for(let r=0,o=e.length;r<o;r++){const o=e[r],s=$559434fcc6e6401d$var$createPrimitiveKey(o),c=n[s];if(c)a.push(c.promise);else{let e;e=o.extensions&&o.extensions[$559434fcc6e6401d$var$EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]?i(o):$559434fcc6e6401d$var$addPrimitiveAttributes(new(0,$ilwiq.BufferGeometry),o,t),n[s]={primitive:o,promise:e},a.push(e)}}return Promise.all(a)}loadMesh(e){const t=this,r=this.json,n=this.extensions,i=r.meshes[e],a=i.primitives,o=[];for(let e=0,t=a.length;e<t;e++){const t=void 0===a[e].material?$559434fcc6e6401d$var$createDefaultMaterial(this.cache):this.getDependency("material",a[e].material);o.push(t)}return o.push(t.loadGeometries(a)),Promise.all(o).then((function(r){const o=r.slice(0,r.length-1),s=r[r.length-1],c=[];for(let r=0,l=s.length;r<l;r++){const l=s[r],d=a[r];let u;const h=o[r];if(d.mode===$559434fcc6e6401d$var$WEBGL_CONSTANTS.TRIANGLES||d.mode===$559434fcc6e6401d$var$WEBGL_CONSTANTS.TRIANGLE_STRIP||d.mode===$559434fcc6e6401d$var$WEBGL_CONSTANTS.TRIANGLE_FAN||void 0===d.mode)u=!0===i.isSkinnedMesh?new(0,$ilwiq.SkinnedMesh)(l,h):new(0,$ilwiq.Mesh)(l,h),!0!==u.isSkinnedMesh||u.geometry.attributes.skinWeight.normalized||u.normalizeSkinWeights(),d.mode===$559434fcc6e6401d$var$WEBGL_CONSTANTS.TRIANGLE_STRIP?u.geometry=$559434fcc6e6401d$var$toTrianglesDrawMode(u.geometry,$ilwiq.TriangleStripDrawMode):d.mode===$559434fcc6e6401d$var$WEBGL_CONSTANTS.TRIANGLE_FAN&&(u.geometry=$559434fcc6e6401d$var$toTrianglesDrawMode(u.geometry,$ilwiq.TriangleFanDrawMode));else if(d.mode===$559434fcc6e6401d$var$WEBGL_CONSTANTS.LINES)u=new(0,$ilwiq.LineSegments)(l,h);else if(d.mode===$559434fcc6e6401d$var$WEBGL_CONSTANTS.LINE_STRIP)u=new(0,$ilwiq.Line)(l,h);else if(d.mode===$559434fcc6e6401d$var$WEBGL_CONSTANTS.LINE_LOOP)u=new(0,$ilwiq.LineLoop)(l,h);else{if(d.mode!==$559434fcc6e6401d$var$WEBGL_CONSTANTS.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+d.mode);u=new(0,$ilwiq.Points)(l,h)}Object.keys(u.geometry.morphAttributes).length>0&&$559434fcc6e6401d$var$updateMorphTargets(u,i),u.name=t.createUniqueName(i.name||"mesh_"+e),$559434fcc6e6401d$var$assignExtrasToUserData(u,i),d.extensions&&$559434fcc6e6401d$var$addUnknownExtensionsToUserData(n,u,d),t.assignFinalMaterial(u),c.push(u)}for(let r=0,n=c.length;r<n;r++)t.associations.set(c[r],{meshes:e,primitives:r});if(1===c.length)return c[0];const l=new(0,$ilwiq.Group);t.associations.set(l,{meshes:e});for(let e=0,t=c.length;e<t;e++)l.add(c[e]);return l}))}loadCamera(e){let t;const r=this.json.cameras[e],n=r[r.type];if(n)return"perspective"===r.type?t=new(0,$ilwiq.PerspectiveCamera)($ilwiq.MathUtils.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===r.type&&(t=new(0,$ilwiq.OrthographicCamera)(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),$559434fcc6e6401d$var$assignExtrasToUserData(t,r),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],r={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return r.inverseBindMatrices=e,r}))}loadAnimation(e){const t=this.json.animations[e],r=[],n=[],i=[],a=[],o=[];for(let e=0,s=t.channels.length;e<s;e++){const s=t.channels[e],c=t.samplers[s.sampler],l=s.target,d=void 0!==l.node?l.node:l.id,u=void 0!==t.parameters?t.parameters[c.input]:c.input,h=void 0!==t.parameters?t.parameters[c.output]:c.output;r.push(this.getDependency("node",d)),n.push(this.getDependency("accessor",u)),i.push(this.getDependency("accessor",h)),a.push(c),o.push(l)}return Promise.all([Promise.all(r),Promise.all(n),Promise.all(i),Promise.all(a),Promise.all(o)]).then((function(r){const n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],c=[];for(let e=0,t=n.length;e<t;e++){const t=n[e],r=i[e],l=a[e],d=o[e],u=s[e];if(void 0===t)continue;let h;switch(t.updateMatrix(),t.matrixAutoUpdate=!0,$559434fcc6e6401d$var$PATH_PROPERTIES[u.path]){case $559434fcc6e6401d$var$PATH_PROPERTIES.weights:h=$ilwiq.NumberKeyframeTrack;break;case $559434fcc6e6401d$var$PATH_PROPERTIES.rotation:h=$ilwiq.QuaternionKeyframeTrack;break;case $559434fcc6e6401d$var$PATH_PROPERTIES.position:case $559434fcc6e6401d$var$PATH_PROPERTIES.scale:default:h=$ilwiq.VectorKeyframeTrack}const f=t.name?t.name:t.uuid,p=void 0!==d.interpolation?$559434fcc6e6401d$var$INTERPOLATION[d.interpolation]:$ilwiq.InterpolateLinear,m=[];$559434fcc6e6401d$var$PATH_PROPERTIES[u.path]===$559434fcc6e6401d$var$PATH_PROPERTIES.weights?t.traverse((function(e){e.morphTargetInfluences&&m.push(e.name?e.name:e.uuid)})):m.push(f);let v=l.array;if(l.normalized){const e=$559434fcc6e6401d$var$getNormalizedComponentScale(v.constructor),t=new Float32Array(v.length);for(let r=0,n=v.length;r<n;r++)t[r]=v[r]*e;v=t}for(let e=0,t=m.length;e<t;e++){const t=new h(m[e]+"."+$559434fcc6e6401d$var$PATH_PROPERTIES[u.path],r.array,v,p);"CUBICSPLINE"===d.interpolation&&(t.createInterpolant=function(e){return new(this instanceof $ilwiq.QuaternionKeyframeTrack?$559434fcc6e6401d$var$GLTFCubicSplineQuaternionInterpolant:$559434fcc6e6401d$var$GLTFCubicSplineInterpolant)(this.times,this.values,this.getValueSize()/3,e)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(t)}}const l=t.name?t.name:"animation_"+e;return new(0,$ilwiq.AnimationClip)(l,void 0,c)}))}createNodeMesh(e){const t=this.json,r=this,n=t.nodes[e];return void 0===n.mesh?null:r.getDependency("mesh",n.mesh).then((function(e){const t=r._getNodeRef(r.meshCache,n.mesh,e);return void 0!==n.weights&&t.traverse((function(e){if(e.isMesh)for(let t=0,r=n.weights.length;t<r;t++)e.morphTargetInfluences[t]=n.weights[t]})),t}))}loadNode(e){const t=this.json,r=this.extensions,n=this,i=t.nodes[e],a=i.name?n.createUniqueName(i.name):"";return function(){const t=[],r=n._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return r&&t.push(r),void 0!==i.camera&&t.push(n.getDependency("camera",i.camera).then((function(e){return n._getNodeRef(n.cameraCache,i.camera,e)}))),n._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)}().then((function(t){let o;if(o=!0===i.isBone?new(0,$ilwiq.Bone):t.length>1?new(0,$ilwiq.Group):1===t.length?t[0]:new(0,$ilwiq.Object3D),o!==t[0])for(let e=0,r=t.length;e<r;e++)o.add(t[e]);if(i.name&&(o.userData.name=i.name,o.name=a),$559434fcc6e6401d$var$assignExtrasToUserData(o,i),i.extensions&&$559434fcc6e6401d$var$addUnknownExtensionsToUserData(r,o,i),void 0!==i.matrix){const e=new(0,$ilwiq.Matrix4);e.fromArray(i.matrix),o.applyMatrix4(e)}else void 0!==i.translation&&o.position.fromArray(i.translation),void 0!==i.rotation&&o.quaternion.fromArray(i.rotation),void 0!==i.scale&&o.scale.fromArray(i.scale);return n.associations.has(o)||n.associations.set(o,{}),n.associations.get(o).nodes=e,o}))}loadScene(e){const t=this.json,r=this.extensions,n=this.json.scenes[e],i=this,a=new(0,$ilwiq.Group);n.name&&(a.name=i.createUniqueName(n.name)),$559434fcc6e6401d$var$assignExtrasToUserData(a,n),n.extensions&&$559434fcc6e6401d$var$addUnknownExtensionsToUserData(r,a,n);const o=n.nodes||[],s=[];for(let e=0,r=o.length;e<r;e++)s.push($559434fcc6e6401d$var$buildNodeHierarchy(o[e],a,t,i));return Promise.all(s).then((function(){return i.associations=(e=>{const t=new Map;for(const[e,r]of i.associations)(e instanceof $ilwiq.Material||e instanceof $ilwiq.Texture)&&t.set(e,r);return e.traverse((e=>{const r=i.associations.get(e);null!=r&&t.set(e,r)})),t})(a),a}))}}function $559434fcc6e6401d$var$buildNodeHierarchy(e,t,r,n){const i=r.nodes[e];return n.getDependency("node",e).then((function(e){if(void 0===i.skin)return e;let t;return n.getDependency("skin",i.skin).then((function(e){t=e;const r=[];for(let e=0,i=t.joints.length;e<i;e++)r.push(n.getDependency("node",t.joints[e]));return Promise.all(r)})).then((function(r){return e.traverse((function(e){if(!e.isMesh)return;const n=[],i=[];for(let e=0,a=r.length;e<a;e++){const a=r[e];if(a){n.push(a);const r=new(0,$ilwiq.Matrix4);void 0!==t.inverseBindMatrices&&r.fromArray(t.inverseBindMatrices.array,16*e),i.push(r)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[e])}e.bind(new(0,$ilwiq.Skeleton)(n,i),e.matrixWorld)})),e}))})).then((function(e){t.add(e);const a=[];if(i.children){const t=i.children;for(let i=0,o=t.length;i<o;i++){const o=t[i];a.push($559434fcc6e6401d$var$buildNodeHierarchy(o,e,r,n))}}return Promise.all(a)}))}function $559434fcc6e6401d$var$computeBounds(e,t,r){const n=t.attributes,i=new(0,$ilwiq.Box3);if(void 0===n.POSITION)return;{const e=r.json.accessors[n.POSITION],t=e.min,a=e.max;if(void 0===t||void 0===a)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(i.set(new(0,$ilwiq.Vector3)(t[0],t[1],t[2]),new(0,$ilwiq.Vector3)(a[0],a[1],a[2])),e.normalized){const t=$559434fcc6e6401d$var$getNormalizedComponentScale($559434fcc6e6401d$var$WEBGL_COMPONENT_TYPES[e.componentType]);i.min.multiplyScalar(t),i.max.multiplyScalar(t)}}const a=t.targets;if(void 0!==a){const e=new(0,$ilwiq.Vector3),t=new(0,$ilwiq.Vector3);for(let n=0,i=a.length;n<i;n++){const i=a[n];if(void 0!==i.POSITION){const n=r.json.accessors[i.POSITION],a=n.min,o=n.max;if(void 0!==a&&void 0!==o){if(t.setX(Math.max(Math.abs(a[0]),Math.abs(o[0]))),t.setY(Math.max(Math.abs(a[1]),Math.abs(o[1]))),t.setZ(Math.max(Math.abs(a[2]),Math.abs(o[2]))),n.normalized){const e=$559434fcc6e6401d$var$getNormalizedComponentScale($559434fcc6e6401d$var$WEBGL_COMPONENT_TYPES[n.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(e)}e.boundingBox=i;const o=new(0,$ilwiq.Sphere);i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=o}function $559434fcc6e6401d$var$addPrimitiveAttributes(e,t,r){const n=t.attributes,i=[];function a(t,n){return r.getDependency("accessor",t).then((function(t){e.setAttribute(n,t)}))}for(const t in n){const r=$559434fcc6e6401d$var$ATTRIBUTES[t]||t.toLowerCase();r in e.attributes||i.push(a(n[t],r))}if(void 0!==t.indices&&!e.index){const n=r.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(n)}return $559434fcc6e6401d$var$assignExtrasToUserData(e,t),$559434fcc6e6401d$var$computeBounds(e,t,r),Promise.all(i).then((function(){return void 0!==t.targets?$559434fcc6e6401d$var$addMorphTargets(e,t.targets,r):e}))}function $559434fcc6e6401d$var$toTrianglesDrawMode(e,t){let r=e.getIndex();if(null===r){const t=[],n=e.getAttribute("position");if(void 0===n)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<n.count;e++)t.push(e);e.setIndex(t),r=e.getIndex()}const n=r.count-2,i=[];if(t===$ilwiq.TriangleFanDrawMode)for(let e=1;e<=n;e++)i.push(r.getX(0)),i.push(r.getX(e)),i.push(r.getX(e+1));else for(let e=0;e<n;e++)e%2==0?(i.push(r.getX(e)),i.push(r.getX(e+1)),i.push(r.getX(e+2))):(i.push(r.getX(e+2)),i.push(r.getX(e+1)),i.push(r.getX(e)));i.length/3!==n&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=e.clone();return a.setIndex(i),a}function $21bb7f0d2894673a$var$_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $21bb7f0d2894673a$var$_inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}
/*!
 * GSAP 3.10.4
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var $21bb7f0d2894673a$export$4922bee768729a77={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},$21bb7f0d2894673a$var$_defaults={duration:.5,overwrite:!1,delay:0},$21bb7f0d2894673a$var$_suppressOverwrites,$21bb7f0d2894673a$var$_bigNum=1e8,$21bb7f0d2894673a$var$_tinyNum=1/$21bb7f0d2894673a$var$_bigNum,$21bb7f0d2894673a$var$_2PI=2*Math.PI,$21bb7f0d2894673a$var$_HALF_PI=$21bb7f0d2894673a$var$_2PI/4,$21bb7f0d2894673a$var$_gsID=0,$21bb7f0d2894673a$var$_sqrt=Math.sqrt,$21bb7f0d2894673a$var$_cos=Math.cos,$21bb7f0d2894673a$var$_sin=Math.sin,$21bb7f0d2894673a$export$f664476fd67145ca=function(e){return"string"==typeof e},$21bb7f0d2894673a$var$_isFunction=function(e){return"function"==typeof e},$21bb7f0d2894673a$var$_isNumber=function(e){return"number"==typeof e},$21bb7f0d2894673a$export$a8178c063a9fd3a1=function(e){return void 0===e},$21bb7f0d2894673a$var$_isObject=function(e){return"object"==typeof e},$21bb7f0d2894673a$var$_isNotFalse=function(e){return!1!==e},$21bb7f0d2894673a$var$_windowExists=function(){return"undefined"!=typeof window},$21bb7f0d2894673a$var$_isFuncOrString=function(e){return $21bb7f0d2894673a$var$_isFunction(e)||$21bb7f0d2894673a$export$f664476fd67145ca(e)},$21bb7f0d2894673a$var$_isTypedArray="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},$21bb7f0d2894673a$var$_isArray=Array.isArray,$21bb7f0d2894673a$var$_strictNumExp=/(?:-?\.?\d|\.)+/gi,$21bb7f0d2894673a$export$b9d44bb6523120d6=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,$21bb7f0d2894673a$export$65c88bbd597e7b0a=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,$21bb7f0d2894673a$var$_complexStringNumExp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,$21bb7f0d2894673a$export$5a680e28b0b61bc=/[+-]=-?[.\d]+/,$21bb7f0d2894673a$var$_delimitedValueExp=/[^,'"\[\]\s]+/gi,$21bb7f0d2894673a$var$_unitExp=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,$21bb7f0d2894673a$var$_globalTimeline,$21bb7f0d2894673a$var$_win,$21bb7f0d2894673a$var$_coreInitted,$21bb7f0d2894673a$var$_doc,$21bb7f0d2894673a$var$_globals={},$21bb7f0d2894673a$var$_installScope={},$21bb7f0d2894673a$var$_coreReady,$21bb7f0d2894673a$var$_install=function(e){return($21bb7f0d2894673a$var$_installScope=$21bb7f0d2894673a$var$_merge(e,$21bb7f0d2894673a$var$_globals))&&$21bb7f0d2894673a$export$99ee26438460406a},$21bb7f0d2894673a$export$7fb54635790b59a5=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},$21bb7f0d2894673a$var$_warn=function(e,t){return!t&&console.warn(e)},$21bb7f0d2894673a$var$_addGlobal=function(e,t){return e&&($21bb7f0d2894673a$var$_globals[e]=t)&&$21bb7f0d2894673a$var$_installScope&&($21bb7f0d2894673a$var$_installScope[e]=t)||$21bb7f0d2894673a$var$_globals},$21bb7f0d2894673a$var$_emptyFunc=function(){return 0},$21bb7f0d2894673a$var$_reservedProps={},$21bb7f0d2894673a$var$_lazyTweens=[],$21bb7f0d2894673a$var$_lazyLookup={},$21bb7f0d2894673a$var$_lastRenderedFrame,$21bb7f0d2894673a$export$d305d8ec5d7c26b8={},$21bb7f0d2894673a$var$_effects={},$21bb7f0d2894673a$var$_nextGCFrame=30,$21bb7f0d2894673a$var$_harnessPlugins=[],$21bb7f0d2894673a$var$_callbackNames="",$21bb7f0d2894673a$var$_harness=function(e){var t,r,n=e[0];if($21bb7f0d2894673a$var$_isObject(n)||$21bb7f0d2894673a$var$_isFunction(n)||(e=[e]),!(t=(n._gsap||{}).harness)){for(r=$21bb7f0d2894673a$var$_harnessPlugins.length;r--&&!$21bb7f0d2894673a$var$_harnessPlugins[r].targetTest(n););t=$21bb7f0d2894673a$var$_harnessPlugins[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new $21bb7f0d2894673a$export$cf10981d5419cad5(e[r],t)))||e.splice(r,1);return e},$21bb7f0d2894673a$export$8b9be379d2de2a39=function(e){return e._gsap||$21bb7f0d2894673a$var$_harness($21bb7f0d2894673a$export$45b10814cc054894(e))[0]._gsap},$21bb7f0d2894673a$export$51d6bbe898aef1f9=function(e,t,r){return(r=e[t])&&$21bb7f0d2894673a$var$_isFunction(r)?e[t]():$21bb7f0d2894673a$export$a8178c063a9fd3a1(r)&&e.getAttribute&&e.getAttribute(t)||r},$21bb7f0d2894673a$export$f9000b814859f126=function(e,t){return(e=e.split(",")).forEach(t)||e},$21bb7f0d2894673a$export$9c8d725d65e13f94=function(e){return Math.round(1e5*e)/1e5||0},$21bb7f0d2894673a$var$_roundPrecise=function(e){return Math.round(1e7*e)/1e7||0},$21bb7f0d2894673a$export$dac762bc6301b560=function(e,t){var r=t.charAt(0),n=parseFloat(t.substr(2));return e=parseFloat(e),"+"===r?e+n:"-"===r?e-n:"*"===r?e*n:e/n},$21bb7f0d2894673a$var$_arrayContainsAny=function(e,t){for(var r=t.length,n=0;e.indexOf(t[n])<0&&++n<r;);return n<r},$21bb7f0d2894673a$var$_lazyRender=function(){var e,t,r=$21bb7f0d2894673a$var$_lazyTweens.length,n=$21bb7f0d2894673a$var$_lazyTweens.slice(0);for($21bb7f0d2894673a$var$_lazyLookup={},$21bb7f0d2894673a$var$_lazyTweens.length=0,e=0;e<r;e++)(t=n[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},$21bb7f0d2894673a$var$_lazySafeRender=function(e,t,r,n){$21bb7f0d2894673a$var$_lazyTweens.length&&$21bb7f0d2894673a$var$_lazyRender(),e.render(t,r,n),$21bb7f0d2894673a$var$_lazyTweens.length&&$21bb7f0d2894673a$var$_lazyRender()},$21bb7f0d2894673a$var$_numericIfPossible=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match($21bb7f0d2894673a$var$_delimitedValueExp).length<2?t:$21bb7f0d2894673a$export$f664476fd67145ca(e)?e.trim():e},$21bb7f0d2894673a$var$_passThrough=function(e){return e},$21bb7f0d2894673a$export$dc2b19673bb53610=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},$21bb7f0d2894673a$var$_setKeyframeDefaults=function(e){return function(t,r){for(var n in r)n in t||"duration"===n&&e||"ease"===n||(t[n]=r[n])}},$21bb7f0d2894673a$var$_merge=function(e,t){for(var r in t)e[r]=t[r];return e},$21bb7f0d2894673a$var$_mergeDeep=function e(t,r){for(var n in r)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(t[n]=$21bb7f0d2894673a$var$_isObject(r[n])?e(t[n]||(t[n]={}),r[n]):r[n]);return t},$21bb7f0d2894673a$var$_copyExcluding=function(e,t){var r,n={};for(r in e)r in t||(n[r]=e[r]);return n},$21bb7f0d2894673a$var$_inheritDefaults=function(e){var t=e.parent||$21bb7f0d2894673a$var$_globalTimeline,r=e.keyframes?$21bb7f0d2894673a$var$_setKeyframeDefaults($21bb7f0d2894673a$var$_isArray(e.keyframes)):$21bb7f0d2894673a$export$dc2b19673bb53610;if($21bb7f0d2894673a$var$_isNotFalse(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},$21bb7f0d2894673a$var$_arraysMatch=function(e,t){for(var r=e.length,n=r===t.length;n&&r--&&e[r]===t[r];);return r<0},$21bb7f0d2894673a$var$_addLinkedListItem=function(e,t,r,n,i){void 0===r&&(r="_first"),void 0===n&&(n="_last");var a,o=e[n];if(i)for(a=t[i];o&&o[i]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[n]=t,t._prev=o,t.parent=t._dp=e,t},$21bb7f0d2894673a$export$cd008aa6cd8844e3=function(e,t,r,n){void 0===r&&(r="_first"),void 0===n&&(n="_last");var i=t._prev,a=t._next;i?i._next=a:e[r]===t&&(e[r]=a),a?a._prev=i:e[n]===t&&(e[n]=i),t._next=t._prev=t.parent=null},$21bb7f0d2894673a$var$_removeFromParent=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},$21bb7f0d2894673a$var$_uncache=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},$21bb7f0d2894673a$var$_recacheAncestors=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},$21bb7f0d2894673a$var$_hasNoPausedAncestors=function e(t){return!t||t._ts&&e(t.parent)},$21bb7f0d2894673a$var$_elapsedCycleDuration=function(e){return e._repeat?$21bb7f0d2894673a$var$_animationCycle(e._tTime,e=e.duration()+e._rDelay)*e:0},$21bb7f0d2894673a$var$_animationCycle=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},$21bb7f0d2894673a$var$_parentToChildTotalTime=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},$21bb7f0d2894673a$var$_setEnd=function(e){return e._end=$21bb7f0d2894673a$var$_roundPrecise(e._start+(e._tDur/Math.abs(e._ts||e._rts||$21bb7f0d2894673a$var$_tinyNum)||0))},$21bb7f0d2894673a$var$_alignPlayhead=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=$21bb7f0d2894673a$var$_roundPrecise(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),$21bb7f0d2894673a$var$_setEnd(e),r._dirty||$21bb7f0d2894673a$var$_uncache(r,e)),e},$21bb7f0d2894673a$var$_postAddChecks=function(e,t){var r;if((t._time||t._initted&&!t._dur)&&(r=$21bb7f0d2894673a$var$_parentToChildTotalTime(e.rawTime(),t),(!t._dur||$21bb7f0d2894673a$var$_clamp(0,t.totalDuration(),r)-t._tTime>$21bb7f0d2894673a$var$_tinyNum)&&t.render(r,!0)),$21bb7f0d2894673a$var$_uncache(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-$21bb7f0d2894673a$var$_tinyNum}},$21bb7f0d2894673a$var$_addToTimeline=function(e,t,r,n){return t.parent&&$21bb7f0d2894673a$var$_removeFromParent(t),t._start=$21bb7f0d2894673a$var$_roundPrecise(($21bb7f0d2894673a$var$_isNumber(r)?r:r||e!==$21bb7f0d2894673a$var$_globalTimeline?$21bb7f0d2894673a$var$_parsePosition(e,r,t):e._time)+t._delay),t._end=$21bb7f0d2894673a$var$_roundPrecise(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),$21bb7f0d2894673a$var$_addLinkedListItem(e,t,"_first","_last",e._sort?"_start":0),$21bb7f0d2894673a$var$_isFromOrFromStart(t)||(e._recent=t),n||$21bb7f0d2894673a$var$_postAddChecks(e,t),e},$21bb7f0d2894673a$var$_scrollTrigger=function(e,t){return($21bb7f0d2894673a$var$_globals.ScrollTrigger||$21bb7f0d2894673a$export$7fb54635790b59a5("scrollTrigger",t))&&$21bb7f0d2894673a$var$_globals.ScrollTrigger.create(t,e)},$21bb7f0d2894673a$var$_attemptInitTween=function(e,t,r,n){return $21bb7f0d2894673a$var$_initTween(e,t),e._initted?!r&&e._pt&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&$21bb7f0d2894673a$var$_lastRenderedFrame!==$21bb7f0d2894673a$export$762ed8fbedb691e3.frame?($21bb7f0d2894673a$var$_lazyTweens.push(e),e._lazy=[t,n],1):void 0:1},$21bb7f0d2894673a$var$_parentPlayheadIsBeforeStart=function e(t){var r=t.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||e(r))},$21bb7f0d2894673a$var$_isFromOrFromStart=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},$21bb7f0d2894673a$var$_renderZeroDurationTween=function(e,t,r,n){var i,a,o,s=e.ratio,c=t<0||!t&&(!e._start&&$21bb7f0d2894673a$var$_parentPlayheadIsBeforeStart(e)&&(e._initted||!$21bb7f0d2894673a$var$_isFromOrFromStart(e))||(e._ts<0||e._dp._ts<0)&&!$21bb7f0d2894673a$var$_isFromOrFromStart(e))?0:1,l=e._rDelay,d=0;if(l&&e._repeat&&(d=$21bb7f0d2894673a$var$_clamp(0,e._tDur,t),a=$21bb7f0d2894673a$var$_animationCycle(d,l),e._yoyo&&1&a&&(c=1-c),a!==$21bb7f0d2894673a$var$_animationCycle(e._tTime,l)&&(s=1-c,e.vars.repeatRefresh&&e._initted&&e.invalidate())),c!==s||n||e._zTime===$21bb7f0d2894673a$var$_tinyNum||!t&&e._zTime){if(!e._initted&&$21bb7f0d2894673a$var$_attemptInitTween(e,t,n,r))return;for(o=e._zTime,e._zTime=t||(r?$21bb7f0d2894673a$var$_tinyNum:0),r||(r=t&&!o),e.ratio=c,e._from&&(c=1-c),e._time=0,e._tTime=d,i=e._pt;i;)i.r(c,i.d),i=i._next;e._startAt&&t<0&&e._startAt.render(t,!0,!0),e._onUpdate&&!r&&$21bb7f0d2894673a$var$_callback(e,"onUpdate"),d&&e._repeat&&!r&&e.parent&&$21bb7f0d2894673a$var$_callback(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===c&&(c&&$21bb7f0d2894673a$var$_removeFromParent(e,1),r||($21bb7f0d2894673a$var$_callback(e,c?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},$21bb7f0d2894673a$var$_findNextPauseTween=function(e,t,r){var n;if(r>t)for(n=e._first;n&&n._start<=r;){if("isPause"===n.data&&n._start>t)return n;n=n._next}else for(n=e._last;n&&n._start>=r;){if("isPause"===n.data&&n._start<t)return n;n=n._prev}},$21bb7f0d2894673a$var$_setDuration=function(e,t,r,n){var i=e._repeat,a=$21bb7f0d2894673a$var$_roundPrecise(t)||0,o=e._tTime/e._tDur;return o&&!n&&(e._time*=a/e._dur),e._dur=a,e._tDur=i?i<0?1e10:$21bb7f0d2894673a$var$_roundPrecise(a*(i+1)+e._rDelay*i):a,o>0&&!n?$21bb7f0d2894673a$var$_alignPlayhead(e,e._tTime=e._tDur*o):e.parent&&$21bb7f0d2894673a$var$_setEnd(e),r||$21bb7f0d2894673a$var$_uncache(e.parent,e),e},$21bb7f0d2894673a$var$_onUpdateTotalDuration=function(e){return e instanceof $21bb7f0d2894673a$export$e6a97ba2cae5bb94?$21bb7f0d2894673a$var$_uncache(e):$21bb7f0d2894673a$var$_setDuration(e,e._dur)},$21bb7f0d2894673a$var$_zeroPosition={_start:0,endTime:$21bb7f0d2894673a$var$_emptyFunc,totalDuration:$21bb7f0d2894673a$var$_emptyFunc},$21bb7f0d2894673a$var$_parsePosition=function e(t,r,n){var i,a,o,s=t.labels,c=t._recent||$21bb7f0d2894673a$var$_zeroPosition,l=t.duration()>=$21bb7f0d2894673a$var$_bigNum?c.endTime(!1):t._dur;return $21bb7f0d2894673a$export$f664476fd67145ca(r)&&(isNaN(r)||r in s)?(a=r.charAt(0),o="%"===r.substr(-1),i=r.indexOf("="),"<"===a||">"===a?(i>=0&&(r=r.replace(/=/,"")),("<"===a?c._start:c.endTime(c._repeat>=0))+(parseFloat(r.substr(1))||0)*(o?(i<0?c:n).totalDuration()/100:1)):i<0?(r in s||(s[r]=l),s[r]):(a=parseFloat(r.charAt(i-1)+r.substr(i+1)),o&&n&&(a=a/100*($21bb7f0d2894673a$var$_isArray(n)?n[0]:n).totalDuration()),i>1?e(t,r.substr(0,i-1),n)+a:l+a)):null==r?l:+r},$21bb7f0d2894673a$var$_createTweenType=function(e,t,r){var n,i,a=$21bb7f0d2894673a$var$_isNumber(t[1]),o=(a?2:1)+(e<2?0:1),s=t[o];if(a&&(s.duration=t[1]),s.parent=r,e){for(n=s,i=r;i&&!("immediateRender"in n);)n=i.vars.defaults||{},i=$21bb7f0d2894673a$var$_isNotFalse(i.vars.inherit)&&i.parent;s.immediateRender=$21bb7f0d2894673a$var$_isNotFalse(n.immediateRender),e<2?s.runBackwards=1:s.startAt=t[o-1]}return new $21bb7f0d2894673a$export$208a41d6b4e37b97(t[0],s,t[o+1])},$21bb7f0d2894673a$var$_conditionalReturn=function(e,t){return e||0===e?t(e):t},$21bb7f0d2894673a$var$_clamp=function(e,t,r){return r<e?e:r>t?t:r},$21bb7f0d2894673a$export$65f2564e9a9b9222=function(e,t){return $21bb7f0d2894673a$export$f664476fd67145ca(e)&&(t=$21bb7f0d2894673a$var$_unitExp.exec(e))?t[1]:""},$21bb7f0d2894673a$export$7d15b64cf5a3a4c4=function(e,t,r){return $21bb7f0d2894673a$var$_conditionalReturn(r,(function(r){return $21bb7f0d2894673a$var$_clamp(e,t,r)}))},$21bb7f0d2894673a$var$_slice=[].slice,$21bb7f0d2894673a$var$_isArrayLike=function(e,t){return e&&$21bb7f0d2894673a$var$_isObject(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&$21bb7f0d2894673a$var$_isObject(e[0]))&&!e.nodeType&&e!==$21bb7f0d2894673a$var$_win},$21bb7f0d2894673a$var$_flatten=function(e,t,r){return void 0===r&&(r=[]),e.forEach((function(e){var n;return $21bb7f0d2894673a$export$f664476fd67145ca(e)&&!t||$21bb7f0d2894673a$var$_isArrayLike(e,1)?(n=r).push.apply(n,$21bb7f0d2894673a$export$45b10814cc054894(e)):r.push(e)}))||r},$21bb7f0d2894673a$export$45b10814cc054894=function(e,t,r){return!$21bb7f0d2894673a$export$f664476fd67145ca(e)||r||!$21bb7f0d2894673a$var$_coreInitted&&$21bb7f0d2894673a$var$_wake()?$21bb7f0d2894673a$var$_isArray(e)?$21bb7f0d2894673a$var$_flatten(e,r):$21bb7f0d2894673a$var$_isArrayLike(e)?$21bb7f0d2894673a$var$_slice.call(e,0):e?[e]:[]:$21bb7f0d2894673a$var$_slice.call((t||$21bb7f0d2894673a$var$_doc).querySelectorAll(e),0)},$21bb7f0d2894673a$export$aea217a45095ce11=function(e){return e=$21bb7f0d2894673a$export$45b10814cc054894(e)[0]||$21bb7f0d2894673a$var$_warn("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return $21bb7f0d2894673a$export$45b10814cc054894(t,r.querySelectorAll?r:r===e?$21bb7f0d2894673a$var$_warn("Invalid scope")||$21bb7f0d2894673a$var$_doc.createElement("div"):e)}},$21bb7f0d2894673a$export$448332262467e042=function(e){return e.sort((function(){return.5-Math.random()}))},$21bb7f0d2894673a$export$f02a9ddbe4480f19=function(e){if($21bb7f0d2894673a$var$_isFunction(e))return e;var t=$21bb7f0d2894673a$var$_isObject(e)?e:{each:e},r=$21bb7f0d2894673a$var$_parseEase(t.ease),n=t.from||0,i=parseFloat(t.base)||0,a={},o=n>0&&n<1,s=isNaN(n)||o,c=t.axis,l=n,d=n;return $21bb7f0d2894673a$export$f664476fd67145ca(n)?l=d={center:.5,edges:.5,end:1}[n]||0:!o&&s&&(l=n[0],d=n[1]),function(e,o,u){var h,f,p,m,v,$,g,b,x,y=(u||t).length,w=a[y];if(!w){if(!(x="auto"===t.grid?0:(t.grid||[1,$21bb7f0d2894673a$var$_bigNum])[1])){for(g=-$21bb7f0d2894673a$var$_bigNum;g<(g=u[x++].getBoundingClientRect().left)&&x<y;);x--}for(w=a[y]=[],h=s?Math.min(x,y)*l-.5:n%x,f=x===$21bb7f0d2894673a$var$_bigNum?0:s?y*d/x-.5:n/x|0,g=0,b=$21bb7f0d2894673a$var$_bigNum,$=0;$<y;$++)p=$%x-h,m=f-($/x|0),w[$]=v=c?Math.abs("y"===c?m:p):$21bb7f0d2894673a$var$_sqrt(p*p+m*m),v>g&&(g=v),v<b&&(b=v);"random"===n&&$21bb7f0d2894673a$export$448332262467e042(w),w.max=g-b,w.min=b,w.v=y=(parseFloat(t.amount)||parseFloat(t.each)*(x>y?y-1:c?"y"===c?y/x:x:Math.max(x,y/x))||0)*("edges"===n?-1:1),w.b=y<0?i-y:i,w.u=$21bb7f0d2894673a$export$65f2564e9a9b9222(t.amount||t.each)||0,r=r&&y<0?$21bb7f0d2894673a$var$_invertEase(r):r}return y=(w[e]-w.min)/w.max||0,$21bb7f0d2894673a$var$_roundPrecise(w.b+(r?r(y):y)*w.v)+w.u}},$21bb7f0d2894673a$export$dd12390e6b265a17=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var n=Math.round(parseFloat(r)/e)*e*t;return(n-n%1)/t+($21bb7f0d2894673a$var$_isNumber(r)?0:$21bb7f0d2894673a$export$65f2564e9a9b9222(r))}},$21bb7f0d2894673a$export$51a0620f7a28532b=function(e,t){var r,n,i=$21bb7f0d2894673a$var$_isArray(e);return!i&&$21bb7f0d2894673a$var$_isObject(e)&&(r=i=e.radius||$21bb7f0d2894673a$var$_bigNum,e.values?(e=$21bb7f0d2894673a$export$45b10814cc054894(e.values),(n=!$21bb7f0d2894673a$var$_isNumber(e[0]))&&(r*=r)):e=$21bb7f0d2894673a$export$dd12390e6b265a17(e.increment)),$21bb7f0d2894673a$var$_conditionalReturn(t,i?$21bb7f0d2894673a$var$_isFunction(e)?function(t){return n=e(t),Math.abs(n-t)<=r?n:t}:function(t){for(var i,a,o=parseFloat(n?t.x:t),s=parseFloat(n?t.y:0),c=$21bb7f0d2894673a$var$_bigNum,l=0,d=e.length;d--;)(i=n?(i=e[d].x-o)*i+(a=e[d].y-s)*a:Math.abs(e[d]-o))<c&&(c=i,l=d);return l=!r||c<=r?e[l]:t,n||l===t||$21bb7f0d2894673a$var$_isNumber(t)?l:l+$21bb7f0d2894673a$export$65f2564e9a9b9222(t)}:$21bb7f0d2894673a$export$dd12390e6b265a17(e))},$21bb7f0d2894673a$export$4385e60b38654f68=function(e,t,r,n){return $21bb7f0d2894673a$var$_conditionalReturn($21bb7f0d2894673a$var$_isArray(e)?!t:!0===r?(r=0,!1):!n,(function(){return $21bb7f0d2894673a$var$_isArray(e)?e[~~(Math.random()*e.length)]:(n=(r=r||1e-5)<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+.99*r))/r)*r*n)/n}))},$21bb7f0d2894673a$export$a4627e546088548d=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},$21bb7f0d2894673a$export$d7502930aa5492de=function(e,t){return function(r){return e(parseFloat(r))+(t||$21bb7f0d2894673a$export$65f2564e9a9b9222(r))}},$21bb7f0d2894673a$export$a3295358bff77e=function(e,t,r){return $21bb7f0d2894673a$export$f65a7599bbc6b121(e,t,0,1,r)},$21bb7f0d2894673a$var$_wrapArray=function(e,t,r){return $21bb7f0d2894673a$var$_conditionalReturn(r,(function(r){return e[~~t(r)]}))},$21bb7f0d2894673a$export$4997ffc0176396a6=function e(t,r,n){var i=r-t;return $21bb7f0d2894673a$var$_isArray(t)?$21bb7f0d2894673a$var$_wrapArray(t,e(0,t.length),r):$21bb7f0d2894673a$var$_conditionalReturn(n,(function(e){return(i+(e-t)%i)%i+t}))},$21bb7f0d2894673a$export$cfc0b067273edc55=function e(t,r,n){var i=r-t,a=2*i;return $21bb7f0d2894673a$var$_isArray(t)?$21bb7f0d2894673a$var$_wrapArray(t,e(0,t.length-1),r):$21bb7f0d2894673a$var$_conditionalReturn(n,(function(e){return t+((e=(a+(e-t)%a)%a||0)>i?a-e:e)}))},$21bb7f0d2894673a$export$d5962a97e3cde94d=function(e){for(var t,r,n,i,a=0,o="";~(t=e.indexOf("random(",a));)n=e.indexOf(")",t),i="["===e.charAt(t+7),r=e.substr(t+7,n-t-7).match(i?$21bb7f0d2894673a$var$_delimitedValueExp:$21bb7f0d2894673a$var$_strictNumExp),o+=e.substr(a,t-a)+$21bb7f0d2894673a$export$4385e60b38654f68(i?r:+r[0],i?0:+r[1],+r[2]||1e-5),a=n+1;return o+e.substr(a,e.length-a)},$21bb7f0d2894673a$export$f65a7599bbc6b121=function(e,t,r,n,i){var a=t-e,o=n-r;return $21bb7f0d2894673a$var$_conditionalReturn(i,(function(t){return r+((t-e)/a*o||0)}))},$21bb7f0d2894673a$export$89e29e4ab65e70a9=function e(t,r,n,i){var a=isNaN(t+r)?0:function(e){return(1-e)*t+e*r};if(!a){var o,s,c,l,d,u=$21bb7f0d2894673a$export$f664476fd67145ca(t),h={};if(!0===n&&(i=1)&&(n=null),u)t={p:t},r={p:r};else if($21bb7f0d2894673a$var$_isArray(t)&&!$21bb7f0d2894673a$var$_isArray(r)){for(c=[],l=t.length,d=l-2,s=1;s<l;s++)c.push(e(t[s-1],t[s]));l--,a=function(e){e*=l;var t=Math.min(d,~~e);return c[t](e-t)},n=r}else i||(t=$21bb7f0d2894673a$var$_merge($21bb7f0d2894673a$var$_isArray(t)?[]:{},t));if(!c){for(o in r)$21bb7f0d2894673a$var$_addPropTween.call(h,t,o,"get",r[o]);a=function(e){return $21bb7f0d2894673a$var$_renderPropTweens(e,h)||(u?t.p:t)}}}return $21bb7f0d2894673a$var$_conditionalReturn(n,a)},$21bb7f0d2894673a$var$_getLabelInDirection=function(e,t,r){var n,i,a,o=e.labels,s=$21bb7f0d2894673a$var$_bigNum;for(n in o)(i=o[n]-t)<0==!!r&&i&&s>(i=Math.abs(i))&&(a=n,s=i);return a},$21bb7f0d2894673a$var$_callback=function(e,t,r){var n,i,a=e.vars,o=a[t];if(o)return n=a[t+"Params"],i=a.callbackScope||e,r&&$21bb7f0d2894673a$var$_lazyTweens.length&&$21bb7f0d2894673a$var$_lazyRender(),n?o.apply(i,n):o.call(i)},$21bb7f0d2894673a$var$_interrupt=function(e){return $21bb7f0d2894673a$var$_removeFromParent(e),e.scrollTrigger&&e.scrollTrigger.kill(!1),e.progress()<1&&$21bb7f0d2894673a$var$_callback(e,"onInterrupt"),e},$21bb7f0d2894673a$var$_quickTween,$21bb7f0d2894673a$var$_createPlugin=function(e){var t=(e=!e.name&&e.default||e).name,r=$21bb7f0d2894673a$var$_isFunction(e),n=t&&!r&&e.init?function(){this._props=[]}:e,i={init:$21bb7f0d2894673a$var$_emptyFunc,render:$21bb7f0d2894673a$var$_renderPropTweens,add:$21bb7f0d2894673a$var$_addPropTween,kill:$21bb7f0d2894673a$var$_killPropTweensOf,modifier:$21bb7f0d2894673a$var$_addPluginModifier,rawVars:0},a={targetTest:0,get:0,getSetter:$21bb7f0d2894673a$export$d60fbc1e0278aaf0,aliases:{},register:0};if($21bb7f0d2894673a$var$_wake(),e!==n){if($21bb7f0d2894673a$export$d305d8ec5d7c26b8[t])return;$21bb7f0d2894673a$export$dc2b19673bb53610(n,$21bb7f0d2894673a$export$dc2b19673bb53610($21bb7f0d2894673a$var$_copyExcluding(e,i),a)),$21bb7f0d2894673a$var$_merge(n.prototype,$21bb7f0d2894673a$var$_merge(i,$21bb7f0d2894673a$var$_copyExcluding(e,a))),$21bb7f0d2894673a$export$d305d8ec5d7c26b8[n.prop=t]=n,e.targetTest&&($21bb7f0d2894673a$var$_harnessPlugins.push(n),$21bb7f0d2894673a$var$_reservedProps[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}$21bb7f0d2894673a$var$_addGlobal(t,n),e.register&&e.register($21bb7f0d2894673a$export$99ee26438460406a,n,$21bb7f0d2894673a$export$3a67f7f44b1e838a)},$21bb7f0d2894673a$var$_255=255,$21bb7f0d2894673a$var$_colorLookup={aqua:[0,$21bb7f0d2894673a$var$_255,$21bb7f0d2894673a$var$_255],lime:[0,$21bb7f0d2894673a$var$_255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,$21bb7f0d2894673a$var$_255],navy:[0,0,128],white:[$21bb7f0d2894673a$var$_255,$21bb7f0d2894673a$var$_255,$21bb7f0d2894673a$var$_255],olive:[128,128,0],yellow:[$21bb7f0d2894673a$var$_255,$21bb7f0d2894673a$var$_255,0],orange:[$21bb7f0d2894673a$var$_255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[$21bb7f0d2894673a$var$_255,0,0],pink:[$21bb7f0d2894673a$var$_255,192,203],cyan:[0,$21bb7f0d2894673a$var$_255,$21bb7f0d2894673a$var$_255],transparent:[$21bb7f0d2894673a$var$_255,$21bb7f0d2894673a$var$_255,$21bb7f0d2894673a$var$_255,0]},$21bb7f0d2894673a$var$_hue=function(e,t,r){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(r-t)*e*6:e<.5?r:3*e<2?t+(r-t)*(2/3-e)*6:t)*$21bb7f0d2894673a$var$_255+.5|0},$21bb7f0d2894673a$export$73d6f35be992df24=function(e,t,r){var n,i,a,o,s,c,l,d,u,h,f=e?$21bb7f0d2894673a$var$_isNumber(e)?[e>>16,e>>8&$21bb7f0d2894673a$var$_255,e&$21bb7f0d2894673a$var$_255]:0:$21bb7f0d2894673a$var$_colorLookup.black;if(!f){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),$21bb7f0d2894673a$var$_colorLookup[e])f=$21bb7f0d2894673a$var$_colorLookup[e];else if("#"===e.charAt(0)){if(e.length<6&&(n=e.charAt(1),i=e.charAt(2),a=e.charAt(3),e="#"+n+n+i+i+a+a+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(f=parseInt(e.substr(1,6),16))>>16,f>>8&$21bb7f0d2894673a$var$_255,f&$21bb7f0d2894673a$var$_255,parseInt(e.substr(7),16)/255];f=[(e=parseInt(e.substr(1),16))>>16,e>>8&$21bb7f0d2894673a$var$_255,e&$21bb7f0d2894673a$var$_255]}else if("hsl"===e.substr(0,3))if(f=h=e.match($21bb7f0d2894673a$var$_strictNumExp),t){if(~e.indexOf("="))return f=e.match($21bb7f0d2894673a$export$b9d44bb6523120d6),r&&f.length<4&&(f[3]=1),f}else o=+f[0]%360/360,s=+f[1]/100,n=2*(c=+f[2]/100)-(i=c<=.5?c*(s+1):c+s-c*s),f.length>3&&(f[3]*=1),f[0]=$21bb7f0d2894673a$var$_hue(o+1/3,n,i),f[1]=$21bb7f0d2894673a$var$_hue(o,n,i),f[2]=$21bb7f0d2894673a$var$_hue(o-1/3,n,i);else f=e.match($21bb7f0d2894673a$var$_strictNumExp)||$21bb7f0d2894673a$var$_colorLookup.transparent;f=f.map(Number)}return t&&!h&&(n=f[0]/$21bb7f0d2894673a$var$_255,i=f[1]/$21bb7f0d2894673a$var$_255,a=f[2]/$21bb7f0d2894673a$var$_255,c=((l=Math.max(n,i,a))+(d=Math.min(n,i,a)))/2,l===d?o=s=0:(u=l-d,s=c>.5?u/(2-l-d):u/(l+d),o=l===n?(i-a)/u+(i<a?6:0):l===i?(a-n)/u+2:(n-i)/u+4,o*=60),f[0]=~~(o+.5),f[1]=~~(100*s+.5),f[2]=~~(100*c+.5)),r&&f.length<4&&(f[3]=1),f},$21bb7f0d2894673a$var$_colorOrderData=function(e){var t=[],r=[],n=-1;return e.split($21bb7f0d2894673a$export$dd733e62515be2bd).forEach((function(e){var i=e.match($21bb7f0d2894673a$export$65c88bbd597e7b0a)||[];t.push.apply(t,i),r.push(n+=i.length+1)})),t.c=r,t},$21bb7f0d2894673a$var$_formatColors=function(e,t,r){var n,i,a,o,s="",c=(e+s).match($21bb7f0d2894673a$export$dd733e62515be2bd),l=t?"hsla(":"rgba(",d=0;if(!c)return e;if(c=c.map((function(e){return(e=$21bb7f0d2894673a$export$73d6f35be992df24(e,t,1))&&l+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),r&&(a=$21bb7f0d2894673a$var$_colorOrderData(e),(n=r.c).join(s)!==a.c.join(s)))for(o=(i=e.replace($21bb7f0d2894673a$export$dd733e62515be2bd,"1").split($21bb7f0d2894673a$export$65c88bbd597e7b0a)).length-1;d<o;d++)s+=i[d]+(~n.indexOf(d)?c.shift()||l+"0,0,0,0)":(a.length?a:c.length?c:r).shift());if(!i)for(o=(i=e.split($21bb7f0d2894673a$export$dd733e62515be2bd)).length-1;d<o;d++)s+=i[d]+c[d];return s+i[o]},$21bb7f0d2894673a$export$dd733e62515be2bd=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in $21bb7f0d2894673a$var$_colorLookup)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),$21bb7f0d2894673a$var$_hslExp=/hsl[a]?\(/,$21bb7f0d2894673a$export$7eb2e5eb5eeb96a4=function(e){var t,r=e.join(" ");if($21bb7f0d2894673a$export$dd733e62515be2bd.lastIndex=0,$21bb7f0d2894673a$export$dd733e62515be2bd.test(r))return t=$21bb7f0d2894673a$var$_hslExp.test(r),e[1]=$21bb7f0d2894673a$var$_formatColors(e[1],t),e[0]=$21bb7f0d2894673a$var$_formatColors(e[0],t,$21bb7f0d2894673a$var$_colorOrderData(e[1])),!0},$21bb7f0d2894673a$var$_tickerActive,$21bb7f0d2894673a$export$762ed8fbedb691e3=(_getTime=Date.now,_lagThreshold=500,_adjustedLag=33,_startTime=_getTime(),_lastUpdate=_startTime,_gap=1e3/240,_nextTime=_gap,_listeners=[],_tick1=function e(t){var r,n,i,a,o=_getTime()-_lastUpdate,s=!0===t;if(o>_lagThreshold&&(_startTime+=o-_adjustedLag),((r=(i=(_lastUpdate+=o)-_startTime)-_nextTime)>0||s)&&(a=++_self.frame,_delta=i-1e3*_self.time,_self.time=i/=1e3,_nextTime+=r+(r>=_gap?4:_gap-r),n=1),s||(_id=_req(e)),n)for(_i=0;_i<_listeners.length;_i++)_listeners[_i](i,_delta,a,t)},_self={time:0,frame:0,tick:function(){_tick1(!0)},deltaRatio:function(e){return _delta/(1e3/(e||60))},wake:function(){$21bb7f0d2894673a$var$_coreReady&&(!$21bb7f0d2894673a$var$_coreInitted&&$21bb7f0d2894673a$var$_windowExists()&&($21bb7f0d2894673a$var$_win=$21bb7f0d2894673a$var$_coreInitted=window,$21bb7f0d2894673a$var$_doc=$21bb7f0d2894673a$var$_win.document||{},$21bb7f0d2894673a$var$_globals.gsap=$21bb7f0d2894673a$export$99ee26438460406a,($21bb7f0d2894673a$var$_win.gsapVersions||($21bb7f0d2894673a$var$_win.gsapVersions=[])).push($21bb7f0d2894673a$export$99ee26438460406a.version),$21bb7f0d2894673a$var$_install($21bb7f0d2894673a$var$_installScope||$21bb7f0d2894673a$var$_win.GreenSockGlobals||!$21bb7f0d2894673a$var$_win.gsap&&$21bb7f0d2894673a$var$_win||{}),_raf=$21bb7f0d2894673a$var$_win.requestAnimationFrame),_id&&_self.sleep(),_req=_raf||function(e){return setTimeout(e,_nextTime-1e3*_self.time+1|0)},$21bb7f0d2894673a$var$_tickerActive=1,_tick1(2))},sleep:function(){(_raf?$21bb7f0d2894673a$var$_win.cancelAnimationFrame:clearTimeout)(_id),$21bb7f0d2894673a$var$_tickerActive=0,_req=$21bb7f0d2894673a$var$_emptyFunc},lagSmoothing:function(e,t){_lagThreshold=e||1/$21bb7f0d2894673a$var$_tinyNum,_adjustedLag=Math.min(t,_lagThreshold,0)},fps:function(e){_gap=1e3/(e||240),_nextTime=1e3*_self.time+_gap},add:function(e,t,r){var n=t?function(t,r,i,a){e(t,r,i,a),_self.remove(n)}:e;return _self.remove(e),_listeners[r?"unshift":"push"](n),$21bb7f0d2894673a$var$_wake(),n},remove:function(e,t){~(t=_listeners.indexOf(e))&&_listeners.splice(t,1)&&_i>=t&&_i--},_listeners:_listeners}),$21bb7f0d2894673a$var$_wake=function(){return!$21bb7f0d2894673a$var$_tickerActive&&$21bb7f0d2894673a$export$762ed8fbedb691e3.wake()},$21bb7f0d2894673a$var$_easeMap={},$21bb7f0d2894673a$var$_customEaseExp=/^[\d.\-M][\d.\-,\s]/,$21bb7f0d2894673a$var$_quotesExp=/["']/g,$21bb7f0d2894673a$var$_parseObjectInString=function(e){for(var t,r,n,i={},a=e.substr(1,e.length-3).split(":"),o=a[0],s=1,c=a.length;s<c;s++)r=a[s],t=s!==c-1?r.lastIndexOf(","):r.length,n=r.substr(0,t),i[o]=isNaN(n)?n.replace($21bb7f0d2894673a$var$_quotesExp,"").trim():+n,o=r.substr(t+1).trim();return i},$21bb7f0d2894673a$var$_valueInParentheses=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),n=e.indexOf("(",t);return e.substring(t,~n&&n<r?e.indexOf(")",r+1):r)},$21bb7f0d2894673a$var$_configEaseFromString=function(e){var t=(e+"").split("("),r=$21bb7f0d2894673a$var$_easeMap[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[$21bb7f0d2894673a$var$_parseObjectInString(t[1])]:$21bb7f0d2894673a$var$_valueInParentheses(e).split(",").map($21bb7f0d2894673a$var$_numericIfPossible)):$21bb7f0d2894673a$var$_easeMap._CE&&$21bb7f0d2894673a$var$_customEaseExp.test(e)?$21bb7f0d2894673a$var$_easeMap._CE("",e):r},$21bb7f0d2894673a$var$_invertEase=function(e){return function(t){return 1-e(1-t)}},$21bb7f0d2894673a$var$_propagateYoyoEase=function e(t,r){for(var n,i=t._first;i;)i instanceof $21bb7f0d2894673a$export$e6a97ba2cae5bb94?e(i,r):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===r||(i.timeline?e(i.timeline,r):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=r)),i=i._next},$21bb7f0d2894673a$var$_parseEase=function(e,t){return e&&($21bb7f0d2894673a$var$_isFunction(e)?e:$21bb7f0d2894673a$var$_easeMap[e]||$21bb7f0d2894673a$var$_configEaseFromString(e))||t},$21bb7f0d2894673a$var$_insertEase=function(e,t,r,n){void 0===r&&(r=function(e){return 1-t(1-e)}),void 0===n&&(n=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,a={easeIn:t,easeOut:r,easeInOut:n};return $21bb7f0d2894673a$export$f9000b814859f126(e,(function(e){for(var t in $21bb7f0d2894673a$var$_easeMap[e]=$21bb7f0d2894673a$var$_globals[e]=a,$21bb7f0d2894673a$var$_easeMap[i=e.toLowerCase()]=r,a)$21bb7f0d2894673a$var$_easeMap[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=$21bb7f0d2894673a$var$_easeMap[e+"."+t]=a[t]})),a},$21bb7f0d2894673a$var$_easeInOutFromOut=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},$21bb7f0d2894673a$var$_configElastic=function e(t,r,n){var i=r>=1?r:1,a=(n||(t?.3:.45))/(r<1?r:1),o=a/$21bb7f0d2894673a$var$_2PI*(Math.asin(1/i)||0),s=function(e){return 1===e?1:i*Math.pow(2,-10*e)*$21bb7f0d2894673a$var$_sin((e-o)*a)+1},c="out"===t?s:"in"===t?function(e){return 1-s(1-e)}:$21bb7f0d2894673a$var$_easeInOutFromOut(s);return a=$21bb7f0d2894673a$var$_2PI/a,c.config=function(r,n){return e(t,r,n)},c},$21bb7f0d2894673a$var$_configBack=function e(t,r){void 0===r&&(r=1.70158);var n=function(e){return e?--e*e*((r+1)*e+r)+1:0},i="out"===t?n:"in"===t?function(e){return 1-n(1-e)}:$21bb7f0d2894673a$var$_easeInOutFromOut(n);return i.config=function(r){return e(t,r)},i},_id,_req,_raf,_self,_delta,_i,_getTime,_lagThreshold,_adjustedLag,_startTime,_lastUpdate,_gap,_nextTime,_listeners,_tick1;$21bb7f0d2894673a$export$f9000b814859f126("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var r=t<5?t+1:t;$21bb7f0d2894673a$var$_insertEase(e+",Power"+(r-1),t?function(e){return Math.pow(e,r)}:function(e){return e},(function(e){return 1-Math.pow(1-e,r)}),(function(e){return e<.5?Math.pow(2*e,r)/2:1-Math.pow(2*(1-e),r)/2}))})),$21bb7f0d2894673a$var$_easeMap.Linear.easeNone=$21bb7f0d2894673a$var$_easeMap.none=$21bb7f0d2894673a$var$_easeMap.Linear.easeIn,$21bb7f0d2894673a$var$_insertEase("Elastic",$21bb7f0d2894673a$var$_configElastic("in"),$21bb7f0d2894673a$var$_configElastic("out"),$21bb7f0d2894673a$var$_configElastic()),function(e,t){var r=1/t,n=function(n){return n<r?e*n*n:n<.7272727272727273?e*Math.pow(n-1.5/t,2)+.75:n<.9090909090909092?e*(n-=2.25/t)*n+.9375:e*Math.pow(n-2.625/t,2)+.984375};$21bb7f0d2894673a$var$_insertEase("Bounce",(function(e){return 1-n(1-e)}),n)}(7.5625,2.75),$21bb7f0d2894673a$var$_insertEase("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),$21bb7f0d2894673a$var$_insertEase("Circ",(function(e){return-($21bb7f0d2894673a$var$_sqrt(1-e*e)-1)})),$21bb7f0d2894673a$var$_insertEase("Sine",(function(e){return 1===e?1:1-$21bb7f0d2894673a$var$_cos(e*$21bb7f0d2894673a$var$_HALF_PI)})),$21bb7f0d2894673a$var$_insertEase("Back",$21bb7f0d2894673a$var$_configBack("in"),$21bb7f0d2894673a$var$_configBack("out"),$21bb7f0d2894673a$var$_configBack()),$21bb7f0d2894673a$var$_easeMap.SteppedEase=$21bb7f0d2894673a$var$_easeMap.steps=$21bb7f0d2894673a$var$_globals.SteppedEase={config:function(e,t){void 0===e&&(e=1);var r=1/e,n=e+(t?0:1),i=t?1:0,a=1-$21bb7f0d2894673a$var$_tinyNum;return function(e){return((n*$21bb7f0d2894673a$var$_clamp(0,a,e)|0)+i)*r}}},$21bb7f0d2894673a$var$_defaults.ease=$21bb7f0d2894673a$var$_easeMap["quad.out"],$21bb7f0d2894673a$export$f9000b814859f126("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return $21bb7f0d2894673a$var$_callbackNames+=e+","+e+"Params,"}));var $21bb7f0d2894673a$export$cf10981d5419cad5=function(e,t){this.id=$21bb7f0d2894673a$var$_gsID++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:$21bb7f0d2894673a$export$51d6bbe898aef1f9,this.set=t?t.getSetter:$21bb7f0d2894673a$export$d60fbc1e0278aaf0},$21bb7f0d2894673a$export$c35d437ae5945fcd=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,$21bb7f0d2894673a$var$_setDuration(this,+e.duration,1,1),this.data=e.data,$21bb7f0d2894673a$var$_tickerActive||$21bb7f0d2894673a$export$762ed8fbedb691e3.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,$21bb7f0d2894673a$var$_setDuration(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if($21bb7f0d2894673a$var$_wake(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for($21bb7f0d2894673a$var$_alignPlayhead(this,e),!r._dp||r.parent||$21bb7f0d2894673a$var$_postAddChecks(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&$21bb7f0d2894673a$var$_addToTimeline(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===$21bb7f0d2894673a$var$_tinyNum||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),$21bb7f0d2894673a$var$_lazySafeRender(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+$21bb7f0d2894673a$var$_elapsedCycleDuration(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+$21bb7f0d2894673a$var$_elapsedCycleDuration(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(e,t){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*r,t):this._repeat?$21bb7f0d2894673a$var$_animationCycle(this._tTime,r)+1:1},t.timeScale=function(e){if(!arguments.length)return this._rts===-$21bb7f0d2894673a$var$_tinyNum?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?$21bb7f0d2894673a$var$_parentToChildTotalTime(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||e===-$21bb7f0d2894673a$var$_tinyNum?0:this._rts,this.totalTime($21bb7f0d2894673a$var$_clamp(-this._delay,this._tDur,t),!0),$21bb7f0d2894673a$var$_setEnd(this),$21bb7f0d2894673a$var$_recacheAncestors(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):($21bb7f0d2894673a$var$_wake(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==$21bb7f0d2894673a$var$_tinyNum&&(this._tTime-=$21bb7f0d2894673a$var$_tinyNum)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&$21bb7f0d2894673a$var$_addToTimeline(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+($21bb7f0d2894673a$var$_isNotFalse(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?$21bb7f0d2894673a$var$_parentToChildTotalTime(t.rawTime(e),this):this._tTime:this._tTime},t.globalTime=function(e){for(var t=this,r=arguments.length?e:t.rawTime();t;)r=t._start+r/(t._ts||1),t=t._dp;return r},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,$21bb7f0d2894673a$var$_onUpdateTotalDuration(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,$21bb7f0d2894673a$var$_onUpdateTotalDuration(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime($21bb7f0d2894673a$var$_parsePosition(this,e),$21bb7f0d2894673a$var$_isNotFalse(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,$21bb7f0d2894673a$var$_isNotFalse(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-$21bb7f0d2894673a$var$_tinyNum:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-$21bb7f0d2894673a$var$_tinyNum,this},t.isActive=function(){var e,t=this.parent||this._dp,r=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=r&&e<this.endTime(!0)-$21bb7f0d2894673a$var$_tinyNum))},t.eventCallback=function(e,t,r){var n=this.vars;return arguments.length>1?(t?(n[e]=t,r&&(n[e+"Params"]=r),"onUpdate"===e&&(this._onUpdate=t)):delete n[e],this):n[e]},t.then=function(e){var t=this;return new Promise((function(r){var n=$21bb7f0d2894673a$var$_isFunction(e)?e:$21bb7f0d2894673a$var$_passThrough,i=function(){var e=t.then;t.then=null,$21bb7f0d2894673a$var$_isFunction(n)&&(n=n(t))&&(n.then||n===t)&&(t.then=e),r(n),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){$21bb7f0d2894673a$var$_interrupt(this)},e}();$21bb7f0d2894673a$export$dc2b19673bb53610($21bb7f0d2894673a$export$c35d437ae5945fcd.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-$21bb7f0d2894673a$var$_tinyNum,_prom:0,_ps:!1,_rts:1});var $21bb7f0d2894673a$export$e6a97ba2cae5bb94=function(e){function t(t,r){var n;return void 0===t&&(t={}),(n=e.call(this,t)||this).labels={},n.smoothChildTiming=!!t.smoothChildTiming,n.autoRemoveChildren=!!t.autoRemoveChildren,n._sort=$21bb7f0d2894673a$var$_isNotFalse(t.sortChildren),$21bb7f0d2894673a$var$_globalTimeline&&$21bb7f0d2894673a$var$_addToTimeline(t.parent||$21bb7f0d2894673a$var$_globalTimeline,$21bb7f0d2894673a$var$_assertThisInitialized(n),r),t.reversed&&n.reverse(),t.paused&&n.paused(!0),t.scrollTrigger&&$21bb7f0d2894673a$var$_scrollTrigger($21bb7f0d2894673a$var$_assertThisInitialized(n),t.scrollTrigger),n}$21bb7f0d2894673a$var$_inheritsLoose(t,e);var r=t.prototype;return r.to=function(e,t,r){return $21bb7f0d2894673a$var$_createTweenType(0,arguments,this),this},r.from=function(e,t,r){return $21bb7f0d2894673a$var$_createTweenType(1,arguments,this),this},r.fromTo=function(e,t,r,n){return $21bb7f0d2894673a$var$_createTweenType(2,arguments,this),this},r.set=function(e,t,r){return t.duration=0,t.parent=this,$21bb7f0d2894673a$var$_inheritDefaults(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new $21bb7f0d2894673a$export$208a41d6b4e37b97(e,t,$21bb7f0d2894673a$var$_parsePosition(this,r),1),this},r.call=function(e,t,r){return $21bb7f0d2894673a$var$_addToTimeline(this,$21bb7f0d2894673a$export$208a41d6b4e37b97.delayedCall(0,e,t),r)},r.staggerTo=function(e,t,r,n,i,a,o){return r.duration=t,r.stagger=r.stagger||n,r.onComplete=a,r.onCompleteParams=o,r.parent=this,new $21bb7f0d2894673a$export$208a41d6b4e37b97(e,r,$21bb7f0d2894673a$var$_parsePosition(this,i)),this},r.staggerFrom=function(e,t,r,n,i,a,o){return r.runBackwards=1,$21bb7f0d2894673a$var$_inheritDefaults(r).immediateRender=$21bb7f0d2894673a$var$_isNotFalse(r.immediateRender),this.staggerTo(e,t,r,n,i,a,o)},r.staggerFromTo=function(e,t,r,n,i,a,o,s){return n.startAt=r,$21bb7f0d2894673a$var$_inheritDefaults(n).immediateRender=$21bb7f0d2894673a$var$_isNotFalse(n.immediateRender),this.staggerTo(e,t,n,i,a,o,s)},r.render=function(e,t,r){var n,i,a,o,s,c,l,d,u,h,f,p,m=this._time,v=this._dirty?this.totalDuration():this._tDur,$=this._dur,g=e<=0?0:$21bb7f0d2894673a$var$_roundPrecise(e),b=this._zTime<0!=e<0&&(this._initted||!$);if(this!==$21bb7f0d2894673a$var$_globalTimeline&&g>v&&e>=0&&(g=v),g!==this._tTime||r||b){if(m!==this._time&&$&&(g+=this._time-m,e+=this._time-m),n=g,u=this._start,c=!(d=this._ts),b&&($||(m=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(f=this._yoyo,s=$+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*s+e,t,r);if(n=$21bb7f0d2894673a$var$_roundPrecise(g%s),g===v?(o=this._repeat,n=$):((o=~~(g/s))&&o===g/s&&(n=$,o--),n>$&&(n=$)),h=$21bb7f0d2894673a$var$_animationCycle(this._tTime,s),!m&&this._tTime&&h!==o&&(h=o),f&&1&o&&(n=$-n,p=1),o!==h&&!this._lock){var x=f&&1&h,y=x===(f&&1&o);if(o<h&&(x=!x),m=x?0:$,this._lock=1,this.render(m||(p?0:$21bb7f0d2894673a$var$_roundPrecise(o*s)),t,!$)._lock=0,this._tTime=g,!t&&this.parent&&$21bb7f0d2894673a$var$_callback(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),m&&m!==this._time||c!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if($=this._dur,v=this._tDur,y&&(this._lock=2,m=x?$:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;$21bb7f0d2894673a$var$_propagateYoyoEase(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=$21bb7f0d2894673a$var$_findNextPauseTween(this,$21bb7f0d2894673a$var$_roundPrecise(m),$21bb7f0d2894673a$var$_roundPrecise(n)))&&(g-=n-(n=l._start)),this._tTime=g,this._time=n,this._act=!d,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,m=0),!m&&n&&!t&&($21bb7f0d2894673a$var$_callback(this,"onStart"),this._tTime!==g))return this;if(n>=m&&e>=0)for(i=this._first;i;){if(a=i._next,(i._act||n>=i._start)&&i._ts&&l!==i){if(i.parent!==this)return this.render(e,t,r);if(i.render(i._ts>0?(n-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(n-i._start)*i._ts,t,r),n!==this._time||!this._ts&&!c){l=0,a&&(g+=this._zTime=-$21bb7f0d2894673a$var$_tinyNum);break}}i=a}else{i=this._last;for(var w=e<0?e:n;i;){if(a=i._prev,(i._act||w<=i._end)&&i._ts&&l!==i){if(i.parent!==this)return this.render(e,t,r);if(i.render(i._ts>0?(w-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(w-i._start)*i._ts,t,r),n!==this._time||!this._ts&&!c){l=0,a&&(g+=this._zTime=w?-$21bb7f0d2894673a$var$_tinyNum:$21bb7f0d2894673a$var$_tinyNum);break}}i=a}}if(l&&!t&&(this.pause(),l.render(n>=m?0:-$21bb7f0d2894673a$var$_tinyNum)._zTime=n>=m?1:-1,this._ts))return this._start=u,$21bb7f0d2894673a$var$_setEnd(this),this.render(e,t,r);this._onUpdate&&!t&&$21bb7f0d2894673a$var$_callback(this,"onUpdate",!0),(g===v&&this._tTime>=this.totalDuration()||!g&&m)&&(u!==this._start&&Math.abs(d)===Math.abs(this._ts)||this._lock||((e||!$)&&(g===v&&this._ts>0||!g&&this._ts<0)&&$21bb7f0d2894673a$var$_removeFromParent(this,1),t||e<0&&!m||!g&&!m&&v||($21bb7f0d2894673a$var$_callback(this,g===v&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(g<v&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(e,t){var r=this;if($21bb7f0d2894673a$var$_isNumber(t)||(t=$21bb7f0d2894673a$var$_parsePosition(this,t,e)),!(e instanceof $21bb7f0d2894673a$export$c35d437ae5945fcd)){if($21bb7f0d2894673a$var$_isArray(e))return e.forEach((function(e){return r.add(e,t)})),this;if($21bb7f0d2894673a$export$f664476fd67145ca(e))return this.addLabel(e,t);if(!$21bb7f0d2894673a$var$_isFunction(e))return this;e=$21bb7f0d2894673a$export$208a41d6b4e37b97.delayedCall(0,e)}return this!==e?$21bb7f0d2894673a$var$_addToTimeline(this,e,t):this},r.getChildren=function(e,t,r,n){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===r&&(r=!0),void 0===n&&(n=-$21bb7f0d2894673a$var$_bigNum);for(var i=[],a=this._first;a;)a._start>=n&&(a instanceof $21bb7f0d2894673a$export$208a41d6b4e37b97?t&&i.push(a):(r&&i.push(a),e&&i.push.apply(i,a.getChildren(!0,t,r)))),a=a._next;return i},r.getById=function(e){for(var t=this.getChildren(1,1,1),r=t.length;r--;)if(t[r].vars.id===e)return t[r]},r.remove=function(e){return $21bb7f0d2894673a$export$f664476fd67145ca(e)?this.removeLabel(e):$21bb7f0d2894673a$var$_isFunction(e)?this.killTweensOf(e):($21bb7f0d2894673a$export$cd008aa6cd8844e3(this,e),e===this._recent&&(this._recent=this._last),$21bb7f0d2894673a$var$_uncache(this))},r.totalTime=function(t,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=$21bb7f0d2894673a$var$_roundPrecise($21bb7f0d2894673a$export$762ed8fbedb691e3.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,r),this._forcing=0,this):this._tTime},r.addLabel=function(e,t){return this.labels[e]=$21bb7f0d2894673a$var$_parsePosition(this,t),this},r.removeLabel=function(e){return delete this.labels[e],this},r.addPause=function(e,t,r){var n=$21bb7f0d2894673a$export$208a41d6b4e37b97.delayedCall(0,t||$21bb7f0d2894673a$var$_emptyFunc,r);return n.data="isPause",this._hasPause=1,$21bb7f0d2894673a$var$_addToTimeline(this,n,$21bb7f0d2894673a$var$_parsePosition(this,e))},r.removePause=function(e){var t=this._first;for(e=$21bb7f0d2894673a$var$_parsePosition(this,e);t;)t._start===e&&"isPause"===t.data&&$21bb7f0d2894673a$var$_removeFromParent(t),t=t._next},r.killTweensOf=function(e,t,r){for(var n=this.getTweensOf(e,r),i=n.length;i--;)$21bb7f0d2894673a$var$_overwritingTween!==n[i]&&n[i].kill(e,t);return this},r.getTweensOf=function(e,t){for(var r,n=[],i=$21bb7f0d2894673a$export$45b10814cc054894(e),a=this._first,o=$21bb7f0d2894673a$var$_isNumber(t);a;)a instanceof $21bb7f0d2894673a$export$208a41d6b4e37b97?$21bb7f0d2894673a$var$_arrayContainsAny(a._targets,i)&&(o?(!$21bb7f0d2894673a$var$_overwritingTween||a._initted&&a._ts)&&a.globalTime(0)<=t&&a.globalTime(a.totalDuration())>t:!t||a.isActive())&&n.push(a):(r=a.getTweensOf(i,t)).length&&n.push.apply(n,r),a=a._next;return n},r.tweenTo=function(e,t){t=t||{};var r,n=this,i=$21bb7f0d2894673a$var$_parsePosition(n,e),a=t,o=a.startAt,s=a.onStart,c=a.onStartParams,l=a.immediateRender,d=$21bb7f0d2894673a$export$208a41d6b4e37b97.to(n,$21bb7f0d2894673a$export$dc2b19673bb53610({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(o&&"time"in o?o.time:n._time))/n.timeScale())||$21bb7f0d2894673a$var$_tinyNum,onStart:function(){if(n.pause(),!r){var e=t.duration||Math.abs((i-(o&&"time"in o?o.time:n._time))/n.timeScale());d._dur!==e&&$21bb7f0d2894673a$var$_setDuration(d,e,0,1).render(d._time,!0,!0),r=1}s&&s.apply(d,c||[])}},t));return l?d.render(0):d},r.tweenFromTo=function(e,t,r){return this.tweenTo(t,$21bb7f0d2894673a$export$dc2b19673bb53610({startAt:{time:$21bb7f0d2894673a$var$_parsePosition(this,e)}},r))},r.recent=function(){return this._recent},r.nextLabel=function(e){return void 0===e&&(e=this._time),$21bb7f0d2894673a$var$_getLabelInDirection(this,$21bb7f0d2894673a$var$_parsePosition(this,e))},r.previousLabel=function(e){return void 0===e&&(e=this._time),$21bb7f0d2894673a$var$_getLabelInDirection(this,$21bb7f0d2894673a$var$_parsePosition(this,e),1)},r.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+$21bb7f0d2894673a$var$_tinyNum)},r.shiftChildren=function(e,t,r){void 0===r&&(r=0);for(var n,i=this._first,a=this.labels;i;)i._start>=r&&(i._start+=e,i._end+=e),i=i._next;if(t)for(n in a)a[n]>=r&&(a[n]+=e);return $21bb7f0d2894673a$var$_uncache(this)},r.invalidate=function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},r.clear=function(e){void 0===e&&(e=!0);for(var t,r=this._first;r;)t=r._next,this.remove(r),r=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),$21bb7f0d2894673a$var$_uncache(this)},r.totalDuration=function(e){var t,r,n,i=0,a=this,o=a._last,s=$21bb7f0d2894673a$var$_bigNum;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-e:e));if(a._dirty){for(n=a.parent;o;)t=o._prev,o._dirty&&o.totalDuration(),(r=o._start)>s&&a._sort&&o._ts&&!a._lock?(a._lock=1,$21bb7f0d2894673a$var$_addToTimeline(a,o,r-o._delay,1)._lock=0):s=r,r<0&&o._ts&&(i-=r,(!n&&!a._dp||n&&n.smoothChildTiming)&&(a._start+=r/a._ts,a._time-=r,a._tTime-=r),a.shiftChildren(-r,!1,-1/0),s=0),o._end>i&&o._ts&&(i=o._end),o=t;$21bb7f0d2894673a$var$_setDuration(a,a===$21bb7f0d2894673a$var$_globalTimeline&&a._time>i?a._time:i,1,1),a._dirty=0}return a._tDur},t.updateRoot=function(e){if($21bb7f0d2894673a$var$_globalTimeline._ts&&($21bb7f0d2894673a$var$_lazySafeRender($21bb7f0d2894673a$var$_globalTimeline,$21bb7f0d2894673a$var$_parentToChildTotalTime(e,$21bb7f0d2894673a$var$_globalTimeline)),$21bb7f0d2894673a$var$_lastRenderedFrame=$21bb7f0d2894673a$export$762ed8fbedb691e3.frame),$21bb7f0d2894673a$export$762ed8fbedb691e3.frame>=$21bb7f0d2894673a$var$_nextGCFrame){$21bb7f0d2894673a$var$_nextGCFrame+=$21bb7f0d2894673a$export$4922bee768729a77.autoSleep||120;var t=$21bb7f0d2894673a$var$_globalTimeline._first;if((!t||!t._ts)&&$21bb7f0d2894673a$export$4922bee768729a77.autoSleep&&$21bb7f0d2894673a$export$762ed8fbedb691e3._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||$21bb7f0d2894673a$export$762ed8fbedb691e3.sleep()}}},t}($21bb7f0d2894673a$export$c35d437ae5945fcd);$21bb7f0d2894673a$export$dc2b19673bb53610($21bb7f0d2894673a$export$e6a97ba2cae5bb94.prototype,{_lock:0,_hasPause:0,_forcing:0});var $21bb7f0d2894673a$var$_addComplexStringPropTween=function(e,t,r,n,i,a,o){var s,c,l,d,u,h,f,p,m=new $21bb7f0d2894673a$export$3a67f7f44b1e838a(this._pt,e,t,0,1,$21bb7f0d2894673a$export$c5bc8e04394ecb2,null,i),v=0,$=0;for(m.b=r,m.e=n,r+="",(f=~(n+="").indexOf("random("))&&(n=$21bb7f0d2894673a$export$d5962a97e3cde94d(n)),a&&(a(p=[r,n],e,t),r=p[0],n=p[1]),c=r.match($21bb7f0d2894673a$var$_complexStringNumExp)||[];s=$21bb7f0d2894673a$var$_complexStringNumExp.exec(n);)d=s[0],u=n.substring(v,s.index),l?l=(l+1)%5:"rgba("===u.substr(-5)&&(l=1),d!==c[$++]&&(h=parseFloat(c[$-1])||0,m._pt={_next:m._pt,p:u||1===$?u:",",s:h,c:"="===d.charAt(1)?$21bb7f0d2894673a$export$dac762bc6301b560(h,d)-h:parseFloat(d)-h,m:l&&l<4?Math.round:0},v=$21bb7f0d2894673a$var$_complexStringNumExp.lastIndex);return m.c=v<n.length?n.substring(v,n.length):"",m.fp=o,($21bb7f0d2894673a$export$5a680e28b0b61bc.test(n)||f)&&(m.e=0),this._pt=m,m},$21bb7f0d2894673a$var$_addPropTween=function(e,t,r,n,i,a,o,s,c){$21bb7f0d2894673a$var$_isFunction(n)&&(n=n(i||0,e,a));var l,d=e[t],u="get"!==r?r:$21bb7f0d2894673a$var$_isFunction(d)?c?e[t.indexOf("set")||!$21bb7f0d2894673a$var$_isFunction(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():d,h=$21bb7f0d2894673a$var$_isFunction(d)?c?$21bb7f0d2894673a$var$_setterFuncWithParam:$21bb7f0d2894673a$var$_setterFunc:$21bb7f0d2894673a$var$_setterPlain;if($21bb7f0d2894673a$export$f664476fd67145ca(n)&&(~n.indexOf("random(")&&(n=$21bb7f0d2894673a$export$d5962a97e3cde94d(n)),"="===n.charAt(1)&&((l=$21bb7f0d2894673a$export$dac762bc6301b560(u,n)+($21bb7f0d2894673a$export$65f2564e9a9b9222(u)||0))||0===l)&&(n=l)),u!==n||$21bb7f0d2894673a$var$_forceAllPropTweens)return isNaN(u*n)||""===n?(!d&&!(t in e)&&$21bb7f0d2894673a$export$7fb54635790b59a5(t,n),$21bb7f0d2894673a$var$_addComplexStringPropTween.call(this,e,t,u,n,h,s||$21bb7f0d2894673a$export$4922bee768729a77.stringFilter,c)):(l=new $21bb7f0d2894673a$export$3a67f7f44b1e838a(this._pt,e,t,+u||0,n-(u||0),"boolean"==typeof d?$21bb7f0d2894673a$var$_renderBoolean:$21bb7f0d2894673a$var$_renderPlain,0,h),c&&(l.fp=c),o&&l.modifier(o,this,e),this._pt=l)},$21bb7f0d2894673a$var$_processVars=function(e,t,r,n,i){if($21bb7f0d2894673a$var$_isFunction(e)&&(e=$21bb7f0d2894673a$var$_parseFuncOrString(e,i,t,r,n)),!$21bb7f0d2894673a$var$_isObject(e)||e.style&&e.nodeType||$21bb7f0d2894673a$var$_isArray(e)||$21bb7f0d2894673a$var$_isTypedArray(e))return $21bb7f0d2894673a$export$f664476fd67145ca(e)?$21bb7f0d2894673a$var$_parseFuncOrString(e,i,t,r,n):e;var a,o={};for(a in e)o[a]=$21bb7f0d2894673a$var$_parseFuncOrString(e[a],i,t,r,n);return o},$21bb7f0d2894673a$export$5c457b74208010cf=function(e,t,r,n,i,a){var o,s,c,l;if($21bb7f0d2894673a$export$d305d8ec5d7c26b8[e]&&!1!==(o=new $21bb7f0d2894673a$export$d305d8ec5d7c26b8[e]).init(i,o.rawVars?t[e]:$21bb7f0d2894673a$var$_processVars(t[e],n,i,a,r),r,n,a)&&(r._pt=s=new $21bb7f0d2894673a$export$3a67f7f44b1e838a(r._pt,i,e,0,1,o.render,o,0,o.priority),r!==$21bb7f0d2894673a$var$_quickTween))for(c=r._ptLookup[r._targets.indexOf(i)],l=o._props.length;l--;)c[o._props[l]]=s;return o},$21bb7f0d2894673a$var$_overwritingTween,$21bb7f0d2894673a$var$_forceAllPropTweens,$21bb7f0d2894673a$var$_initTween=function e(t,r){var n,i,a,o,s,c,l,d,u,h,f,p,m,v=t.vars,$=v.ease,g=v.startAt,b=v.immediateRender,x=v.lazy,y=v.onUpdate,w=v.onUpdateParams,_=v.callbackScope,S=v.runBackwards,T=v.yoyoEase,M=v.keyframes,E=v.autoRevert,A=t._dur,C=t._startAt,L=t._targets,R=t.parent,P=R&&"nested"===R.data?R.parent._targets:L,D="auto"===t._overwrite&&!$21bb7f0d2894673a$var$_suppressOverwrites,O=t.timeline;if(O&&(!M||!$)&&($="none"),t._ease=$21bb7f0d2894673a$var$_parseEase($,$21bb7f0d2894673a$var$_defaults.ease),t._yEase=T?$21bb7f0d2894673a$var$_invertEase($21bb7f0d2894673a$var$_parseEase(!0===T?$:T,$21bb7f0d2894673a$var$_defaults.ease)):0,T&&t._yoyo&&!t._repeat&&(T=t._yEase,t._yEase=t._ease,t._ease=T),t._from=!O&&!!v.runBackwards,!O||M&&!v.stagger){if(p=(d=L[0]?$21bb7f0d2894673a$export$8b9be379d2de2a39(L[0]).harness:0)&&v[d.prop],n=$21bb7f0d2894673a$var$_copyExcluding(v,$21bb7f0d2894673a$var$_reservedProps),C&&($21bb7f0d2894673a$var$_removeFromParent(C.render(-1,!0)),C._lazy=0),g)if($21bb7f0d2894673a$var$_removeFromParent(t._startAt=$21bb7f0d2894673a$export$208a41d6b4e37b97.set(L,$21bb7f0d2894673a$export$dc2b19673bb53610({data:"isStart",overwrite:!1,parent:R,immediateRender:!0,lazy:$21bb7f0d2894673a$var$_isNotFalse(x),startAt:null,delay:0,onUpdate:y,onUpdateParams:w,callbackScope:_,stagger:0},g))),r<0&&!b&&!E&&t._startAt.render(-1,!0),b){if(r>0&&!E&&(t._startAt=0),A&&r<=0)return void(r&&(t._zTime=r))}else!1===E&&(t._startAt=0);else if(S&&A)if(C)!E&&(t._startAt=0);else if(r&&(b=!1),a=$21bb7f0d2894673a$export$dc2b19673bb53610({overwrite:!1,data:"isFromStart",lazy:b&&$21bb7f0d2894673a$var$_isNotFalse(x),immediateRender:b,stagger:0,parent:R},n),p&&(a[d.prop]=p),$21bb7f0d2894673a$var$_removeFromParent(t._startAt=$21bb7f0d2894673a$export$208a41d6b4e37b97.set(L,a)),r<0&&t._startAt.render(-1,!0),t._zTime=r,b){if(!r)return}else e(t._startAt,$21bb7f0d2894673a$var$_tinyNum);for(t._pt=t._ptCache=0,x=A&&$21bb7f0d2894673a$var$_isNotFalse(x)||x&&!A,i=0;i<L.length;i++){if(l=(s=L[i])._gsap||$21bb7f0d2894673a$var$_harness(L)[i]._gsap,t._ptLookup[i]=h={},$21bb7f0d2894673a$var$_lazyLookup[l.id]&&$21bb7f0d2894673a$var$_lazyTweens.length&&$21bb7f0d2894673a$var$_lazyRender(),f=P===L?i:P.indexOf(s),d&&!1!==(u=new d).init(s,p||n,t,f,P)&&(t._pt=o=new $21bb7f0d2894673a$export$3a67f7f44b1e838a(t._pt,s,u.name,0,1,u.render,u,0,u.priority),u._props.forEach((function(e){h[e]=o})),u.priority&&(c=1)),!d||p)for(a in n)$21bb7f0d2894673a$export$d305d8ec5d7c26b8[a]&&(u=$21bb7f0d2894673a$export$5c457b74208010cf(a,n,t,f,s,P))?u.priority&&(c=1):h[a]=o=$21bb7f0d2894673a$var$_addPropTween.call(t,s,a,"get",n[a],f,P,0,v.stringFilter);t._op&&t._op[i]&&t.kill(s,t._op[i]),D&&t._pt&&($21bb7f0d2894673a$var$_overwritingTween=t,$21bb7f0d2894673a$var$_globalTimeline.killTweensOf(s,h,t.globalTime(r)),m=!t.parent,$21bb7f0d2894673a$var$_overwritingTween=0),t._pt&&x&&($21bb7f0d2894673a$var$_lazyLookup[l.id]=1)}c&&$21bb7f0d2894673a$export$eed5824f53346d57(t),t._onInit&&t._onInit(t)}t._onUpdate=y,t._initted=(!t._op||t._pt)&&!m,M&&r<=0&&O.render($21bb7f0d2894673a$var$_bigNum,!0,!0)},$21bb7f0d2894673a$var$_updatePropTweens=function(e,t,r,n,i,a,o){var s,c,l,d=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!d)for(d=e._ptCache[t]=[],c=e._ptLookup,l=e._targets.length;l--;){if((s=c[l][t])&&s.d&&s.d._pt)for(s=s.d._pt;s&&s.p!==t;)s=s._next;if(!s)return $21bb7f0d2894673a$var$_forceAllPropTweens=1,e.vars[t]="+=0",$21bb7f0d2894673a$var$_initTween(e,o),$21bb7f0d2894673a$var$_forceAllPropTweens=0,1;d.push(s)}for(l=d.length;l--;)(s=d[l]).s=!n&&0!==n||i?s.s+(n||0)+a*s.c:n,s.c=r-s.s,s.e&&(s.e=$21bb7f0d2894673a$export$9c8d725d65e13f94(r)+$21bb7f0d2894673a$export$65f2564e9a9b9222(s.e)),s.b&&(s.b=s.s+$21bb7f0d2894673a$export$65f2564e9a9b9222(s.b))},$21bb7f0d2894673a$var$_addAliasesToVars=function(e,t){var r,n,i,a,o=e[0]?$21bb7f0d2894673a$export$8b9be379d2de2a39(e[0]).harness:0,s=o&&o.aliases;if(!s)return t;for(n in r=$21bb7f0d2894673a$var$_merge({},t),s)if(n in r)for(i=(a=s[n].split(",")).length;i--;)r[a[i]]=r[n];return r},$21bb7f0d2894673a$var$_parseKeyframe=function(e,t,r,n){var i,a,o=t.ease||n||"power1.inOut";if($21bb7f0d2894673a$var$_isArray(t))a=r[e]||(r[e]=[]),t.forEach((function(e,r){return a.push({t:r/(t.length-1)*100,v:e,e:o})}));else for(i in t)a=r[i]||(r[i]=[]),"ease"===i||a.push({t:parseFloat(e),v:t[i],e:o})},$21bb7f0d2894673a$var$_parseFuncOrString=function(e,t,r,n,i){return $21bb7f0d2894673a$var$_isFunction(e)?e.call(t,r,n,i):$21bb7f0d2894673a$export$f664476fd67145ca(e)&&~e.indexOf("random(")?$21bb7f0d2894673a$export$d5962a97e3cde94d(e):e},$21bb7f0d2894673a$var$_staggerTweenProps=$21bb7f0d2894673a$var$_callbackNames+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",$21bb7f0d2894673a$var$_staggerPropsToSkip={};$21bb7f0d2894673a$export$f9000b814859f126($21bb7f0d2894673a$var$_staggerTweenProps+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return $21bb7f0d2894673a$var$_staggerPropsToSkip[e]=1}));var $21bb7f0d2894673a$export$208a41d6b4e37b97=function(e){function t(t,r,n,i){var a;"number"==typeof r&&(n.duration=r,r=n,n=null);var o,s,c,l,d,u,h,f,p=(a=e.call(this,i?r:$21bb7f0d2894673a$var$_inheritDefaults(r))||this).vars,m=p.duration,v=p.delay,$=p.immediateRender,g=p.stagger,b=p.overwrite,x=p.keyframes,y=p.defaults,w=p.scrollTrigger,_=p.yoyoEase,S=r.parent||$21bb7f0d2894673a$var$_globalTimeline,T=($21bb7f0d2894673a$var$_isArray(t)||$21bb7f0d2894673a$var$_isTypedArray(t)?$21bb7f0d2894673a$var$_isNumber(t[0]):"length"in r)?[t]:$21bb7f0d2894673a$export$45b10814cc054894(t);if(a._targets=T.length?$21bb7f0d2894673a$var$_harness(T):$21bb7f0d2894673a$var$_warn("GSAP target "+t+" not found. https://greensock.com",!$21bb7f0d2894673a$export$4922bee768729a77.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=b,x||g||$21bb7f0d2894673a$var$_isFuncOrString(m)||$21bb7f0d2894673a$var$_isFuncOrString(v)){if(r=a.vars,(o=a.timeline=new $21bb7f0d2894673a$export$e6a97ba2cae5bb94({data:"nested",defaults:y||{}})).kill(),o.parent=o._dp=$21bb7f0d2894673a$var$_assertThisInitialized(a),o._start=0,g||$21bb7f0d2894673a$var$_isFuncOrString(m)||$21bb7f0d2894673a$var$_isFuncOrString(v)){if(l=T.length,h=g&&$21bb7f0d2894673a$export$f02a9ddbe4480f19(g),$21bb7f0d2894673a$var$_isObject(g))for(d in g)~$21bb7f0d2894673a$var$_staggerTweenProps.indexOf(d)&&(f||(f={}),f[d]=g[d]);for(s=0;s<l;s++)(c=$21bb7f0d2894673a$var$_copyExcluding(r,$21bb7f0d2894673a$var$_staggerPropsToSkip)).stagger=0,_&&(c.yoyoEase=_),f&&$21bb7f0d2894673a$var$_merge(c,f),u=T[s],c.duration=+$21bb7f0d2894673a$var$_parseFuncOrString(m,$21bb7f0d2894673a$var$_assertThisInitialized(a),s,u,T),c.delay=(+$21bb7f0d2894673a$var$_parseFuncOrString(v,$21bb7f0d2894673a$var$_assertThisInitialized(a),s,u,T)||0)-a._delay,!g&&1===l&&c.delay&&(a._delay=v=c.delay,a._start+=v,c.delay=0),o.to(u,c,h?h(s,u,T):0),o._ease=$21bb7f0d2894673a$var$_easeMap.none;o.duration()?m=v=0:a.timeline=0}else if(x){$21bb7f0d2894673a$var$_inheritDefaults($21bb7f0d2894673a$export$dc2b19673bb53610(o.vars.defaults,{ease:"none"})),o._ease=$21bb7f0d2894673a$var$_parseEase(x.ease||r.ease||"none");var M,E,A,C=0;if($21bb7f0d2894673a$var$_isArray(x))x.forEach((function(e){return o.to(T,e,">")}));else{for(d in c={},x)"ease"===d||"easeEach"===d||$21bb7f0d2894673a$var$_parseKeyframe(d,x[d],c,x.easeEach);for(d in c)for(M=c[d].sort((function(e,t){return e.t-t.t})),C=0,s=0;s<M.length;s++)(A={ease:(E=M[s]).e,duration:(E.t-(s?M[s-1].t:0))/100*m})[d]=E.v,o.to(T,A,C),C+=A.duration;o.duration()<m&&o.to({},{duration:m-o.duration()})}}m||a.duration(m=o.duration())}else a.timeline=0;return!0!==b||$21bb7f0d2894673a$var$_suppressOverwrites||($21bb7f0d2894673a$var$_overwritingTween=$21bb7f0d2894673a$var$_assertThisInitialized(a),$21bb7f0d2894673a$var$_globalTimeline.killTweensOf(T),$21bb7f0d2894673a$var$_overwritingTween=0),$21bb7f0d2894673a$var$_addToTimeline(S,$21bb7f0d2894673a$var$_assertThisInitialized(a),n),r.reversed&&a.reverse(),r.paused&&a.paused(!0),($||!m&&!x&&a._start===$21bb7f0d2894673a$var$_roundPrecise(S._time)&&$21bb7f0d2894673a$var$_isNotFalse($)&&$21bb7f0d2894673a$var$_hasNoPausedAncestors($21bb7f0d2894673a$var$_assertThisInitialized(a))&&"nested"!==S.data)&&(a._tTime=-$21bb7f0d2894673a$var$_tinyNum,a.render(Math.max(0,-v))),w&&$21bb7f0d2894673a$var$_scrollTrigger($21bb7f0d2894673a$var$_assertThisInitialized(a),w),a}$21bb7f0d2894673a$var$_inheritsLoose(t,e);var r=t.prototype;return r.render=function(e,t,r){var n,i,a,o,s,c,l,d,u,h=this._time,f=this._tDur,p=this._dur,m=e>f-$21bb7f0d2894673a$var$_tinyNum&&e>=0?f:e<$21bb7f0d2894673a$var$_tinyNum?0:e;if(p){if(m!==this._tTime||!e||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=e<0){if(n=m,d=this.timeline,this._repeat){if(o=p+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*o+e,t,r);if(n=$21bb7f0d2894673a$var$_roundPrecise(m%o),m===f?(a=this._repeat,n=p):((a=~~(m/o))&&a===m/o&&(n=p,a--),n>p&&(n=p)),(c=this._yoyo&&1&a)&&(u=this._yEase,n=p-n),s=$21bb7f0d2894673a$var$_animationCycle(this._tTime,o),n===h&&!r&&this._initted)return this._tTime=m,this;a!==s&&(d&&this._yEase&&$21bb7f0d2894673a$var$_propagateYoyoEase(d,c),!this.vars.repeatRefresh||c||this._lock||(this._lock=r=1,this.render($21bb7f0d2894673a$var$_roundPrecise(o*a),!0).invalidate()._lock=0))}if(!this._initted){if($21bb7f0d2894673a$var$_attemptInitTween(this,e<0?e:n,r,t))return this._tTime=0,this;if(h!==this._time)return this;if(p!==this._dur)return this.render(e,t,r)}if(this._tTime=m,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(u||this._ease)(n/p),this._from&&(this.ratio=l=1-l),n&&!h&&!t&&($21bb7f0d2894673a$var$_callback(this,"onStart"),this._tTime!==m))return this;for(i=this._pt;i;)i.r(l,i.d),i=i._next;d&&d.render(e<0?e:!n&&c?-$21bb7f0d2894673a$var$_tinyNum:d._dur*d._ease(n/this._dur),t,r)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(e<0&&this._startAt&&this._startAt.render(e,!0,r),$21bb7f0d2894673a$var$_callback(this,"onUpdate")),this._repeat&&a!==s&&this.vars.onRepeat&&!t&&this.parent&&$21bb7f0d2894673a$var$_callback(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,!0,!0),(e||!p)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&$21bb7f0d2894673a$var$_removeFromParent(this,1),t||e<0&&!h||!m&&!h||($21bb7f0d2894673a$var$_callback(this,m===f?"onComplete":"onReverseComplete",!0),this._prom&&!(m<f&&this.timeScale()>0)&&this._prom()))}}else $21bb7f0d2894673a$var$_renderZeroDurationTween(this,e,t,r);return this},r.targets=function(){return this._targets},r.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),e.prototype.invalidate.call(this)},r.resetTo=function(e,t,r,n){$21bb7f0d2894673a$var$_tickerActive||$21bb7f0d2894673a$export$762ed8fbedb691e3.wake(),this._ts||this.play();var i,a=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||$21bb7f0d2894673a$var$_initTween(this,a),i=this._ease(a/this._dur),$21bb7f0d2894673a$var$_updatePropTweens(this,e,t,r,n,i,a)?this.resetTo(e,t,r,n):($21bb7f0d2894673a$var$_alignPlayhead(this,0),this.parent||$21bb7f0d2894673a$var$_addLinkedListItem(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t))return this._lazy=this._pt=0,this.parent?$21bb7f0d2894673a$var$_interrupt(this):this;if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,$21bb7f0d2894673a$var$_overwritingTween&&!0!==$21bb7f0d2894673a$var$_overwritingTween.vars.overwrite)._first||$21bb7f0d2894673a$var$_interrupt(this),this.parent&&r!==this.timeline.totalDuration()&&$21bb7f0d2894673a$var$_setDuration(this,this._dur*this.timeline._tDur/r,0,1),this}var n,i,a,o,s,c,l,d=this._targets,u=e?$21bb7f0d2894673a$export$45b10814cc054894(e):d,h=this._ptLookup,f=this._pt;if((!t||"all"===t)&&$21bb7f0d2894673a$var$_arraysMatch(d,u))return"all"===t&&(this._pt=0),$21bb7f0d2894673a$var$_interrupt(this);for(n=this._op=this._op||[],"all"!==t&&($21bb7f0d2894673a$export$f664476fd67145ca(t)&&(s={},$21bb7f0d2894673a$export$f9000b814859f126(t,(function(e){return s[e]=1})),t=s),t=$21bb7f0d2894673a$var$_addAliasesToVars(d,t)),l=d.length;l--;)if(~u.indexOf(d[l]))for(s in i=h[l],"all"===t?(n[l]=t,o=i,a={}):(a=n[l]=n[l]||{},o=t),o)(c=i&&i[s])&&("kill"in c.d&&!0!==c.d.kill(s)||$21bb7f0d2894673a$export$cd008aa6cd8844e3(this,c,"_pt"),delete i[s]),"all"!==a&&(a[s]=1);return this._initted&&!this._pt&&f&&$21bb7f0d2894673a$var$_interrupt(this),this},t.to=function(e,r){return new t(e,r,arguments[2])},t.from=function(e,t){return $21bb7f0d2894673a$var$_createTweenType(1,arguments)},t.delayedCall=function(e,r,n,i){return new t(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:r,onReverseComplete:r,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:i})},t.fromTo=function(e,t,r){return $21bb7f0d2894673a$var$_createTweenType(2,arguments)},t.set=function(e,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new t(e,r)},t.killTweensOf=function(e,t,r){return $21bb7f0d2894673a$var$_globalTimeline.killTweensOf(e,t,r)},t}($21bb7f0d2894673a$export$c35d437ae5945fcd);$21bb7f0d2894673a$export$dc2b19673bb53610($21bb7f0d2894673a$export$208a41d6b4e37b97.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),$21bb7f0d2894673a$export$f9000b814859f126("staggerTo,staggerFrom,staggerFromTo",(function(e){$21bb7f0d2894673a$export$208a41d6b4e37b97[e]=function(){var t=new $21bb7f0d2894673a$export$e6a97ba2cae5bb94,r=$21bb7f0d2894673a$var$_slice.call(arguments,0);return r.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,r)}}));var $21bb7f0d2894673a$var$_setterPlain=function(e,t,r){return e[t]=r},$21bb7f0d2894673a$var$_setterFunc=function(e,t,r){return e[t](r)},$21bb7f0d2894673a$var$_setterFuncWithParam=function(e,t,r,n){return e[t](n.fp,r)},$21bb7f0d2894673a$var$_setterAttribute=function(e,t,r){return e.setAttribute(t,r)},$21bb7f0d2894673a$export$d60fbc1e0278aaf0=function(e,t){return $21bb7f0d2894673a$var$_isFunction(e[t])?$21bb7f0d2894673a$var$_setterFunc:$21bb7f0d2894673a$export$a8178c063a9fd3a1(e[t])&&e.setAttribute?$21bb7f0d2894673a$var$_setterAttribute:$21bb7f0d2894673a$var$_setterPlain},$21bb7f0d2894673a$var$_renderPlain=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},$21bb7f0d2894673a$var$_renderBoolean=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},$21bb7f0d2894673a$export$c5bc8e04394ecb2=function(e,t){var r=t._pt,n="";if(!e&&t.b)n=t.b;else if(1===e&&t.e)n=t.e;else{for(;r;)n=r.p+(r.m?r.m(r.s+r.c*e):Math.round(1e4*(r.s+r.c*e))/1e4)+n,r=r._next;n+=t.c}t.set(t.t,t.p,n,t)},$21bb7f0d2894673a$var$_renderPropTweens=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},$21bb7f0d2894673a$var$_addPluginModifier=function(e,t,r,n){for(var i,a=this._pt;a;)i=a._next,a.p===n&&a.modifier(e,t,r),a=i},$21bb7f0d2894673a$var$_killPropTweensOf=function(e){for(var t,r,n=this._pt;n;)r=n._next,n.p===e&&!n.op||n.op===e?$21bb7f0d2894673a$export$cd008aa6cd8844e3(this,n,"_pt"):n.dep||(t=1),n=r;return!t},$21bb7f0d2894673a$var$_setterWithModifier=function(e,t,r,n){n.mSet(e,t,n.m.call(n.tween,r,n.mt),n)},$21bb7f0d2894673a$export$eed5824f53346d57=function(e){for(var t,r,n,i,a=e._pt;a;){for(t=a._next,r=n;r&&r.pr>a.pr;)r=r._next;(a._prev=r?r._prev:i)?a._prev._next=a:n=a,(a._next=r)?r._prev=a:i=a,a=t}e._pt=n},$21bb7f0d2894673a$export$3a67f7f44b1e838a=function(){function e(e,t,r,n,i,a,o,s,c){this.t=t,this.s=n,this.c=i,this.p=r,this.r=a||$21bb7f0d2894673a$var$_renderPlain,this.d=o||this,this.set=s||$21bb7f0d2894673a$var$_setterPlain,this.pr=c||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,r){this.mSet=this.mSet||this.set,this.set=$21bb7f0d2894673a$var$_setterWithModifier,this.m=e,this.mt=r,this.tween=t},e}();$21bb7f0d2894673a$export$f9000b814859f126($21bb7f0d2894673a$var$_callbackNames+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return $21bb7f0d2894673a$var$_reservedProps[e]=1})),$21bb7f0d2894673a$var$_globals.TweenMax=$21bb7f0d2894673a$var$_globals.TweenLite=$21bb7f0d2894673a$export$208a41d6b4e37b97,$21bb7f0d2894673a$var$_globals.TimelineLite=$21bb7f0d2894673a$var$_globals.TimelineMax=$21bb7f0d2894673a$export$e6a97ba2cae5bb94,$21bb7f0d2894673a$var$_globalTimeline=new $21bb7f0d2894673a$export$e6a97ba2cae5bb94({sortChildren:!1,defaults:$21bb7f0d2894673a$var$_defaults,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),$21bb7f0d2894673a$export$4922bee768729a77.stringFilter=$21bb7f0d2894673a$export$7eb2e5eb5eeb96a4;var $21bb7f0d2894673a$var$_gsap={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach((function(e){return $21bb7f0d2894673a$var$_createPlugin(e)}))},timeline:function(e){return new $21bb7f0d2894673a$export$e6a97ba2cae5bb94(e)},getTweensOf:function(e,t){return $21bb7f0d2894673a$var$_globalTimeline.getTweensOf(e,t)},getProperty:function(e,t,r,n){$21bb7f0d2894673a$export$f664476fd67145ca(e)&&(e=$21bb7f0d2894673a$export$45b10814cc054894(e)[0]);var i=$21bb7f0d2894673a$export$8b9be379d2de2a39(e||{}).get,a=r?$21bb7f0d2894673a$var$_passThrough:$21bb7f0d2894673a$var$_numericIfPossible;return"native"===r&&(r=""),e?t?a(($21bb7f0d2894673a$export$d305d8ec5d7c26b8[t]&&$21bb7f0d2894673a$export$d305d8ec5d7c26b8[t].get||i)(e,t,r,n)):function(t,r,n){return a(($21bb7f0d2894673a$export$d305d8ec5d7c26b8[t]&&$21bb7f0d2894673a$export$d305d8ec5d7c26b8[t].get||i)(e,t,r,n))}:e},quickSetter:function(e,t,r){if((e=$21bb7f0d2894673a$export$45b10814cc054894(e)).length>1){var n=e.map((function(e){return $21bb7f0d2894673a$export$99ee26438460406a.quickSetter(e,t,r)})),i=n.length;return function(e){for(var t=i;t--;)n[t](e)}}e=e[0]||{};var a=$21bb7f0d2894673a$export$d305d8ec5d7c26b8[t],o=$21bb7f0d2894673a$export$8b9be379d2de2a39(e),s=o.harness&&(o.harness.aliases||{})[t]||t,c=a?function(t){var n=new a;$21bb7f0d2894673a$var$_quickTween._pt=0,n.init(e,r?t+r:t,$21bb7f0d2894673a$var$_quickTween,0,[e]),n.render(1,n),$21bb7f0d2894673a$var$_quickTween._pt&&$21bb7f0d2894673a$var$_renderPropTweens(1,$21bb7f0d2894673a$var$_quickTween)}:o.set(e,s);return a?c:function(t){return c(e,s,r?t+r:t,o,1)}},quickTo:function(e,t,r){var n,i=$21bb7f0d2894673a$export$99ee26438460406a.to(e,$21bb7f0d2894673a$var$_merge(((n={})[t]="+=0.1",n.paused=!0,n),r||{})),a=function(e,r,n){return i.resetTo(t,e,r,n)};return a.tween=i,a},isTweening:function(e){return $21bb7f0d2894673a$var$_globalTimeline.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=$21bb7f0d2894673a$var$_parseEase(e.ease,$21bb7f0d2894673a$var$_defaults.ease)),$21bb7f0d2894673a$var$_mergeDeep($21bb7f0d2894673a$var$_defaults,e||{})},config:function(e){return $21bb7f0d2894673a$var$_mergeDeep($21bb7f0d2894673a$export$4922bee768729a77,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,n=e.plugins,i=e.defaults,a=e.extendTimeline;(n||"").split(",").forEach((function(e){return e&&!$21bb7f0d2894673a$export$d305d8ec5d7c26b8[e]&&!$21bb7f0d2894673a$var$_globals[e]&&$21bb7f0d2894673a$var$_warn(t+" effect requires "+e+" plugin.")})),$21bb7f0d2894673a$var$_effects[t]=function(e,t,n){return r($21bb7f0d2894673a$export$45b10814cc054894(e),$21bb7f0d2894673a$export$dc2b19673bb53610(t||{},i),n)},a&&($21bb7f0d2894673a$export$e6a97ba2cae5bb94.prototype[t]=function(e,r,n){return this.add($21bb7f0d2894673a$var$_effects[t](e,$21bb7f0d2894673a$var$_isObject(r)?r:(n=r)&&{},this),n)})},registerEase:function(e,t){$21bb7f0d2894673a$var$_easeMap[e]=$21bb7f0d2894673a$var$_parseEase(t)},parseEase:function(e,t){return arguments.length?$21bb7f0d2894673a$var$_parseEase(e,t):$21bb7f0d2894673a$var$_easeMap},getById:function(e){return $21bb7f0d2894673a$var$_globalTimeline.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var r,n,i=new $21bb7f0d2894673a$export$e6a97ba2cae5bb94(e);for(i.smoothChildTiming=$21bb7f0d2894673a$var$_isNotFalse(e.smoothChildTiming),$21bb7f0d2894673a$var$_globalTimeline.remove(i),i._dp=0,i._time=i._tTime=$21bb7f0d2894673a$var$_globalTimeline._time,r=$21bb7f0d2894673a$var$_globalTimeline._first;r;)n=r._next,!t&&!r._dur&&r instanceof $21bb7f0d2894673a$export$208a41d6b4e37b97&&r.vars.onComplete===r._targets[0]||$21bb7f0d2894673a$var$_addToTimeline(i,r,r._start-r._delay),r=n;return $21bb7f0d2894673a$var$_addToTimeline($21bb7f0d2894673a$var$_globalTimeline,i,0),i},utils:{wrap:$21bb7f0d2894673a$export$4997ffc0176396a6,wrapYoyo:$21bb7f0d2894673a$export$cfc0b067273edc55,distribute:$21bb7f0d2894673a$export$f02a9ddbe4480f19,random:$21bb7f0d2894673a$export$4385e60b38654f68,snap:$21bb7f0d2894673a$export$51a0620f7a28532b,normalize:$21bb7f0d2894673a$export$a3295358bff77e,getUnit:$21bb7f0d2894673a$export$65f2564e9a9b9222,clamp:$21bb7f0d2894673a$export$7d15b64cf5a3a4c4,splitColor:$21bb7f0d2894673a$export$73d6f35be992df24,toArray:$21bb7f0d2894673a$export$45b10814cc054894,selector:$21bb7f0d2894673a$export$aea217a45095ce11,mapRange:$21bb7f0d2894673a$export$f65a7599bbc6b121,pipe:$21bb7f0d2894673a$export$a4627e546088548d,unitize:$21bb7f0d2894673a$export$d7502930aa5492de,interpolate:$21bb7f0d2894673a$export$89e29e4ab65e70a9,shuffle:$21bb7f0d2894673a$export$448332262467e042},install:$21bb7f0d2894673a$var$_install,effects:$21bb7f0d2894673a$var$_effects,ticker:$21bb7f0d2894673a$export$762ed8fbedb691e3,updateRoot:$21bb7f0d2894673a$export$e6a97ba2cae5bb94.updateRoot,plugins:$21bb7f0d2894673a$export$d305d8ec5d7c26b8,globalTimeline:$21bb7f0d2894673a$var$_globalTimeline,core:{PropTween:$21bb7f0d2894673a$export$3a67f7f44b1e838a,globals:$21bb7f0d2894673a$var$_addGlobal,Tween:$21bb7f0d2894673a$export$208a41d6b4e37b97,Timeline:$21bb7f0d2894673a$export$e6a97ba2cae5bb94,Animation:$21bb7f0d2894673a$export$c35d437ae5945fcd,getCache:$21bb7f0d2894673a$export$8b9be379d2de2a39,_removeLinkedListItem:$21bb7f0d2894673a$export$cd008aa6cd8844e3,suppressOverwrites:function(e){return $21bb7f0d2894673a$var$_suppressOverwrites=e}}};$21bb7f0d2894673a$export$f9000b814859f126("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return $21bb7f0d2894673a$var$_gsap[e]=$21bb7f0d2894673a$export$208a41d6b4e37b97[e]})),$21bb7f0d2894673a$export$762ed8fbedb691e3.add($21bb7f0d2894673a$export$e6a97ba2cae5bb94.updateRoot),$21bb7f0d2894673a$var$_quickTween=$21bb7f0d2894673a$var$_gsap.to({},{duration:0});var $21bb7f0d2894673a$var$_getPluginPropTween=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},$21bb7f0d2894673a$var$_addModifiers=function(e,t){var r,n,i,a=e._targets;for(r in t)for(n=a.length;n--;)(i=e._ptLookup[n][r])&&(i=i.d)&&(i._pt&&(i=$21bb7f0d2894673a$var$_getPluginPropTween(i,r)),i&&i.modifier&&i.modifier(t[r],e,a[n],r))},$21bb7f0d2894673a$var$_buildModifierPlugin=function(e,t){return{name:e,rawVars:1,init:function(e,r,n){n._onInit=function(e){var n,i;if($21bb7f0d2894673a$export$f664476fd67145ca(r)&&(n={},$21bb7f0d2894673a$export$f9000b814859f126(r,(function(e){return n[e]=1})),r=n),t){for(i in n={},r)n[i]=t(r[i]);r=n}$21bb7f0d2894673a$var$_addModifiers(e,r)}}}},$21bb7f0d2894673a$export$99ee26438460406a=$21bb7f0d2894673a$var$_gsap.registerPlugin({name:"attr",init:function(e,t,r,n,i){var a,o;for(a in t)(o=this.add(e,"setAttribute",(e.getAttribute(a)||0)+"",t[a],n,i,0,0,a))&&(o.op=a),this._props.push(a)}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r])}},$21bb7f0d2894673a$var$_buildModifierPlugin("roundProps",$21bb7f0d2894673a$export$dd12390e6b265a17),$21bb7f0d2894673a$var$_buildModifierPlugin("modifiers"),$21bb7f0d2894673a$var$_buildModifierPlugin("snap",$21bb7f0d2894673a$export$51a0620f7a28532b))||$21bb7f0d2894673a$var$_gsap;$21bb7f0d2894673a$export$208a41d6b4e37b97.version=$21bb7f0d2894673a$export$e6a97ba2cae5bb94.version=$21bb7f0d2894673a$export$99ee26438460406a.version="3.10.4",$21bb7f0d2894673a$var$_coreReady=1,$21bb7f0d2894673a$var$_windowExists()&&$21bb7f0d2894673a$var$_wake();var $21bb7f0d2894673a$export$2fae1e8613537d5f=$21bb7f0d2894673a$var$_easeMap.Power0,$21bb7f0d2894673a$export$5d84ab4efbecec39=$21bb7f0d2894673a$var$_easeMap.Power1,$21bb7f0d2894673a$export$d8c694b7490ad65d=$21bb7f0d2894673a$var$_easeMap.Power2,$21bb7f0d2894673a$export$acebdf2b184a0b6f=$21bb7f0d2894673a$var$_easeMap.Power3,$21bb7f0d2894673a$export$42e40a141003d2f0=$21bb7f0d2894673a$var$_easeMap.Power4,$21bb7f0d2894673a$export$cff00ccf6e2392de=$21bb7f0d2894673a$var$_easeMap.Linear,$21bb7f0d2894673a$export$7005c9eb6671414d=$21bb7f0d2894673a$var$_easeMap.Quad,$21bb7f0d2894673a$export$755261d5a1567778=$21bb7f0d2894673a$var$_easeMap.Cubic,$21bb7f0d2894673a$export$daf531446cad3d2a=$21bb7f0d2894673a$var$_easeMap.Quart,$21bb7f0d2894673a$export$4c407d38ce8ad8cc=$21bb7f0d2894673a$var$_easeMap.Quint,$21bb7f0d2894673a$export$f301627d437cff88=$21bb7f0d2894673a$var$_easeMap.Strong,$21bb7f0d2894673a$export$56ebabebb04a9ca9=$21bb7f0d2894673a$var$_easeMap.Elastic,$21bb7f0d2894673a$export$25e48ac541203d4a=$21bb7f0d2894673a$var$_easeMap.Back,$21bb7f0d2894673a$export$f7a11c7543d81853=$21bb7f0d2894673a$var$_easeMap.SteppedEase,$21bb7f0d2894673a$export$d20e79fdc3899e95=$21bb7f0d2894673a$var$_easeMap.Bounce,$21bb7f0d2894673a$export$bed2d20ad96b784c=$21bb7f0d2894673a$var$_easeMap.Sine,$21bb7f0d2894673a$export$41e9d1ff1a2fb15a=$21bb7f0d2894673a$var$_easeMap.Expo,$21bb7f0d2894673a$export$ce49a57dd865b86c=$21bb7f0d2894673a$var$_easeMap.Circ,$0cdfc2eaac330c87$var$_win,$0cdfc2eaac330c87$var$_doc,$0cdfc2eaac330c87$var$_docElement,$0cdfc2eaac330c87$var$_pluginInitted,$0cdfc2eaac330c87$var$_tempDiv,$0cdfc2eaac330c87$var$_tempDivStyler,$0cdfc2eaac330c87$var$_recentSetterPlugin,$0cdfc2eaac330c87$var$_windowExists=function(){return"undefined"!=typeof window},$0cdfc2eaac330c87$var$_transformProps={},$0cdfc2eaac330c87$var$_RAD2DEG=180/Math.PI,$0cdfc2eaac330c87$var$_DEG2RAD=Math.PI/180,$0cdfc2eaac330c87$var$_atan2=Math.atan2,$0cdfc2eaac330c87$var$_bigNum=1e8,$0cdfc2eaac330c87$var$_capsExp=/([A-Z])/g,$0cdfc2eaac330c87$var$_horizontalExp=/(left|right|width|margin|padding|x)/i,$0cdfc2eaac330c87$var$_complexExp=/[\s,\(]\S/,$0cdfc2eaac330c87$var$_propertyAliases={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},$0cdfc2eaac330c87$var$_renderCSSProp=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},$0cdfc2eaac330c87$var$_renderPropWithEnd=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},$0cdfc2eaac330c87$var$_renderCSSPropWithBeginning=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},$0cdfc2eaac330c87$var$_renderRoundedCSSProp=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},$0cdfc2eaac330c87$var$_renderNonTweeningValue=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},$0cdfc2eaac330c87$var$_renderNonTweeningValueOnlyAtEnd=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},$0cdfc2eaac330c87$var$_setterCSSStyle=function(e,t,r){return e.style[t]=r},$0cdfc2eaac330c87$var$_setterCSSProp=function(e,t,r){return e.style.setProperty(t,r)},$0cdfc2eaac330c87$var$_setterTransform=function(e,t,r){return e._gsap[t]=r},$0cdfc2eaac330c87$var$_setterScale=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},$0cdfc2eaac330c87$var$_setterScaleWithRender=function(e,t,r,n,i){var a=e._gsap;a.scaleX=a.scaleY=r,a.renderTransform(i,a)},$0cdfc2eaac330c87$var$_setterTransformWithRender=function(e,t,r,n,i){var a=e._gsap;a[t]=r,a.renderTransform(i,a)},$0cdfc2eaac330c87$var$_transformProp="transform",$0cdfc2eaac330c87$var$_transformOriginProp=$0cdfc2eaac330c87$var$_transformProp+"Origin",$0cdfc2eaac330c87$var$_supports3D,$0cdfc2eaac330c87$export$a232bb0480ae674a=function(e,t){var r=$0cdfc2eaac330c87$var$_doc.createElementNS?$0cdfc2eaac330c87$var$_doc.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):$0cdfc2eaac330c87$var$_doc.createElement(e);return r.style?r:$0cdfc2eaac330c87$var$_doc.createElement(e)},$0cdfc2eaac330c87$var$_getComputedProperty=function e(t,r,n){var i=getComputedStyle(t);return i[r]||i.getPropertyValue(r.replace($0cdfc2eaac330c87$var$_capsExp,"-$1").toLowerCase())||i.getPropertyValue(r)||!n&&e(t,$0cdfc2eaac330c87$export$8cbef5dd49a09c8b(r)||r,1)||""},$0cdfc2eaac330c87$var$_prefixes="O,Moz,ms,Ms,Webkit".split(","),$0cdfc2eaac330c87$export$8cbef5dd49a09c8b=function(e,t,r){var n=(t||$0cdfc2eaac330c87$var$_tempDiv).style,i=5;if(e in n&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!($0cdfc2eaac330c87$var$_prefixes[i]+e in n););return i<0?null:(3===i?"ms":i>=0?$0cdfc2eaac330c87$var$_prefixes[i]:"")+e},$0cdfc2eaac330c87$var$_initCore=function(){$0cdfc2eaac330c87$var$_windowExists()&&window.document&&($0cdfc2eaac330c87$var$_win=window,$0cdfc2eaac330c87$var$_doc=$0cdfc2eaac330c87$var$_win.document,$0cdfc2eaac330c87$var$_docElement=$0cdfc2eaac330c87$var$_doc.documentElement,$0cdfc2eaac330c87$var$_tempDiv=$0cdfc2eaac330c87$export$a232bb0480ae674a("div")||{style:{}},$0cdfc2eaac330c87$var$_tempDivStyler=$0cdfc2eaac330c87$export$a232bb0480ae674a("div"),$0cdfc2eaac330c87$var$_transformProp=$0cdfc2eaac330c87$export$8cbef5dd49a09c8b($0cdfc2eaac330c87$var$_transformProp),$0cdfc2eaac330c87$var$_transformOriginProp=$0cdfc2eaac330c87$var$_transformProp+"Origin",$0cdfc2eaac330c87$var$_tempDiv.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",$0cdfc2eaac330c87$var$_supports3D=!!$0cdfc2eaac330c87$export$8cbef5dd49a09c8b("perspective"),$0cdfc2eaac330c87$var$_pluginInitted=1)},$0cdfc2eaac330c87$var$_getBBoxHack=function e(t){var r,n=$0cdfc2eaac330c87$export$a232bb0480ae674a("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,a=this.nextSibling,o=this.style.cssText;if($0cdfc2eaac330c87$var$_docElement.appendChild(n),n.appendChild(this),this.style.display="block",t)try{r=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(e){}else this._gsapBBox&&(r=this._gsapBBox());return i&&(a?i.insertBefore(this,a):i.appendChild(this)),$0cdfc2eaac330c87$var$_docElement.removeChild(n),this.style.cssText=o,r},$0cdfc2eaac330c87$var$_getAttributeFallbacks=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},$0cdfc2eaac330c87$export$41bc7c2d1e04f11b=function(e){var t;try{t=e.getBBox()}catch(r){t=$0cdfc2eaac330c87$var$_getBBoxHack.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===$0cdfc2eaac330c87$var$_getBBoxHack||(t=$0cdfc2eaac330c87$var$_getBBoxHack.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+$0cdfc2eaac330c87$var$_getAttributeFallbacks(e,["x","cx","x1"])||0,y:+$0cdfc2eaac330c87$var$_getAttributeFallbacks(e,["y","cy","y1"])||0,width:0,height:0}},$0cdfc2eaac330c87$var$_isSVG=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!$0cdfc2eaac330c87$export$41bc7c2d1e04f11b(e))},$0cdfc2eaac330c87$var$_removeProperty=function(e,t){if(t){var r=e.style;t in $0cdfc2eaac330c87$var$_transformProps&&t!==$0cdfc2eaac330c87$var$_transformOriginProp&&(t=$0cdfc2eaac330c87$var$_transformProp),r.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty(t.replace($0cdfc2eaac330c87$var$_capsExp,"-$1").toLowerCase())):r.removeAttribute(t)}},$0cdfc2eaac330c87$var$_addNonTweeningPT=function(e,t,r,n,i,a){var o=new $21bb7f0d2894673a$export$3a67f7f44b1e838a(e._pt,t,r,0,1,a?$0cdfc2eaac330c87$var$_renderNonTweeningValueOnlyAtEnd:$0cdfc2eaac330c87$var$_renderNonTweeningValue);return e._pt=o,o.b=n,o.e=i,e._props.push(r),o},$0cdfc2eaac330c87$var$_nonConvertibleUnits={deg:1,rad:1,turn:1},$0cdfc2eaac330c87$var$_convertToUnit=function e(t,r,n,i){var a,o,s,c,l=parseFloat(n)||0,d=(n+"").trim().substr((l+"").length)||"px",u=$0cdfc2eaac330c87$var$_tempDiv.style,h=$0cdfc2eaac330c87$var$_horizontalExp.test(r),f="svg"===t.tagName.toLowerCase(),p=(f?"client":"offset")+(h?"Width":"Height"),m=100,v="px"===i,$="%"===i;return i===d||!l||$0cdfc2eaac330c87$var$_nonConvertibleUnits[i]||$0cdfc2eaac330c87$var$_nonConvertibleUnits[d]?l:("px"!==d&&!v&&(l=e(t,r,n,"px")),c=t.getCTM&&$0cdfc2eaac330c87$var$_isSVG(t),!$&&"%"!==d||!$0cdfc2eaac330c87$var$_transformProps[r]&&!~r.indexOf("adius")?(u[h?"width":"height"]=m+(v?d:i),o=~r.indexOf("adius")||"em"===i&&t.appendChild&&!f?t:t.parentNode,c&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==$0cdfc2eaac330c87$var$_doc&&o.appendChild||(o=$0cdfc2eaac330c87$var$_doc.body),(s=o._gsap)&&$&&s.width&&h&&s.time===$21bb7f0d2894673a$export$762ed8fbedb691e3.time?$21bb7f0d2894673a$export$9c8d725d65e13f94(l/s.width*m):(($||"%"===d)&&(u.position=$0cdfc2eaac330c87$var$_getComputedProperty(t,"position")),o===t&&(u.position="static"),o.appendChild($0cdfc2eaac330c87$var$_tempDiv),a=$0cdfc2eaac330c87$var$_tempDiv[p],o.removeChild($0cdfc2eaac330c87$var$_tempDiv),u.position="absolute",h&&$&&((s=$21bb7f0d2894673a$export$8b9be379d2de2a39(o)).time=$21bb7f0d2894673a$export$762ed8fbedb691e3.time,s.width=o[p]),$21bb7f0d2894673a$export$9c8d725d65e13f94(v?a*l/m:a&&l?m/a*l:0))):(a=c?t.getBBox()[h?"width":"height"]:t[p],$21bb7f0d2894673a$export$9c8d725d65e13f94($?l/a*m:l/100*a)))},$0cdfc2eaac330c87$var$_get=function(e,t,r,n){var i;return $0cdfc2eaac330c87$var$_pluginInitted||$0cdfc2eaac330c87$var$_initCore(),t in $0cdfc2eaac330c87$var$_propertyAliases&&"transform"!==t&&~(t=$0cdfc2eaac330c87$var$_propertyAliases[t]).indexOf(",")&&(t=t.split(",")[0]),$0cdfc2eaac330c87$var$_transformProps[t]&&"transform"!==t?(i=$0cdfc2eaac330c87$var$_parseTransform(e,n),i="transformOrigin"!==t?i[t]:i.svg?i.origin:$0cdfc2eaac330c87$var$_firstTwoOnly($0cdfc2eaac330c87$var$_getComputedProperty(e,$0cdfc2eaac330c87$var$_transformOriginProp))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||n||~(i+"").indexOf("calc("))&&(i=$0cdfc2eaac330c87$var$_specialProps[t]&&$0cdfc2eaac330c87$var$_specialProps[t](e,t,r)||$0cdfc2eaac330c87$var$_getComputedProperty(e,t)||$21bb7f0d2894673a$export$51d6bbe898aef1f9(e,t)||("opacity"===t?1:0)),r&&!~(i+"").trim().indexOf(" ")?$0cdfc2eaac330c87$var$_convertToUnit(e,t,i,r)+r:i},$0cdfc2eaac330c87$var$_tweenComplexCSSString=function(e,t,r,n){if(!r||"none"===r){var i=$0cdfc2eaac330c87$export$8cbef5dd49a09c8b(t,e,1),a=i&&$0cdfc2eaac330c87$var$_getComputedProperty(e,i,1);a&&a!==r?(t=i,r=a):"borderColor"===t&&(r=$0cdfc2eaac330c87$var$_getComputedProperty(e,"borderTopColor"))}var o,s,c,l,d,u,h,f,p,m,v,$=new $21bb7f0d2894673a$export$3a67f7f44b1e838a(this._pt,e.style,t,0,1,$21bb7f0d2894673a$export$c5bc8e04394ecb2),g=0,b=0;if($.b=r,$.e=n,r+="","auto"===(n+="")&&(e.style[t]=n,n=$0cdfc2eaac330c87$var$_getComputedProperty(e,t)||n,e.style[t]=r),$21bb7f0d2894673a$export$7eb2e5eb5eeb96a4(o=[r,n]),n=o[1],c=(r=o[0]).match($21bb7f0d2894673a$export$65c88bbd597e7b0a)||[],(n.match($21bb7f0d2894673a$export$65c88bbd597e7b0a)||[]).length){for(;s=$21bb7f0d2894673a$export$65c88bbd597e7b0a.exec(n);)h=s[0],p=n.substring(g,s.index),d?d=(d+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(d=1),h!==(u=c[b++]||"")&&(l=parseFloat(u)||0,v=u.substr((l+"").length),"="===h.charAt(1)&&(h=$21bb7f0d2894673a$export$dac762bc6301b560(l,h)+v),f=parseFloat(h),m=h.substr((f+"").length),g=$21bb7f0d2894673a$export$65c88bbd597e7b0a.lastIndex-m.length,m||(m=m||$21bb7f0d2894673a$export$4922bee768729a77.units[t]||v,g===n.length&&(n+=m,$.e+=m)),v!==m&&(l=$0cdfc2eaac330c87$var$_convertToUnit(e,t,u,m)||0),$._pt={_next:$._pt,p:p||1===b?p:",",s:l,c:f-l,m:d&&d<4||"zIndex"===t?Math.round:0});$.c=g<n.length?n.substring(g,n.length):""}else $.r="display"===t&&"none"===n?$0cdfc2eaac330c87$var$_renderNonTweeningValueOnlyAtEnd:$0cdfc2eaac330c87$var$_renderNonTweeningValue;return $21bb7f0d2894673a$export$5a680e28b0b61bc.test(n)&&($.e=0),this._pt=$,$},$0cdfc2eaac330c87$var$_keywordToPercent={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},$0cdfc2eaac330c87$var$_convertKeywordsToPercentages=function(e){var t=e.split(" "),r=t[0],n=t[1]||"50%";return"top"!==r&&"bottom"!==r&&"left"!==n&&"right"!==n||(e=r,r=n,n=e),t[0]=$0cdfc2eaac330c87$var$_keywordToPercent[r]||r,t[1]=$0cdfc2eaac330c87$var$_keywordToPercent[n]||n,t.join(" ")},$0cdfc2eaac330c87$var$_renderClearProps=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r,n,i,a=t.t,o=a.style,s=t.u,c=a._gsap;if("all"===s||!0===s)o.cssText="",n=1;else for(i=(s=s.split(",")).length;--i>-1;)r=s[i],$0cdfc2eaac330c87$var$_transformProps[r]&&(n=1,r="transformOrigin"===r?$0cdfc2eaac330c87$var$_transformOriginProp:$0cdfc2eaac330c87$var$_transformProp),$0cdfc2eaac330c87$var$_removeProperty(a,r);n&&($0cdfc2eaac330c87$var$_removeProperty(a,$0cdfc2eaac330c87$var$_transformProp),c&&(c.svg&&a.removeAttribute("transform"),$0cdfc2eaac330c87$var$_parseTransform(a,1),c.uncache=1))}},$0cdfc2eaac330c87$var$_specialProps={clearProps:function(e,t,r,n,i){if("isFromStart"!==i.data){var a=e._pt=new $21bb7f0d2894673a$export$3a67f7f44b1e838a(e._pt,t,r,0,0,$0cdfc2eaac330c87$var$_renderClearProps);return a.u=n,a.pr=-10,a.tween=i,e._props.push(r),1}}},$0cdfc2eaac330c87$var$_identity2DMatrix=[1,0,0,1,0,0],$0cdfc2eaac330c87$var$_rotationalProperties={},$0cdfc2eaac330c87$var$_isNullTransform=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},$0cdfc2eaac330c87$var$_getComputedTransformMatrixAsArray=function(e){var t=$0cdfc2eaac330c87$var$_getComputedProperty(e,$0cdfc2eaac330c87$var$_transformProp);return $0cdfc2eaac330c87$var$_isNullTransform(t)?$0cdfc2eaac330c87$var$_identity2DMatrix:t.substr(7).match($21bb7f0d2894673a$export$b9d44bb6523120d6).map($21bb7f0d2894673a$export$9c8d725d65e13f94)},$0cdfc2eaac330c87$var$_getMatrix=function(e,t){var r,n,i,a,o=e._gsap||$21bb7f0d2894673a$export$8b9be379d2de2a39(e),s=e.style,c=$0cdfc2eaac330c87$var$_getComputedTransformMatrixAsArray(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(c=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?$0cdfc2eaac330c87$var$_identity2DMatrix:c:(c!==$0cdfc2eaac330c87$var$_identity2DMatrix||e.offsetParent||e===$0cdfc2eaac330c87$var$_docElement||o.svg||(i=s.display,s.display="block",(r=e.parentNode)&&e.offsetParent||(a=1,n=e.nextSibling,$0cdfc2eaac330c87$var$_docElement.appendChild(e)),c=$0cdfc2eaac330c87$var$_getComputedTransformMatrixAsArray(e),i?s.display=i:$0cdfc2eaac330c87$var$_removeProperty(e,"display"),a&&(n?r.insertBefore(e,n):r?r.appendChild(e):$0cdfc2eaac330c87$var$_docElement.removeChild(e))),t&&c.length>6?[c[0],c[1],c[4],c[5],c[12],c[13]]:c)},$0cdfc2eaac330c87$var$_applySVGOrigin=function(e,t,r,n,i,a){var o,s,c,l=e._gsap,d=i||$0cdfc2eaac330c87$var$_getMatrix(e,!0),u=l.xOrigin||0,h=l.yOrigin||0,f=l.xOffset||0,p=l.yOffset||0,m=d[0],v=d[1],$=d[2],g=d[3],b=d[4],x=d[5],y=t.split(" "),w=parseFloat(y[0])||0,_=parseFloat(y[1])||0;r?d!==$0cdfc2eaac330c87$var$_identity2DMatrix&&(s=m*g-v*$)&&(c=w*(-v/s)+_*(m/s)-(m*x-v*b)/s,w=w*(g/s)+_*(-$/s)+($*x-g*b)/s,_=c):(w=(o=$0cdfc2eaac330c87$export$41bc7c2d1e04f11b(e)).x+(~y[0].indexOf("%")?w/100*o.width:w),_=o.y+(~(y[1]||y[0]).indexOf("%")?_/100*o.height:_)),n||!1!==n&&l.smooth?(b=w-u,x=_-h,l.xOffset=f+(b*m+x*$)-b,l.yOffset=p+(b*v+x*g)-x):l.xOffset=l.yOffset=0,l.xOrigin=w,l.yOrigin=_,l.smooth=!!n,l.origin=t,l.originIsAbsolute=!!r,e.style[$0cdfc2eaac330c87$var$_transformOriginProp]="0px 0px",a&&($0cdfc2eaac330c87$var$_addNonTweeningPT(a,l,"xOrigin",u,w),$0cdfc2eaac330c87$var$_addNonTweeningPT(a,l,"yOrigin",h,_),$0cdfc2eaac330c87$var$_addNonTweeningPT(a,l,"xOffset",f,l.xOffset),$0cdfc2eaac330c87$var$_addNonTweeningPT(a,l,"yOffset",p,l.yOffset)),e.setAttribute("data-svg-origin",w+" "+_)},$0cdfc2eaac330c87$var$_parseTransform=function(e,t){var r=e._gsap||new $21bb7f0d2894673a$export$cf10981d5419cad5(e);if("x"in r&&!t&&!r.uncache)return r;var n,i,a,o,s,c,l,d,u,h,f,p,m,v,$,g,b,x,y,w,_,S,T,M,E,A,C,L,R,P,D,O,I=e.style,N=r.scaleX<0,B="px",z="deg",U=$0cdfc2eaac330c87$var$_getComputedProperty(e,$0cdfc2eaac330c87$var$_transformOriginProp)||"0";return n=i=a=c=l=d=u=h=f=0,o=s=1,r.svg=!(!e.getCTM||!$0cdfc2eaac330c87$var$_isSVG(e)),v=$0cdfc2eaac330c87$var$_getMatrix(e,r.svg),r.svg&&(M=(!r.uncache||"0px 0px"===U)&&!t&&e.getAttribute("data-svg-origin"),$0cdfc2eaac330c87$var$_applySVGOrigin(e,M||U,!!M||r.originIsAbsolute,!1!==r.smooth,v)),p=r.xOrigin||0,m=r.yOrigin||0,v!==$0cdfc2eaac330c87$var$_identity2DMatrix&&(x=v[0],y=v[1],w=v[2],_=v[3],n=S=v[4],i=T=v[5],6===v.length?(o=Math.sqrt(x*x+y*y),s=Math.sqrt(_*_+w*w),c=x||y?$0cdfc2eaac330c87$var$_atan2(y,x)*$0cdfc2eaac330c87$var$_RAD2DEG:0,(u=w||_?$0cdfc2eaac330c87$var$_atan2(w,_)*$0cdfc2eaac330c87$var$_RAD2DEG+c:0)&&(s*=Math.abs(Math.cos(u*$0cdfc2eaac330c87$var$_DEG2RAD))),r.svg&&(n-=p-(p*x+m*w),i-=m-(p*y+m*_))):(O=v[6],P=v[7],C=v[8],L=v[9],R=v[10],D=v[11],n=v[12],i=v[13],a=v[14],l=($=$0cdfc2eaac330c87$var$_atan2(O,R))*$0cdfc2eaac330c87$var$_RAD2DEG,$&&(M=S*(g=Math.cos(-$))+C*(b=Math.sin(-$)),E=T*g+L*b,A=O*g+R*b,C=S*-b+C*g,L=T*-b+L*g,R=O*-b+R*g,D=P*-b+D*g,S=M,T=E,O=A),d=($=$0cdfc2eaac330c87$var$_atan2(-w,R))*$0cdfc2eaac330c87$var$_RAD2DEG,$&&(g=Math.cos(-$),D=_*(b=Math.sin(-$))+D*g,x=M=x*g-C*b,y=E=y*g-L*b,w=A=w*g-R*b),c=($=$0cdfc2eaac330c87$var$_atan2(y,x))*$0cdfc2eaac330c87$var$_RAD2DEG,$&&(M=x*(g=Math.cos($))+y*(b=Math.sin($)),E=S*g+T*b,y=y*g-x*b,T=T*g-S*b,x=M,S=E),l&&Math.abs(l)+Math.abs(c)>359.9&&(l=c=0,d=180-d),o=$21bb7f0d2894673a$export$9c8d725d65e13f94(Math.sqrt(x*x+y*y+w*w)),s=$21bb7f0d2894673a$export$9c8d725d65e13f94(Math.sqrt(T*T+O*O)),$=$0cdfc2eaac330c87$var$_atan2(S,T),u=Math.abs($)>2e-4?$*$0cdfc2eaac330c87$var$_RAD2DEG:0,f=D?1/(D<0?-D:D):0),r.svg&&(M=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!$0cdfc2eaac330c87$var$_isNullTransform($0cdfc2eaac330c87$var$_getComputedProperty(e,$0cdfc2eaac330c87$var$_transformProp)),M&&e.setAttribute("transform",M))),Math.abs(u)>90&&Math.abs(u)<270&&(N?(o*=-1,u+=c<=0?180:-180,c+=c<=0?180:-180):(s*=-1,u+=u<=0?180:-180)),t=t||r.uncache,r.x=n-((r.xPercent=n&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-n)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+B,r.y=i-((r.yPercent=i&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+B,r.z=a+B,r.scaleX=$21bb7f0d2894673a$export$9c8d725d65e13f94(o),r.scaleY=$21bb7f0d2894673a$export$9c8d725d65e13f94(s),r.rotation=$21bb7f0d2894673a$export$9c8d725d65e13f94(c)+z,r.rotationX=$21bb7f0d2894673a$export$9c8d725d65e13f94(l)+z,r.rotationY=$21bb7f0d2894673a$export$9c8d725d65e13f94(d)+z,r.skewX=u+z,r.skewY=h+z,r.transformPerspective=f+B,(r.zOrigin=parseFloat(U.split(" ")[2])||0)&&(I[$0cdfc2eaac330c87$var$_transformOriginProp]=$0cdfc2eaac330c87$var$_firstTwoOnly(U)),r.xOffset=r.yOffset=0,r.force3D=$21bb7f0d2894673a$export$4922bee768729a77.force3D,r.renderTransform=r.svg?$0cdfc2eaac330c87$var$_renderSVGTransforms:$0cdfc2eaac330c87$var$_supports3D?$0cdfc2eaac330c87$var$_renderCSSTransforms:$0cdfc2eaac330c87$var$_renderNon3DTransforms,r.uncache=0,r},$0cdfc2eaac330c87$var$_firstTwoOnly=function(e){return(e=e.split(" "))[0]+" "+e[1]},$0cdfc2eaac330c87$var$_addPxTranslate=function(e,t,r){var n=$21bb7f0d2894673a$export$65f2564e9a9b9222(t);return $21bb7f0d2894673a$export$9c8d725d65e13f94(parseFloat(t)+parseFloat($0cdfc2eaac330c87$var$_convertToUnit(e,"x",r+"px",n)))+n},$0cdfc2eaac330c87$var$_renderNon3DTransforms=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,$0cdfc2eaac330c87$var$_renderCSSTransforms(e,t)},$0cdfc2eaac330c87$var$_zeroDeg="0deg",$0cdfc2eaac330c87$var$_zeroPx="0px",$0cdfc2eaac330c87$var$_endParenthesis=") ",$0cdfc2eaac330c87$var$_renderCSSTransforms=function(e,t){var r=t||this,n=r.xPercent,i=r.yPercent,a=r.x,o=r.y,s=r.z,c=r.rotation,l=r.rotationY,d=r.rotationX,u=r.skewX,h=r.skewY,f=r.scaleX,p=r.scaleY,m=r.transformPerspective,v=r.force3D,$=r.target,g=r.zOrigin,b="",x="auto"===v&&e&&1!==e||!0===v;if(g&&(d!==$0cdfc2eaac330c87$var$_zeroDeg||l!==$0cdfc2eaac330c87$var$_zeroDeg)){var y,w=parseFloat(l)*$0cdfc2eaac330c87$var$_DEG2RAD,_=Math.sin(w),S=Math.cos(w);w=parseFloat(d)*$0cdfc2eaac330c87$var$_DEG2RAD,y=Math.cos(w),a=$0cdfc2eaac330c87$var$_addPxTranslate($,a,_*y*-g),o=$0cdfc2eaac330c87$var$_addPxTranslate($,o,-Math.sin(w)*-g),s=$0cdfc2eaac330c87$var$_addPxTranslate($,s,S*y*-g+g)}m!==$0cdfc2eaac330c87$var$_zeroPx&&(b+="perspective("+m+$0cdfc2eaac330c87$var$_endParenthesis),(n||i)&&(b+="translate("+n+"%, "+i+"%) "),(x||a!==$0cdfc2eaac330c87$var$_zeroPx||o!==$0cdfc2eaac330c87$var$_zeroPx||s!==$0cdfc2eaac330c87$var$_zeroPx)&&(b+=s!==$0cdfc2eaac330c87$var$_zeroPx||x?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+$0cdfc2eaac330c87$var$_endParenthesis),c!==$0cdfc2eaac330c87$var$_zeroDeg&&(b+="rotate("+c+$0cdfc2eaac330c87$var$_endParenthesis),l!==$0cdfc2eaac330c87$var$_zeroDeg&&(b+="rotateY("+l+$0cdfc2eaac330c87$var$_endParenthesis),d!==$0cdfc2eaac330c87$var$_zeroDeg&&(b+="rotateX("+d+$0cdfc2eaac330c87$var$_endParenthesis),u===$0cdfc2eaac330c87$var$_zeroDeg&&h===$0cdfc2eaac330c87$var$_zeroDeg||(b+="skew("+u+", "+h+$0cdfc2eaac330c87$var$_endParenthesis),1===f&&1===p||(b+="scale("+f+", "+p+$0cdfc2eaac330c87$var$_endParenthesis),$.style[$0cdfc2eaac330c87$var$_transformProp]=b||"translate(0, 0)"},$0cdfc2eaac330c87$var$_renderSVGTransforms=function(e,t){var r,n,i,a,o,s=t||this,c=s.xPercent,l=s.yPercent,d=s.x,u=s.y,h=s.rotation,f=s.skewX,p=s.skewY,m=s.scaleX,v=s.scaleY,$=s.target,g=s.xOrigin,b=s.yOrigin,x=s.xOffset,y=s.yOffset,w=s.forceCSS,_=parseFloat(d),S=parseFloat(u);h=parseFloat(h),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),h+=p),h||f?(h*=$0cdfc2eaac330c87$var$_DEG2RAD,f*=$0cdfc2eaac330c87$var$_DEG2RAD,r=Math.cos(h)*m,n=Math.sin(h)*m,i=Math.sin(h-f)*-v,a=Math.cos(h-f)*v,f&&(p*=$0cdfc2eaac330c87$var$_DEG2RAD,o=Math.tan(f-p),i*=o=Math.sqrt(1+o*o),a*=o,p&&(o=Math.tan(p),r*=o=Math.sqrt(1+o*o),n*=o)),r=$21bb7f0d2894673a$export$9c8d725d65e13f94(r),n=$21bb7f0d2894673a$export$9c8d725d65e13f94(n),i=$21bb7f0d2894673a$export$9c8d725d65e13f94(i),a=$21bb7f0d2894673a$export$9c8d725d65e13f94(a)):(r=m,a=v,n=i=0),(_&&!~(d+"").indexOf("px")||S&&!~(u+"").indexOf("px"))&&(_=$0cdfc2eaac330c87$var$_convertToUnit($,"x",d,"px"),S=$0cdfc2eaac330c87$var$_convertToUnit($,"y",u,"px")),(g||b||x||y)&&(_=$21bb7f0d2894673a$export$9c8d725d65e13f94(_+g-(g*r+b*i)+x),S=$21bb7f0d2894673a$export$9c8d725d65e13f94(S+b-(g*n+b*a)+y)),(c||l)&&(o=$.getBBox(),_=$21bb7f0d2894673a$export$9c8d725d65e13f94(_+c/100*o.width),S=$21bb7f0d2894673a$export$9c8d725d65e13f94(S+l/100*o.height)),o="matrix("+r+","+n+","+i+","+a+","+_+","+S+")",$.setAttribute("transform",o),w&&($.style[$0cdfc2eaac330c87$var$_transformProp]=o)},$0cdfc2eaac330c87$var$_addRotationalPropTween=function(e,t,r,n,i){var a,o,s=360,c=$21bb7f0d2894673a$export$f664476fd67145ca(i),l=parseFloat(i)*(c&&~i.indexOf("rad")?$0cdfc2eaac330c87$var$_RAD2DEG:1)-n,d=n+l+"deg";return c&&("short"===(a=i.split("_")[1])&&(l%=s)!==l%180&&(l+=l<0?s:-360),"cw"===a&&l<0?l=(l+s*$0cdfc2eaac330c87$var$_bigNum)%s-~~(l/s)*s:"ccw"===a&&l>0&&(l=(l-s*$0cdfc2eaac330c87$var$_bigNum)%s-~~(l/s)*s)),e._pt=o=new $21bb7f0d2894673a$export$3a67f7f44b1e838a(e._pt,t,r,n,l,$0cdfc2eaac330c87$var$_renderPropWithEnd),o.e=d,o.u="deg",e._props.push(r),o},$0cdfc2eaac330c87$var$_assign=function(e,t){for(var r in t)e[r]=t[r];return e},$0cdfc2eaac330c87$var$_addRawTransformPTs=function(e,t,r){var n,i,a,o,s,c,l,d=$0cdfc2eaac330c87$var$_assign({},r._gsap),u=r.style;for(i in d.svg?(a=r.getAttribute("transform"),r.setAttribute("transform",""),u[$0cdfc2eaac330c87$var$_transformProp]=t,n=$0cdfc2eaac330c87$var$_parseTransform(r,1),$0cdfc2eaac330c87$var$_removeProperty(r,$0cdfc2eaac330c87$var$_transformProp),r.setAttribute("transform",a)):(a=getComputedStyle(r)[$0cdfc2eaac330c87$var$_transformProp],u[$0cdfc2eaac330c87$var$_transformProp]=t,n=$0cdfc2eaac330c87$var$_parseTransform(r,1),u[$0cdfc2eaac330c87$var$_transformProp]=a),$0cdfc2eaac330c87$var$_transformProps)(a=d[i])!==(o=n[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=$21bb7f0d2894673a$export$65f2564e9a9b9222(a)!==(l=$21bb7f0d2894673a$export$65f2564e9a9b9222(o))?$0cdfc2eaac330c87$var$_convertToUnit(r,i,a,l):parseFloat(a),c=parseFloat(o),e._pt=new $21bb7f0d2894673a$export$3a67f7f44b1e838a(e._pt,n,i,s,c-s,$0cdfc2eaac330c87$var$_renderCSSProp),e._pt.u=l||0,e._props.push(i));$0cdfc2eaac330c87$var$_assign(n,d)};$21bb7f0d2894673a$export$f9000b814859f126("padding,margin,Width,Radius",(function(e,t){var r="Top",n="Right",i="Bottom",a="Left",o=(t<3?[r,n,i,a]:[r+a,r+n,i+n,i+a]).map((function(r){return t<2?e+r:"border"+r+e}));$0cdfc2eaac330c87$var$_specialProps[t>1?"border"+e:e]=function(e,t,r,n,i){var a,s;if(arguments.length<4)return a=o.map((function(t){return $0cdfc2eaac330c87$var$_get(e,t,r)})),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(n+"").split(" "),s={},o.forEach((function(e,t){return s[e]=a[t]=a[t]||a[(t-1)/2|0]})),e.init(t,s,i)}}));var $0cdfc2eaac330c87$export$855822f522f18eef={name:"css",register:$0cdfc2eaac330c87$var$_initCore,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,n,i){var a,o,s,c,l,d,u,h,f,p,m,v,$,g,b,x=this._props,y=e.style,w=r.vars.startAt;for(u in $0cdfc2eaac330c87$var$_pluginInitted||$0cdfc2eaac330c87$var$_initCore(),t)if("autoRound"!==u&&(o=t[u],!$21bb7f0d2894673a$export$d305d8ec5d7c26b8[u]||!$21bb7f0d2894673a$export$5c457b74208010cf(u,t,r,n,e,i)))if(l=typeof o,d=$0cdfc2eaac330c87$var$_specialProps[u],"function"===l&&(l=typeof(o=o.call(r,n,e,i))),"string"===l&&~o.indexOf("random(")&&(o=$21bb7f0d2894673a$export$d5962a97e3cde94d(o)),d)d(this,e,u,o,r)&&(b=1);else if("--"===u.substr(0,2))a=(getComputedStyle(e).getPropertyValue(u)+"").trim(),o+="",$21bb7f0d2894673a$export$dd733e62515be2bd.lastIndex=0,$21bb7f0d2894673a$export$dd733e62515be2bd.test(a)||(h=$21bb7f0d2894673a$export$65f2564e9a9b9222(a),f=$21bb7f0d2894673a$export$65f2564e9a9b9222(o)),f?h!==f&&(a=$0cdfc2eaac330c87$var$_convertToUnit(e,u,a,f)+f):h&&(o+=h),this.add(y,"setProperty",a,o,n,i,0,0,u),x.push(u);else if("undefined"!==l){if(w&&u in w?(a="function"==typeof w[u]?w[u].call(r,n,e,i):w[u],$21bb7f0d2894673a$export$f664476fd67145ca(a)&&~a.indexOf("random(")&&(a=$21bb7f0d2894673a$export$d5962a97e3cde94d(a)),$21bb7f0d2894673a$export$65f2564e9a9b9222(a+"")||(a+=$21bb7f0d2894673a$export$4922bee768729a77.units[u]||$21bb7f0d2894673a$export$65f2564e9a9b9222($0cdfc2eaac330c87$var$_get(e,u))||""),"="===(a+"").charAt(1)&&(a=$0cdfc2eaac330c87$var$_get(e,u))):a=$0cdfc2eaac330c87$var$_get(e,u),c=parseFloat(a),(p="string"===l&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),s=parseFloat(o),u in $0cdfc2eaac330c87$var$_propertyAliases&&("autoAlpha"===u&&(1===c&&"hidden"===$0cdfc2eaac330c87$var$_get(e,"visibility")&&s&&(c=0),$0cdfc2eaac330c87$var$_addNonTweeningPT(this,y,"visibility",c?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==u&&"transform"!==u&&~(u=$0cdfc2eaac330c87$var$_propertyAliases[u]).indexOf(",")&&(u=u.split(",")[0])),m=u in $0cdfc2eaac330c87$var$_transformProps)if(v||(($=e._gsap).renderTransform&&!t.parseTransform||$0cdfc2eaac330c87$var$_parseTransform(e,t.parseTransform),g=!1!==t.smoothOrigin&&$.smooth,(v=this._pt=new $21bb7f0d2894673a$export$3a67f7f44b1e838a(this._pt,y,$0cdfc2eaac330c87$var$_transformProp,0,1,$.renderTransform,$,0,-1)).dep=1),"scale"===u)this._pt=new $21bb7f0d2894673a$export$3a67f7f44b1e838a(this._pt,$,"scaleY",$.scaleY,(p?$21bb7f0d2894673a$export$dac762bc6301b560($.scaleY,p+s):s)-$.scaleY||0),x.push("scaleY",u),u+="X";else{if("transformOrigin"===u){o=$0cdfc2eaac330c87$var$_convertKeywordsToPercentages(o),$.svg?$0cdfc2eaac330c87$var$_applySVGOrigin(e,o,0,g,0,this):((f=parseFloat(o.split(" ")[2])||0)!==$.zOrigin&&$0cdfc2eaac330c87$var$_addNonTweeningPT(this,$,"zOrigin",$.zOrigin,f),$0cdfc2eaac330c87$var$_addNonTweeningPT(this,y,u,$0cdfc2eaac330c87$var$_firstTwoOnly(a),$0cdfc2eaac330c87$var$_firstTwoOnly(o)));continue}if("svgOrigin"===u){$0cdfc2eaac330c87$var$_applySVGOrigin(e,o,1,g,0,this);continue}if(u in $0cdfc2eaac330c87$var$_rotationalProperties){$0cdfc2eaac330c87$var$_addRotationalPropTween(this,$,u,c,p?$21bb7f0d2894673a$export$dac762bc6301b560(c,p+o):o);continue}if("smoothOrigin"===u){$0cdfc2eaac330c87$var$_addNonTweeningPT(this,$,"smooth",$.smooth,o);continue}if("force3D"===u){$[u]=o;continue}if("transform"===u){$0cdfc2eaac330c87$var$_addRawTransformPTs(this,o,e);continue}}else u in y||(u=$0cdfc2eaac330c87$export$8cbef5dd49a09c8b(u)||u);if(m||(s||0===s)&&(c||0===c)&&!$0cdfc2eaac330c87$var$_complexExp.test(o)&&u in y)s||(s=0),(h=(a+"").substr((c+"").length))!==(f=$21bb7f0d2894673a$export$65f2564e9a9b9222(o)||(u in $21bb7f0d2894673a$export$4922bee768729a77.units?$21bb7f0d2894673a$export$4922bee768729a77.units[u]:h))&&(c=$0cdfc2eaac330c87$var$_convertToUnit(e,u,a,f)),this._pt=new $21bb7f0d2894673a$export$3a67f7f44b1e838a(this._pt,m?$:y,u,c,(p?$21bb7f0d2894673a$export$dac762bc6301b560(c,p+s):s)-c,m||"px"!==f&&"zIndex"!==u||!1===t.autoRound?$0cdfc2eaac330c87$var$_renderCSSProp:$0cdfc2eaac330c87$var$_renderRoundedCSSProp),this._pt.u=f||0,h!==f&&"%"!==f&&(this._pt.b=a,this._pt.r=$0cdfc2eaac330c87$var$_renderCSSPropWithBeginning);else if(u in y)$0cdfc2eaac330c87$var$_tweenComplexCSSString.call(this,e,u,a,p?p+o:o);else{if(!(u in e)){$21bb7f0d2894673a$export$7fb54635790b59a5(u,o);continue}this.add(e,u,a||e[u],p?p+o:o,n,i)}x.push(u)}b&&$21bb7f0d2894673a$export$eed5824f53346d57(this)},get:$0cdfc2eaac330c87$var$_get,aliases:$0cdfc2eaac330c87$var$_propertyAliases,getSetter:function(e,t,r){var n=$0cdfc2eaac330c87$var$_propertyAliases[t];return n&&n.indexOf(",")<0&&(t=n),t in $0cdfc2eaac330c87$var$_transformProps&&t!==$0cdfc2eaac330c87$var$_transformOriginProp&&(e._gsap.x||$0cdfc2eaac330c87$var$_get(e,"x"))?r&&$0cdfc2eaac330c87$var$_recentSetterPlugin===r?"scale"===t?$0cdfc2eaac330c87$var$_setterScale:$0cdfc2eaac330c87$var$_setterTransform:($0cdfc2eaac330c87$var$_recentSetterPlugin=r||{},"scale"===t?$0cdfc2eaac330c87$var$_setterScaleWithRender:$0cdfc2eaac330c87$var$_setterTransformWithRender):e.style&&!$21bb7f0d2894673a$export$a8178c063a9fd3a1(e.style[t])?$0cdfc2eaac330c87$var$_setterCSSStyle:~t.indexOf("-")?$0cdfc2eaac330c87$var$_setterCSSProp:$21bb7f0d2894673a$export$d60fbc1e0278aaf0(e,t)},core:{_removeProperty:$0cdfc2eaac330c87$var$_removeProperty,_getMatrix:$0cdfc2eaac330c87$var$_getMatrix}},positionAndScale,rotation,all;$21bb7f0d2894673a$export$99ee26438460406a.utils.checkPrefix=$0cdfc2eaac330c87$export$8cbef5dd49a09c8b,positionAndScale="x,y,z,scale,scaleX,scaleY,xPercent,yPercent",rotation="rotation,rotationX,rotationY,skewX,skewY",all=$21bb7f0d2894673a$export$f9000b814859f126(positionAndScale+","+rotation+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){$0cdfc2eaac330c87$var$_transformProps[e]=1})),$21bb7f0d2894673a$export$f9000b814859f126(rotation,(function(e){$21bb7f0d2894673a$export$4922bee768729a77.units[e]="deg",$0cdfc2eaac330c87$var$_rotationalProperties[e]=1})),$0cdfc2eaac330c87$var$_propertyAliases[all[13]]=positionAndScale+","+rotation,$21bb7f0d2894673a$export$f9000b814859f126("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");$0cdfc2eaac330c87$var$_propertyAliases[t[1]]=all[t[0]]})),$21bb7f0d2894673a$export$f9000b814859f126("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){$21bb7f0d2894673a$export$4922bee768729a77.units[e]="px"})),$21bb7f0d2894673a$export$99ee26438460406a.registerPlugin($0cdfc2eaac330c87$export$855822f522f18eef);var $357b3f2d5f2ec9d5$export$99ee26438460406a=$21bb7f0d2894673a$export$99ee26438460406a.registerPlugin($0cdfc2eaac330c87$export$855822f522f18eef)||$21bb7f0d2894673a$export$99ee26438460406a,$357b3f2d5f2ec9d5$export$7b23975ad686bf91=$357b3f2d5f2ec9d5$export$99ee26438460406a.core.Tween,$213ead1fc3ee47d5$var$gsap,$213ead1fc3ee47d5$var$_coreInitted,$213ead1fc3ee47d5$var$_registerEase,$213ead1fc3ee47d5$var$_getGSAP=function(){return $213ead1fc3ee47d5$var$gsap||"undefined"!=typeof window&&($213ead1fc3ee47d5$var$gsap=window.gsap)&&$213ead1fc3ee47d5$var$gsap.registerPlugin&&$213ead1fc3ee47d5$var$gsap},$213ead1fc3ee47d5$var$_boolean=function(e,t){return!!(void 0===e?t:e&&!~(e+"").indexOf("false"))},$213ead1fc3ee47d5$var$_initCore=function(e){if($213ead1fc3ee47d5$var$gsap=e||$213ead1fc3ee47d5$var$_getGSAP()){$213ead1fc3ee47d5$var$_registerEase=$213ead1fc3ee47d5$var$gsap.registerEase;var t,r=$213ead1fc3ee47d5$var$gsap.parseEase(),n=function(e){return function(t){var r=.5+t/2;e.config=function(t){return e(2*(1-t)*t*r+t*t)}}};for(t in r)r[t].config||n(r[t]);for(t in $213ead1fc3ee47d5$var$_registerEase("slow",$213ead1fc3ee47d5$export$5b8ec41d2880926f),$213ead1fc3ee47d5$var$_registerEase("expoScale",$213ead1fc3ee47d5$export$f95db16282c8d7a4),$213ead1fc3ee47d5$var$_registerEase("rough",$213ead1fc3ee47d5$export$116b12203755670f),$213ead1fc3ee47d5$export$eb3280d9b6c5fe6f)"version"!==t&&$213ead1fc3ee47d5$var$gsap.core.globals(t,$213ead1fc3ee47d5$export$eb3280d9b6c5fe6f[t]);$213ead1fc3ee47d5$var$_coreInitted=1}},$213ead1fc3ee47d5$var$_createSlowMo=function(e,t,r){var n=(e=Math.min(1,e||.7))<1?t||0===t?t:.7:0,i=(1-e)/2,a=i+e,o=$213ead1fc3ee47d5$var$_boolean(r);return function(e){var t=e+(.5-e)*n;return e<i?o?1-(e=1-e/i)*e:t-(e=1-e/i)*e*e*e*t:e>a?o?1===e?0:1-(e=(e-a)/i)*e:t+(e-t)*(e=(e-a)/i)*e*e*e:o?1:t}},$213ead1fc3ee47d5$var$_createExpoScale=function(e,t,r){var n=Math.log(t/e),i=t-e;return r&&(r=$213ead1fc3ee47d5$var$gsap.parseEase(r)),function(t){return(e*Math.exp(n*(r?r(t):t))-e)/i}},$213ead1fc3ee47d5$var$EasePoint=function(e,t,r){this.t=e,this.v=t,r&&(this.next=r,r.prev=this,this.c=r.v-t,this.gap=r.t-e)},$213ead1fc3ee47d5$var$_createRoughEase=function(e){"object"!=typeof e&&(e={points:+e||20});for(var t,r,n,i,a,o,s,c=e.taper||"none",l=[],d=0,u=0|(+e.points||20),h=u,f=$213ead1fc3ee47d5$var$_boolean(e.randomize,!0),p=$213ead1fc3ee47d5$var$_boolean(e.clamp),m=$213ead1fc3ee47d5$var$gsap?$213ead1fc3ee47d5$var$gsap.parseEase(e.template):0,v=.4*(+e.strength||1);--h>-1;)t=f?Math.random():1/u*h,r=m?m(t):t,n="none"===c?v:"out"===c?(i=1-t)*i*v:"in"===c?t*t*v:t<.5?(i=2*t)*i*.5*v:(i=2*(1-t))*i*.5*v,f?r+=Math.random()*n-.5*n:h%2?r+=.5*n:r-=.5*n,p&&(r>1?r=1:r<0&&(r=0)),l[d++]={x:t,y:r};for(l.sort((function(e,t){return e.x-t.x})),o=new $213ead1fc3ee47d5$var$EasePoint(1,1,null),h=u;h--;)a=l[h],o=new $213ead1fc3ee47d5$var$EasePoint(a.x,a.y,o);return s=new $213ead1fc3ee47d5$var$EasePoint(0,0,o.t?o:o.next),function(e){var t=s;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return s=t,t.v+(e-t.t)/t.gap*t.c}},$213ead1fc3ee47d5$export$5b8ec41d2880926f=$213ead1fc3ee47d5$var$_createSlowMo(.7);
/*!
 * EasePack 3.10.4
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/$213ead1fc3ee47d5$export$5b8ec41d2880926f.ease=$213ead1fc3ee47d5$export$5b8ec41d2880926f,$213ead1fc3ee47d5$export$5b8ec41d2880926f.config=$213ead1fc3ee47d5$var$_createSlowMo;var $213ead1fc3ee47d5$export$f95db16282c8d7a4=$213ead1fc3ee47d5$var$_createExpoScale(1,2);$213ead1fc3ee47d5$export$f95db16282c8d7a4.config=$213ead1fc3ee47d5$var$_createExpoScale;var $213ead1fc3ee47d5$export$116b12203755670f=$213ead1fc3ee47d5$var$_createRoughEase();$213ead1fc3ee47d5$export$116b12203755670f.ease=$213ead1fc3ee47d5$export$116b12203755670f,$213ead1fc3ee47d5$export$116b12203755670f.config=$213ead1fc3ee47d5$var$_createRoughEase;var $213ead1fc3ee47d5$export$eb3280d9b6c5fe6f={SlowMo:$213ead1fc3ee47d5$export$5b8ec41d2880926f,RoughEase:$213ead1fc3ee47d5$export$116b12203755670f,ExpoScaleEase:$213ead1fc3ee47d5$export$f95db16282c8d7a4};for(var $213ead1fc3ee47d5$var$p in $213ead1fc3ee47d5$export$eb3280d9b6c5fe6f)$213ead1fc3ee47d5$export$eb3280d9b6c5fe6f[$213ead1fc3ee47d5$var$p].register=$213ead1fc3ee47d5$var$_initCore,$213ead1fc3ee47d5$export$eb3280d9b6c5fe6f[$213ead1fc3ee47d5$var$p].version="3.10.4";$213ead1fc3ee47d5$var$_getGSAP()&&$213ead1fc3ee47d5$var$gsap.registerPlugin($213ead1fc3ee47d5$export$5b8ec41d2880926f);var $h7TnM=parcelRequire("h7TnM"),$ilwiq=parcelRequire("ilwiq"),$ilwiq=parcelRequire("ilwiq");class $17493c0898b58cb5$export$2e2bcd8739ae039{constructor(){this.callbacks={},this.callbacks.base={}}on(e,t){const r=this;if(void 0===e||""===e)return console.warn("wrong names"),!1;if(void 0===t)return console.warn("wrong callback"),!1;return this.resolveNames(e).forEach((function(e){const n=r.resolveName(e);r.callbacks[n.namespace]instanceof Object||(r.callbacks[n.namespace]={}),r.callbacks[n.namespace][n.value]instanceof Array||(r.callbacks[n.namespace][n.value]=[]),r.callbacks[n.namespace][n.value].push(t)})),this}off(e){const t=this;if(void 0===e||""===e)return console.warn("wrong name"),!1;return this.resolveNames(e).forEach((function(e){const r=t.resolveName(e);if("base"!==r.namespace&&""===r.value)delete t.callbacks[r.namespace];else if("base"===r.namespace)for(const e in t.callbacks)t.callbacks[e]instanceof Object&&t.callbacks[e][r.value]instanceof Array&&(delete t.callbacks[e][r.value],0===Object.keys(t.callbacks[e]).length&&delete t.callbacks[e]);else t.callbacks[r.namespace]instanceof Object&&t.callbacks[r.namespace][r.value]instanceof Array&&(delete t.callbacks[r.namespace][r.value],0===Object.keys(t.callbacks[r.namespace]).length&&delete t.callbacks[r.namespace])})),this}trigger(e,t){if(void 0===e||""===e)return console.warn("wrong name"),!1;const r=this;let n=null,i=null;const a=t instanceof Array?t:[];let o=this.resolveNames(e);if(o=this.resolveName(o[0]),"base"===o.namespace)for(const e in r.callbacks)r.callbacks[e]instanceof Object&&r.callbacks[e][o.value]instanceof Array&&r.callbacks[e][o.value].forEach((function(e){i=e.apply(r,a),void 0===n&&(n=i)}));else if(this.callbacks[o.namespace]instanceof Object){if(""===o.value)return console.warn("wrong name"),this;r.callbacks[o.namespace][o.value].forEach((function(e){i=e.apply(r,a),void 0===n&&(n=i)}))}return n}resolveNames(e){let t=e;return t=t.replace(/[^a-zA-Z0-9 ,/.]/g,""),t=t.replace(/[,/]+/g," "),t=t.split(" "),t}resolveName(e){const t={},r=e.split(".");return t.original=e,t.value=r[0],t.namespace="base",r.length>1&&""!==r[1]&&(t.namespace=r[1]),t}}var $ilwiq=parcelRequire("ilwiq"),$53691bda533d12d0$exports={};$parcel$export($53691bda533d12d0$exports,"inflateSync",(()=>$53691bda533d12d0$export$90366d8b308ba94a)),$parcel$export($53691bda533d12d0$exports,"deflateSync",(()=>$53691bda533d12d0$export$21533ff51b8a0b4a)),$parcel$export($53691bda533d12d0$exports,"Deflate",(()=>$53691bda533d12d0$export$ae157b6234afe138)),$parcel$export($53691bda533d12d0$exports,"AsyncDeflate",(()=>$53691bda533d12d0$export$84e526fabcba03e3)),$parcel$export($53691bda533d12d0$exports,"deflate",(()=>$53691bda533d12d0$export$2316623ecd1285ab)),$parcel$export($53691bda533d12d0$exports,"Inflate",(()=>$53691bda533d12d0$export$d1de70a877d6e43c)),$parcel$export($53691bda533d12d0$exports,"AsyncInflate",(()=>$53691bda533d12d0$export$fff8358d6dbaa9cc)),$parcel$export($53691bda533d12d0$exports,"inflate",(()=>$53691bda533d12d0$export$cae1ce83fe4a1782)),$parcel$export($53691bda533d12d0$exports,"Gzip",(()=>$53691bda533d12d0$export$8e4b66d280bf8342)),$parcel$export($53691bda533d12d0$exports,"AsyncGzip",(()=>$53691bda533d12d0$export$b4c75ae96cdf708b)),$parcel$export($53691bda533d12d0$exports,"gzip",(()=>$53691bda533d12d0$export$69f0ea7cf3a331a8)),$parcel$export($53691bda533d12d0$exports,"gzipSync",(()=>$53691bda533d12d0$export$3d616c3fb3e15483)),$parcel$export($53691bda533d12d0$exports,"Gunzip",(()=>$53691bda533d12d0$export$4cb607de6db70415)),$parcel$export($53691bda533d12d0$exports,"AsyncGunzip",(()=>$53691bda533d12d0$export$d5adcdd968132151)),$parcel$export($53691bda533d12d0$exports,"gunzip",(()=>$53691bda533d12d0$export$b6df3e950734d697)),$parcel$export($53691bda533d12d0$exports,"gunzipSync",(()=>$53691bda533d12d0$export$c80456f7aaba691c)),$parcel$export($53691bda533d12d0$exports,"Zlib",(()=>$53691bda533d12d0$export$4187ccf2467013b9)),$parcel$export($53691bda533d12d0$exports,"AsyncZlib",(()=>$53691bda533d12d0$export$bedbe3a2c2136490)),$parcel$export($53691bda533d12d0$exports,"zlib",(()=>$53691bda533d12d0$export$925212de7058410b)),$parcel$export($53691bda533d12d0$exports,"zlibSync",(()=>$53691bda533d12d0$export$f87121a6d50aff25)),$parcel$export($53691bda533d12d0$exports,"Unzlib",(()=>$53691bda533d12d0$export$af2424f875ff1b17)),$parcel$export($53691bda533d12d0$exports,"AsyncUnzlib",(()=>$53691bda533d12d0$export$cf6668790220dcad)),$parcel$export($53691bda533d12d0$exports,"unzlib",(()=>$53691bda533d12d0$export$ca7cbb494e731274)),$parcel$export($53691bda533d12d0$exports,"unzlibSync",(()=>$53691bda533d12d0$export$9ec8134f0f1b9fc6)),$parcel$export($53691bda533d12d0$exports,"compress",(()=>$53691bda533d12d0$export$69f0ea7cf3a331a8)),$parcel$export($53691bda533d12d0$exports,"AsyncCompress",(()=>$53691bda533d12d0$export$b4c75ae96cdf708b)),$parcel$export($53691bda533d12d0$exports,"compressSync",(()=>$53691bda533d12d0$export$3d616c3fb3e15483)),$parcel$export($53691bda533d12d0$exports,"Compress",(()=>$53691bda533d12d0$export$8e4b66d280bf8342)),$parcel$export($53691bda533d12d0$exports,"Decompress",(()=>$53691bda533d12d0$export$578fe199ef655b76)),$parcel$export($53691bda533d12d0$exports,"AsyncDecompress",(()=>$53691bda533d12d0$export$ae2c1d81988d4b43)),$parcel$export($53691bda533d12d0$exports,"decompress",(()=>$53691bda533d12d0$export$678d868aab8fb3c7)),$parcel$export($53691bda533d12d0$exports,"decompressSync",(()=>$53691bda533d12d0$export$c4bdbbbc9a4faabe)),$parcel$export($53691bda533d12d0$exports,"DecodeUTF8",(()=>$53691bda533d12d0$export$ba46860a31c72e94)),$parcel$export($53691bda533d12d0$exports,"EncodeUTF8",(()=>$53691bda533d12d0$export$283f13d12b1b210e)),$parcel$export($53691bda533d12d0$exports,"strToU8",(()=>$53691bda533d12d0$export$366b39a6daa8ed7a)),$parcel$export($53691bda533d12d0$exports,"strFromU8",(()=>$53691bda533d12d0$export$adb211f8cb999894)),$parcel$export($53691bda533d12d0$exports,"ZipPassThrough",(()=>$53691bda533d12d0$export$2b25194e1767ea06)),$parcel$export($53691bda533d12d0$exports,"ZipDeflate",(()=>$53691bda533d12d0$export$f7e481ca646388b6)),$parcel$export($53691bda533d12d0$exports,"AsyncZipDeflate",(()=>$53691bda533d12d0$export$ffb5e59e179924b2)),$parcel$export($53691bda533d12d0$exports,"Zip",(()=>$53691bda533d12d0$export$9a4d4a7c32a75d2f)),$parcel$export($53691bda533d12d0$exports,"zip",(()=>$53691bda533d12d0$export$8901015135f2fb22)),$parcel$export($53691bda533d12d0$exports,"zipSync",(()=>$53691bda533d12d0$export$eb1654f146d54eb3)),$parcel$export($53691bda533d12d0$exports,"UnzipPassThrough",(()=>$53691bda533d12d0$export$93f81d5bbbb7c6bf)),$parcel$export($53691bda533d12d0$exports,"UnzipInflate",(()=>$53691bda533d12d0$export$eb188945cc39e642)),$parcel$export($53691bda533d12d0$exports,"AsyncUnzipInflate",(()=>$53691bda533d12d0$export$6235d84645dad4f9)),$parcel$export($53691bda533d12d0$exports,"Unzip",(()=>$53691bda533d12d0$export$9b7485f84cbaaa56)),$parcel$export($53691bda533d12d0$exports,"unzip",(()=>$53691bda533d12d0$export$23c8d3f8757cab88)),$parcel$export($53691bda533d12d0$exports,"unzipSync",(()=>$53691bda533d12d0$export$c757709326bb5901));
/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/
var $53691bda533d12d0$var$ch2={},$53691bda533d12d0$var$durl=function(e){return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},$53691bda533d12d0$var$cwk=function(e){return new Worker(e)};try{URL.revokeObjectURL($53691bda533d12d0$var$durl(""))}catch(e){$53691bda533d12d0$var$durl=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)},$53691bda533d12d0$var$cwk=function(e){return new Worker(e,{type:"module"})}}var $53691bda533d12d0$var$wk=function(e,t,r,n,i){var a=$53691bda533d12d0$var$cwk($53691bda533d12d0$var$ch2[t]||($53691bda533d12d0$var$ch2[t]=$53691bda533d12d0$var$durl(e)));return a.onerror=function(e){return i(e.error,null)},a.onmessage=function(e){return i(null,e.data)},a.postMessage(r,n),a},$53691bda533d12d0$var$u8=Uint8Array,$53691bda533d12d0$var$u16=Uint16Array,$53691bda533d12d0$var$u32=Uint32Array,$53691bda533d12d0$var$fleb=new $53691bda533d12d0$var$u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$53691bda533d12d0$var$fdeb=new $53691bda533d12d0$var$u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$53691bda533d12d0$var$clim=new $53691bda533d12d0$var$u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$53691bda533d12d0$var$freb=function(e,t){for(var r=new $53691bda533d12d0$var$u16(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new $53691bda533d12d0$var$u32(r[30]);for(n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return[r,i]},$53691bda533d12d0$var$_a=$53691bda533d12d0$var$freb($53691bda533d12d0$var$fleb,2),$53691bda533d12d0$var$fl=$53691bda533d12d0$var$_a[0],$53691bda533d12d0$var$revfl=$53691bda533d12d0$var$_a[1];$53691bda533d12d0$var$fl[28]=258,$53691bda533d12d0$var$revfl[258]=28;for(var $53691bda533d12d0$var$_b=$53691bda533d12d0$var$freb($53691bda533d12d0$var$fdeb,0),$53691bda533d12d0$var$fd=$53691bda533d12d0$var$_b[0],$53691bda533d12d0$var$revfd=$53691bda533d12d0$var$_b[1],$53691bda533d12d0$var$rev=new $53691bda533d12d0$var$u16(32768),$53691bda533d12d0$var$i=0;$53691bda533d12d0$var$i<32768;++$53691bda533d12d0$var$i){var $53691bda533d12d0$var$x=(43690&$53691bda533d12d0$var$i)>>>1|(21845&$53691bda533d12d0$var$i)<<1;$53691bda533d12d0$var$x=(52428&$53691bda533d12d0$var$x)>>>2|(13107&$53691bda533d12d0$var$x)<<2,$53691bda533d12d0$var$x=(61680&$53691bda533d12d0$var$x)>>>4|(3855&$53691bda533d12d0$var$x)<<4,$53691bda533d12d0$var$rev[$53691bda533d12d0$var$i]=((65280&$53691bda533d12d0$var$x)>>>8|(255&$53691bda533d12d0$var$x)<<8)>>>1}for(var $53691bda533d12d0$var$hMap=function(e,t,r){for(var n=e.length,i=0,a=new $53691bda533d12d0$var$u16(t);i<n;++i)++a[e[i]-1];var o,s=new $53691bda533d12d0$var$u16(t);for(i=0;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;if(r){o=new $53691bda533d12d0$var$u16(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var l=i<<4|e[i],d=t-e[i],u=s[e[i]-1]++<<d,h=u|(1<<d)-1;u<=h;++u)o[$53691bda533d12d0$var$rev[u]>>>c]=l}else for(o=new $53691bda533d12d0$var$u16(n),i=0;i<n;++i)e[i]&&(o[i]=$53691bda533d12d0$var$rev[s[e[i]-1]++]>>>15-e[i]);return o},$53691bda533d12d0$var$flt=new $53691bda533d12d0$var$u8(288),$53691bda533d12d0$var$i=0;$53691bda533d12d0$var$i<144;++$53691bda533d12d0$var$i)$53691bda533d12d0$var$flt[$53691bda533d12d0$var$i]=8;for(var $53691bda533d12d0$var$i=144;$53691bda533d12d0$var$i<256;++$53691bda533d12d0$var$i)$53691bda533d12d0$var$flt[$53691bda533d12d0$var$i]=9;for(var $53691bda533d12d0$var$i=256;$53691bda533d12d0$var$i<280;++$53691bda533d12d0$var$i)$53691bda533d12d0$var$flt[$53691bda533d12d0$var$i]=7;for(var $53691bda533d12d0$var$i=280;$53691bda533d12d0$var$i<288;++$53691bda533d12d0$var$i)$53691bda533d12d0$var$flt[$53691bda533d12d0$var$i]=8;for(var $53691bda533d12d0$var$fdt=new $53691bda533d12d0$var$u8(32),$53691bda533d12d0$var$i=0;$53691bda533d12d0$var$i<32;++$53691bda533d12d0$var$i)$53691bda533d12d0$var$fdt[$53691bda533d12d0$var$i]=5;var $53691bda533d12d0$var$flm=$53691bda533d12d0$var$hMap($53691bda533d12d0$var$flt,9,0),$53691bda533d12d0$var$flrm=$53691bda533d12d0$var$hMap($53691bda533d12d0$var$flt,9,1),$53691bda533d12d0$var$fdm=$53691bda533d12d0$var$hMap($53691bda533d12d0$var$fdt,5,0),$53691bda533d12d0$var$fdrm=$53691bda533d12d0$var$hMap($53691bda533d12d0$var$fdt,5,1),$53691bda533d12d0$var$max=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},$53691bda533d12d0$var$bits=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},$53691bda533d12d0$var$bits16=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},$53691bda533d12d0$var$shft=function(e){return(e/8|0)+(7&e&&1)},$53691bda533d12d0$var$slc=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(e instanceof $53691bda533d12d0$var$u16?$53691bda533d12d0$var$u16:e instanceof $53691bda533d12d0$var$u32?$53691bda533d12d0$var$u32:$53691bda533d12d0$var$u8)(r-t);return n.set(e.subarray(t,r)),n},$53691bda533d12d0$var$inflt=function(e,t,r){var n=e.length;if(!n||r&&!r.l&&n<5)return t||new $53691bda533d12d0$var$u8(0);var i=!t||r,a=!r||r.i;r||(r={}),t||(t=new $53691bda533d12d0$var$u8(3*n));var o=function(e){var r=t.length;if(e>r){var n=new $53691bda533d12d0$var$u8(Math.max(2*r,e));n.set(t),t=n}},s=r.f||0,c=r.p||0,l=r.b||0,d=r.l,u=r.d,h=r.m,f=r.n,p=8*n;do{if(!d){r.f=s=$53691bda533d12d0$var$bits(e,c,1);var m=$53691bda533d12d0$var$bits(e,c+1,3);if(c+=3,!m){var v=e[(E=$53691bda533d12d0$var$shft(c)+4)-4]|e[E-3]<<8,$=E+v;if($>n){if(a)throw"unexpected EOF";break}i&&o(l+v),t.set(e.subarray(E,$),l),r.b=l+=v,r.p=c=8*$;continue}if(1==m)d=$53691bda533d12d0$var$flrm,u=$53691bda533d12d0$var$fdrm,h=9,f=5;else{if(2!=m)throw"invalid block type";var g=$53691bda533d12d0$var$bits(e,c,31)+257,b=$53691bda533d12d0$var$bits(e,c+10,15)+4,x=g+$53691bda533d12d0$var$bits(e,c+5,31)+1;c+=14;for(var y=new $53691bda533d12d0$var$u8(x),w=new $53691bda533d12d0$var$u8(19),_=0;_<b;++_)w[$53691bda533d12d0$var$clim[_]]=$53691bda533d12d0$var$bits(e,c+3*_,7);c+=3*b;var S=$53691bda533d12d0$var$max(w),T=(1<<S)-1,M=$53691bda533d12d0$var$hMap(w,S,1);for(_=0;_<x;){var E,A=M[$53691bda533d12d0$var$bits(e,c,T)];if(c+=15&A,(E=A>>>4)<16)y[_++]=E;else{var C=0,L=0;for(16==E?(L=3+$53691bda533d12d0$var$bits(e,c,3),c+=2,C=y[_-1]):17==E?(L=3+$53691bda533d12d0$var$bits(e,c,7),c+=3):18==E&&(L=11+$53691bda533d12d0$var$bits(e,c,127),c+=7);L--;)y[_++]=C}}var R=y.subarray(0,g),P=y.subarray(g);h=$53691bda533d12d0$var$max(R),f=$53691bda533d12d0$var$max(P),d=$53691bda533d12d0$var$hMap(R,h,1),u=$53691bda533d12d0$var$hMap(P,f,1)}if(c>p){if(a)throw"unexpected EOF";break}}i&&o(l+131072);for(var D=(1<<h)-1,O=(1<<f)-1,I=c;;I=c){var N=(C=d[$53691bda533d12d0$var$bits16(e,c)&D])>>>4;if((c+=15&C)>p){if(a)throw"unexpected EOF";break}if(!C)throw"invalid length/literal";if(N<256)t[l++]=N;else{if(256==N){I=c,d=null;break}var B=N-254;if(N>264){var z=$53691bda533d12d0$var$fleb[_=N-257];B=$53691bda533d12d0$var$bits(e,c,(1<<z)-1)+$53691bda533d12d0$var$fl[_],c+=z}var U=u[$53691bda533d12d0$var$bits16(e,c)&O],k=U>>>4;if(!U)throw"invalid distance";c+=15&U;P=$53691bda533d12d0$var$fd[k];if(k>3){z=$53691bda533d12d0$var$fdeb[k];P+=$53691bda533d12d0$var$bits16(e,c)&(1<<z)-1,c+=z}if(c>p){if(a)throw"unexpected EOF";break}i&&o(l+131072);for(var F=l+B;l<F;l+=4)t[l]=t[l-P],t[l+1]=t[l+1-P],t[l+2]=t[l+2-P],t[l+3]=t[l+3-P];l=F}}r.l=d,r.p=I,r.b=l,d&&(s=1,r.m=h,r.d=u,r.n=f)}while(!s);return l==t.length?t:$53691bda533d12d0$var$slc(t,0,l)},$53691bda533d12d0$var$wbits=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8},$53691bda533d12d0$var$wbits16=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},$53691bda533d12d0$var$hTree=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return[$53691bda533d12d0$var$et,0];if(1==i){var o=new $53691bda533d12d0$var$u8(r[0].s+1);return o[r[0].s]=1,[o,1]}r.sort((function(e,t){return e.f-t.f})),r.push({s:-1,f:25001});var s=r[0],c=r[1],l=0,d=1,u=2;for(r[0]={s:-1,f:s.f+c.f,l:s,r:c};d!=i-1;)s=r[r[l].f<r[u].f?l++:u++],c=r[l!=d&&r[l].f<r[u].f?l++:u++],r[d++]={s:-1,f:s.f+c.f,l:s,r:c};var h=a[0].s;for(n=1;n<i;++n)a[n].s>h&&(h=a[n].s);var f=new $53691bda533d12d0$var$u16(h+1),p=$53691bda533d12d0$var$ln(r[d-1],f,0);if(p>t){n=0;var m=0,v=p-t,$=1<<v;for(a.sort((function(e,t){return f[t.s]-f[e.s]||e.f-t.f}));n<i;++n){var g=a[n].s;if(!(f[g]>t))break;m+=$-(1<<p-f[g]),f[g]=t}for(m>>>=v;m>0;){var b=a[n].s;f[b]<t?m-=1<<t-f[b]++-1:++n}for(;n>=0&&m;--n){var x=a[n].s;f[x]==t&&(--f[x],++m)}p=t}return[new $53691bda533d12d0$var$u8(f),p]},$53691bda533d12d0$var$ln=function(e,t,r){return-1==e.s?Math.max($53691bda533d12d0$var$ln(e.l,t,r+1),$53691bda533d12d0$var$ln(e.r,t,r+1)):t[e.s]=r},$53691bda533d12d0$var$lc=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new $53691bda533d12d0$var$u16(++t),n=0,i=e[0],a=1,o=function(e){r[n++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return[r.subarray(0,n),t]},$53691bda533d12d0$var$clen=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},$53691bda533d12d0$var$wfblk=function(e,t,r){var n=r.length,i=$53691bda533d12d0$var$shft(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<n;++a)e[i+a+4]=r[a];return 8*(i+4+n)},$53691bda533d12d0$var$wblk=function(e,t,r,n,i,a,o,s,c,l,d){$53691bda533d12d0$var$wbits(t,d++,r),++i[256];for(var u=$53691bda533d12d0$var$hTree(i,15),h=u[0],f=u[1],p=$53691bda533d12d0$var$hTree(a,15),m=p[0],v=p[1],$=$53691bda533d12d0$var$lc(h),g=$[0],b=$[1],x=$53691bda533d12d0$var$lc(m),y=x[0],w=x[1],_=new $53691bda533d12d0$var$u16(19),S=0;S<g.length;++S)_[31&g[S]]++;for(S=0;S<y.length;++S)_[31&y[S]]++;for(var T=$53691bda533d12d0$var$hTree(_,7),M=T[0],E=T[1],A=19;A>4&&!M[$53691bda533d12d0$var$clim[A-1]];--A);var C,L,R,P,D=l+5<<3,O=$53691bda533d12d0$var$clen(i,$53691bda533d12d0$var$flt)+$53691bda533d12d0$var$clen(a,$53691bda533d12d0$var$fdt)+o,I=$53691bda533d12d0$var$clen(i,h)+$53691bda533d12d0$var$clen(a,m)+o+14+3*A+$53691bda533d12d0$var$clen(_,M)+(2*_[16]+3*_[17]+7*_[18]);if(D<=O&&D<=I)return $53691bda533d12d0$var$wfblk(t,d,e.subarray(c,c+l));if($53691bda533d12d0$var$wbits(t,d,1+(I<O)),d+=2,I<O){C=$53691bda533d12d0$var$hMap(h,f,0),L=h,R=$53691bda533d12d0$var$hMap(m,v,0),P=m;var N=$53691bda533d12d0$var$hMap(M,E,0);$53691bda533d12d0$var$wbits(t,d,b-257),$53691bda533d12d0$var$wbits(t,d+5,w-1),$53691bda533d12d0$var$wbits(t,d+10,A-4),d+=14;for(S=0;S<A;++S)$53691bda533d12d0$var$wbits(t,d+3*S,M[$53691bda533d12d0$var$clim[S]]);d+=3*A;for(var B=[g,y],z=0;z<2;++z){var U=B[z];for(S=0;S<U.length;++S){var k=31&U[S];$53691bda533d12d0$var$wbits(t,d,N[k]),d+=M[k],k>15&&($53691bda533d12d0$var$wbits(t,d,U[S]>>>5&127),d+=U[S]>>>12)}}}else C=$53691bda533d12d0$var$flm,L=$53691bda533d12d0$var$flt,R=$53691bda533d12d0$var$fdm,P=$53691bda533d12d0$var$fdt;for(S=0;S<s;++S)if(n[S]>255){k=n[S]>>>18&31;$53691bda533d12d0$var$wbits16(t,d,C[k+257]),d+=L[k+257],k>7&&($53691bda533d12d0$var$wbits(t,d,n[S]>>>23&31),d+=$53691bda533d12d0$var$fleb[k]);var F=31&n[S];$53691bda533d12d0$var$wbits16(t,d,R[F]),d+=P[F],F>3&&($53691bda533d12d0$var$wbits16(t,d,n[S]>>>5&8191),d+=$53691bda533d12d0$var$fdeb[F])}else $53691bda533d12d0$var$wbits16(t,d,C[n[S]]),d+=L[n[S]];return $53691bda533d12d0$var$wbits16(t,d,C[256]),d+L[256]},$53691bda533d12d0$var$deo=new $53691bda533d12d0$var$u32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$53691bda533d12d0$var$et=new $53691bda533d12d0$var$u8(0),$53691bda533d12d0$var$dflt=function(e,t,r,n,i,a){var o=e.length,s=new $53691bda533d12d0$var$u8(n+o+5*(1+Math.ceil(o/7e3))+i),c=s.subarray(n,s.length-i),l=0;if(!t||o<8)for(var d=0;d<=o;d+=65535){var u=d+65535;u<o?l=$53691bda533d12d0$var$wfblk(c,l,e.subarray(d,u)):(c[d]=a,l=$53691bda533d12d0$var$wfblk(c,l,e.subarray(d,o)))}else{for(var h=$53691bda533d12d0$var$deo[t-1],f=h>>>13,p=8191&h,m=(1<<r)-1,v=new $53691bda533d12d0$var$u16(32768),$=new $53691bda533d12d0$var$u16(m+1),g=Math.ceil(r/3),b=2*g,x=function(t){return(e[t]^e[t+1]<<g^e[t+2]<<b)&m},y=new $53691bda533d12d0$var$u32(25e3),w=new $53691bda533d12d0$var$u16(288),_=new $53691bda533d12d0$var$u16(32),S=0,T=0,M=(d=0,0),E=0,A=0;d<o;++d){var C=x(d),L=32767&d,R=$[C];if(v[L]=R,$[C]=L,E<=d){var P=o-d;if((S>7e3||M>24576)&&P>423){l=$53691bda533d12d0$var$wblk(e,c,0,y,w,_,T,M,A,d-A,l),M=S=T=0,A=d;for(var D=0;D<286;++D)w[D]=0;for(D=0;D<30;++D)_[D]=0}var O=2,I=0,N=p,B=L-R&32767;if(P>2&&C==x(d-B))for(var z=Math.min(f,P)-1,U=Math.min(32767,d),k=Math.min(258,P);B<=U&&--N&&L!=R;){if(e[d+O]==e[d+O-B]){for(var F=0;F<k&&e[d+F]==e[d+F-B];++F);if(F>O){if(O=F,I=B,F>z)break;var q=Math.min(B,F-2),G=0;for(D=0;D<q;++D){var V=d-B+D+32768&32767,H=V-v[V]+32768&32767;H>G&&(G=H,R=V)}}}B+=(L=R)-(R=v[L])+32768&32767}if(I){y[M++]=268435456|$53691bda533d12d0$var$revfl[O]<<18|$53691bda533d12d0$var$revfd[I];var j=31&$53691bda533d12d0$var$revfl[O],W=31&$53691bda533d12d0$var$revfd[I];T+=$53691bda533d12d0$var$fleb[j]+$53691bda533d12d0$var$fdeb[W],++w[257+j],++_[W],E=d+O,++S}else y[M++]=e[d],++w[e[d]]}}l=$53691bda533d12d0$var$wblk(e,c,a,y,w,_,T,M,A,d-A,l),!a&&7&l&&(l=$53691bda533d12d0$var$wfblk(c,l+1,$53691bda533d12d0$var$et))}return $53691bda533d12d0$var$slc(s,0,n+$53691bda533d12d0$var$shft(l)+i)},$53691bda533d12d0$var$crct=function(){for(var e=new $53691bda533d12d0$var$u32(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&3988292384)^r>>>1;e[t]=r}return e}(),$53691bda533d12d0$var$crc=function(){var e=-1;return{p:function(t){for(var r=e,n=0;n<t.length;++n)r=$53691bda533d12d0$var$crct[255&r^t[n]]^r>>>8;e=r},d:function(){return~e}}},$53691bda533d12d0$var$adler=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=n+=r[o];n=(65535&n)+15*(n>>16),i=(65535&i)+15*(i>>16)}e=n,t=i},d:function(){return(255&(e%=65521))<<24|e>>>8<<16|(255&(t%=65521))<<8|t>>>8}}},$53691bda533d12d0$var$dopt=function(e,t,r,n,i){return $53691bda533d12d0$var$dflt(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!i)},$53691bda533d12d0$var$mrg=function(e,t){var r={};for(var n in e)r[n]=e[n];for(var n in t)r[n]=t[n];return r},$53691bda533d12d0$var$wcln=function(e,t,r){for(var n=e(),i=e.toString(),a=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/ /g,"").split(","),o=0;o<n.length;++o){var s=n[o],c=a[o];if("function"==typeof s){t+=";"+c+"=";var l=s.toString();if(s.prototype)if(-1!=l.indexOf("[native code]")){var d=l.indexOf(" ",8)+1;t+=l.slice(d,l.indexOf("(",d))}else for(var u in t+=l,s.prototype)t+=";"+c+".prototype."+u+"="+s.prototype[u].toString();else t+=l}else r[c]=s}return[t,r]},$53691bda533d12d0$var$ch=[],$53691bda533d12d0$var$cbfs=function(e){var t=[];for(var r in e)(e[r]instanceof $53691bda533d12d0$var$u8||e[r]instanceof $53691bda533d12d0$var$u16||e[r]instanceof $53691bda533d12d0$var$u32)&&t.push((e[r]=new e[r].constructor(e[r])).buffer);return t},$53691bda533d12d0$var$wrkr=function(e,t,r,n){var i;if(!$53691bda533d12d0$var$ch[r]){for(var a="",o={},s=e.length-1,c=0;c<s;++c)a=(i=$53691bda533d12d0$var$wcln(e[c],a,o))[0],o=i[1];$53691bda533d12d0$var$ch[r]=$53691bda533d12d0$var$wcln(e[s],a,o)}var l=$53691bda533d12d0$var$mrg({},$53691bda533d12d0$var$ch[r][1]);return $53691bda533d12d0$var$wk($53691bda533d12d0$var$ch[r][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",r,l,$53691bda533d12d0$var$cbfs(l),n)},$53691bda533d12d0$var$bInflt=function(){return[$53691bda533d12d0$var$u8,$53691bda533d12d0$var$u16,$53691bda533d12d0$var$u32,$53691bda533d12d0$var$fleb,$53691bda533d12d0$var$fdeb,$53691bda533d12d0$var$clim,$53691bda533d12d0$var$fl,$53691bda533d12d0$var$fd,$53691bda533d12d0$var$flrm,$53691bda533d12d0$var$fdrm,$53691bda533d12d0$var$rev,$53691bda533d12d0$var$hMap,$53691bda533d12d0$var$max,$53691bda533d12d0$var$bits,$53691bda533d12d0$var$bits16,$53691bda533d12d0$var$shft,$53691bda533d12d0$var$slc,$53691bda533d12d0$var$inflt,$53691bda533d12d0$export$90366d8b308ba94a,$53691bda533d12d0$var$pbf,$53691bda533d12d0$var$gu8]},$53691bda533d12d0$var$bDflt=function(){return[$53691bda533d12d0$var$u8,$53691bda533d12d0$var$u16,$53691bda533d12d0$var$u32,$53691bda533d12d0$var$fleb,$53691bda533d12d0$var$fdeb,$53691bda533d12d0$var$clim,$53691bda533d12d0$var$revfl,$53691bda533d12d0$var$revfd,$53691bda533d12d0$var$flm,$53691bda533d12d0$var$flt,$53691bda533d12d0$var$fdm,$53691bda533d12d0$var$fdt,$53691bda533d12d0$var$rev,$53691bda533d12d0$var$deo,$53691bda533d12d0$var$et,$53691bda533d12d0$var$hMap,$53691bda533d12d0$var$wbits,$53691bda533d12d0$var$wbits16,$53691bda533d12d0$var$hTree,$53691bda533d12d0$var$ln,$53691bda533d12d0$var$lc,$53691bda533d12d0$var$clen,$53691bda533d12d0$var$wfblk,$53691bda533d12d0$var$wblk,$53691bda533d12d0$var$shft,$53691bda533d12d0$var$slc,$53691bda533d12d0$var$dflt,$53691bda533d12d0$var$dopt,$53691bda533d12d0$export$21533ff51b8a0b4a,$53691bda533d12d0$var$pbf]},$53691bda533d12d0$var$gze=function(){return[$53691bda533d12d0$var$gzh,$53691bda533d12d0$var$gzhl,$53691bda533d12d0$var$wbytes,$53691bda533d12d0$var$crc,$53691bda533d12d0$var$crct]},$53691bda533d12d0$var$guze=function(){return[$53691bda533d12d0$var$gzs,$53691bda533d12d0$var$gzl]},$53691bda533d12d0$var$zle=function(){return[$53691bda533d12d0$var$zlh,$53691bda533d12d0$var$wbytes,$53691bda533d12d0$var$adler]},$53691bda533d12d0$var$zule=function(){return[$53691bda533d12d0$var$zlv]},$53691bda533d12d0$var$pbf=function(e){return postMessage(e,[e.buffer])},$53691bda533d12d0$var$gu8=function(e){return e&&e.size&&new $53691bda533d12d0$var$u8(e.size)},$53691bda533d12d0$var$cbify=function(e,t,r,n,i,a){var o=$53691bda533d12d0$var$wrkr(r,n,i,(function(e,t){o.terminate(),a(e,t)}));return o.postMessage([e,t],t.consume?[e.buffer]:[]),function(){o.terminate()}},$53691bda533d12d0$var$astrm=function(e){return e.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(t){return e.push(t.data[0],t.data[1])}},$53691bda533d12d0$var$astrmify=function(e,t,r,n,i){var a,o=$53691bda533d12d0$var$wrkr(e,n,i,(function(e,r){e?(o.terminate(),t.ondata.call(t,e)):(r[1]&&o.terminate(),t.ondata.call(t,e,r[0],r[1]))}));o.postMessage(r),t.push=function(e,r){if(a)throw"stream finished";if(!t.ondata)throw"no stream handler";o.postMessage([e,a=r],[e.buffer])},t.terminate=function(){o.terminate()}},$53691bda533d12d0$var$b2=function(e,t){return e[t]|e[t+1]<<8},$53691bda533d12d0$var$b4=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},$53691bda533d12d0$var$b8=function(e,t){return $53691bda533d12d0$var$b4(e,t)+4294967296*$53691bda533d12d0$var$b4(e,t+4)},$53691bda533d12d0$var$wbytes=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},$53691bda533d12d0$var$gzh=function(e,t){var r=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&$53691bda533d12d0$var$wbytes(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),r){e[3]=8;for(var n=0;n<=r.length;++n)e[n+10]=r.charCodeAt(n)}},$53691bda533d12d0$var$gzs=function(e){if(31!=e[0]||139!=e[1]||8!=e[2])throw"invalid gzip data";var t=e[3],r=10;4&t&&(r+=e[10]|2+(e[11]<<8));for(var n=(t>>3&1)+(t>>4&1);n>0;n-=!e[r++]);return r+(2&t)},$53691bda533d12d0$var$gzl=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},$53691bda533d12d0$var$gzhl=function(e){return 10+(e.filename&&e.filename.length+1||0)},$53691bda533d12d0$var$zlh=function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;e[0]=120,e[1]=n<<6|(n?32-2*n:1)},$53691bda533d12d0$var$zlv=function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function $53691bda533d12d0$var$AsyncCmpStrm(e,t){return t||"function"!=typeof e||(t=e,e={}),this.ondata=t,e}var $53691bda533d12d0$export$ae157b6234afe138=function(){function e(e,t){t||"function"!=typeof e||(t=e,e={}),this.ondata=t,this.o=e||{}}return e.prototype.p=function(e,t){this.ondata($53691bda533d12d0$var$dopt(e,this.o,0,0,!t),t)},e.prototype.push=function(e,t){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=t,this.p(e,t||!1)},e}(),$53691bda533d12d0$export$84e526fabcba03e3=function(){return function(e,t){$53691bda533d12d0$var$astrmify([$53691bda533d12d0$var$bDflt,function(){return[$53691bda533d12d0$var$astrm,$53691bda533d12d0$export$ae157b6234afe138]}],this,$53691bda533d12d0$var$AsyncCmpStrm.call(this,e,t),(function(e){var t=new $53691bda533d12d0$export$ae157b6234afe138(e.data);onmessage=$53691bda533d12d0$var$astrm(t)}),6)}}();function $53691bda533d12d0$export$2316623ecd1285ab(e,t,r){if(r||(r=t,t={}),"function"!=typeof r)throw"no callback";return $53691bda533d12d0$var$cbify(e,t,[$53691bda533d12d0$var$bDflt],(function(e){return $53691bda533d12d0$var$pbf($53691bda533d12d0$export$21533ff51b8a0b4a(e.data[0],e.data[1]))}),0,r)}function $53691bda533d12d0$export$21533ff51b8a0b4a(e,t){return $53691bda533d12d0$var$dopt(e,t||{},0,0)}var $53691bda533d12d0$export$d1de70a877d6e43c=function(){function e(e){this.s={},this.p=new $53691bda533d12d0$var$u8(0),this.ondata=e}return e.prototype.e=function(e){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var t=this.p.length,r=new $53691bda533d12d0$var$u8(t+e.length);r.set(this.p),r.set(e,t),this.p=r},e.prototype.c=function(e){this.d=this.s.i=e||!1;var t=this.s.b,r=$53691bda533d12d0$var$inflt(this.p,this.o,this.s);this.ondata($53691bda533d12d0$var$slc(r,t,this.s.b),this.d),this.o=$53691bda533d12d0$var$slc(r,this.s.b-32768),this.s.b=this.o.length,this.p=$53691bda533d12d0$var$slc(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(e,t){this.e(e),this.c(t)},e}(),$53691bda533d12d0$export$fff8358d6dbaa9cc=function(){return function(e){this.ondata=e,$53691bda533d12d0$var$astrmify([$53691bda533d12d0$var$bInflt,function(){return[$53691bda533d12d0$var$astrm,$53691bda533d12d0$export$d1de70a877d6e43c]}],this,0,(function(){var e=new $53691bda533d12d0$export$d1de70a877d6e43c;onmessage=$53691bda533d12d0$var$astrm(e)}),7)}}();function $53691bda533d12d0$export$cae1ce83fe4a1782(e,t,r){if(r||(r=t,t={}),"function"!=typeof r)throw"no callback";return $53691bda533d12d0$var$cbify(e,t,[$53691bda533d12d0$var$bInflt],(function(e){return $53691bda533d12d0$var$pbf($53691bda533d12d0$export$90366d8b308ba94a(e.data[0],$53691bda533d12d0$var$gu8(e.data[1])))}),1,r)}function $53691bda533d12d0$export$90366d8b308ba94a(e,t){return $53691bda533d12d0$var$inflt(e,t)}var $53691bda533d12d0$export$8e4b66d280bf8342=function(){function e(e,t){this.c=$53691bda533d12d0$var$crc(),this.l=0,this.v=1,$53691bda533d12d0$export$ae157b6234afe138.call(this,e,t)}return e.prototype.push=function(e,t){$53691bda533d12d0$export$ae157b6234afe138.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){this.c.p(e),this.l+=e.length;var r=$53691bda533d12d0$var$dopt(e,this.o,this.v&&$53691bda533d12d0$var$gzhl(this.o),t&&8,!t);this.v&&($53691bda533d12d0$var$gzh(r,this.o),this.v=0),t&&($53691bda533d12d0$var$wbytes(r,r.length-8,this.c.d()),$53691bda533d12d0$var$wbytes(r,r.length-4,this.l)),this.ondata(r,t)},e}(),$53691bda533d12d0$export$b4c75ae96cdf708b=function(){return function(e,t){$53691bda533d12d0$var$astrmify([$53691bda533d12d0$var$bDflt,$53691bda533d12d0$var$gze,function(){return[$53691bda533d12d0$var$astrm,$53691bda533d12d0$export$ae157b6234afe138,$53691bda533d12d0$export$8e4b66d280bf8342]}],this,$53691bda533d12d0$var$AsyncCmpStrm.call(this,e,t),(function(e){var t=new $53691bda533d12d0$export$8e4b66d280bf8342(e.data);onmessage=$53691bda533d12d0$var$astrm(t)}),8)}}();function $53691bda533d12d0$export$69f0ea7cf3a331a8(e,t,r){if(r||(r=t,t={}),"function"!=typeof r)throw"no callback";return $53691bda533d12d0$var$cbify(e,t,[$53691bda533d12d0$var$bDflt,$53691bda533d12d0$var$gze,function(){return[$53691bda533d12d0$export$3d616c3fb3e15483]}],(function(e){return $53691bda533d12d0$var$pbf($53691bda533d12d0$export$3d616c3fb3e15483(e.data[0],e.data[1]))}),2,r)}function $53691bda533d12d0$export$3d616c3fb3e15483(e,t){t||(t={});var r=$53691bda533d12d0$var$crc(),n=e.length;r.p(e);var i=$53691bda533d12d0$var$dopt(e,t,$53691bda533d12d0$var$gzhl(t),8),a=i.length;return $53691bda533d12d0$var$gzh(i,t),$53691bda533d12d0$var$wbytes(i,a-8,r.d()),$53691bda533d12d0$var$wbytes(i,a-4,n),i}var $53691bda533d12d0$export$4cb607de6db70415=function(){function e(e){this.v=1,$53691bda533d12d0$export$d1de70a877d6e43c.call(this,e)}return e.prototype.push=function(e,t){if($53691bda533d12d0$export$d1de70a877d6e43c.prototype.e.call(this,e),this.v){var r=this.p.length>3?$53691bda533d12d0$var$gzs(this.p):4;if(r>=this.p.length&&!t)return;this.p=this.p.subarray(r),this.v=0}if(t){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}$53691bda533d12d0$export$d1de70a877d6e43c.prototype.c.call(this,t)},e}(),$53691bda533d12d0$export$d5adcdd968132151=function(){return function(e){this.ondata=e,$53691bda533d12d0$var$astrmify([$53691bda533d12d0$var$bInflt,$53691bda533d12d0$var$guze,function(){return[$53691bda533d12d0$var$astrm,$53691bda533d12d0$export$d1de70a877d6e43c,$53691bda533d12d0$export$4cb607de6db70415]}],this,0,(function(){var e=new $53691bda533d12d0$export$4cb607de6db70415;onmessage=$53691bda533d12d0$var$astrm(e)}),9)}}();function $53691bda533d12d0$export$b6df3e950734d697(e,t,r){if(r||(r=t,t={}),"function"!=typeof r)throw"no callback";return $53691bda533d12d0$var$cbify(e,t,[$53691bda533d12d0$var$bInflt,$53691bda533d12d0$var$guze,function(){return[$53691bda533d12d0$export$c80456f7aaba691c]}],(function(e){return $53691bda533d12d0$var$pbf($53691bda533d12d0$export$c80456f7aaba691c(e.data[0]))}),3,r)}function $53691bda533d12d0$export$c80456f7aaba691c(e,t){return $53691bda533d12d0$var$inflt(e.subarray($53691bda533d12d0$var$gzs(e),-8),t||new $53691bda533d12d0$var$u8($53691bda533d12d0$var$gzl(e)))}var $53691bda533d12d0$export$4187ccf2467013b9=function(){function e(e,t){this.c=$53691bda533d12d0$var$adler(),this.v=1,$53691bda533d12d0$export$ae157b6234afe138.call(this,e,t)}return e.prototype.push=function(e,t){$53691bda533d12d0$export$ae157b6234afe138.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){this.c.p(e);var r=$53691bda533d12d0$var$dopt(e,this.o,this.v&&2,t&&4,!t);this.v&&($53691bda533d12d0$var$zlh(r,this.o),this.v=0),t&&$53691bda533d12d0$var$wbytes(r,r.length-4,this.c.d()),this.ondata(r,t)},e}(),$53691bda533d12d0$export$bedbe3a2c2136490=function(){return function(e,t){$53691bda533d12d0$var$astrmify([$53691bda533d12d0$var$bDflt,$53691bda533d12d0$var$zle,function(){return[$53691bda533d12d0$var$astrm,$53691bda533d12d0$export$ae157b6234afe138,$53691bda533d12d0$export$4187ccf2467013b9]}],this,$53691bda533d12d0$var$AsyncCmpStrm.call(this,e,t),(function(e){var t=new $53691bda533d12d0$export$4187ccf2467013b9(e.data);onmessage=$53691bda533d12d0$var$astrm(t)}),10)}}();function $53691bda533d12d0$export$925212de7058410b(e,t,r){if(r||(r=t,t={}),"function"!=typeof r)throw"no callback";return $53691bda533d12d0$var$cbify(e,t,[$53691bda533d12d0$var$bDflt,$53691bda533d12d0$var$zle,function(){return[$53691bda533d12d0$export$f87121a6d50aff25]}],(function(e){return $53691bda533d12d0$var$pbf($53691bda533d12d0$export$f87121a6d50aff25(e.data[0],e.data[1]))}),4,r)}function $53691bda533d12d0$export$f87121a6d50aff25(e,t){t||(t={});var r=$53691bda533d12d0$var$adler();r.p(e);var n=$53691bda533d12d0$var$dopt(e,t,2,4);return $53691bda533d12d0$var$zlh(n,t),$53691bda533d12d0$var$wbytes(n,n.length-4,r.d()),n}var $53691bda533d12d0$export$af2424f875ff1b17=function(){function e(e){this.v=1,$53691bda533d12d0$export$d1de70a877d6e43c.call(this,e)}return e.prototype.push=function(e,t){if($53691bda533d12d0$export$d1de70a877d6e43c.prototype.e.call(this,e),this.v){if(this.p.length<2&&!t)return;this.p=this.p.subarray(2),this.v=0}if(t){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}$53691bda533d12d0$export$d1de70a877d6e43c.prototype.c.call(this,t)},e}(),$53691bda533d12d0$export$cf6668790220dcad=function(){return function(e){this.ondata=e,$53691bda533d12d0$var$astrmify([$53691bda533d12d0$var$bInflt,$53691bda533d12d0$var$zule,function(){return[$53691bda533d12d0$var$astrm,$53691bda533d12d0$export$d1de70a877d6e43c,$53691bda533d12d0$export$af2424f875ff1b17]}],this,0,(function(){var e=new $53691bda533d12d0$export$af2424f875ff1b17;onmessage=$53691bda533d12d0$var$astrm(e)}),11)}}();function $53691bda533d12d0$export$ca7cbb494e731274(e,t,r){if(r||(r=t,t={}),"function"!=typeof r)throw"no callback";return $53691bda533d12d0$var$cbify(e,t,[$53691bda533d12d0$var$bInflt,$53691bda533d12d0$var$zule,function(){return[$53691bda533d12d0$export$9ec8134f0f1b9fc6]}],(function(e){return $53691bda533d12d0$var$pbf($53691bda533d12d0$export$9ec8134f0f1b9fc6(e.data[0],$53691bda533d12d0$var$gu8(e.data[1])))}),5,r)}function $53691bda533d12d0$export$9ec8134f0f1b9fc6(e,t){return $53691bda533d12d0$var$inflt(($53691bda533d12d0$var$zlv(e),e.subarray(2,-4)),t)}var $53691bda533d12d0$export$578fe199ef655b76=function(){function e(e){this.G=$53691bda533d12d0$export$4cb607de6db70415,this.I=$53691bda533d12d0$export$d1de70a877d6e43c,this.Z=$53691bda533d12d0$export$af2424f875ff1b17,this.ondata=e}return e.prototype.push=function(e,t){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(e,t);else{if(this.p&&this.p.length){var r=new $53691bda533d12d0$var$u8(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length)}else this.p=e;if(this.p.length>2){var n=this,i=function(){n.ondata.apply(n,arguments)};this.s=31==this.p[0]&&139==this.p[1]&&8==this.p[2]?new this.G(i):8!=(15&this.p[0])||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(i):new this.Z(i),this.s.push(this.p,t),this.p=null}}},e}(),$53691bda533d12d0$export$ae2c1d81988d4b43=function(){function e(e){this.G=$53691bda533d12d0$export$d5adcdd968132151,this.I=$53691bda533d12d0$export$fff8358d6dbaa9cc,this.Z=$53691bda533d12d0$export$cf6668790220dcad,this.ondata=e}return e.prototype.push=function(e,t){$53691bda533d12d0$export$578fe199ef655b76.prototype.push.call(this,e,t)},e}();function $53691bda533d12d0$export$678d868aab8fb3c7(e,t,r){if(r||(r=t,t={}),"function"!=typeof r)throw"no callback";return 31==e[0]&&139==e[1]&&8==e[2]?$53691bda533d12d0$export$b6df3e950734d697(e,t,r):8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31?$53691bda533d12d0$export$cae1ce83fe4a1782(e,t,r):$53691bda533d12d0$export$ca7cbb494e731274(e,t,r)}function $53691bda533d12d0$export$c4bdbbbc9a4faabe(e,t){return 31==e[0]&&139==e[1]&&8==e[2]?$53691bda533d12d0$export$c80456f7aaba691c(e,t):8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31?$53691bda533d12d0$export$90366d8b308ba94a(e,t):$53691bda533d12d0$export$9ec8134f0f1b9fc6(e,t)}var $53691bda533d12d0$var$fltn=function(e,t,r,n){for(var i in e){var a=e[i],o=t+i;a instanceof $53691bda533d12d0$var$u8?r[o]=[a,n]:Array.isArray(a)?r[o]=[a[0],$53691bda533d12d0$var$mrg(n,a[1])]:$53691bda533d12d0$var$fltn(a,o+"/",r,n)}},$53691bda533d12d0$var$te="undefined"!=typeof TextEncoder&&new TextEncoder,$53691bda533d12d0$var$td="undefined"!=typeof TextDecoder&&new TextDecoder,$53691bda533d12d0$var$tds=0;try{$53691bda533d12d0$var$td.decode($53691bda533d12d0$var$et,{stream:!0}),$53691bda533d12d0$var$tds=1}catch(e){}var $53691bda533d12d0$var$dutf8=function(e){for(var t="",r=0;;){var n=e[r++],i=(n>127)+(n>223)+(n>239);if(r+i>e.length)return[t,$53691bda533d12d0$var$slc(e,r-1)];i?3==i?(n=((15&n)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536,t+=String.fromCharCode(55296|n>>10,56320|1023&n)):t+=1&i?String.fromCharCode((31&n)<<6|63&e[r++]):String.fromCharCode((15&n)<<12|(63&e[r++])<<6|63&e[r++]):t+=String.fromCharCode(n)}},$53691bda533d12d0$export$ba46860a31c72e94=function(){function e(e){this.ondata=e,$53691bda533d12d0$var$tds?this.t=new TextDecoder:this.p=$53691bda533d12d0$var$et}return e.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(t=!!t,this.t){if(this.ondata(this.t.decode(e,{stream:!0}),t),t){if(this.t.decode().length)throw"invalid utf-8 data";this.t=null}}else{if(!this.p)throw"stream finished";var r=new $53691bda533d12d0$var$u8(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length);var n=$53691bda533d12d0$var$dutf8(r),i=n[0],a=n[1];if(t){if(a.length)throw"invalid utf-8 data";this.p=null}else this.p=a;this.ondata(i,t)}},e}(),$53691bda533d12d0$export$283f13d12b1b210e=function(){function e(e){this.ondata=e}return e.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(this.d)throw"stream finished";this.ondata($53691bda533d12d0$export$366b39a6daa8ed7a(e),this.d=t||!1)},e}();function $53691bda533d12d0$export$366b39a6daa8ed7a(e,t){if(t){for(var r=new $53691bda533d12d0$var$u8(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}if($53691bda533d12d0$var$te)return $53691bda533d12d0$var$te.encode(e);var i=e.length,a=new $53691bda533d12d0$var$u8(e.length+(e.length>>1)),o=0,s=function(e){a[o++]=e};for(n=0;n<i;++n){if(o+5>a.length){var c=new $53691bda533d12d0$var$u8(o+8+(i-n<<1));c.set(a),a=c}var l=e.charCodeAt(n);l<128||t?s(l):l<2048?(s(192|l>>6),s(128|63&l)):l>55295&&l<57344?(s(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++n))>>18),s(128|l>>12&63),s(128|l>>6&63),s(128|63&l)):(s(224|l>>12),s(128|l>>6&63),s(128|63&l))}return $53691bda533d12d0$var$slc(a,0,o)}function $53691bda533d12d0$export$adb211f8cb999894(e,t){if(t){for(var r="",n=0;n<e.length;n+=16384)r+=String.fromCharCode.apply(null,e.subarray(n,n+16384));return r}if($53691bda533d12d0$var$td)return $53691bda533d12d0$var$td.decode(e);var i=$53691bda533d12d0$var$dutf8(e),a=i[0];if(i[1].length)throw"invalid utf-8 data";return a}var $53691bda533d12d0$var$dbf=function(e){return 1==e?3:e<6?2:9==e?1:0},$53691bda533d12d0$var$slzh=function(e,t){return t+30+$53691bda533d12d0$var$b2(e,t+26)+$53691bda533d12d0$var$b2(e,t+28)},$53691bda533d12d0$var$zh=function(e,t,r){var n=$53691bda533d12d0$var$b2(e,t+28),i=$53691bda533d12d0$export$adb211f8cb999894(e.subarray(t+46,t+46+n),!(2048&$53691bda533d12d0$var$b2(e,t+8))),a=t+46+n,o=$53691bda533d12d0$var$b4(e,t+20),s=r&&4294967295==o?$53691bda533d12d0$var$z64e(e,a):[o,$53691bda533d12d0$var$b4(e,t+24),$53691bda533d12d0$var$b4(e,t+42)],c=s[0],l=s[1],d=s[2];return[$53691bda533d12d0$var$b2(e,t+10),c,l,i,a+$53691bda533d12d0$var$b2(e,t+30)+$53691bda533d12d0$var$b2(e,t+32),d]},$53691bda533d12d0$var$z64e=function(e,t){for(;1!=$53691bda533d12d0$var$b2(e,t);t+=4+$53691bda533d12d0$var$b2(e,t+2));return[$53691bda533d12d0$var$b8(e,t+12),$53691bda533d12d0$var$b8(e,t+4),$53691bda533d12d0$var$b8(e,t+20)]},$53691bda533d12d0$var$exfl=function(e){var t=0;if(e)for(var r in e){var n=e[r].length;if(n>65535)throw"extra field too long";t+=n+4}return t},$53691bda533d12d0$var$wzh=function(e,t,r,n,i,a,o,s){var c=n.length,l=r.extra,d=s&&s.length,u=$53691bda533d12d0$var$exfl(l);$53691bda533d12d0$var$wbytes(e,t,null!=o?33639248:67324752),t+=4,null!=o&&(e[t++]=20,e[t++]=r.os),e[t]=20,t+=2,e[t++]=r.flag<<1|(null==a&&8),e[t++]=i&&8,e[t++]=255&r.compression,e[t++]=r.compression>>8;var h=new Date(null==r.mtime?Date.now():r.mtime),f=h.getFullYear()-1980;if(f<0||f>119)throw"date not in range 1980-2099";if($53691bda533d12d0$var$wbytes(e,t,f<<25|h.getMonth()+1<<21|h.getDate()<<16|h.getHours()<<11|h.getMinutes()<<5|h.getSeconds()>>>1),t+=4,null!=a&&($53691bda533d12d0$var$wbytes(e,t,r.crc),$53691bda533d12d0$var$wbytes(e,t+4,a),$53691bda533d12d0$var$wbytes(e,t+8,r.size)),$53691bda533d12d0$var$wbytes(e,t+12,c),$53691bda533d12d0$var$wbytes(e,t+14,u),t+=16,null!=o&&($53691bda533d12d0$var$wbytes(e,t,d),$53691bda533d12d0$var$wbytes(e,t+6,r.attrs),$53691bda533d12d0$var$wbytes(e,t+10,o),t+=14),e.set(n,t),t+=c,u)for(var p in l){var m=l[p],v=m.length;$53691bda533d12d0$var$wbytes(e,t,+p),$53691bda533d12d0$var$wbytes(e,t+2,v),e.set(m,t+4),t+=4+v}return d&&(e.set(s,t),t+=d),t},$53691bda533d12d0$var$wzf=function(e,t,r,n,i){$53691bda533d12d0$var$wbytes(e,t,101010256),$53691bda533d12d0$var$wbytes(e,t+8,r),$53691bda533d12d0$var$wbytes(e,t+10,r),$53691bda533d12d0$var$wbytes(e,t+12,n),$53691bda533d12d0$var$wbytes(e,t+16,i)},$53691bda533d12d0$export$2b25194e1767ea06=function(){function e(e){this.filename=e,this.c=$53691bda533d12d0$var$crc(),this.size=0,this.compression=0}return e.prototype.process=function(e,t){this.ondata(null,e,t)},e.prototype.push=function(e,t){if(!this.ondata)throw"no callback - add to ZIP archive before pushing";this.c.p(e),this.size+=e.length,t&&(this.crc=this.c.d()),this.process(e,t||!1)},e}(),$53691bda533d12d0$export$f7e481ca646388b6=function(){function e(e,t){var r=this;t||(t={}),$53691bda533d12d0$export$2b25194e1767ea06.call(this,e),this.d=new $53691bda533d12d0$export$ae157b6234afe138(t,(function(e,t){r.ondata(null,e,t)})),this.compression=8,this.flag=$53691bda533d12d0$var$dbf(t.level)}return e.prototype.process=function(e,t){try{this.d.push(e,t)}catch(e){this.ondata(e,null,t)}},e.prototype.push=function(e,t){$53691bda533d12d0$export$2b25194e1767ea06.prototype.push.call(this,e,t)},e}(),$53691bda533d12d0$export$ffb5e59e179924b2=function(){function e(e,t){var r=this;t||(t={}),$53691bda533d12d0$export$2b25194e1767ea06.call(this,e),this.d=new $53691bda533d12d0$export$84e526fabcba03e3(t,(function(e,t,n){r.ondata(e,t,n)})),this.compression=8,this.flag=$53691bda533d12d0$var$dbf(t.level),this.terminate=this.d.terminate}return e.prototype.process=function(e,t){this.d.push(e,t)},e.prototype.push=function(e,t){$53691bda533d12d0$export$2b25194e1767ea06.prototype.push.call(this,e,t)},e}(),$53691bda533d12d0$export$9a4d4a7c32a75d2f=function(){function e(e){this.ondata=e,this.u=[],this.d=1}return e.prototype.add=function(e){var t=this;if(2&this.d)throw"stream finished";var r=$53691bda533d12d0$export$366b39a6daa8ed7a(e.filename),n=r.length,i=e.comment,a=i&&$53691bda533d12d0$export$366b39a6daa8ed7a(i),o=n!=e.filename.length||a&&i.length!=a.length,s=n+$53691bda533d12d0$var$exfl(e.extra)+30;if(n>65535)throw"filename too long";var c=new $53691bda533d12d0$var$u8(s);$53691bda533d12d0$var$wzh(c,0,e,r,o);var l=[c],d=function(){for(var e=0,r=l;e<r.length;e++){var n=r[e];t.ondata(null,n,!1)}l=[]},u=this.d;this.d=0;var h=this.u.length,f=$53691bda533d12d0$var$mrg(e,{f:r,u:o,o:a,t:function(){e.terminate&&e.terminate()},r:function(){if(d(),u){var e=t.u[h+1];e?e.r():t.d=1}u=1}}),p=0;e.ondata=function(r,n,i){if(r)t.ondata(r,n,i),t.terminate();else if(p+=n.length,l.push(n),i){var a=new $53691bda533d12d0$var$u8(16);$53691bda533d12d0$var$wbytes(a,0,134695760),$53691bda533d12d0$var$wbytes(a,4,e.crc),$53691bda533d12d0$var$wbytes(a,8,p),$53691bda533d12d0$var$wbytes(a,12,e.size),l.push(a),f.c=p,f.b=s+p+16,f.crc=e.crc,f.size=e.size,u&&f.r(),u=1}else u&&d()},this.u.push(f)},e.prototype.end=function(){var e=this;if(2&this.d){if(1&this.d)throw"stream finishing";throw"stream finished"}this.d?this.e():this.u.push({r:function(){1&e.d&&(e.u.splice(-1,1),e.e())},t:function(){}}),this.d=3},e.prototype.e=function(){for(var e=0,t=0,r=0,n=0,i=this.u;n<i.length;n++){r+=46+(c=i[n]).f.length+$53691bda533d12d0$var$exfl(c.extra)+(c.o?c.o.length:0)}for(var a=new $53691bda533d12d0$var$u8(r+22),o=0,s=this.u;o<s.length;o++){var c=s[o];$53691bda533d12d0$var$wzh(a,e,c,c.f,c.u,c.c,t,c.o),e+=46+c.f.length+$53691bda533d12d0$var$exfl(c.extra)+(c.o?c.o.length:0),t+=c.b}$53691bda533d12d0$var$wzf(a,e,this.u.length,r,t),this.ondata(null,a,!0),this.d=2},e.prototype.terminate=function(){for(var e=0,t=this.u;e<t.length;e++){t[e].t()}this.d=2},e}();function $53691bda533d12d0$export$8901015135f2fb22(e,t,r){if(r||(r=t,t={}),"function"!=typeof r)throw"no callback";var n={};$53691bda533d12d0$var$fltn(e,"",n,t);var i=Object.keys(n),a=i.length,o=0,s=0,c=a,l=new Array(a),d=[],u=function(){for(var e=0;e<d.length;++e)d[e]()},h=function(){var e=new $53691bda533d12d0$var$u8(s+22),t=o,n=s-o;s=0;for(var i=0;i<c;++i){var a=l[i];try{var d=a.c.length;$53691bda533d12d0$var$wzh(e,s,a,a.f,a.u,d);var u=30+a.f.length+$53691bda533d12d0$var$exfl(a.extra),h=s+u;e.set(a.c,h),$53691bda533d12d0$var$wzh(e,o,a,a.f,a.u,d,s,a.m),o+=16+u+(a.m?a.m.length:0),s=h+d}catch(e){return r(e,null)}}$53691bda533d12d0$var$wzf(e,o,l.length,n,t),r(null,e)};a||h();for(var f=function(e){var t=i[e],c=n[t],f=c[0],p=c[1],m=$53691bda533d12d0$var$crc(),v=f.length;m.p(f);var $=$53691bda533d12d0$export$366b39a6daa8ed7a(t),g=$.length,b=p.comment,x=b&&$53691bda533d12d0$export$366b39a6daa8ed7a(b),y=x&&x.length,w=$53691bda533d12d0$var$exfl(p.extra),_=0==p.level?0:8,S=function(n,i){if(n)u(),r(n,null);else{var c=i.length;l[e]=$53691bda533d12d0$var$mrg(p,{size:v,crc:m.d(),c:i,f:$,m:x,u:g!=t.length||x&&b.length!=y,compression:_}),o+=30+g+w+c,s+=76+2*(g+w)+(y||0)+c,--a||h()}};if(g>65535&&S("filename too long",null),_)if(v<16e4)try{S(null,$53691bda533d12d0$export$21533ff51b8a0b4a(f,p))}catch(e){S(e,null)}else d.push($53691bda533d12d0$export$2316623ecd1285ab(f,p,S));else S(null,f)},p=0;p<c;++p)f(p);return u}function $53691bda533d12d0$export$eb1654f146d54eb3(e,t){t||(t={});var r={},n=[];$53691bda533d12d0$var$fltn(e,"",r,t);var i=0,a=0;for(var o in r){var s=r[o],c=s[0],l=s[1],d=0==l.level?0:8,u=(_=$53691bda533d12d0$export$366b39a6daa8ed7a(o)).length,h=l.comment,f=h&&$53691bda533d12d0$export$366b39a6daa8ed7a(h),p=f&&f.length,m=$53691bda533d12d0$var$exfl(l.extra);if(u>65535)throw"filename too long";var v=d?$53691bda533d12d0$export$21533ff51b8a0b4a(c,l):c,$=v.length,g=$53691bda533d12d0$var$crc();g.p(c),n.push($53691bda533d12d0$var$mrg(l,{size:c.length,crc:g.d(),c:v,f:_,m:f,u:u!=o.length||f&&h.length!=p,o:i,compression:d})),i+=30+u+m+$,a+=76+2*(u+m)+(p||0)+$}for(var b=new $53691bda533d12d0$var$u8(a+22),x=i,y=a-i,w=0;w<n.length;++w){var _=n[w];$53691bda533d12d0$var$wzh(b,_.o,_,_.f,_.u,_.c.length);var S=30+_.f.length+$53691bda533d12d0$var$exfl(_.extra);b.set(_.c,_.o+S),$53691bda533d12d0$var$wzh(b,i,_,_.f,_.u,_.c.length,_.o,_.m),i+=16+S+(_.m?_.m.length:0)}return $53691bda533d12d0$var$wzf(b,i,n.length,y,x),b}var $53691bda533d12d0$export$93f81d5bbbb7c6bf=function(){function e(){}return e.prototype.push=function(e,t){this.ondata(null,e,t)},e.compression=0,e}(),$53691bda533d12d0$export$eb188945cc39e642=function(){function e(){var e=this;this.i=new $53691bda533d12d0$export$d1de70a877d6e43c((function(t,r){e.ondata(null,t,r)}))}return e.prototype.push=function(e,t){try{this.i.push(e,t)}catch(r){this.ondata(r,e,t)}},e.compression=8,e}(),$53691bda533d12d0$export$6235d84645dad4f9=function(){function e(e,t){var r=this;t<32e4?this.i=new $53691bda533d12d0$export$d1de70a877d6e43c((function(e,t){r.ondata(null,e,t)})):(this.i=new $53691bda533d12d0$export$fff8358d6dbaa9cc((function(e,t,n){r.ondata(e,t,n)})),this.terminate=this.i.terminate)}return e.prototype.push=function(e,t){this.i.terminate&&(e=$53691bda533d12d0$var$slc(e,0)),this.i.push(e,t)},e.compression=8,e}(),$53691bda533d12d0$export$9b7485f84cbaaa56=function(){function e(e){this.onfile=e,this.k=[],this.o={0:$53691bda533d12d0$export$93f81d5bbbb7c6bf},this.p=$53691bda533d12d0$var$et}return e.prototype.push=function(e,t){var r=this;if(!this.onfile)throw"no callback";if(!this.p)throw"stream finished";if(this.c>0){var n=Math.min(this.c,e.length),i=e.subarray(0,n);if(this.c-=n,this.d?this.d.push(i,!this.c):this.k[0].push(i),(e=e.subarray(n)).length)return this.push(e,t)}else{var a=0,o=0,s=void 0,c=void 0;this.p.length?e.length?((c=new $53691bda533d12d0$var$u8(this.p.length+e.length)).set(this.p),c.set(e,this.p.length)):c=this.p:c=e;for(var l=c.length,d=this.c,u=d&&this.d,h=function(){var e,t=$53691bda533d12d0$var$b4(c,o);if(67324752==t){a=1,s=o,f.d=null,f.c=0;var n=$53691bda533d12d0$var$b2(c,o+6),i=$53691bda533d12d0$var$b2(c,o+8),u=2048&n,h=8&n,p=$53691bda533d12d0$var$b2(c,o+26),m=$53691bda533d12d0$var$b2(c,o+28);if(l>o+30+p+m){var v=[];f.k.unshift(v),a=2;var $,g=$53691bda533d12d0$var$b4(c,o+18),b=$53691bda533d12d0$var$b4(c,o+22),x=$53691bda533d12d0$export$adb211f8cb999894(c.subarray(o+30,o+=30+p),!u);4294967295==g?(e=h?[-2]:$53691bda533d12d0$var$z64e(c,o),g=e[0],b=e[1]):h&&(g=-1),o+=m,f.c=g;var y={name:x,compression:i,start:function(){if(!y.ondata)throw"no callback";if(g){var e=r.o[i];if(!e)throw"unknown compression type "+i;($=g<0?new e(x):new e(x,g,b)).ondata=function(e,t,r){y.ondata(e,t,r)};for(var t=0,n=v;t<n.length;t++){var a=n[t];$.push(a,!1)}r.k[0]==v&&r.c?r.d=$:$.push($53691bda533d12d0$var$et,!0)}else y.ondata(null,$53691bda533d12d0$var$et,!0)},terminate:function(){$&&$.terminate&&$.terminate()}};g>=0&&(y.size=g,y.originalSize=b),f.onfile(y)}return"break"}if(d){if(134695760==t)return s=o+=12+(-2==d&&8),a=3,f.c=0,"break";if(33639248==t)return s=o-=4,a=3,f.c=0,"break"}},f=this;o<l-4;++o){if("break"===h())break}if(this.p=$53691bda533d12d0$var$et,d<0){var p=a?c.subarray(0,s-12-(-2==d&&8)-(134695760==$53691bda533d12d0$var$b4(c,s-16)&&4)):c.subarray(0,o);u?u.push(p,!!a):this.k[+(2==a)].push(p)}if(2&a)return this.push(c.subarray(o),t);this.p=c.subarray(o)}if(t){if(this.c)throw"invalid zip file";this.p=null}},e.prototype.register=function(e){this.o[e.compression]=e},e}();function $53691bda533d12d0$export$23c8d3f8757cab88(e,t){if("function"!=typeof t)throw"no callback";for(var r=[],n=function(){for(var e=0;e<r.length;++e)r[e]()},i={},a=e.length-22;101010256!=$53691bda533d12d0$var$b4(e,a);--a)if(!a||e.length-a>65558)return void t("invalid zip file",null);var o=$53691bda533d12d0$var$b2(e,a+8);o||t(null,{});var s=o,c=$53691bda533d12d0$var$b4(e,a+16),l=4294967295==c;if(l){if(a=$53691bda533d12d0$var$b4(e,a-12),101075792!=$53691bda533d12d0$var$b4(e,a))return void t("invalid zip file",null);s=o=$53691bda533d12d0$var$b4(e,a+32),c=$53691bda533d12d0$var$b4(e,a+48)}for(var d=function(a){var s=$53691bda533d12d0$var$zh(e,c,l),d=s[0],u=s[1],h=s[2],f=s[3],p=s[4],m=s[5],v=$53691bda533d12d0$var$slzh(e,m);c=p;var $=function(e,r){e?(n(),t(e,null)):(i[f]=r,--o||t(null,i))};if(d)if(8==d){var g=e.subarray(v,v+u);if(u<32e4)try{$(null,$53691bda533d12d0$export$90366d8b308ba94a(g,new $53691bda533d12d0$var$u8(h)))}catch(e){$(e,null)}else r.push($53691bda533d12d0$export$cae1ce83fe4a1782(g,{size:h},$))}else $("unknown compression type "+d,null);else $(null,$53691bda533d12d0$var$slc(e,v,v+u))},u=0;u<s;++u)d();return n}function $53691bda533d12d0$export$c757709326bb5901(e){for(var t={},r=e.length-22;101010256!=$53691bda533d12d0$var$b4(e,r);--r)if(!r||e.length-r>65558)throw"invalid zip file";var n=$53691bda533d12d0$var$b2(e,r+8);if(!n)return{};var i=$53691bda533d12d0$var$b4(e,r+16),a=4294967295==i;if(a){if(r=$53691bda533d12d0$var$b4(e,r-12),101075792!=$53691bda533d12d0$var$b4(e,r))throw"invalid zip file";n=$53691bda533d12d0$var$b4(e,r+32),i=$53691bda533d12d0$var$b4(e,r+48)}for(var o=0;o<n;++o){var s=$53691bda533d12d0$var$zh(e,i,a),c=s[0],l=s[1],d=s[2],u=s[3],h=s[4],f=s[5],p=$53691bda533d12d0$var$slzh(e,f);if(i=h,c){if(8!=c)throw"unknown compression type "+c;t[u]=$53691bda533d12d0$export$90366d8b308ba94a(e.subarray(p,p+l),new $53691bda533d12d0$var$u8(d))}else t[u]=$53691bda533d12d0$var$slc(e,p,p+l)}return t}var $ilwiq=parcelRequire("ilwiq"),$ilwiq=parcelRequire("ilwiq");function $3de20e7c02944e1d$export$5d44f085c0641ab4(e,t,r){const n=r.length-e-1;if(t>=r[n])return n-1;if(t<=r[e])return e;let i=e,a=n,o=Math.floor((i+a)/2);for(;t<r[o]||t>=r[o+1];)t<r[o]?a=o:i=o,o=Math.floor((i+a)/2);return o}function $3de20e7c02944e1d$export$bbebd61f407f7f41(e,t,r,n){const i=[],a=[],o=[];i[0]=1;for(let s=1;s<=r;++s){a[s]=t-n[e+1-s],o[s]=n[e+s]-t;let r=0;for(let e=0;e<s;++e){const t=o[e+1],n=a[s-e],c=i[e]/(t+n);i[e]=r+t*c,r=n*c}i[s]=r}return i}function $3de20e7c02944e1d$export$3672a5d5ca534534(e,t,r,n){const i=$3de20e7c02944e1d$export$5d44f085c0641ab4(e,n,t),a=$3de20e7c02944e1d$export$bbebd61f407f7f41(i,n,e,t),o=new(0,$ilwiq.Vector4)(0,0,0,0);for(let t=0;t<=e;++t){const n=r[i-e+t],s=a[t],c=n.w*s;o.x+=n.x*c,o.y+=n.y*c,o.z+=n.z*c,o.w+=n.w*s}return o}function $3de20e7c02944e1d$export$70bfab2ede47286(e,t,r,n,i){const a=[];for(let e=0;e<=r;++e)a[e]=0;const o=[];for(let e=0;e<=n;++e)o[e]=a.slice(0);const s=[];for(let e=0;e<=r;++e)s[e]=a.slice(0);s[0][0]=1;const c=a.slice(0),l=a.slice(0);for(let n=1;n<=r;++n){c[n]=t-i[e+1-n],l[n]=i[e+n]-t;let r=0;for(let e=0;e<n;++e){const t=l[e+1],i=c[n-e];s[n][e]=t+i;const a=s[e][n-1]/s[n][e];s[e][n]=r+t*a,r=i*a}s[n][n]=r}for(let e=0;e<=r;++e)o[0][e]=s[e][r];for(let e=0;e<=r;++e){let t=0,i=1;const c=[];for(let e=0;e<=r;++e)c[e]=a.slice(0);c[0][0]=1;for(let a=1;a<=n;++a){let n=0;const l=e-a,d=r-a;e>=a&&(c[i][0]=c[t][0]/s[d+1][l],n=c[i][0]*s[l][d]);const u=e-1<=d?a-1:r-e;for(let e=l>=-1?1:-l;e<=u;++e)c[i][e]=(c[t][e]-c[t][e-1])/s[d+1][l+e],n+=c[i][e]*s[l+e][d];e<=d&&(c[i][a]=-c[t][a-1]/s[d+1][e],n+=c[i][a]*s[e][d]),o[a][e]=n;const h=t;t=i,i=h}}let d=r;for(let e=1;e<=n;++e){for(let t=0;t<=r;++t)o[e][t]*=d;d*=r-e}return o}function $3de20e7c02944e1d$export$ae5bff7435823e13(e,t,r,n,i){const a=i<e?i:e,o=[],s=$3de20e7c02944e1d$export$5d44f085c0641ab4(e,n,t),c=$3de20e7c02944e1d$export$70bfab2ede47286(s,n,e,a,t),l=[];for(let e=0;e<r.length;++e){const t=r[e].clone(),n=t.w;t.x*=n,t.y*=n,t.z*=n,l[e]=t}for(let t=0;t<=a;++t){const r=l[s-e].clone().multiplyScalar(c[t][0]);for(let n=1;n<=e;++n)r.add(l[s-e+n].clone().multiplyScalar(c[t][n]));o[t]=r}for(let e=a+1;e<=i+1;++e)o[e]=new(0,$ilwiq.Vector4)(0,0,0);return o}function $3de20e7c02944e1d$export$3c88b91ac9312187(e,t){let r=1;for(let t=2;t<=e;++t)r*=t;let n=1;for(let e=2;e<=t;++e)n*=e;for(let r=2;r<=e-t;++r)n*=r;return r/n}function $3de20e7c02944e1d$export$66805edec2c1a55d(e){const t=e.length,r=[],n=[];for(let i=0;i<t;++i){const t=e[i];r[i]=new(0,$ilwiq.Vector3)(t.x,t.y,t.z),n[i]=t.w}const i=[];for(let e=0;e<t;++e){const t=r[e].clone();for(let r=1;r<=e;++r)t.sub(i[e-r].clone().multiplyScalar($3de20e7c02944e1d$export$3c88b91ac9312187(e,r)*n[r]));i[e]=t.divideScalar(n[0])}return i}function $3de20e7c02944e1d$export$692f68f163c8f6b(e,t,r,n,i){return $3de20e7c02944e1d$export$66805edec2c1a55d($3de20e7c02944e1d$export$ae5bff7435823e13(e,t,r,n,i))}function $3de20e7c02944e1d$export$6574b03464941be7(e,t,r,n,i,a,o,s){const c=$3de20e7c02944e1d$export$5d44f085c0641ab4(e,a,r),l=$3de20e7c02944e1d$export$5d44f085c0641ab4(t,o,n),d=$3de20e7c02944e1d$export$bbebd61f407f7f41(c,a,e,r),u=$3de20e7c02944e1d$export$bbebd61f407f7f41(l,o,t,n),h=[];for(let r=0;r<=t;++r){h[r]=new(0,$ilwiq.Vector4)(0,0,0,0);for(let n=0;n<=e;++n){const a=i[c-e+n][l-t+r].clone(),o=a.w;a.x*=o,a.y*=o,a.z*=o,h[r].add(a.multiplyScalar(d[n]))}}const f=new(0,$ilwiq.Vector4)(0,0,0,0);for(let e=0;e<=t;++e)f.add(h[e].multiplyScalar(u[e]));f.divideScalar(f.w),s.set(f.x,f.y,f.z)}class $94b07e67f83726ad$export$12efb26d7429b049 extends $ilwiq.Curve{constructor(e,t,r,n,i){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=n||0,this.endKnot=i||this.knots.length-1;for(let e=0;e<r.length;++e){const t=r[e];this.controlPoints[e]=new(0,$ilwiq.Vector4)(t.x,t.y,t.z,t.w)}}getPoint(e,t=new(0,$ilwiq.Vector3)){const r=t,n=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),i=$3de20e7c02944e1d$export$3672a5d5ca534534(this.degree,this.knots,this.controlPoints,n);return 1!==i.w&&i.divideScalar(i.w),r.set(i.x,i.y,i.z)}getTangent(e,t=new(0,$ilwiq.Vector3)){const r=t,n=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),i=$3de20e7c02944e1d$export$692f68f163c8f6b(this.degree,this.knots,this.controlPoints,n,1);return r.copy(i[1]).normalize(),r}}let $04ef886a022e9ae8$var$fbxTree,$04ef886a022e9ae8$var$connections,$04ef886a022e9ae8$var$sceneGraph;class $04ef886a022e9ae8$export$60c52e42bb04b96 extends $ilwiq.Loader{constructor(e){super(e)}load(e,t,r,n){const i=this,a=""===i.path?$ilwiq.LoaderUtils.extractUrlBase(e):i.path,o=new(0,$ilwiq.FileLoader)(this.manager);o.setPath(i.path),o.setResponseType("arraybuffer"),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(r){try{t(i.parse(r,a))}catch(t){n?n(t):console.error(t),i.manager.itemError(e)}}),r,n)}parse(e,t){if($04ef886a022e9ae8$var$isFbxFormatBinary(e))$04ef886a022e9ae8$var$fbxTree=(new $04ef886a022e9ae8$var$BinaryParser).parse(e);else{const t=$04ef886a022e9ae8$var$convertArrayBufferToString(e);if(!$04ef886a022e9ae8$var$isFbxFormatASCII(t))throw new Error("THREE.FBXLoader: Unknown format.");if($04ef886a022e9ae8$var$getFbxVersion(t)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+$04ef886a022e9ae8$var$getFbxVersion(t));$04ef886a022e9ae8$var$fbxTree=(new $04ef886a022e9ae8$var$TextParser).parse(t)}const r=new(0,$ilwiq.TextureLoader)(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new $04ef886a022e9ae8$var$FBXTreeParser(r,this.manager).parse($04ef886a022e9ae8$var$fbxTree)}}class $04ef886a022e9ae8$var$FBXTreeParser{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){$04ef886a022e9ae8$var$connections=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),r=this.parseMaterials(t),n=this.parseDeformers(),i=(new $04ef886a022e9ae8$var$GeometryParser).parse(n);return this.parseScene(n,i,r),$04ef886a022e9ae8$var$sceneGraph}parseConnections(){const e=new Map;if("Connections"in $04ef886a022e9ae8$var$fbxTree){$04ef886a022e9ae8$var$fbxTree.Connections.connections.forEach((function(t){const r=t[0],n=t[1],i=t[2];e.has(r)||e.set(r,{parents:[],children:[]});const a={ID:n,relationship:i};e.get(r).parents.push(a),e.has(n)||e.set(n,{parents:[],children:[]});const o={ID:r,relationship:i};e.get(n).children.push(o)}))}return e}parseImages(){const e={},t={};if("Video"in $04ef886a022e9ae8$var$fbxTree.Objects){const r=$04ef886a022e9ae8$var$fbxTree.Objects.Video;for(const n in r){const i=r[n];if(e[parseInt(n)]=i.RelativeFilename||i.Filename,"Content"in i){const e=i.Content instanceof ArrayBuffer&&i.Content.byteLength>0,a="string"==typeof i.Content&&""!==i.Content;if(e||a){const e=this.parseImage(r[n]);t[i.RelativeFilename||i.Filename]=e}}}}for(const r in e){const n=e[r];void 0!==t[n]?e[r]=t[n]:e[r]=e[r].split("\\").pop()}return e}parseImage(e){const t=e.Content,r=e.RelativeFilename||e.Filename,n=r.slice(r.lastIndexOf(".")+1).toLowerCase();let i;switch(n){case"bmp":i="image/bmp";break;case"jpg":case"jpeg":i="image/jpeg";break;case"png":i="image/png";break;case"tif":i="image/tiff";break;case"tga":null===this.manager.getHandler(".tga")&&console.warn("FBXLoader: TGA loader not found, skipping ",r),i="image/tga";break;default:return void console.warn('FBXLoader: Image type "'+n+'" is not supported.')}if("string"==typeof t)return"data:"+i+";base64,"+t;{const e=new Uint8Array(t);return window.URL.createObjectURL(new Blob([e],{type:i}))}}parseTextures(e){const t=new Map;if("Texture"in $04ef886a022e9ae8$var$fbxTree.Objects){const r=$04ef886a022e9ae8$var$fbxTree.Objects.Texture;for(const n in r){const i=this.parseTexture(r[n],e);t.set(parseInt(n),i)}}return t}parseTexture(e,t){const r=this.loadTexture(e,t);r.ID=e.id,r.name=e.attrName;const n=e.WrapModeU,i=e.WrapModeV,a=void 0!==n?n.value:0,o=void 0!==i?i.value:0;if(r.wrapS=0===a?$ilwiq.RepeatWrapping:$ilwiq.ClampToEdgeWrapping,r.wrapT=0===o?$ilwiq.RepeatWrapping:$ilwiq.ClampToEdgeWrapping,"Scaling"in e){const t=e.Scaling.value;r.repeat.x=t[0],r.repeat.y=t[1]}return r}loadTexture(e,t){let r;const n=this.textureLoader.path,i=$04ef886a022e9ae8$var$connections.get(e.id).children;let a;void 0!==i&&i.length>0&&void 0!==t[i[0].ID]&&(r=t[i[0].ID],0!==r.indexOf("blob:")&&0!==r.indexOf("data:")||this.textureLoader.setPath(void 0));const o=e.FileName.slice(-3).toLowerCase();if("tga"===o){const t=this.manager.getHandler(".tga");null===t?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),a=new(0,$ilwiq.Texture)):(t.setPath(this.textureLoader.path),a=t.load(r))}else"psd"===o?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),a=new(0,$ilwiq.Texture)):a=this.textureLoader.load(r);return this.textureLoader.setPath(n),a}parseMaterials(e){const t=new Map;if("Material"in $04ef886a022e9ae8$var$fbxTree.Objects){const r=$04ef886a022e9ae8$var$fbxTree.Objects.Material;for(const n in r){const i=this.parseMaterial(r[n],e);null!==i&&t.set(parseInt(n),i)}}return t}parseMaterial(e,t){const r=e.id,n=e.attrName;let i=e.ShadingModel;if("object"==typeof i&&(i=i.value),!$04ef886a022e9ae8$var$connections.has(r))return null;const a=this.parseParameters(e,t,r);let o;switch(i.toLowerCase()){case"phong":o=new(0,$ilwiq.MeshPhongMaterial);break;case"lambert":o=new(0,$ilwiq.MeshLambertMaterial);break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',i),o=new(0,$ilwiq.MeshPhongMaterial)}return o.setValues(a),o.name=n,o}parseParameters(e,t,r){const n={};e.BumpFactor&&(n.bumpScale=e.BumpFactor.value),e.Diffuse?n.color=(new(0,$ilwiq.Color)).fromArray(e.Diffuse.value):!e.DiffuseColor||"Color"!==e.DiffuseColor.type&&"ColorRGB"!==e.DiffuseColor.type||(n.color=(new(0,$ilwiq.Color)).fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(n.displacementScale=e.DisplacementFactor.value),e.Emissive?n.emissive=(new(0,$ilwiq.Color)).fromArray(e.Emissive.value):!e.EmissiveColor||"Color"!==e.EmissiveColor.type&&"ColorRGB"!==e.EmissiveColor.type||(n.emissive=(new(0,$ilwiq.Color)).fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(n.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(n.opacity=parseFloat(e.Opacity.value)),n.opacity<1&&(n.transparent=!0),e.ReflectionFactor&&(n.reflectivity=e.ReflectionFactor.value),e.Shininess&&(n.shininess=e.Shininess.value),e.Specular?n.specular=(new(0,$ilwiq.Color)).fromArray(e.Specular.value):e.SpecularColor&&"Color"===e.SpecularColor.type&&(n.specular=(new(0,$ilwiq.Color)).fromArray(e.SpecularColor.value));const i=this;return $04ef886a022e9ae8$var$connections.get(r).children.forEach((function(e){const r=e.relationship;switch(r){case"Bump":n.bumpMap=i.getTexture(t,e.ID);break;case"Maya|TEX_ao_map":n.aoMap=i.getTexture(t,e.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":n.map=i.getTexture(t,e.ID),void 0!==n.map&&(n.map.encoding=$ilwiq.sRGBEncoding);break;case"DisplacementColor":n.displacementMap=i.getTexture(t,e.ID);break;case"EmissiveColor":n.emissiveMap=i.getTexture(t,e.ID),void 0!==n.emissiveMap&&(n.emissiveMap.encoding=$ilwiq.sRGBEncoding);break;case"NormalMap":case"Maya|TEX_normal_map":n.normalMap=i.getTexture(t,e.ID);break;case"ReflectionColor":n.envMap=i.getTexture(t,e.ID),void 0!==n.envMap&&(n.envMap.mapping=$ilwiq.EquirectangularReflectionMapping,n.envMap.encoding=$ilwiq.sRGBEncoding);break;case"SpecularColor":n.specularMap=i.getTexture(t,e.ID),void 0!==n.specularMap&&(n.specularMap.encoding=$ilwiq.sRGBEncoding);break;case"TransparentColor":case"TransparencyFactor":n.alphaMap=i.getTexture(t,e.ID),n.transparent=!0;break;default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",r)}})),n}getTexture(e,t){return"LayeredTexture"in $04ef886a022e9ae8$var$fbxTree.Objects&&t in $04ef886a022e9ae8$var$fbxTree.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=$04ef886a022e9ae8$var$connections.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in $04ef886a022e9ae8$var$fbxTree.Objects){const r=$04ef886a022e9ae8$var$fbxTree.Objects.Deformer;for(const n in r){const i=r[n],a=$04ef886a022e9ae8$var$connections.get(parseInt(n));if("Skin"===i.attrType){const t=this.parseSkeleton(a,r);t.ID=n,a.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),t.geometryID=a.parents[0].ID,e[n]=t}else if("BlendShape"===i.attrType){const e={id:n};e.rawTargets=this.parseMorphTargets(a,r),e.id=n,a.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[n]=e}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const r=[];return e.children.forEach((function(e){const n=t[e.ID];if("Cluster"!==n.attrType)return;const i={ID:e.ID,indices:[],weights:[],transformLink:(new(0,$ilwiq.Matrix4)).fromArray(n.TransformLink.a)};"Indexes"in n&&(i.indices=n.Indexes.a,i.weights=n.Weights.a),r.push(i)})),{rawBones:r,bones:[]}}parseMorphTargets(e,t){const r=[];for(let n=0;n<e.children.length;n++){const i=e.children[n],a=t[i.ID],o={name:a.attrName,initialWeight:a.DeformPercent,id:a.id,fullWeights:a.FullWeights.a};if("BlendShapeChannel"!==a.attrType)return;o.geoID=$04ef886a022e9ae8$var$connections.get(parseInt(i.ID)).children.filter((function(e){return void 0===e.relationship}))[0].ID,r.push(o)}return r}parseScene(e,t,r){$04ef886a022e9ae8$var$sceneGraph=new(0,$ilwiq.Group);const n=this.parseModels(e.skeletons,t,r),i=$04ef886a022e9ae8$var$fbxTree.Objects.Model,a=this;n.forEach((function(e){const t=i[e.ID];a.setLookAtProperties(e,t);$04ef886a022e9ae8$var$connections.get(e.ID).parents.forEach((function(t){const r=n.get(t.ID);void 0!==r&&r.add(e)})),null===e.parent&&$04ef886a022e9ae8$var$sceneGraph.add(e)})),this.bindSkeleton(e.skeletons,t,n),this.createAmbientLight(),$04ef886a022e9ae8$var$sceneGraph.traverse((function(e){if(e.userData.transformData){e.parent&&(e.userData.transformData.parentMatrix=e.parent.matrix,e.userData.transformData.parentMatrixWorld=e.parent.matrixWorld);const t=$04ef886a022e9ae8$var$generateTransform(e.userData.transformData);e.applyMatrix4(t),e.updateWorldMatrix()}}));const o=(new $04ef886a022e9ae8$var$AnimationParser).parse();1===$04ef886a022e9ae8$var$sceneGraph.children.length&&$04ef886a022e9ae8$var$sceneGraph.children[0].isGroup&&($04ef886a022e9ae8$var$sceneGraph.children[0].animations=o,$04ef886a022e9ae8$var$sceneGraph=$04ef886a022e9ae8$var$sceneGraph.children[0]),$04ef886a022e9ae8$var$sceneGraph.animations=o}parseModels(e,t,r){const n=new Map,i=$04ef886a022e9ae8$var$fbxTree.Objects.Model;for(const a in i){const o=parseInt(a),s=i[a],c=$04ef886a022e9ae8$var$connections.get(o);let l=this.buildSkeleton(c,e,o,s.attrName);if(!l){switch(s.attrType){case"Camera":l=this.createCamera(c);break;case"Light":l=this.createLight(c);break;case"Mesh":l=this.createMesh(c,t,r);break;case"NurbsCurve":l=this.createCurve(c,t);break;case"LimbNode":case"Root":l=new(0,$ilwiq.Bone);break;default:l=new(0,$ilwiq.Group)}l.name=s.attrName?$ilwiq.PropertyBinding.sanitizeNodeName(s.attrName):"",l.ID=o}this.getTransformData(l,s),n.set(o,l)}return n}buildSkeleton(e,t,r,n){let i=null;return e.parents.forEach((function(e){for(const a in t){const o=t[a];o.rawBones.forEach((function(t,a){if(t.ID===e.ID){const e=i;i=new(0,$ilwiq.Bone),i.matrixWorld.copy(t.transformLink),i.name=n?$ilwiq.PropertyBinding.sanitizeNodeName(n):"",i.ID=r,o.bones[a]=i,null!==e&&i.add(e)}}))}})),i}createCamera(e){let t,r;if(e.children.forEach((function(e){const t=$04ef886a022e9ae8$var$fbxTree.Objects.NodeAttribute[e.ID];void 0!==t&&(r=t)})),void 0===r)t=new(0,$ilwiq.Object3D);else{let e=0;void 0!==r.CameraProjectionType&&1===r.CameraProjectionType.value&&(e=1);let n=1;void 0!==r.NearPlane&&(n=r.NearPlane.value/1e3);let i=1e3;void 0!==r.FarPlane&&(i=r.FarPlane.value/1e3);let a=window.innerWidth,o=window.innerHeight;void 0!==r.AspectWidth&&void 0!==r.AspectHeight&&(a=r.AspectWidth.value,o=r.AspectHeight.value);const s=a/o;let c=45;void 0!==r.FieldOfView&&(c=r.FieldOfView.value);const l=r.FocalLength?r.FocalLength.value:null;switch(e){case 0:t=new(0,$ilwiq.PerspectiveCamera)(c,s,n,i),null!==l&&t.setFocalLength(l);break;case 1:t=new(0,$ilwiq.OrthographicCamera)(-a/2,a/2,o/2,-o/2,n,i);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+e+"."),t=new(0,$ilwiq.Object3D)}}return t}createLight(e){let t,r;if(e.children.forEach((function(e){const t=$04ef886a022e9ae8$var$fbxTree.Objects.NodeAttribute[e.ID];void 0!==t&&(r=t)})),void 0===r)t=new(0,$ilwiq.Object3D);else{let e;e=void 0===r.LightType?0:r.LightType.value;let n=16777215;void 0!==r.Color&&(n=(new(0,$ilwiq.Color)).fromArray(r.Color.value));let i=void 0===r.Intensity?1:r.Intensity.value/100;void 0!==r.CastLightOnObject&&0===r.CastLightOnObject.value&&(i=0);let a=0;void 0!==r.FarAttenuationEnd&&(a=void 0!==r.EnableFarAttenuation&&0===r.EnableFarAttenuation.value?0:r.FarAttenuationEnd.value);const o=1;switch(e){case 0:t=new(0,$ilwiq.PointLight)(n,i,a,o);break;case 1:t=new(0,$ilwiq.DirectionalLight)(n,i);break;case 2:let e=Math.PI/3;void 0!==r.InnerAngle&&(e=$ilwiq.MathUtils.degToRad(r.InnerAngle.value));let s=0;void 0!==r.OuterAngle&&(s=$ilwiq.MathUtils.degToRad(r.OuterAngle.value),s=Math.max(s,1)),t=new(0,$ilwiq.SpotLight)(n,i,a,e,s,o);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a PointLight."),t=new(0,$ilwiq.PointLight)(n,i)}void 0!==r.CastShadows&&1===r.CastShadows.value&&(t.castShadow=!0)}return t}createMesh(e,t,r){let n,i=null,a=null;const o=[];return e.children.forEach((function(e){t.has(e.ID)&&(i=t.get(e.ID)),r.has(e.ID)&&o.push(r.get(e.ID))})),o.length>1?a=o:o.length>0?a=o[0]:(a=new(0,$ilwiq.MeshPhongMaterial)({color:13421772}),o.push(a)),"color"in i.attributes&&o.forEach((function(e){e.vertexColors=!0})),i.FBX_Deformer?(n=new(0,$ilwiq.SkinnedMesh)(i,a),n.normalizeSkinWeights()):n=new(0,$ilwiq.Mesh)(i,a),n}createCurve(e,t){const r=e.children.reduce((function(e,r){return t.has(r.ID)&&(e=t.get(r.ID)),e}),null),n=new(0,$ilwiq.LineBasicMaterial)({color:3342591,linewidth:1});return new(0,$ilwiq.Line)(r,n)}getTransformData(e,t){const r={};"InheritType"in t&&(r.inheritType=parseInt(t.InheritType.value)),r.eulerOrder="RotationOrder"in t?$04ef886a022e9ae8$var$getEulerOrder(t.RotationOrder.value):"ZYX","Lcl_Translation"in t&&(r.translation=t.Lcl_Translation.value),"PreRotation"in t&&(r.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(r.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(r.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(r.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(r.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(r.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(r.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(r.rotationPivot=t.RotationPivot.value),e.userData.transformData=r}setLookAtProperties(e,t){if("LookAtProperty"in t){$04ef886a022e9ae8$var$connections.get(e.ID).children.forEach((function(t){if("LookAtProperty"===t.relationship){const r=$04ef886a022e9ae8$var$fbxTree.Objects.Model[t.ID];if("Lcl_Translation"in r){const t=r.Lcl_Translation.value;void 0!==e.target?(e.target.position.fromArray(t),$04ef886a022e9ae8$var$sceneGraph.add(e.target)):e.lookAt((new(0,$ilwiq.Vector3)).fromArray(t))}}}))}}bindSkeleton(e,t,r){const n=this.parsePoseNodes();for(const i in e){const a=e[i];$04ef886a022e9ae8$var$connections.get(parseInt(a.ID)).parents.forEach((function(e){if(t.has(e.ID)){const t=e.ID;$04ef886a022e9ae8$var$connections.get(t).parents.forEach((function(e){if(r.has(e.ID)){r.get(e.ID).bind(new(0,$ilwiq.Skeleton)(a.bones),n[e.ID])}}))}}))}}parsePoseNodes(){const e={};if("Pose"in $04ef886a022e9ae8$var$fbxTree.Objects){const t=$04ef886a022e9ae8$var$fbxTree.Objects.Pose;for(const r in t)if("BindPose"===t[r].attrType&&t[r].NbPoseNodes>0){const n=t[r].PoseNode;Array.isArray(n)?n.forEach((function(t){e[t.Node]=(new(0,$ilwiq.Matrix4)).fromArray(t.Matrix.a)})):e[n.Node]=(new(0,$ilwiq.Matrix4)).fromArray(n.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in $04ef886a022e9ae8$var$fbxTree&&"AmbientColor"in $04ef886a022e9ae8$var$fbxTree.GlobalSettings){const e=$04ef886a022e9ae8$var$fbxTree.GlobalSettings.AmbientColor.value,t=e[0],r=e[1],n=e[2];if(0!==t||0!==r||0!==n){const e=new(0,$ilwiq.Color)(t,r,n);$04ef886a022e9ae8$var$sceneGraph.add(new(0,$ilwiq.AmbientLight)(e,1))}}}}class $04ef886a022e9ae8$var$GeometryParser{parse(e){const t=new Map;if("Geometry"in $04ef886a022e9ae8$var$fbxTree.Objects){const r=$04ef886a022e9ae8$var$fbxTree.Objects.Geometry;for(const n in r){const i=$04ef886a022e9ae8$var$connections.get(parseInt(n)),a=this.parseGeometry(i,r[n],e);t.set(parseInt(n),a)}}return t}parseGeometry(e,t,r){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,r);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,r){const n=r.skeletons,i=[],a=e.parents.map((function(e){return $04ef886a022e9ae8$var$fbxTree.Objects.Model[e.ID]}));if(0===a.length)return;const o=e.children.reduce((function(e,t){return void 0!==n[t.ID]&&(e=n[t.ID]),e}),null);e.children.forEach((function(e){void 0!==r.morphTargets[e.ID]&&i.push(r.morphTargets[e.ID])}));const s=a[0],c={};"RotationOrder"in s&&(c.eulerOrder=$04ef886a022e9ae8$var$getEulerOrder(s.RotationOrder.value)),"InheritType"in s&&(c.inheritType=parseInt(s.InheritType.value)),"GeometricTranslation"in s&&(c.translation=s.GeometricTranslation.value),"GeometricRotation"in s&&(c.rotation=s.GeometricRotation.value),"GeometricScaling"in s&&(c.scale=s.GeometricScaling.value);const l=$04ef886a022e9ae8$var$generateTransform(c);return this.genGeometry(t,o,i,l)}genGeometry(e,t,r,n){const i=new(0,$ilwiq.BufferGeometry);e.attrName&&(i.name=e.attrName);const a=this.parseGeoNode(e,t),o=this.genBuffers(a),s=new(0,$ilwiq.Float32BufferAttribute)(o.vertex,3);if(s.applyMatrix4(n),i.setAttribute("position",s),o.colors.length>0&&i.setAttribute("color",new(0,$ilwiq.Float32BufferAttribute)(o.colors,3)),t&&(i.setAttribute("skinIndex",new(0,$ilwiq.Uint16BufferAttribute)(o.weightsIndices,4)),i.setAttribute("skinWeight",new(0,$ilwiq.Float32BufferAttribute)(o.vertexWeights,4)),i.FBX_Deformer=t),o.normal.length>0){const e=(new(0,$ilwiq.Matrix3)).getNormalMatrix(n),t=new(0,$ilwiq.Float32BufferAttribute)(o.normal,3);t.applyNormalMatrix(e),i.setAttribute("normal",t)}if(o.uvs.forEach((function(e,t){let r="uv"+(t+1).toString();0===t&&(r="uv"),i.setAttribute(r,new(0,$ilwiq.Float32BufferAttribute)(o.uvs[t],2))})),a.material&&"AllSame"!==a.material.mappingType){let e=o.materialIndex[0],t=0;if(o.materialIndex.forEach((function(r,n){r!==e&&(i.addGroup(t,n-t,e),e=r,t=n)})),i.groups.length>0){const t=i.groups[i.groups.length-1],r=t.start+t.count;r!==o.materialIndex.length&&i.addGroup(r,o.materialIndex.length-r,e)}0===i.groups.length&&i.addGroup(0,o.materialIndex.length,o.materialIndex[0])}return this.addMorphTargets(i,e,r,n),i}parseGeoNode(e,t){const r={};if(r.vertexPositions=void 0!==e.Vertices?e.Vertices.a:[],r.vertexIndices=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(r.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(r.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(r.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){r.uv=[];let t=0;for(;e.LayerElementUV[t];)e.LayerElementUV[t].UV&&r.uv.push(this.parseUVs(e.LayerElementUV[t])),t++}return r.weightTable={},null!==t&&(r.skeleton=t,t.rawBones.forEach((function(e,t){e.indices.forEach((function(n,i){void 0===r.weightTable[n]&&(r.weightTable[n]=[]),r.weightTable[n].push({id:t,weight:e.weights[i]})}))}))),r}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let r=0,n=0,i=!1,a=[],o=[],s=[],c=[],l=[],d=[];const u=this;return e.vertexIndices.forEach((function(h,f){let p,m=!1;h<0&&(h^=-1,m=!0);let v=[],$=[];if(a.push(3*h,3*h+1,3*h+2),e.color){const t=$04ef886a022e9ae8$var$getData(f,r,h,e.color);s.push(t[0],t[1],t[2])}if(e.skeleton){if(void 0!==e.weightTable[h]&&e.weightTable[h].forEach((function(e){$.push(e.weight),v.push(e.id)})),$.length>4){i||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),i=!0);const e=[0,0,0,0],t=[0,0,0,0];$.forEach((function(r,n){let i=r,a=v[n];t.forEach((function(t,r,n){if(i>t){n[r]=i,i=t;const o=e[r];e[r]=a,a=o}}))})),v=e,$=t}for(;$.length<4;)$.push(0),v.push(0);for(let e=0;e<4;++e)l.push($[e]),d.push(v[e])}if(e.normal){const t=$04ef886a022e9ae8$var$getData(f,r,h,e.normal);o.push(t[0],t[1],t[2])}e.material&&"AllSame"!==e.material.mappingType&&(p=$04ef886a022e9ae8$var$getData(f,r,h,e.material)[0]),e.uv&&e.uv.forEach((function(e,t){const n=$04ef886a022e9ae8$var$getData(f,r,h,e);void 0===c[t]&&(c[t]=[]),c[t].push(n[0]),c[t].push(n[1])})),n++,m&&(u.genFace(t,e,a,p,o,s,c,l,d,n),r++,n=0,a=[],o=[],s=[],c=[],l=[],d=[])})),t}genFace(e,t,r,n,i,a,o,s,c,l){for(let d=2;d<l;d++)e.vertex.push(t.vertexPositions[r[0]]),e.vertex.push(t.vertexPositions[r[1]]),e.vertex.push(t.vertexPositions[r[2]]),e.vertex.push(t.vertexPositions[r[3*(d-1)]]),e.vertex.push(t.vertexPositions[r[3*(d-1)+1]]),e.vertex.push(t.vertexPositions[r[3*(d-1)+2]]),e.vertex.push(t.vertexPositions[r[3*d]]),e.vertex.push(t.vertexPositions[r[3*d+1]]),e.vertex.push(t.vertexPositions[r[3*d+2]]),t.skeleton&&(e.vertexWeights.push(s[0]),e.vertexWeights.push(s[1]),e.vertexWeights.push(s[2]),e.vertexWeights.push(s[3]),e.vertexWeights.push(s[4*(d-1)]),e.vertexWeights.push(s[4*(d-1)+1]),e.vertexWeights.push(s[4*(d-1)+2]),e.vertexWeights.push(s[4*(d-1)+3]),e.vertexWeights.push(s[4*d]),e.vertexWeights.push(s[4*d+1]),e.vertexWeights.push(s[4*d+2]),e.vertexWeights.push(s[4*d+3]),e.weightsIndices.push(c[0]),e.weightsIndices.push(c[1]),e.weightsIndices.push(c[2]),e.weightsIndices.push(c[3]),e.weightsIndices.push(c[4*(d-1)]),e.weightsIndices.push(c[4*(d-1)+1]),e.weightsIndices.push(c[4*(d-1)+2]),e.weightsIndices.push(c[4*(d-1)+3]),e.weightsIndices.push(c[4*d]),e.weightsIndices.push(c[4*d+1]),e.weightsIndices.push(c[4*d+2]),e.weightsIndices.push(c[4*d+3])),t.color&&(e.colors.push(a[0]),e.colors.push(a[1]),e.colors.push(a[2]),e.colors.push(a[3*(d-1)]),e.colors.push(a[3*(d-1)+1]),e.colors.push(a[3*(d-1)+2]),e.colors.push(a[3*d]),e.colors.push(a[3*d+1]),e.colors.push(a[3*d+2])),t.material&&"AllSame"!==t.material.mappingType&&(e.materialIndex.push(n),e.materialIndex.push(n),e.materialIndex.push(n)),t.normal&&(e.normal.push(i[0]),e.normal.push(i[1]),e.normal.push(i[2]),e.normal.push(i[3*(d-1)]),e.normal.push(i[3*(d-1)+1]),e.normal.push(i[3*(d-1)+2]),e.normal.push(i[3*d]),e.normal.push(i[3*d+1]),e.normal.push(i[3*d+2])),t.uv&&t.uv.forEach((function(t,r){void 0===e.uvs[r]&&(e.uvs[r]=[]),e.uvs[r].push(o[r][0]),e.uvs[r].push(o[r][1]),e.uvs[r].push(o[r][2*(d-1)]),e.uvs[r].push(o[r][2*(d-1)+1]),e.uvs[r].push(o[r][2*d]),e.uvs[r].push(o[r][2*d+1])}))}addMorphTargets(e,t,r,n){if(0===r.length)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const i=this;r.forEach((function(r){r.rawTargets.forEach((function(r){const a=$04ef886a022e9ae8$var$fbxTree.Objects.Geometry[r.geoID];void 0!==a&&i.genMorphGeometry(e,t,a,n,r.name)}))}))}genMorphGeometry(e,t,r,n,i){const a=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[],o=void 0!==r.Vertices?r.Vertices.a:[],s=void 0!==r.Indexes?r.Indexes.a:[],c=3*e.attributes.position.count,l=new Float32Array(c);for(let e=0;e<s.length;e++){const t=3*s[e];l[t]=o[3*e],l[t+1]=o[3*e+1],l[t+2]=o[3*e+2]}const d={vertexIndices:a,vertexPositions:l},u=this.genBuffers(d),h=new(0,$ilwiq.Float32BufferAttribute)(u.vertex,3);h.name=i||r.attrName,h.applyMatrix4(n),e.morphAttributes.position.push(h)}parseNormals(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,n=e.Normals.a;let i=[];return"IndexToDirect"===r&&("NormalIndex"in e?i=e.NormalIndex.a:"NormalsIndex"in e&&(i=e.NormalsIndex.a)),{dataSize:3,buffer:n,indices:i,mappingType:t,referenceType:r}}parseUVs(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,n=e.UV.a;let i=[];return"IndexToDirect"===r&&(i=e.UVIndex.a),{dataSize:2,buffer:n,indices:i,mappingType:t,referenceType:r}}parseVertexColors(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,n=e.Colors.a;let i=[];return"IndexToDirect"===r&&(i=e.ColorIndex.a),{dataSize:4,buffer:n,indices:i,mappingType:t,referenceType:r}}parseMaterialIndices(e){const t=e.MappingInformationType,r=e.ReferenceInformationType;if("NoMappingInformation"===t)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:r};const n=e.Materials.a,i=[];for(let e=0;e<n.length;++e)i.push(e);return{dataSize:1,buffer:n,indices:i,mappingType:t,referenceType:r}}parseNurbsGeometry(e){if(void 0===$94b07e67f83726ad$export$12efb26d7429b049)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new(0,$ilwiq.BufferGeometry);const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new(0,$ilwiq.BufferGeometry);const r=t-1,n=e.KnotVector.a,i=[],a=e.Points.a;for(let e=0,t=a.length;e<t;e+=4)i.push((new(0,$ilwiq.Vector4)).fromArray(a,e));let o,s;if("Closed"===e.Form)i.push(i[0]);else if("Periodic"===e.Form){o=r,s=n.length-1-o;for(let e=0;e<r;++e)i.push(i[e])}const c=new $94b07e67f83726ad$export$12efb26d7429b049(r,n,i,o,s).getPoints(12*i.length);return(new(0,$ilwiq.BufferGeometry)).setFromPoints(c)}}class $04ef886a022e9ae8$var$AnimationParser{parse(){const e=[],t=this.parseClips();if(void 0!==t)for(const r in t){const n=t[r],i=this.addClip(n);e.push(i)}return e}parseClips(){if(void 0===$04ef886a022e9ae8$var$fbxTree.Objects.AnimationCurve)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=$04ef886a022e9ae8$var$fbxTree.Objects.AnimationCurveNode,t=new Map;for(const r in e){const n=e[r];if(null!==n.attrName.match(/S|R|T|DeformPercent/)){const e={id:n.id,attr:n.attrName,curves:{}};t.set(e.id,e)}}return t}parseAnimationCurves(e){const t=$04ef886a022e9ae8$var$fbxTree.Objects.AnimationCurve;for(const r in t){const n={id:t[r].id,times:t[r].KeyTime.a.map($04ef886a022e9ae8$var$convertFBXTimeToSeconds),values:t[r].KeyValueFloat.a},i=$04ef886a022e9ae8$var$connections.get(n.id);if(void 0!==i){const t=i.parents[0].ID,r=i.parents[0].relationship;r.match(/X/)?e.get(t).curves.x=n:r.match(/Y/)?e.get(t).curves.y=n:r.match(/Z/)?e.get(t).curves.z=n:r.match(/d|DeformPercent/)&&e.has(t)&&(e.get(t).curves.morph=n)}}}parseAnimationLayers(e){const t=$04ef886a022e9ae8$var$fbxTree.Objects.AnimationLayer,r=new Map;for(const n in t){const t=[],i=$04ef886a022e9ae8$var$connections.get(parseInt(n));if(void 0!==i){i.children.forEach((function(r,n){if(e.has(r.ID)){const i=e.get(r.ID);if(void 0!==i.curves.x||void 0!==i.curves.y||void 0!==i.curves.z){if(void 0===t[n]){const e=$04ef886a022e9ae8$var$connections.get(r.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID;if(void 0!==e){const i=$04ef886a022e9ae8$var$fbxTree.Objects.Model[e.toString()];if(void 0===i)return void console.warn("THREE.FBXLoader: Encountered a unused curve.",r);const a={modelName:i.attrName?$ilwiq.PropertyBinding.sanitizeNodeName(i.attrName):"",ID:i.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};$04ef886a022e9ae8$var$sceneGraph.traverse((function(e){e.ID===i.id&&(a.transform=e.matrix,e.userData.transformData&&(a.eulerOrder=e.userData.transformData.eulerOrder))})),a.transform||(a.transform=new(0,$ilwiq.Matrix4)),"PreRotation"in i&&(a.preRotation=i.PreRotation.value),"PostRotation"in i&&(a.postRotation=i.PostRotation.value),t[n]=a}}t[n]&&(t[n][i.attr]=i)}else if(void 0!==i.curves.morph){if(void 0===t[n]){const e=$04ef886a022e9ae8$var$connections.get(r.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID,i=$04ef886a022e9ae8$var$connections.get(e).parents[0].ID,a=$04ef886a022e9ae8$var$connections.get(i).parents[0].ID,o=$04ef886a022e9ae8$var$connections.get(a).parents[0].ID,s=$04ef886a022e9ae8$var$fbxTree.Objects.Model[o],c={modelName:s.attrName?$ilwiq.PropertyBinding.sanitizeNodeName(s.attrName):"",morphName:$04ef886a022e9ae8$var$fbxTree.Objects.Deformer[e].attrName};t[n]=c}t[n][i.attr]=i}}})),r.set(parseInt(n),t)}}return r}parseAnimStacks(e){const t=$04ef886a022e9ae8$var$fbxTree.Objects.AnimationStack,r={};for(const n in t){const i=$04ef886a022e9ae8$var$connections.get(parseInt(n)).children;i.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const a=e.get(i[0].ID);r[n]={name:t[n].attrName,layer:a}}return r}addClip(e){let t=[];const r=this;return e.layer.forEach((function(e){t=t.concat(r.generateTracks(e))})),new(0,$ilwiq.AnimationClip)(e.name,-1,t)}generateTracks(e){const t=[];let r=new(0,$ilwiq.Vector3),n=new(0,$ilwiq.Quaternion),i=new(0,$ilwiq.Vector3);if(e.transform&&e.transform.decompose(r,n,i),r=r.toArray(),n=(new(0,$ilwiq.Euler)).setFromQuaternion(n,e.eulerOrder).toArray(),i=i.toArray(),void 0!==e.T&&Object.keys(e.T.curves).length>0){const n=this.generateVectorTrack(e.modelName,e.T.curves,r,"position");void 0!==n&&t.push(n)}if(void 0!==e.R&&Object.keys(e.R.curves).length>0){const r=this.generateRotationTrack(e.modelName,e.R.curves,n,e.preRotation,e.postRotation,e.eulerOrder);void 0!==r&&t.push(r)}if(void 0!==e.S&&Object.keys(e.S.curves).length>0){const r=this.generateVectorTrack(e.modelName,e.S.curves,i,"scale");void 0!==r&&t.push(r)}if(void 0!==e.DeformPercent){const r=this.generateMorphTrack(e);void 0!==r&&t.push(r)}return t}generateVectorTrack(e,t,r,n){const i=this.getTimesForAllAxes(t),a=this.getKeyframeTrackValues(i,t,r);return new(0,$ilwiq.VectorKeyframeTrack)(e+"."+n,i,a)}generateRotationTrack(e,t,r,n,i,a){void 0!==t.x&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map($ilwiq.MathUtils.degToRad)),void 0!==t.y&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map($ilwiq.MathUtils.degToRad)),void 0!==t.z&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map($ilwiq.MathUtils.degToRad));const o=this.getTimesForAllAxes(t),s=this.getKeyframeTrackValues(o,t,r);void 0!==n&&((n=n.map($ilwiq.MathUtils.degToRad)).push(a),n=(new(0,$ilwiq.Euler)).fromArray(n),n=(new(0,$ilwiq.Quaternion)).setFromEuler(n)),void 0!==i&&((i=i.map($ilwiq.MathUtils.degToRad)).push(a),i=(new(0,$ilwiq.Euler)).fromArray(i),i=(new(0,$ilwiq.Quaternion)).setFromEuler(i).invert());const c=new(0,$ilwiq.Quaternion),l=new(0,$ilwiq.Euler),d=[];for(let e=0;e<s.length;e+=3)l.set(s[e],s[e+1],s[e+2],a),c.setFromEuler(l),void 0!==n&&c.premultiply(n),void 0!==i&&c.multiply(i),c.toArray(d,e/3*4);return new(0,$ilwiq.QuaternionKeyframeTrack)(e+".quaternion",o,d)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,r=t.values.map((function(e){return e/100})),n=$04ef886a022e9ae8$var$sceneGraph.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new(0,$ilwiq.NumberKeyframeTrack)(e.modelName+".morphTargetInfluences["+n+"]",t.times,r)}getTimesForAllAxes(e){let t=[];if(void 0!==e.x&&(t=t.concat(e.x.times)),void 0!==e.y&&(t=t.concat(e.y.times)),void 0!==e.z&&(t=t.concat(e.z.times)),t=t.sort((function(e,t){return e-t})),t.length>1){let e=1,r=t[0];for(let n=1;n<t.length;n++){const i=t[n];i!==r&&(t[e]=i,r=i,e++)}t=t.slice(0,e)}return t}getKeyframeTrackValues(e,t,r){const n=r,i=[];let a=-1,o=-1,s=-1;return e.forEach((function(e){if(t.x&&(a=t.x.times.indexOf(e)),t.y&&(o=t.y.times.indexOf(e)),t.z&&(s=t.z.times.indexOf(e)),-1!==a){const e=t.x.values[a];i.push(e),n[0]=e}else i.push(n[0]);if(-1!==o){const e=t.y.values[o];i.push(e),n[1]=e}else i.push(n[1]);if(-1!==s){const e=t.z.values[s];i.push(e),n[2]=e}else i.push(n[2])})),i}interpolateRotations(e){for(let t=1;t<e.values.length;t++){const r=e.values[t-1],n=e.values[t]-r,i=Math.abs(n);if(i>=180){const a=i/180,o=n/a;let s=r+o;const c=e.times[t-1],l=(e.times[t]-c)/a;let d=c+l;const u=[],h=[];for(;d<e.times[t];)u.push(d),d+=l,h.push(s),s+=o;e.times=$04ef886a022e9ae8$var$inject(e.times,t,u),e.values=$04ef886a022e9ae8$var$inject(e.values,t,h)}}}}class $04ef886a022e9ae8$var$TextParser{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new $04ef886a022e9ae8$var$FBXTree,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,r=e.split(/[\r\n]+/);return r.forEach((function(e,n){const i=e.match(/^[\s\t]*;/),a=e.match(/^[\s\t]*$/);if(i||a)return;const o=e.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),s=e.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),c=e.match("^\\t{"+(t.currentIndent-1)+"}}");o?t.parseNodeBegin(e,o):s?t.parseNodeProperty(e,s,r[++n]):c?t.popStack():e.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(e)})),this.allNodes}parseNodeBegin(e,t){const r=t[1].trim().replace(/^"/,"").replace(/"$/,""),n=t[2].split(",").map((function(e){return e.trim().replace(/^"/,"").replace(/"$/,"")})),i={name:r},a=this.parseNodeAttr(n),o=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(r,i):r in o?("PoseNode"===r?o.PoseNode.push(i):void 0!==o[r].id&&(o[r]={},o[r][o[r].id]=o[r]),""!==a.id&&(o[r][a.id]=i)):"number"==typeof a.id?(o[r]={},o[r][a.id]=i):"Properties70"!==r&&(o[r]="PoseNode"===r?[i]:i),"number"==typeof a.id&&(i.id=a.id),""!==a.name&&(i.attrName=a.name),""!==a.type&&(i.attrType=a.type),this.pushStack(i)}parseNodeAttr(e){let t=e[0];""!==e[0]&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let r="",n="";return e.length>1&&(r=e[1].replace(/^(\w+)::/,""),n=e[2]),{id:t,name:r,type:n}}parseNodeProperty(e,t,r){let n=t[1].replace(/^"/,"").replace(/"$/,"").trim(),i=t[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===n&&","===i&&(i=r.replace(/"/g,"").replace(/,$/,"").trim());const a=this.getCurrentNode();if("Properties70"!==a.name){if("C"===n){const e=i.split(",").slice(1),t=parseInt(e[0]),r=parseInt(e[1]);let o=i.split(",").slice(3);o=o.map((function(e){return e.trim().replace(/^"/,"")})),n="connections",i=[t,r],$04ef886a022e9ae8$var$append(i,o),void 0===a[n]&&(a[n]=[])}"Node"===n&&(a.id=i),n in a&&Array.isArray(a[n])?a[n].push(i):"a"!==n?a[n]=i:a.a=i,this.setCurrentProp(a,n),"a"===n&&","!==i.slice(-1)&&(a.a=$04ef886a022e9ae8$var$parseNumberArray(i))}else this.parseNodeSpecialProperty(e,n,i)}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,","!==e.slice(-1)&&(t.a=$04ef886a022e9ae8$var$parseNumberArray(t.a))}parseNodeSpecialProperty(e,t,r){const n=r.split('",').map((function(e){return e.trim().replace(/^\"/,"").replace(/\s/,"_")})),i=n[0],a=n[1],o=n[2],s=n[3];let c=n[4];switch(a){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=$04ef886a022e9ae8$var$parseNumberArray(c)}this.getPrevNode()[i]={type:a,type2:o,flag:s,value:c},this.setCurrentProp(this.getPrevNode(),i)}}class $04ef886a022e9ae8$var$BinaryParser{parse(e){const t=new $04ef886a022e9ae8$var$BinaryReader(e);t.skip(23);const r=t.getUint32();if(r<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+r);const n=new $04ef886a022e9ae8$var$FBXTree;for(;!this.endOfContent(t);){const e=this.parseNode(t,r);null!==e&&n.add(e.name,e)}return n}endOfContent(e){return e.size()%16==0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const r={},n=t>=7500?e.getUint64():e.getUint32(),i=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const a=e.getUint8(),o=e.getString(a);if(0===n)return null;const s=[];for(let t=0;t<i;t++)s.push(this.parseProperty(e));const c=s.length>0?s[0]:"",l=s.length>1?s[1]:"",d=s.length>2?s[2]:"";for(r.singleProperty=1===i&&e.getOffset()===n;n>e.getOffset();){const n=this.parseNode(e,t);null!==n&&this.parseSubNode(o,r,n)}return r.propertyList=s,"number"==typeof c&&(r.id=c),""!==l&&(r.attrName=l),""!==d&&(r.attrType=d),""!==o&&(r.name=o),r}parseSubNode(e,t,r){if(!0===r.singleProperty){const e=r.propertyList[0];Array.isArray(e)?(t[r.name]=r,r.a=e):t[r.name]=e}else if("Connections"===e&&"C"===r.name){const e=[];r.propertyList.forEach((function(t,r){0!==r&&e.push(t)})),void 0===t.connections&&(t.connections=[]),t.connections.push(e)}else if("Properties70"===r.name){Object.keys(r).forEach((function(e){t[e]=r[e]}))}else if("Properties70"===e&&"P"===r.name){let e=r.propertyList[0],n=r.propertyList[1];const i=r.propertyList[2],a=r.propertyList[3];let o;0===e.indexOf("Lcl ")&&(e=e.replace("Lcl ","Lcl_")),0===n.indexOf("Lcl ")&&(n=n.replace("Lcl ","Lcl_")),o="Color"===n||"ColorRGB"===n||"Vector"===n||"Vector3D"===n||0===n.indexOf("Lcl_")?[r.propertyList[4],r.propertyList[5],r.propertyList[6]]:r.propertyList[4],t[e]={type:n,type2:i,flag:a,value:o}}else void 0===t[r.name]?"number"==typeof r.id?(t[r.name]={},t[r.name][r.id]=r):t[r.name]=r:"PoseNode"===r.name?(Array.isArray(t[r.name])||(t[r.name]=[t[r.name]]),t[r.name].push(r)):void 0===t[r.name][r.id]&&(t[r.name][r.id]=r)}parseProperty(e){const t=e.getString(1);let r;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return r=e.getUint32(),e.getArrayBuffer(r);case"S":return r=e.getUint32(),e.getString(r);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const n=e.getUint32(),i=e.getUint32(),a=e.getUint32();if(0===i)switch(t){case"b":case"c":return e.getBooleanArray(n);case"d":return e.getFloat64Array(n);case"f":return e.getFloat32Array(n);case"i":return e.getInt32Array(n);case"l":return e.getInt64Array(n)}void 0===$53691bda533d12d0$exports&&console.error("THREE.FBXLoader: External library fflate.min.js required.");const o=$53691bda533d12d0$exports.unzlibSync(new Uint8Array(e.getArrayBuffer(a))),s=new $04ef886a022e9ae8$var$BinaryReader(o.buffer);switch(t){case"b":case"c":return s.getBooleanArray(n);case"d":return s.getFloat64Array(n);case"f":return s.getFloat32Array(n);case"i":return s.getInt32Array(n);case"l":return s.getInt64Array(n)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class $04ef886a022e9ae8$var$BinaryReader{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=void 0===t||t}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return 1==(1&this.getUint8())}getBooleanArray(e){const t=[];for(let r=0;r<e;r++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),2147483648&t?(t=4294967295&~t,e=4294967295&~e,4294967295===e&&(t=t+1&4294967295),e=e+1&4294967295,-(4294967296*t+e)):4294967296*t+e}getInt64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),4294967296*t+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){let t=[];for(let r=0;r<e;r++)t[r]=this.getUint8();const r=t.indexOf(0);return r>=0&&(t=t.slice(0,r)),$ilwiq.LoaderUtils.decodeText(new Uint8Array(t))}}class $04ef886a022e9ae8$var$FBXTree{add(e,t){this[e]=t}}function $04ef886a022e9ae8$var$isFbxFormatBinary(e){const t="Kaydara FBX Binary  \0";return e.byteLength>=t.length&&t===$04ef886a022e9ae8$var$convertArrayBufferToString(e,0,t.length)}function $04ef886a022e9ae8$var$isFbxFormatASCII(e){const t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let r=0;function n(t){const n=e[t-1];return e=e.slice(r+t),r++,n}for(let e=0;e<t.length;++e){if(n(1)===t[e])return!1}return!0}function $04ef886a022e9ae8$var$getFbxVersion(e){const t=e.match(/FBXVersion: (\d+)/);if(t){return parseInt(t[1])}throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function $04ef886a022e9ae8$var$convertFBXTimeToSeconds(e){return e/46186158e3}const $04ef886a022e9ae8$var$dataArray=[];function $04ef886a022e9ae8$var$getData(e,t,r,n){let i;switch(n.mappingType){case"ByPolygonVertex":i=e;break;case"ByPolygon":i=t;break;case"ByVertice":i=r;break;case"AllSame":i=n.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+n.mappingType)}"IndexToDirect"===n.referenceType&&(i=n.indices[i]);const a=i*n.dataSize,o=a+n.dataSize;return $04ef886a022e9ae8$var$slice($04ef886a022e9ae8$var$dataArray,n.buffer,a,o)}const $04ef886a022e9ae8$var$tempEuler=new(0,$ilwiq.Euler),$04ef886a022e9ae8$var$tempVec=new(0,$ilwiq.Vector3);function $04ef886a022e9ae8$var$generateTransform(e){const t=new(0,$ilwiq.Matrix4),r=new(0,$ilwiq.Matrix4),n=new(0,$ilwiq.Matrix4),i=new(0,$ilwiq.Matrix4),a=new(0,$ilwiq.Matrix4),o=new(0,$ilwiq.Matrix4),s=new(0,$ilwiq.Matrix4),c=new(0,$ilwiq.Matrix4),l=new(0,$ilwiq.Matrix4),d=new(0,$ilwiq.Matrix4),u=new(0,$ilwiq.Matrix4),h=new(0,$ilwiq.Matrix4),f=e.inheritType?e.inheritType:0;if(e.translation&&t.setPosition($04ef886a022e9ae8$var$tempVec.fromArray(e.translation)),e.preRotation){const t=e.preRotation.map($ilwiq.MathUtils.degToRad);t.push(e.eulerOrder),r.makeRotationFromEuler($04ef886a022e9ae8$var$tempEuler.fromArray(t))}if(e.rotation){const t=e.rotation.map($ilwiq.MathUtils.degToRad);t.push(e.eulerOrder),n.makeRotationFromEuler($04ef886a022e9ae8$var$tempEuler.fromArray(t))}if(e.postRotation){const t=e.postRotation.map($ilwiq.MathUtils.degToRad);t.push(e.eulerOrder),i.makeRotationFromEuler($04ef886a022e9ae8$var$tempEuler.fromArray(t)),i.invert()}e.scale&&a.scale($04ef886a022e9ae8$var$tempVec.fromArray(e.scale)),e.scalingOffset&&s.setPosition($04ef886a022e9ae8$var$tempVec.fromArray(e.scalingOffset)),e.scalingPivot&&o.setPosition($04ef886a022e9ae8$var$tempVec.fromArray(e.scalingPivot)),e.rotationOffset&&c.setPosition($04ef886a022e9ae8$var$tempVec.fromArray(e.rotationOffset)),e.rotationPivot&&l.setPosition($04ef886a022e9ae8$var$tempVec.fromArray(e.rotationPivot)),e.parentMatrixWorld&&(u.copy(e.parentMatrix),d.copy(e.parentMatrixWorld));const p=r.clone().multiply(n).multiply(i),m=new(0,$ilwiq.Matrix4);m.extractRotation(d);const v=new(0,$ilwiq.Matrix4);v.copyPosition(d);const $=v.clone().invert().multiply(d),g=m.clone().invert().multiply($),b=a,x=new(0,$ilwiq.Matrix4);if(0===f)x.copy(m).multiply(p).multiply(g).multiply(b);else if(1===f)x.copy(m).multiply(g).multiply(p).multiply(b);else{const e=(new(0,$ilwiq.Matrix4)).scale((new(0,$ilwiq.Vector3)).setFromMatrixScale(u)).clone().invert(),t=g.clone().multiply(e);x.copy(m).multiply(p).multiply(t).multiply(b)}const y=l.clone().invert(),w=o.clone().invert();let _=t.clone().multiply(c).multiply(l).multiply(r).multiply(n).multiply(i).multiply(y).multiply(s).multiply(o).multiply(a).multiply(w);const S=(new(0,$ilwiq.Matrix4)).copyPosition(_),T=d.clone().multiply(S);return h.copyPosition(T),_=h.clone().multiply(x),_.premultiply(d.invert()),_}function $04ef886a022e9ae8$var$getEulerOrder(e){const t=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return 6===(e=e||0)?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),t[0]):t[e]}function $04ef886a022e9ae8$var$parseNumberArray(e){return e.split(",").map((function(e){return parseFloat(e)}))}function $04ef886a022e9ae8$var$convertArrayBufferToString(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=e.byteLength),$ilwiq.LoaderUtils.decodeText(new Uint8Array(e,t,r))}function $04ef886a022e9ae8$var$append(e,t){for(let r=0,n=e.length,i=t.length;r<i;r++,n++)e[n]=t[r]}function $04ef886a022e9ae8$var$slice(e,t,r,n){for(let i=r,a=0;i<n;i++,a++)e[a]=t[i];return e}function $04ef886a022e9ae8$var$inject(e,t,r){return e.slice(0,t).concat(r).concat(e.slice(t))}var $ilwiq=parcelRequire("ilwiq");const $8e8b252f320f3b48$var$_taskCache=new WeakMap;class $8e8b252f320f3b48$export$45c25de53be259ac extends $ilwiq.Loader{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,n){const i=new(0,$ilwiq.FileLoader)(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(e=>{const r={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(e,r).then(t).catch(n)}),r,n)}decodeDracoFile(e,t,r,n){const i={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:n||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,i).then(t)}decodeGeometry(e,t){for(const e in t.attributeTypes){const r=t.attributeTypes[e];void 0!==r.BYTES_PER_ELEMENT&&(t.attributeTypes[e]=r.name)}const r=JSON.stringify(t);if($8e8b252f320f3b48$var$_taskCache.has(e)){const t=$8e8b252f320f3b48$var$_taskCache.get(e);if(t.key===r)return t.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let n;const i=this.workerNextTaskID++,a=e.byteLength,o=this._getWorker(i,a).then((r=>(n=r,new Promise(((r,a)=>{n._callbacks[i]={resolve:r,reject:a},n.postMessage({type:"decode",id:i,taskConfig:t,buffer:e},[e])}))))).then((e=>this._createGeometry(e.geometry)));return o.catch((()=>!0)).then((()=>{n&&i&&this._releaseTask(n,i)})),$8e8b252f320f3b48$var$_taskCache.set(e,{key:r,promise:o}),o}_createGeometry(e){const t=new(0,$ilwiq.BufferGeometry);e.index&&t.setIndex(new(0,$ilwiq.BufferAttribute)(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const n=e.attributes[r],i=n.name,a=n.array,o=n.itemSize;t.setAttribute(i,new(0,$ilwiq.BufferAttribute)(a,o))}return t}_loadLibrary(e,t){const r=new(0,$ilwiq.FileLoader)(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise(((t,n)=>{r.load(e,t,void 0,n)}))}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then((t=>{const r=t[0];e||(this.decoderConfig.wasmBinary=t[1]);const n=$8e8b252f320f3b48$var$DRACOWorker.toString(),i=["/* draco decoder */",r,"","/* worker */",n.substring(n.indexOf("{")+1,n.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([i]))})),this.decoderPending}_getWorker(e,t){return this._initDecoder().then((()=>{if(this.workerPool.length<this.workerLimit){const e=new Worker(this.workerSourceURL);e._callbacks={},e._taskCosts={},e._taskLoad=0,e.postMessage({type:"init",decoderConfig:this.decoderConfig}),e.onmessage=function(t){const r=t.data;switch(r.type){case"decode":e._callbacks[r.id].resolve(r);break;case"error":e._callbacks[r.id].reject(r);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+r.type+'"')}},this.workerPool.push(e)}else this.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r}))}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map((e=>e._taskLoad)))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function $8e8b252f320f3b48$var$DRACOWorker(){let e,t;function r(e,t,r,n,i,a){const o=a.num_components(),s=r.num_points()*o,c=s*i.BYTES_PER_ELEMENT,l=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,i),d=e._malloc(c);t.GetAttributeDataArrayForAllPoints(r,a,l,c,d);const u=new i(e.HEAPF32.buffer,d,s).slice();return e._free(d),{name:n,array:u,itemSize:o}}onmessage=function(n){const i=n.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":const n=i.buffer,a=i.taskConfig;t.then((e=>{const t=e.draco,o=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(n),n.byteLength);try{const e=function(e,t,n,i){const a=i.attributeIDs,o=i.attributeTypes;let s,c;const l=t.GetEncodedGeometryType(n);if(l===e.TRIANGULAR_MESH)s=new e.Mesh,c=t.DecodeBufferToMesh(n,s);else{if(l!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");s=new e.PointCloud,c=t.DecodeBufferToPointCloud(n,s)}if(!c.ok()||0===s.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+c.error_msg());const d={index:null,attributes:[]};for(const n in a){const c=self[o[n]];let l,u;if(i.useUniqueIDs)u=a[n],l=t.GetAttributeByUniqueId(s,u);else{if(u=t.GetAttributeId(s,e[a[n]]),-1===u)continue;l=t.GetAttribute(s,u)}d.attributes.push(r(e,t,s,n,c,l))}l===e.TRIANGULAR_MESH&&(d.index=function(e,t,r){const n=3*r.num_faces(),i=4*n,a=e._malloc(i);t.GetTrianglesUInt32Array(r,i,a);const o=new Uint32Array(e.HEAPF32.buffer,a,n).slice();return e._free(a),{array:o,itemSize:1}}(e,t,s));return e.destroy(s),d}(t,o,s,a),n=e.attributes.map((e=>e.array.buffer));e.index&&n.push(e.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:e},n)}catch(e){console.error(e),self.postMessage({type:"error",id:i.id,error:e.message})}finally{t.destroy(s),t.destroy(o)}}))}}}var $ilwiq=parcelRequire("ilwiq");class $cecdfc71d7a8184f$export$363d99ab40f454cb extends $ilwiq.Loader{constructor(e){super(e),this.propertyNameMapping={}}load(e,t,r,n){const i=this,a=new(0,$ilwiq.FileLoader)(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(r){try{t(i.parse(r))}catch(t){n?n(t):console.error(t),i.manager.itemError(e)}}),r,n)}setPropertyNameMapping(e){this.propertyNameMapping=e}parse(e){function t(e){let t="",r=0;const n=/^ply([\s\S]*)end_header\r?\n/.exec(e);null!==n&&(t=n[1],r=new Blob([n[0]]).size);const i={comments:[],elements:[],headerLength:r,objInfo:""},a=t.split("\n");let o;function s(e,t){const r={type:e[0]};return"list"===r.type?(r.name=e[3],r.countType=e[1],r.itemType=e[2]):r.name=e[1],r.name in t&&(r.name=t[r.name]),r}for(let e=0;e<a.length;e++){let t=a[e];if(t=t.trim(),""===t)continue;const r=t.split(/\s+/),n=r.shift();switch(t=r.join(" "),n){case"format":i.format=r[0],i.version=r[1];break;case"comment":i.comments.push(t);break;case"element":void 0!==o&&i.elements.push(o),o={},o.name=r[0],o.count=parseInt(r[1]),o.properties=[];break;case"property":o.properties.push(s(r,d.propertyNameMapping));break;case"obj_info":i.objInfo=t;break;default:console.log("unhandled",n,r)}}return void 0!==o&&i.elements.push(o),i}function r(e,t){switch(t){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(e);case"float":case"double":case"float32":case"float64":return parseFloat(e)}}function n(e,t){const n=t.split(/\s+/),i={};for(let t=0;t<e.length;t++)if("list"===e[t].type){const a=[],o=r(n.shift(),e[t].countType);for(let i=0;i<o;i++)a.push(r(n.shift(),e[t].itemType));i[e[t].name]=a}else i[e[t].name]=r(n.shift(),e[t].type);return i}function i(e,t){const r={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]};let i;let s="";null!==(i=/end_header\s([\s\S]*)$/.exec(e))&&(s=i[1]);const c=s.split("\n");let l=0,d=0;for(let e=0;e<c.length;e++){let i=c[e];if(i=i.trim(),""===i)continue;d>=t.elements[l].count&&(l++,d=0);const a=n(t.elements[l].properties,i);o(r,t.elements[l].name,a),d++}return a(r)}function a(e){let t=new(0,$ilwiq.BufferGeometry);return e.indices.length>0&&t.setIndex(e.indices),t.setAttribute("position",new(0,$ilwiq.Float32BufferAttribute)(e.vertices,3)),e.normals.length>0&&t.setAttribute("normal",new(0,$ilwiq.Float32BufferAttribute)(e.normals,3)),e.uvs.length>0&&t.setAttribute("uv",new(0,$ilwiq.Float32BufferAttribute)(e.uvs,2)),e.colors.length>0&&t.setAttribute("color",new(0,$ilwiq.Float32BufferAttribute)(e.colors,3)),e.faceVertexUvs.length>0&&(t=t.toNonIndexed(),t.setAttribute("uv",new(0,$ilwiq.Float32BufferAttribute)(e.faceVertexUvs,2))),t.computeBoundingSphere(),t}function o(e,t,r){function n(e){for(let t=0,n=e.length;t<n;t++){const n=e[t];if(n in r)return n}return null}const i=n(["x","px","posx"])||"x",a=n(["y","py","posy"])||"y",o=n(["z","pz","posz"])||"z",s=n(["nx","normalx"]),c=n(["ny","normaly"]),l=n(["nz","normalz"]),d=n(["s","u","texture_u","tx"]),u=n(["t","v","texture_v","ty"]),h=n(["red","diffuse_red","r","diffuse_r"]),f=n(["green","diffuse_green","g","diffuse_g"]),p=n(["blue","diffuse_blue","b","diffuse_b"]);if("vertex"===t)e.vertices.push(r[i],r[a],r[o]),null!==s&&null!==c&&null!==l&&e.normals.push(r[s],r[c],r[l]),null!==d&&null!==u&&e.uvs.push(r[d],r[u]),null!==h&&null!==f&&null!==p&&e.colors.push(r[h]/255,r[f]/255,r[p]/255);else if("face"===t){const t=r.vertex_indices||r.vertex_index,n=r.texcoord;3===t.length?(e.indices.push(t[0],t[1],t[2]),n&&6===n.length&&(e.faceVertexUvs.push(n[0],n[1]),e.faceVertexUvs.push(n[2],n[3]),e.faceVertexUvs.push(n[4],n[5]))):4===t.length&&(e.indices.push(t[0],t[1],t[3]),e.indices.push(t[1],t[2],t[3]))}}function s(e,t,r,n){switch(r){case"int8":case"char":return[e.getInt8(t),1];case"uint8":case"uchar":return[e.getUint8(t),1];case"int16":case"short":return[e.getInt16(t,n),2];case"uint16":case"ushort":return[e.getUint16(t,n),2];case"int32":case"int":return[e.getInt32(t,n),4];case"uint32":case"uint":return[e.getUint32(t,n),4];case"float32":case"float":return[e.getFloat32(t,n),4];case"float64":case"double":return[e.getFloat64(t,n),8]}}function c(e,t,r,n){const i={};let a,o=0;for(let c=0;c<r.length;c++)if("list"===r[c].type){const l=[];a=s(e,t+o,r[c].countType,n);const d=a[0];o+=a[1];for(let i=0;i<d;i++)a=s(e,t+o,r[c].itemType,n),l.push(a[0]),o+=a[1];i[r[c].name]=l}else a=s(e,t+o,r[c].type,n),i[r[c].name]=a[0],o+=a[1];return[i,o]}let l;const d=this;if(e instanceof ArrayBuffer){const r=$ilwiq.LoaderUtils.decodeText(new Uint8Array(e)),n=t(r);l="ascii"===n.format?i(r,n):function(e,t){const r={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},n="binary_little_endian"===t.format,i=new DataView(e,t.headerLength);let s,l=0;for(let e=0;e<t.elements.length;e++)for(let a=0;a<t.elements[e].count;a++){s=c(i,l,t.elements[e].properties,n),l+=s[1];const a=s[0];o(r,t.elements[e].name,a)}return a(r)}(e,n)}else l=i(e,t(e));return l}}class $403081446bcee71e$export$2e2bcd8739ae039 extends $17493c0898b58cb5$export$2e2bcd8739ae039{constructor(){super(),this.setLoaders(),this.toLoad=0,this.loaded=0,this.items={}}setLoaders(){this.loaders=[],this.loaders.push({extensions:["jpg","png"],action:e=>{const t=new Image;t.crossOrigin="Anonymous",t.addEventListener("load",(()=>{this.fileLoadEnd(e,t)})),t.addEventListener("error",(()=>{this.fileLoadEnd(e,t)})),t.src=e.source}});const e=new $8e8b252f320f3b48$export$45c25de53be259ac;e.setDecoderPath("draco/"),e.setDecoderConfig({type:"js"});const t=new $559434fcc6e6401d$export$aa93f11e7884f0f4;t.setDRACOLoader(e),this.loaders.push({extensions:["glb","gltf"],action:e=>{t.load(e.source,(t=>{this.fileLoadEnd(e,t)}))}});const r=new $cecdfc71d7a8184f$export$363d99ab40f454cb;this.loaders.push({extensions:["ply"],action:e=>{r.load(e.source,(t=>{this.fileLoadEnd(e,t)}))}});const n=new $04ef886a022e9ae8$export$60c52e42bb04b96;this.loaders.push({extensions:["fbx"],action:e=>{n.load(e.source,(t=>{this.fileLoadEnd(e,t)}))}})}load(e=[]){for(const t of e){this.toLoad++;const e=t.source.match(/\.([a-z]+)$/);if(void 0!==e[1]){const r=e[1],n=this.loaders.find((e=>e.extensions.find((e=>e===r))));n?n.action(t):console.warn(`Cannot found loader for ${t}`)}else console.warn(`Cannot found extension of ${t}`)}}fileLoadEnd(e,t){this.loaded++,this.items[e.name]=t,this.trigger("fileEnd",[e,t]),this.loaded===this.toLoad&&this.trigger("end")}}class $c2bea90aa2a2f8c7$export$e9a269813a6315a4 extends $17493c0898b58cb5$export$2e2bcd8739ae039{constructor(){super(),this.loader=new $403081446bcee71e$export$2e2bcd8739ae039,this.items={},this.loader.on("fileEnd",((e,t)=>{if(this.items[e.name]=t,"texture"===e.type){const r=new $ilwiq.Texture(t);r.needsUpdate=!0,this.items[`${e.name}Texture`]=r}this.trigger("progress",[this.loader.loaded/this.loader.toLoad])})),this.loader.on("end",(()=>{this.trigger("loadReady")}))}}var $ilwiq=parcelRequire("ilwiq");class $19dd8ab808926e6e$export$2e2bcd8739ae039 extends $17493c0898b58cb5$export$2e2bcd8739ae039{constructor(){super(),this.start=Date.now(),this.current=this.start,this.elapsed=0,this.delta=16,this.tick=this.tick.bind(this),this.tick()}tick(){this.ticker=window.requestAnimationFrame(this.tick);const e=Date.now();this.delta=e-this.current,this.elapsed=e-this.start,this.current=e,this.delta>60&&(this.delta=60),this.trigger("tick")}stop(){window.cancelAnimationFrame(this.ticker)}}var $ilwiq=parcelRequire("ilwiq");class $6a5e69733f237d8f$export$299284521f98aac5 extends $17493c0898b58cb5$export$2e2bcd8739ae039{constructor(){super(),this.perspective=new $ilwiq.PerspectiveCamera(50,1,.1,1e3),this.orthographic=new $ilwiq.OrthographicCamera(-1,1,1,-1,-5e3,5e3),this.perspective.lookAt(new $ilwiq.Vector3)}setInitPosition(e,t=new $ilwiq.Vector3(0,0,5)){e.position.copy(t)}}var $kQrTP=parcelRequire("kQrTP"),$ilwiq=parcelRequire("ilwiq");const $443c013b983d0324$var$_changeEvent={type:"change"},$443c013b983d0324$var$_startEvent={type:"start"},$443c013b983d0324$var$_endEvent={type:"end"};class $443c013b983d0324$export$8ff7788029dfdf52 extends $ilwiq.EventDispatcher{constructor(e,t){super(),void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new(0,$ilwiq.Vector3),this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:$ilwiq.MOUSE.ROTATE,MIDDLE:$ilwiq.MOUSE.DOLLY,RIGHT:$ilwiq.MOUSE.PAN},this.touches={ONE:$ilwiq.TOUCH.ROTATE,TWO:$ilwiq.TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(e){e.addEventListener("keydown",G),this._domElementKeyEvents=e},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent($443c013b983d0324$var$_changeEvent),r.update(),i=n.NONE},this.update=function(){const t=new(0,$ilwiq.Vector3),u=(new(0,$ilwiq.Quaternion)).setFromUnitVectors(e.up,new(0,$ilwiq.Vector3)(0,1,0)),h=u.clone().invert(),f=new(0,$ilwiq.Vector3),p=new(0,$ilwiq.Quaternion),m=2*Math.PI;return function(){const e=r.object.position;t.copy(e).sub(r.target),t.applyQuaternion(u),o.setFromVector3(t),r.autoRotate&&i===n.NONE&&_(2*Math.PI/60/60*r.autoRotateSpeed),r.enableDamping?(o.theta+=s.theta*r.dampingFactor,o.phi+=s.phi*r.dampingFactor):(o.theta+=s.theta,o.phi+=s.phi);let v=r.minAzimuthAngle,$=r.maxAzimuthAngle;return isFinite(v)&&isFinite($)&&(v<-Math.PI?v+=m:v>Math.PI&&(v-=m),$<-Math.PI?$+=m:$>Math.PI&&($-=m),o.theta=v<=$?Math.max(v,Math.min($,o.theta)):o.theta>(v+$)/2?Math.max(v,o.theta):Math.min($,o.theta)),o.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,o.phi)),o.makeSafe(),o.radius*=c,o.radius=Math.max(r.minDistance,Math.min(r.maxDistance,o.radius)),!0===r.enableDamping?r.target.addScaledVector(l,r.dampingFactor):r.target.add(l),t.setFromSpherical(o),t.applyQuaternion(h),e.copy(r.target).add(t),r.object.lookAt(r.target),!0===r.enableDamping?(s.theta*=1-r.dampingFactor,s.phi*=1-r.dampingFactor,l.multiplyScalar(1-r.dampingFactor)):(s.set(0,0,0),l.set(0,0,0)),c=1,!!(d||f.distanceToSquared(r.object.position)>a||8*(1-p.dot(r.object.quaternion))>a)&&(r.dispatchEvent($443c013b983d0324$var$_changeEvent),f.copy(r.object.position),p.copy(r.object.quaternion),d=!1,!0)}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",V),r.domElement.removeEventListener("pointerdown",z),r.domElement.removeEventListener("pointercancel",F),r.domElement.removeEventListener("wheel",q),r.domElement.removeEventListener("pointermove",U),r.domElement.removeEventListener("pointerup",k),null!==r._domElementKeyEvents&&r._domElementKeyEvents.removeEventListener("keydown",G)};const r=this,n={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let i=n.NONE;const a=1e-6,o=new(0,$ilwiq.Spherical),s=new(0,$ilwiq.Spherical);let c=1;const l=new(0,$ilwiq.Vector3);let d=!1;const u=new(0,$ilwiq.Vector2),h=new(0,$ilwiq.Vector2),f=new(0,$ilwiq.Vector2),p=new(0,$ilwiq.Vector2),m=new(0,$ilwiq.Vector2),v=new(0,$ilwiq.Vector2),$=new(0,$ilwiq.Vector2),g=new(0,$ilwiq.Vector2),b=new(0,$ilwiq.Vector2),x=[],y={};function w(){return Math.pow(.95,r.zoomSpeed)}function _(e){s.theta-=e}function S(e){s.phi-=e}const T=function(){const e=new(0,$ilwiq.Vector3);return function(t,r){e.setFromMatrixColumn(r,0),e.multiplyScalar(-t),l.add(e)}}(),M=function(){const e=new(0,$ilwiq.Vector3);return function(t,n){!0===r.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(r.object.up,e)),e.multiplyScalar(t),l.add(e)}}(),E=function(){const e=new(0,$ilwiq.Vector3);return function(t,n){const i=r.domElement;if(r.object.isPerspectiveCamera){const a=r.object.position;e.copy(a).sub(r.target);let o=e.length();o*=Math.tan(r.object.fov/2*Math.PI/180),T(2*t*o/i.clientHeight,r.object.matrix),M(2*n*o/i.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(T(t*(r.object.right-r.object.left)/r.object.zoom/i.clientWidth,r.object.matrix),M(n*(r.object.top-r.object.bottom)/r.object.zoom/i.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function A(e){r.object.isPerspectiveCamera?c/=e:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*e)),r.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function C(e){r.object.isPerspectiveCamera?c*=e:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/e)),r.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function L(e){u.set(e.clientX,e.clientY)}function R(e){p.set(e.clientX,e.clientY)}function P(){if(1===x.length)u.set(x[0].pageX,x[0].pageY);else{const e=.5*(x[0].pageX+x[1].pageX),t=.5*(x[0].pageY+x[1].pageY);u.set(e,t)}}function D(){if(1===x.length)p.set(x[0].pageX,x[0].pageY);else{const e=.5*(x[0].pageX+x[1].pageX),t=.5*(x[0].pageY+x[1].pageY);p.set(e,t)}}function O(){const e=x[0].pageX-x[1].pageX,t=x[0].pageY-x[1].pageY,r=Math.sqrt(e*e+t*t);$.set(0,r)}function I(e){if(1==x.length)h.set(e.pageX,e.pageY);else{const t=W(e),r=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);h.set(r,n)}f.subVectors(h,u).multiplyScalar(r.rotateSpeed);const t=r.domElement;_(2*Math.PI*f.x/t.clientHeight),S(2*Math.PI*f.y/t.clientHeight),u.copy(h)}function N(e){if(1===x.length)m.set(e.pageX,e.pageY);else{const t=W(e),r=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);m.set(r,n)}v.subVectors(m,p).multiplyScalar(r.panSpeed),E(v.x,v.y),p.copy(m)}function B(e){const t=W(e),n=e.pageX-t.x,i=e.pageY-t.y,a=Math.sqrt(n*n+i*i);g.set(0,a),b.set(0,Math.pow(g.y/$.y,r.zoomSpeed)),A(b.y),$.copy(g)}function z(e){!1!==r.enabled&&(0===x.length&&(r.domElement.setPointerCapture(e.pointerId),r.domElement.addEventListener("pointermove",U),r.domElement.addEventListener("pointerup",k)),function(e){x.push(e)}(e),"touch"===e.pointerType?function(e){switch(j(e),x.length){case 1:switch(r.touches.ONE){case $ilwiq.TOUCH.ROTATE:if(!1===r.enableRotate)return;P(),i=n.TOUCH_ROTATE;break;case $ilwiq.TOUCH.PAN:if(!1===r.enablePan)return;D(),i=n.TOUCH_PAN;break;default:i=n.NONE}break;case 2:switch(r.touches.TWO){case $ilwiq.TOUCH.DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;r.enableZoom&&O(),r.enablePan&&D(),i=n.TOUCH_DOLLY_PAN;break;case $ilwiq.TOUCH.DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;r.enableZoom&&O(),r.enableRotate&&P(),i=n.TOUCH_DOLLY_ROTATE;break;default:i=n.NONE}break;default:i=n.NONE}i!==n.NONE&&r.dispatchEvent($443c013b983d0324$var$_startEvent)}(e):function(e){let t;switch(e.button){case 0:t=r.mouseButtons.LEFT;break;case 1:t=r.mouseButtons.MIDDLE;break;case 2:t=r.mouseButtons.RIGHT;break;default:t=-1}switch(t){case $ilwiq.MOUSE.DOLLY:if(!1===r.enableZoom)return;!function(e){$.set(e.clientX,e.clientY)}(e),i=n.DOLLY;break;case $ilwiq.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===r.enablePan)return;R(e),i=n.PAN}else{if(!1===r.enableRotate)return;L(e),i=n.ROTATE}break;case $ilwiq.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===r.enableRotate)return;L(e),i=n.ROTATE}else{if(!1===r.enablePan)return;R(e),i=n.PAN}break;default:i=n.NONE}i!==n.NONE&&r.dispatchEvent($443c013b983d0324$var$_startEvent)}(e))}function U(e){!1!==r.enabled&&("touch"===e.pointerType?function(e){switch(j(e),i){case n.TOUCH_ROTATE:if(!1===r.enableRotate)return;I(e),r.update();break;case n.TOUCH_PAN:if(!1===r.enablePan)return;N(e),r.update();break;case n.TOUCH_DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;!function(e){r.enableZoom&&B(e),r.enablePan&&N(e)}(e),r.update();break;case n.TOUCH_DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;!function(e){r.enableZoom&&B(e),r.enableRotate&&I(e)}(e),r.update();break;default:i=n.NONE}}(e):function(e){if(!1===r.enabled)return;switch(i){case n.ROTATE:if(!1===r.enableRotate)return;!function(e){h.set(e.clientX,e.clientY),f.subVectors(h,u).multiplyScalar(r.rotateSpeed);const t=r.domElement;_(2*Math.PI*f.x/t.clientHeight),S(2*Math.PI*f.y/t.clientHeight),u.copy(h),r.update()}(e);break;case n.DOLLY:if(!1===r.enableZoom)return;!function(e){g.set(e.clientX,e.clientY),b.subVectors(g,$),b.y>0?A(w()):b.y<0&&C(w()),$.copy(g),r.update()}(e);break;case n.PAN:if(!1===r.enablePan)return;!function(e){m.set(e.clientX,e.clientY),v.subVectors(m,p).multiplyScalar(r.panSpeed),E(v.x,v.y),p.copy(m),r.update()}(e)}}(e))}function k(e){H(e),0===x.length&&(r.domElement.releasePointerCapture(e.pointerId),r.domElement.removeEventListener("pointermove",U),r.domElement.removeEventListener("pointerup",k)),r.dispatchEvent($443c013b983d0324$var$_endEvent),i=n.NONE}function F(e){H(e)}function q(e){!1!==r.enabled&&!1!==r.enableZoom&&i===n.NONE&&(e.preventDefault(),r.dispatchEvent($443c013b983d0324$var$_startEvent),function(e){e.deltaY<0?C(w()):e.deltaY>0&&A(w()),r.update()}(e),r.dispatchEvent($443c013b983d0324$var$_endEvent))}function G(e){!1!==r.enabled&&!1!==r.enablePan&&function(e){let t=!1;switch(e.code){case r.keys.UP:E(0,r.keyPanSpeed),t=!0;break;case r.keys.BOTTOM:E(0,-r.keyPanSpeed),t=!0;break;case r.keys.LEFT:E(r.keyPanSpeed,0),t=!0;break;case r.keys.RIGHT:E(-r.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),r.update())}(e)}function V(e){!1!==r.enabled&&e.preventDefault()}function H(e){delete y[e.pointerId];for(let t=0;t<x.length;t++)if(x[t].pointerId==e.pointerId)return void x.splice(t,1)}function j(e){let t=y[e.pointerId];void 0===t&&(t=new(0,$ilwiq.Vector2),y[e.pointerId]=t),t.set(e.pageX,e.pageY)}function W(e){const t=e.pointerId===x[0].pointerId?x[1]:x[0];return y[t.pointerId]}r.domElement.addEventListener("contextmenu",V),r.domElement.addEventListener("pointerdown",z),r.domElement.addEventListener("pointercancel",F),r.domElement.addEventListener("wheel",q,{passive:!1}),this.update()}}class $443c013b983d0324$export$7628ccdac312035f extends $443c013b983d0324$export$8ff7788029dfdf52{constructor(e,t){super(e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=$ilwiq.MOUSE.PAN,this.mouseButtons.RIGHT=$ilwiq.MOUSE.ROTATE,this.touches.ONE=$ilwiq.TOUCH.PAN,this.touches.TWO=$ilwiq.TOUCH.DOLLY_ROTATE}}var $ilwiq=parcelRequire("ilwiq");class $c413ee0b245ec835$export$2e2bcd8739ae039 extends $ilwiq.WebGLRenderTarget{constructor(e,t,r){super(e,t,r)}}var $ilwiq=parcelRequire("ilwiq"),$ilwiq=parcelRequire("ilwiq");class $879988fab1d83fef$export$2e2bcd8739ae039 extends $ilwiq.Color{constructor(e,t,r,n){super(e,t,r),this.a=n}setRGBA(e,t,r,n){super.setRGB(e,t,r),this.a=n}get x(){return this.r}get y(){return this.g}get z(){return this.b}get w(){return this.a}set x(e){this.r=e}set y(e){this.g=e}set z(e){this.b=e}set w(e){this.a=e}}let $cf00a5c94ce7c28c$export$3e154e318fdb9a71;var AxisEnum1;let $cf00a5c94ce7c28c$export$849cfb4829f6d74a;var TransitionEnum1;let $cf00a5c94ce7c28c$export$5b703917a10ea03a;var OpAEnum1;let $cf00a5c94ce7c28c$export$edbdbd6ec06dfd50;var OpBEnum1;let $cf00a5c94ce7c28c$export$f394be85d9c3f0a2;var OpCEnum1;let $cf00a5c94ce7c28c$export$7f81aa1ca6c4a976;var OpDEnum1;let $cf00a5c94ce7c28c$export$76bf88ec17fef043;var LayerTypeEnum1;let $cf00a5c94ce7c28c$export$10bfff72983f76a1;var LayerNodesEnum1;let $cf00a5c94ce7c28c$export$e5f0756bec07cc35;var NoiseFunctionEnum1;let $cf00a5c94ce7c28c$export$6935a6f1e1aeed09;var DisplacementTypeEnum1;let $cf00a5c94ce7c28c$export$e1f83bbdbccc149a;var AlignTypeEnum1;let $cf00a5c94ce7c28c$export$226380a31b848c4b;var VerticalAlignmentEnum1;let $cf00a5c94ce7c28c$export$99718561ff318ed4;var TextTransformEnum1;let $cf00a5c94ce7c28c$export$3a0476685a68e185;var LayerModeEnum1;let $cf00a5c94ce7c28c$export$7d415e453bd4c418;var GradientTypeEnum1;let $cf00a5c94ce7c28c$export$f9a44b087bf5d29c;var WindingRuleEnum1;let $cf00a5c94ce7c28c$export$97c2d5dba3c6ff41;var ElementTypeEnum1;let $cf00a5c94ce7c28c$export$2d343ad99964f7c;var EventTypeEnum1;let $cf00a5c94ce7c28c$export$1feba5eb57c23e48;var OperatorEnum1;let $cf00a5c94ce7c28c$export$ec09cbca3f283849;var MathEnum1;let $cf00a5c94ce7c28c$export$f2f48813c8ff1b8e;var SideEnum1;AxisEnum1=$cf00a5c94ce7c28c$export$3e154e318fdb9a71||($cf00a5c94ce7c28c$export$3e154e318fdb9a71={}),AxisEnum1.x="x",AxisEnum1.y="y",AxisEnum1.z="z",TransitionEnum1=$cf00a5c94ce7c28c$export$849cfb4829f6d74a||($cf00a5c94ce7c28c$export$849cfb4829f6d74a={}),TransitionEnum1[TransitionEnum1.LINEAR=0]="LINEAR",TransitionEnum1[TransitionEnum1.EASE=1]="EASE",TransitionEnum1[TransitionEnum1.EASE_IN=2]="EASE_IN",TransitionEnum1[TransitionEnum1.EASE_OUT=3]="EASE_OUT",TransitionEnum1[TransitionEnum1.EASE_IN_OUT=4]="EASE_IN_OUT",TransitionEnum1[TransitionEnum1.CUBIC=5]="CUBIC",TransitionEnum1[TransitionEnum1.SPRING=6]="SPRING",OpAEnum1=$cf00a5c94ce7c28c$export$5b703917a10ea03a||($cf00a5c94ce7c28c$export$5b703917a10ea03a={}),OpAEnum1[OpAEnum1.Update=0]="Update",OpBEnum1=$cf00a5c94ce7c28c$export$edbdbd6ec06dfd50||($cf00a5c94ce7c28c$export$edbdbd6ec06dfd50={}),OpBEnum1[OpBEnum1.Add=1]="Add",OpBEnum1[OpBEnum1.Delete=2]="Delete",OpBEnum1[OpBEnum1.Unlink=3]="Unlink",OpCEnum1=$cf00a5c94ce7c28c$export$f394be85d9c3f0a2||($cf00a5c94ce7c28c$export$f394be85d9c3f0a2={}),OpCEnum1[OpCEnum1.Add=4]="Add",OpCEnum1[OpCEnum1.Delete=5]="Delete",OpCEnum1[OpCEnum1.Move=6]="Move",OpDEnum1=$cf00a5c94ce7c28c$export$7f81aa1ca6c4a976||($cf00a5c94ce7c28c$export$7f81aa1ca6c4a976={}),OpDEnum1[OpDEnum1.Add=7]="Add",OpDEnum1[OpDEnum1.Delete=8]="Delete",OpDEnum1[OpDEnum1.Move=9]="Move",LayerTypeEnum1=$cf00a5c94ce7c28c$export$76bf88ec17fef043||($cf00a5c94ce7c28c$export$76bf88ec17fef043={}),LayerTypeEnum1.POSITION="position",LayerTypeEnum1.LIGHTING="light",LayerTypeEnum1.COLOR="color",LayerTypeEnum1.GRADIENT="gradient",LayerTypeEnum1.NORMAL="normal",LayerTypeEnum1.DEPTH="depth",LayerTypeEnum1.TEXTURE="texture",LayerTypeEnum1.NOISE="noise",LayerTypeEnum1.FRESNEL="fresnel",LayerTypeEnum1.RAINBOW="rainbow",LayerTypeEnum1.TRANSMISSION="transmission",LayerTypeEnum1.POINTS="points",LayerTypeEnum1.MATCAP="matcap",LayerTypeEnum1.LINES="lines",LayerTypeEnum1.DISPLACE="displace",LayerNodesEnum1=$cf00a5c94ce7c28c$export$10bfff72983f76a1||($cf00a5c94ce7c28c$export$10bfff72983f76a1={}),LayerNodesEnum1.POSITION="position",LayerNodesEnum1.LIGHTING="light",LayerNodesEnum1.COLOR="color",NoiseFunctionEnum1=$cf00a5c94ce7c28c$export$e5f0756bec07cc35||($cf00a5c94ce7c28c$export$e5f0756bec07cc35={}),NoiseFunctionEnum1.SIMPLEX="simplex3d",NoiseFunctionEnum1.SIMPLEX_FRACTAL="simplex3dFractal",NoiseFunctionEnum1.ASHIMA="simplexAshima",NoiseFunctionEnum1.FBM="fbm",NoiseFunctionEnum1.PERLIN="perlin",DisplacementTypeEnum1=$cf00a5c94ce7c28c$export$6935a6f1e1aeed09||($cf00a5c94ce7c28c$export$6935a6f1e1aeed09={}),DisplacementTypeEnum1.NOISE="noise",DisplacementTypeEnum1.MAP="map",AlignTypeEnum1=$cf00a5c94ce7c28c$export$e1f83bbdbccc149a||($cf00a5c94ce7c28c$export$e1f83bbdbccc149a={}),AlignTypeEnum1[AlignTypeEnum1.Right=2]="Right",AlignTypeEnum1[AlignTypeEnum1.Center=3]="Center",AlignTypeEnum1[AlignTypeEnum1.Justify=4]="Justify",VerticalAlignmentEnum1=$cf00a5c94ce7c28c$export$226380a31b848c4b||($cf00a5c94ce7c28c$export$226380a31b848c4b={}),VerticalAlignmentEnum1[VerticalAlignmentEnum1.Top=1]="Top",VerticalAlignmentEnum1[VerticalAlignmentEnum1.Center=2]="Center",VerticalAlignmentEnum1[VerticalAlignmentEnum1.Bottom=3]="Bottom",TextTransformEnum1=$cf00a5c94ce7c28c$export$99718561ff318ed4||($cf00a5c94ce7c28c$export$99718561ff318ed4={}),TextTransformEnum1[TextTransformEnum1.None=1]="None",TextTransformEnum1[TextTransformEnum1.Upper=2]="Upper",TextTransformEnum1[TextTransformEnum1.Lower=3]="Lower",LayerModeEnum1=$cf00a5c94ce7c28c$export$3a0476685a68e185||($cf00a5c94ce7c28c$export$3a0476685a68e185={}),LayerModeEnum1[LayerModeEnum1.Normal=0]="Normal",LayerModeEnum1[LayerModeEnum1.Multiply=1]="Multiply",LayerModeEnum1[LayerModeEnum1.Screen=2]="Screen",LayerModeEnum1[LayerModeEnum1.Overlay=3]="Overlay",GradientTypeEnum1=$cf00a5c94ce7c28c$export$7d415e453bd4c418||($cf00a5c94ce7c28c$export$7d415e453bd4c418={}),GradientTypeEnum1[GradientTypeEnum1.Linear=0]="Linear",GradientTypeEnum1[GradientTypeEnum1.Radial=1]="Radial",GradientTypeEnum1[GradientTypeEnum1.Polar=2]="Polar",WindingRuleEnum1=$cf00a5c94ce7c28c$export$f9a44b087bf5d29c||($cf00a5c94ce7c28c$export$f9a44b087bf5d29c={}),WindingRuleEnum1[WindingRuleEnum1.ODD=0]="ODD",WindingRuleEnum1[WindingRuleEnum1.NONZERO=1]="NONZERO",WindingRuleEnum1[WindingRuleEnum1.POSITIVE=2]="POSITIVE",WindingRuleEnum1[WindingRuleEnum1.NEGATIVE=3]="NEGATIVE",WindingRuleEnum1[WindingRuleEnum1.ABS_GEQ_TWO=4]="ABS_GEQ_TWO",ElementTypeEnum1=$cf00a5c94ce7c28c$export$97c2d5dba3c6ff41||($cf00a5c94ce7c28c$export$97c2d5dba3c6ff41={}),ElementTypeEnum1[ElementTypeEnum1.POLYGONS=0]="POLYGONS",ElementTypeEnum1[ElementTypeEnum1.CONNECTED_POLYGONS=1]="CONNECTED_POLYGONS",ElementTypeEnum1[ElementTypeEnum1.BOUNDARY_CONTOURS=2]="BOUNDARY_CONTOURS",EventTypeEnum1=$cf00a5c94ce7c28c$export$2d343ad99964f7c||($cf00a5c94ce7c28c$export$2d343ad99964f7c={}),EventTypeEnum1[EventTypeEnum1.MOUSE_DOWN=0]="MOUSE_DOWN",EventTypeEnum1[EventTypeEnum1.MOUSE_UP=1]="MOUSE_UP",EventTypeEnum1[EventTypeEnum1.MOUSE_HOVER=2]="MOUSE_HOVER",EventTypeEnum1[EventTypeEnum1.KEY_DOWN=5]="KEY_DOWN",EventTypeEnum1[EventTypeEnum1.KEY_UP=6]="KEY_UP",EventTypeEnum1[EventTypeEnum1.START=7]="START",EventTypeEnum1[EventTypeEnum1.LOOK_AT=9]="LOOK_AT",EventTypeEnum1[EventTypeEnum1.FOLLOW=10]="FOLLOW",EventTypeEnum1[EventTypeEnum1.SCROLL=11]="SCROLL",OperatorEnum1=$cf00a5c94ce7c28c$export$1feba5eb57c23e48||($cf00a5c94ce7c28c$export$1feba5eb57c23e48={}),OperatorEnum1.ADD="+",OperatorEnum1.SUB="-",OperatorEnum1.MUL="*",OperatorEnum1.DIV="/",MathEnum1=$cf00a5c94ce7c28c$export$ec09cbca3f283849||($cf00a5c94ce7c28c$export$ec09cbca3f283849={}),MathEnum1.RAD="radians",MathEnum1.DEG="degrees",MathEnum1.EXP="exp",MathEnum1.EXP2="exp2",MathEnum1.LOG="log",MathEnum1.LOG2="log2",MathEnum1.SQRT="sqrt",MathEnum1.INV_SQRT="inversesqrt",MathEnum1.FLOOR="floor",MathEnum1.CEIL="ceil",MathEnum1.NORMALIZE="normalize",MathEnum1.FRACT="fract",MathEnum1.SATURATE="saturate",MathEnum1.SIN="sin",MathEnum1.COS="cos",MathEnum1.TAN="tan",MathEnum1.ASIN="asin",MathEnum1.ACOS="acos",MathEnum1.ARCTAN="atan",MathEnum1.ABS="abs",MathEnum1.SIGN="sign",MathEnum1.LENGTH="length",MathEnum1.NEGATE="negate",MathEnum1.INVERT="invert",MathEnum1.MIN="min",MathEnum1.MAX="max",MathEnum1.MOD="mod",MathEnum1.STEP="step",MathEnum1.REFLECT="reflect",MathEnum1.DISTANCE="distance",MathEnum1.DOT="dot",MathEnum1.CROSS="cross",MathEnum1.POW="pow",MathEnum1.MIX="mix",MathEnum1.CLAMP="clamp",MathEnum1.REFRACT="refract",MathEnum1.SMOOTHSTEP="smoothstep",MathEnum1.FACEFORWARD="faceforward",SideEnum1=$cf00a5c94ce7c28c$export$f2f48813c8ff1b8e||($cf00a5c94ce7c28c$export$f2f48813c8ff1b8e={}),SideEnum1[SideEnum1.Front=0]="Front",SideEnum1[SideEnum1.Back=1]="Back",SideEnum1[SideEnum1.Double=2]="Double";var $ilwiq=parcelRequire("ilwiq"),$ilwiq=parcelRequire("ilwiq");class $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039{constructor(e){this.hashProperties=void 0,this.isNode=!0,this.shortcuts={},this.uuid=$ilwiq.MathUtils.generateUUID(),this.type=e,this.name="",this.userData={}}analyze(e,t){t=null!=t?t:{},e.analyzing=!0,this.build(e.addFlow(t.slot,t.cache,t.context),"v4"),e.clearVertexNodeCode(),e.clearFragmentNodeCode(),e.removeFlow(),e.analyzing=!1}analyzeAndFlow(e,t,r){return r=null!=r?r:{},this.analyze(e,r),this.flow(e,t,r)}flow(e,t,r){r=null!=r?r:{},e.addFlow(r.slot,r.cache,r.context);let n={result:this.build(e,t),code:e.clearNodeCode(),extra:e.context.extra};return e.removeFlow(),n}build(e,t,r){t=null!=t?t:this.getType(e,t);let n=e.getNodeData(null!=r?r:this);return e.analyzing&&this.appendDepsNode(e,n,t),-1===e.nodes.indexOf(this)&&e.nodes.push(this),void 0!==this.updateFrame&&-1===e.updaters.indexOf(this)&&e.updaters.push(this),this.generate(e,t,r)}updateFrame(e){}generateReadonly(e,t,r,n,i,a){return""}generate(e,t,r,n,i){return""}parse(e,t,r,n){}appendDepsNode(e,t,r){t.deps=(t.deps||0)+1;let n=e.getTypeLength(r);(n>(t.outputMax||0)||this.getType(e,r))&&(t.outputMax=n,t.output=r)}setName(e){this.name=e}getName(){return this.name}getType(e,t){return"sampler2D"===t||"samplerCube"===t?t:this.type}getJSONNode(e){if((null==e?void 0:e.materials)&&void 0!==(null==e?void 0:e.materials[this.uuid]))return e.materials[this.uuid]}getHash(){let e,t,r="{";for(e in this)t=this[e],t instanceof $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039&&(r+='"'+e+'":'+t.getHash()+",");if(this.hashProperties)for(let n=0;n<this.hashProperties.length;n++)e=this.hashProperties[n],t=this[e],r+='"'+e+'":"'+String(t)+'",';return r+='"id":"'+this.uuid+'"}',r}copy(e){return this.name=e.name,e.type&&(this.type=e.type),e.frameId&&(this.frameId=e.frameId),e.hashProperties&&(this.hashProperties=e.hashProperties.map((e=>e))),this.userData=JSON.parse(JSON.stringify(e.userData)),this.shortcuts=JSON.parse(JSON.stringify(e.shortcuts)),this}clone(){return(new this.constructor).copy(this)}createJSONNode(e){let t=void 0===e||"string"==typeof e;if("string"!=typeof this.type)throw new Error("Node does not allow serialization.");let r={};return r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),!t&&e&&(e.nodes[this.uuid]=r),r}toJSON(e){var t;return null!=(t=this.getJSONNode(e))?t:this.createJSONNode(e)}fromJSON(e,t){return this.uuid=e.uuid,this.type=e.type,e.name&&(this.name=e.name),e.userData&&(this.userData=e.userData),this}}var $ilwiq=parcelRequire("ilwiq");class $ec6150e4a03e3752$export$2e2bcd8739ae039 extends $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039{constructor(e,t){super(e),this.scope="",t=null!=t?t:{},this.shared=void 0===t.shared||t.shared,this.unique=void 0!==t.unique&&t.unique}build(e,t,r,n){if(t=null!=t?t:this.getType(e),this.getShared(e,t)){let i=this.getUnique(e,t);i&&void 0===this.uuid&&(this.uuid=$ilwiq.MathUtils.generateUUID()),r=e.getUUID(null!=r?r:this.getUUID(),!i);let a=e.getNodeData(r),o=a.output||this.getType(e);if(e.analyzing)return(a.deps||0)>0||this.getLabel()?(this.appendDepsNode(e,a,t),this.generate(e,t,r)):super.build(e,t,r);if(i)return a.name=a.name||super.build(e,t,r),a.name;if(!this.getLabel()&&(!this.getShared(e,o)||e.context.ignoreCache||1===a.deps))return super.build(e,t,r);r=this.getUUID(!1);let s=this.getTemp(e,r);if(s)return e.format(s,o,t);{s=super.generate(e,t,r,a.output,n);let i=this.generate(e,o,r);return e.addNodeCode(s+" = "+i+";"),e.format(s,o,t)}}return super.build(e,t,r)}getShared(e,t){return"sampler2D"!==t&&"samplerCube"!==t&&this.shared}getUnique(e,t){return this.unique}setLabel(e){return this.label=e,this}getLabel(){return this.label}getUUID(e){let t=this.uuid;return"string"==typeof this.scope&&(t=this.scope+"-"+t),t}getTemp(e,t){t=t||this.uuid;let r=e.getVars()[t];return r?r.name:void 0}generate(e,t,r,n,i){return this.getShared(e,t)||console.error("TempNode is not shared"),r=null!=r?r:this.uuid,e.getTempVar(r,null!=n?n:this.getType(e),i,this.getLabel()).name}}class $21de892bee6a33ab$export$b5ae400d0e125404 extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,t=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,r=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,n=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039){super("v3"),this.nodeType="Blend",this.a=e,this.b=t,this.alpha=r,this.mode=n}generate(e,t){if(e.isShader("fragment")){let r=[];return r.push(this.a.build(e,"c")),r.push(this.b.build(e,"c")),r.push(this.alpha.build(e,"f")),r.push(this.mode.build(e,"i")),e.format("spe_blend("+r.join(",")+")",this.getType(e),t)}return console.warn("BlendNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}copy(e){return super.copy(e),this.a.copy(e.a),this.b.copy(e.b),this.alpha.copy(e.alpha),this.mode.copy(e.mode),this}}var $ilwiq=parcelRequire("ilwiq");class $136b14cd57cd63a1$export$93ad50ccfacdd77{constructor(){this.nodes={},this.keywords={}}add(e){this.nodes[e.name]=e}addKeyword(e,t,r){r=void 0===r||r,this.keywords[e]={callback:t,cache:r}}remove(e){delete this.nodes[e.name]}removeKeyword(e){delete this.keywords[e]}get(e){return this.nodes[e]}getKeyword(e,t){return this.keywords[e].callback(t)}getKeywordData(e){return this.keywords[e]}contains(e){return void 0!==this.nodes[e]}containsKeyword(e){return void 0!==this.keywords[e]}}const $136b14cd57cd63a1$var$kw=new $136b14cd57cd63a1$export$93ad50ccfacdd77;var $136b14cd57cd63a1$export$2e2bcd8739ae039=$136b14cd57cd63a1$var$kw;$136b14cd57cd63a1$var$kw.addKeyword("uv",(function(){return new $9d94a445cf80c34b$export$99261a5e00029637})),$136b14cd57cd63a1$var$kw.addKeyword("uv2",(function(){return new $9d94a445cf80c34b$export$99261a5e00029637(1)})),$136b14cd57cd63a1$var$kw.addKeyword("viewNormal",(function(){return new $acd9f4f16f75e504$export$90749bc64b569dd0($acd9f4f16f75e504$export$90749bc64b569dd0.VIEW)})),$136b14cd57cd63a1$var$kw.addKeyword("localNormal",(function(){return new $acd9f4f16f75e504$export$90749bc64b569dd0($acd9f4f16f75e504$export$90749bc64b569dd0.NORMAL)})),$136b14cd57cd63a1$var$kw.addKeyword("worldNormal",(function(){return new $acd9f4f16f75e504$export$90749bc64b569dd0($acd9f4f16f75e504$export$90749bc64b569dd0.WORLD)})),$136b14cd57cd63a1$var$kw.addKeyword("position",(function(){return new $c513c62b80bdc99f$export$13807d9ee5a34a42})),$136b14cd57cd63a1$var$kw.addKeyword("worldPosition",(function(){return new $c513c62b80bdc99f$export$13807d9ee5a34a42($c513c62b80bdc99f$export$13807d9ee5a34a42.WORLD)})),$136b14cd57cd63a1$var$kw.addKeyword("viewPosition",(function(){return new $c513c62b80bdc99f$export$13807d9ee5a34a42($c513c62b80bdc99f$export$13807d9ee5a34a42.VIEW)}));let $0fa5f465218bcb0f$var$gF=/^\s*([a-z_0-9]+)\s([a-z_0-9]+)\s*\((.*?)\)/i,$0fa5f465218bcb0f$var$X1=/[a-z_0-9]+/gi;class $0fa5f465218bcb0f$export$f3890eeaf6851387 extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e,t,r,n,i){super(i),this.src="",this.nodeType="Function",this.useKeywords=!0,this.includes=[],this.extensions={},this.keywords={},this.isMethod=void 0===i,this.isInterface=!1,this.parse(e,t,r,n)}getShared(e,t){return!this.isMethod}getType(e){return e.getTypeByFormat(this.type)}getInputByName(e){if(this.inputs){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}}getIncludeByName(e){if(this.includes){let t=this.includes.length;for(;t--;)if(this.includes[t].name===e)return this.includes[t]}}generate(e,t,r,n,i){let a,o=0,s=this.src;if(this.includes)for(let t=0;t<this.includes.length;t++)e.include(this.includes[t],this);for(let t in this.extensions)e.extensions[t]=!0;let c=[];for(;a=$0fa5f465218bcb0f$var$X1.exec(this.src);)c.push(a);for(let t=0;t<c.length;t++){let r=c[t],n=r[0],i=!this.isMethod||!this.getInputByName(n),a=n;if(this.keywords[n]||this.useKeywords&&i&&$136b14cd57cd63a1$export$2e2bcd8739ae039.containsKeyword(n)){let t=this.keywords[n];if(!t){let r=$136b14cd57cd63a1$export$2e2bcd8739ae039.getKeywordData(n);r.cache&&(t=e.keywords[n]),t=t||$136b14cd57cd63a1$export$2e2bcd8739ae039.getKeyword(n,e),r.cache&&(e.keywords[n]=t)}a=t.build(e)}n!==a&&(s=s.substring(0,r.index+o)+a+s.substring(r.index+n.length+o),o+=a.length-n.length),void 0===this.getIncludeByName(a)&&$136b14cd57cd63a1$export$2e2bcd8739ae039.contains(a)&&e.include($136b14cd57cd63a1$export$2e2bcd8739ae039.get(a))}return"source"===t?s:this.isMethod?(this.isInterface||e.include(this,void 0,s),this.name):e.format("( "+s+" )",this.getType(e),t)}parse(e,t,r,n){if(this.src=e||"",this.includes=null!=t?t:[],this.extensions=null!=r?r:{},this.keywords=null!=n?n:{},this.isMethod){let e=$0fa5f465218bcb0f$var$gF.exec(this.src);if(this.inputs=[],e&&4==e.length){this.type=e[1],this.name=e[2];let t=e[3].match($0fa5f465218bcb0f$var$X1);if(t){let e=0;for(;e<t.length;){let r,n=t[e++];"in"===n||"out"===n||"inout"===n?r=t[e++]:(r=n,n="");let i=t[e++];this.inputs.push({name:i,type:r,qualifier:n})}}this.isInterface=-1===this.src.indexOf("{")}else this.type="",this.name=""}}copy(e){return super.copy(e),this.isMethod=e.isMethod,this.useKeywords=e.useKeywords,void 0!==e.type&&(this.type=e.type),this.parse(e.src,e.includes,e.extensions,e.keywords),this}toJSON(e){var t;let r=this.getJSONNode(e);if(!r){r=this.createJSONNode(e),r.src=this.src,r.isMethod=this.isMethod,r.useKeywords=this.useKeywords,this.isMethod||(r.type=this.type),r.extensions=JSON.parse(JSON.stringify(this.extensions));let n={};for(let t in this.keywords)n[t]=this.keywords[t].toJSON(e).uuid;if(r.keywords=n,null==(t=this.includes)?void 0:t.length){let t=[];for(let r=0;r<this.includes.length;r++)t.push(this.includes[r].toJSON(e).uuid);r.includes=t}r.isMethod=this.isMethod,r.inputs=this.inputs}return r.nodeType=this.nodeType,r}fromJSON(e,t){if(super.fromJSON(e,t),void 0!==e.inputs&&(this.inputs=e.inputs),void 0!==e.isMethod&&(this.isMethod=e.isMethod),e.src&&(this.src=e.src),e.isMethod&&(this.isMethod=e.isMethod),e.useKeywords&&(this.useKeywords=e.useKeywords),e.type&&(this.type=e.type),e.extensions&&(this.extensions=e.extensions),e.keywords&&t){this.keywords={};for(let r in e.keywords)this.keywords[r]=t.getNode(e.keywords[r])}return e.includes&&t&&(this.includes=e.includes.map((e=>t.getNode(e)))),this}}class $8503a0a0fcc89892$export$e738dfb0a9c1234a extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,t){super("v4"),this.nodeType="ColorSpace",this.factor=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,this.input=e,this.method=null!=t?t:$8503a0a0fcc89892$export$e738dfb0a9c1234a.LINEAR_TO_LINEAR,this.hashProperties=["method"]}static getEncodingComponents(e){switch(e){case $ilwiq.LinearEncoding:return["Linear"];case $ilwiq.sRGBEncoding:return["sRGB"];default:return[]}}generate(e,t){var r;let n=this.input.build(e,"v4"),i=this.getType(e),a=$8503a0a0fcc89892$export$e738dfb0a9c1234a.Nodes[this.method],o=e.include(a);if(o===$8503a0a0fcc89892$export$e738dfb0a9c1234a.LINEAR_TO_LINEAR)return e.format(n,i,t);if(2===(null==(r=a.inputs)?void 0:r.length)){let r=this.factor.build(e,"f");return e.format(o+"( "+n+", "+r+" )",i,t)}return e.format(o+"( "+n+" )",i,t)}fromEncoding(e){let t=$8503a0a0fcc89892$export$e738dfb0a9c1234a.getEncodingComponents(e);this.method="LinearTo"+t[0],this.factor=t[1]}fromDecoding(e){let t=$8503a0a0fcc89892$export$e738dfb0a9c1234a.getEncodingComponents(e);this.method=t[0]+"ToLinear",this.factor=t[1]}copy(e){return super.copy(e),this.input.copy(e.input),this.method=e.method,this.factor.copy(e.factor),this}}$8503a0a0fcc89892$export$e738dfb0a9c1234a.Nodes={LinearToLinear:new $0fa5f465218bcb0f$export$f3890eeaf6851387(["vec4 LinearToLinear( in vec4 value ) {","\treturn value;","}"].join("\n")),sRGBToLinear:new $0fa5f465218bcb0f$export$f3890eeaf6851387(["vec4 sRGBToLinear( in vec4 value ) {","\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );","}"].join("\n")),LinearTosRGB:new $0fa5f465218bcb0f$export$f3890eeaf6851387(["vec4 LinearTosRGB( in vec4 value ) {","\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );","}"].join("\n"))},$8503a0a0fcc89892$export$e738dfb0a9c1234a.LINEAR_TO_LINEAR="LinearToLinear",$8503a0a0fcc89892$export$e738dfb0a9c1234a.SRGB_TO_LINEAR="sRGBToLinear",$8503a0a0fcc89892$export$e738dfb0a9c1234a.LINEAR_TO_SRGB="LinearTosRGB";let $6d96ac0e6aa542d5$var$yF=/^([a-z_0-9]+)\s([a-z_0-9]+)\s?\=?\s?(.*?)(\,|$)/i;class $6d96ac0e6aa542d5$export$8ad5d15375e29446 extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e="",t){super(),this.src="",this.useDefine=!1,this.nodeType="Const",this.parse(e||$6d96ac0e6aa542d5$export$8ad5d15375e29446.PI,void 0,void 0,void 0,t)}getType(e){return e.getTypeByFormat(this.type)}parse(e,t,r,n,i){this.src=e||"";let a,o,s="",c=$6d96ac0e6aa542d5$var$yF.exec(e);this.useDefine=null!=i?i:"#"===this.src.charAt(0),c&&c.length>1?(o=c[1],a=c[2],s=c[3]):(a=this.src,o="f"),this.name=a,this.type=o,this.value=s}build(e,t){if("source"===t){if(this.value)return this.useDefine?"#define "+this.name+" "+this.value:"const "+this.type+" "+this.name+" = "+this.value+";";if(this.useDefine)return this.src}return e.include(this),e.format(this.name,this.getType(e),t)}generate(e,t,r,n,i){return e.format(this.name,this.getType(e),t)}copy(e){return super.copy(e),this.parse(e.src,void 0,void 0,void 0,e.useDefine),this}}$6d96ac0e6aa542d5$export$8ad5d15375e29446.PI="PI",$6d96ac0e6aa542d5$export$8ad5d15375e29446.PI2="PI2",$6d96ac0e6aa542d5$export$8ad5d15375e29446.RECIPROCAL_PI="RECIPROCAL_PI",$6d96ac0e6aa542d5$export$8ad5d15375e29446.RECIPROCAL_PI2="RECIPROCAL_PI2",$6d96ac0e6aa542d5$export$8ad5d15375e29446.LOG2="LOG2",$6d96ac0e6aa542d5$export$8ad5d15375e29446.EPSILON="EPSILON";class $699231b3b0622277$export$35e014a8106cf443 extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e,t){super("v3"),this.nodeType="CustomNormal",this.cnormal=e,this.alpha=t}generate(e,t){if(e.isShader("fragment")){let r=e.include($699231b3b0622277$export$35e014a8106cf443.Nodes.customNormal),n=[];return n.push(this.cnormal.build(e,"v3")),n.push("normal"),n.push(this.alpha.build(e,"f")),e.format(r+"("+n.join(",")+")",this.getType(e),t)}return console.warn("CustomNormalNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}copy(e){return super.copy(e),this.cnormal.copy(e.cnormal),this.alpha.copy(e.alpha),this}}$699231b3b0622277$export$35e014a8106cf443.Nodes={customNormal:new $0fa5f465218bcb0f$export$f3890eeaf6851387("\n            vec3 customNormal(vec3 cnormal, vec3 norm, float alpha) {\n\t\t\t\tvec3 normal = packNormalToRGB( norm ).rgb;\n\t\t\t\tnormal *= step( vec3(0.5), cnormal );\n\n\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * alpha;\n\n\t\t\t\treturn normal;\n\t\t\t}")};class $bec57a130ae117c2$export$7b4493a7204b5eef extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e=new $f5d84a983111222a$export$7da1e4d32492b08a,t,r,n,i,a,o,s){super("v3"),this.nodeType="CustomTexture",this.firstTime=!0,this.texture=e,this.textureSize=t,this.crop=r,this.projection=n,this.axis=i,this.size=a,this.mat=new $be832e36fff49ab8$export$780d7114bf5fec67(this.texture.value.matrix),this.alpha=o,this.mode=s,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let r;switch(e.require("position"),e.require("uv"),e.requires.uv=[!0],e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0,this.projection.value){case 3:r=e.include($bec57a130ae117c2$export$7b4493a7204b5eef.Nodes.cylindrical);break;case 2:r=e.include($bec57a130ae117c2$export$7b4493a7204b5eef.Nodes.spherical);break;case 1:let t=new $0fa5f465218bcb0f$export$f3890eeaf6851387(`\n            vec3 g${this.uuid.toString().replace(/-/g,"")}_planarTexture(sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float alpha, int mode, out float calpha) {\n\n                vec2 uvs = ( mat * vec3( (g${this.uuid.toString().replace(/-/g,"")}_vCustomUv * 2. - 1.) / (size * .5), 1. ) / 2. + 0.5 ).xy;\n\n                vec4 tmp = texture2D( tex, uvs );\n\n                vec3 col = tmp.rgb;\n                float lalpha = alpha * tmp.a;\n                if ( crop > 0.5 ) {\n                    if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n                        lalpha = 0.0;\n                    }\n                }\n                calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n                accumAlpha += ( 1.0 - accumAlpha ) * lalpha;\n                return col;\n            }\n        `);r=e.include(t);break;default:r=e.include($bec57a130ae117c2$export$7b4493a7204b5eef.Nodes.uv)}if(1===this.projection.value&&this.firstTime){let t=`g${this.uuid.toString().replace(/-/g,"")}`;e.addVertexParsCode(`varying vec2 ${t}_vCustomUv;`),e.addFragmentParsCode(`varying vec2 ${t}_vCustomUv;`),e.addVertexFinalCode(`\n                    vec3 ${t}_posN = transformed;\n${0===this.axis.value?`\n                                   float ${t}_u = (1. + (${t}_posN.z)) / 2.;\n                                   float ${t}_v = (1. + (${t}_posN.y)) / 2.;\n                                   `:""}\n\n${1===this.axis.value?`\n                                   float ${t}_u = (1. + (${t}_posN.x)) / 2.;\n                                   float ${t}_v = (1. - (${t}_posN.z)) / 2.;\n                                   `:""}\n\n${2===this.axis.value?`\n                                   float ${t}_u = (1. + (${t}_posN.x)) / 2.;\n                                   float ${t}_v = (1. + (${t}_posN.y)) / 2.;\n                                   `:""}\n\n                    ${t}_vCustomUv = vec2(${t}_u, ${t}_v);\n                `)}e.addFragmentVariable(this.calpha,"float");let n=[];return n.push(this.texture.getTexture(e,"t")),n.push(this.textureSize.build(e,"v2")),n.push(this.crop.build(e,"f")),n.push(this.mat.build(e,"mat3")),n.push(this.size.build(e,"v2")),n.push(this.alpha.build(e,"f")),n.push(this.mode.build(e,"i")),n.push(this.calpha),this.firstTime=!this.firstTime,e.format(r+"("+n.join(",")+")",this.getType(e),t)}copy(e){return super.copy(e),this.texture.copy(e.texture),this.textureSize=e.textureSize.clone(),this.crop=e.crop.clone(),this.projection=e.projection.clone(),this.axis=e.axis.clone(),this.size=e.size.clone(),this.alpha=e.alpha.clone(),this.mode=e.mode.clone(),this}}$bec57a130ae117c2$export$7b4493a7204b5eef.Nodes={cylindrical:new $0fa5f465218bcb0f$export$f3890eeaf6851387("\n            vec3 cylindricalTexture(sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float alpha, int mode, out float calpha) {\n                vec3 posN = normalize(position);\n                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);\n                float scaledHeight = position.y / (size.y * 0.5);\n                float v =  (scaledHeight / 2.) + .5;\n\n                vec2 calculatedUv = vec2(u,v);\n\t\t\t\tvec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;\n\n                vec2 df = fwidth(uvs);\n               \tif(df.x > 0.5) df.x = 0.;\n\n\t\t\t\t#ifdef GL_EXT_shader_texture_lod\n                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));\n\t\t\t\t#else\n                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));\n\t\t\t\t#endif\n\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * lalpha;\n\t\t\t\treturn col;\n\t\t\t}\n"),spherical:new $0fa5f465218bcb0f$export$f3890eeaf6851387("\n            vec3 sphericalTexture(sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float alpha, int mode, out float calpha) {\n                vec3 posN = normalize(vPosition);\n                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);\n                float v = 0.5 + asin(posN.y) / 3.1415;\n\n                vec2 calculatedUv = vec2(u,v);\n\t\t\t\tvec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;\n\n                vec2 df = fwidth(uvs);\n               \tif(df.x > 0.5) df.x = 0.;\n\t\t\t\t#ifdef GL_EXT_shader_texture_lod\n                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));\n\t\t\t\t#else\n                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));\n\t\t\t\t#endif\n\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * lalpha;\n\t\t\t\treturn col;\n\t\t\t}\n"),uv:new $0fa5f465218bcb0f$export$f3890eeaf6851387("\n            vec3 uvTexture(sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float alpha, int mode, out float calpha) {\n\n\t\t\t\tvec2 uvs = ( mat * vec3( vUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;\n\t\t\t\tvec4 tmp = texture2D( tex, uvs );\n\n\t\t\t\tvec3 col = tmp.rgb;\n\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * lalpha;\n\t\t\t\treturn col;\n\t\t\t}")};class $438352b6aee48da8$export$950556173b6cbecb extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e,t,r,n,i,a,o,s,c,l,d,u){super("v3"),this.nodeType="Depth",this.gradientType=e,this.smooth=t,this.near=r,this.far=n,this.isVector=i,this.isWorldSpace=a,this.origin=o,this.direction=s,this.colors=c,this.steps=l,this.num=d,this.alpha=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let r=`g${this.uuid.toString().replace(/-/g,"")}`,n=new $0fa5f465218bcb0f$export$f3890eeaf6851387(`vec3 ${r}_sdepth(float near, float far, vec3 origin, vec3 direction, vec4 colors[${r}_MAX_COLORS], float steps[10], float alpha, out float calpha) {\n           vec4 color = colors[0];\n           #ifdef ${r}_IS_VECTOR\n               #ifdef ${r}_LINEAR\n                   #ifdef ${r}_WORLDSPACE\n                   float depth = vectorLinearWorldSpaceDepth(direction, origin, near, far);\n                   #else\n                   float depth = vectorLinearObjectSpaceDepth(direction, origin, near, far);\n                   #endif\n               #else\n                   #ifdef ${r}_WORLDSPACE\n                       float depth = vectorSphericalWorldSpaceDepth(origin, near, far);\n                   #else\n                       float depth = vectorSphericalObjectSpaceDepth(origin, near, far);\n                   #endif\n               #endif\n           #else\n               float dist = length(vWPosition - cameraPosition);\n               float depth = ( dist - near ) / ( far - near );\n           #endif\n\n\n          float p;\n          #ifdef ${r}_SMOOTH\n            for ( int i = 1; i < ${r}_MAX_COLORS; i++ ) {\n                    p = clamp( ( depth - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );\n                    color = mix(color, colors[i], smoothstep(0.0, 1.0, p));\n                }\n          #else\n            for ( int i = 1; i < ${r}_MAX_COLORS; i++ ) {\n               p = clamp(( depth - steps[i - 1] ) / ( steps[i] - steps[i - 1] ), 0.0, 1.0);\n               color = mix(color, colors[i], p);\n             }\n          #endif\n\n           float lalpha = alpha * color.a;\n           calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\n           accumAlpha += ( 1.0 - accumAlpha ) * lalpha;\n           return color.rgb;\n        }`,[$438352b6aee48da8$export$950556173b6cbecb.Nodes.vectorLinearWorldSpaceDepth,$438352b6aee48da8$export$950556173b6cbecb.Nodes.vectorLinearObjectSpaceDepth,$438352b6aee48da8$export$950556173b6cbecb.Nodes.vectorSphericalObjectSpaceDepth,$438352b6aee48da8$export$950556173b6cbecb.Nodes.vectorSphericalWorldSpaceDepth]);if(e.isShader("fragment")){e.define(`${r}_MAX_COLORS`,this.num.value+1),this.smooth.value&&e.define(`${r}_SMOOTH`),this.isVector.value>.5&&e.define(`${r}_IS_VECTOR`),this.gradientType.value===$cf00a5c94ce7c28c$export$7d415e453bd4c418.Linear&&e.define(`${r}_LINEAR`),this.isWorldSpace.value>.5&&e.define(`${r}_WORLDSPACE`),e.require("worldPosition"),e.addFragmentVariable(this.calpha,"float");let i=e.include(n),a=[];return a.push(this.near.build(e,"f")),a.push(this.far.build(e,"f")),a.push(this.origin.build(e,"v3")),a.push(this.direction.build(e,"v3")),a.push(this.colors.build(e,"v4[]")),a.push(this.steps.build(e,"f[]")),a.push(this.alpha.build(e,"f")),a.push(this.calpha),e.format(i+"("+a.join(",")+")",this.getType(e),t)}return console.warn("DepthNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}copy(e){return super.copy(e),this.gradientType=e.gradientType.clone(),this.smooth=e.smooth.clone(),this.near=e.near.clone(),this.far=e.far.clone(),this.isVector=e.isVector.clone(),this.isWorldSpace=e.isWorldSpace.clone(),this.origin=e.origin.clone(),this.direction=e.direction.clone(),this.colors=e.colors.clone(),this.steps=e.steps.clone(),this.alpha=e.alpha.clone(),this.calpha=e.calpha,this}}$438352b6aee48da8$export$950556173b6cbecb.Nodes={vectorLinearWorldSpaceDepth:new $0fa5f465218bcb0f$export$f3890eeaf6851387("float vectorLinearWorldSpaceDepth(vec3 direction, vec3 origin, float near, float far) {\n               vec3 n = normalize(direction);\n               float dist = (n.x*(vWPosition.x - origin.x) + n.y*(vWPosition.y - origin.y) + n.z*(vWPosition.z - origin.z));\n               return ( dist - near ) / ( far - near );\n            }"),vectorLinearObjectSpaceDepth:new $0fa5f465218bcb0f$export$f3890eeaf6851387("float vectorLinearObjectSpaceDepth(vec3 direction, vec3 origin, float near, float far) {\n               vec3 n = normalize(direction);\n               float dist = (n.x*(position.x - origin.x) + n.y*(position.y - origin.y) + n.z*(position.z - origin.z));\n               return ( dist - near ) / ( far - near );\n            }"),vectorSphericalWorldSpaceDepth:new $0fa5f465218bcb0f$export$f3890eeaf6851387("\n            float vectorSphericalWorldSpaceDepth(vec3 origin, float near, float far) {\n               float dist = length(vWPosition - origin);\n               return ( dist - near ) / ( far - near );\n            }\n        "),vectorSphericalObjectSpaceDepth:new $0fa5f465218bcb0f$export$f3890eeaf6851387("float vectorSphericalObjectSpaceDepth(vec3 origin, float near, float far) {\n               float dist = length(position - origin);\n               return ( dist - near ) / ( far - near );\n            }")};class $a419cc5704e74af9$export$e1a61b1c190af790 extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e,t,r,n,i,a,o){super("v3"),this.nodeType="Fresnel",this.color=e,this.bias=t,this.scale=r,this.intensity=n,this.factor=i,this.alpha=a,this.mode=o,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let r=e.include($a419cc5704e74af9$export$e1a61b1c190af790.Nodes.fresnel),n=[];return n.push(this.color.build(e,"c")),n.push(this.bias.build(e,"f")),n.push(this.scale.build(e,"f")),n.push(this.intensity.build(e,"f")),n.push(this.factor.build(e,"f")),n.push(this.alpha.build(e,"f")),n.push(this.mode.build(e,"i")),n.push(this.calpha),e.format(r+"("+n.join(",")+")",this.getType(e),t)}return console.warn("FresnelNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}copy(e){return super.copy(e),this.color=e.color.clone(),this.bias=e.bias.clone(),this.scale=e.scale.clone(),this.intensity=e.intensity.clone(),this.factor=e.factor.clone(),this.alpha=e.alpha.clone(),this.mode=e.mode.clone(),this.calpha=e.calpha,this}}$a419cc5704e74af9$export$e1a61b1c190af790.Nodes={fresnel:new $0fa5f465218bcb0f$export$f3890eeaf6851387("vec3 fresnel(vec3 color, float bias, float scale, float intensity, float factor, float alpha, int mode, out float calpha) {\n\t\t\t\tfloat fresnel = bias + scale * pow( abs( factor + dot( normalize( vWorldViewDir ), normalize( vWNormal ) ) ), intensity );\n\n\t\t\t\tfloat lalpha = clamp( fresnel, 0.0, 1.0 ) * alpha;\n\t\t\t\tcalpha = lalpha / clamp(lalpha + accumAlpha, 0.001, 1.0);\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha;\n\t\t\t\treturn color;\n\t\t\t}")};class $64d133238b0582a6$export$9a1bafc170b69ba1 extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e,t){super(),this.inputs=[],this.nodeType="FunctionCall",this.value=e,this.inputs=null!=t?t:[]}getFunction(){return this.value}getType(e){return this.value.getType(e)}generate(e,t,r,n,i){n=this.getType(e);let a=this.value,o=a.build(e,t)+"( ",s=[];if(a.inputs){for(let t=0;t<a.inputs.length;t++){let r=a.inputs[t],n=this.inputs[t]||this.inputs[r.name];s.push(n.build(e,e.getTypeByFormat(r.type)))}o+=s.join(", ")+" )"}return e.format(o,n,t)}copy(e){return super.copy(e),this.value.copy(e.value),this.inputs=e.inputs.map((e=>e.clone())),this}toJSON(e){var t;let r=this.getJSONNode(e);if(!r){let n=this.value;if(r=this.createJSONNode(e),r.value=this.value.toJSON(e).uuid,null==(t=n.inputs)?void 0:t.length){r.inputs={};for(let t=0;t<n.inputs.length;t++){let i=n.inputs[t],a=this.inputs[t];r.inputs[i.name]=a.toJSON(e).uuid}}}return r}}class $7964b790afa27bed$export$3d3dd8f63ff0f876 extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e,t,r,n,i,a,o,s){super("v3"),this.nodeType="Gradient",this.gradientType=e,this.smooth=t,this.colors=r,this.steps=n,this.offset=i,this.morph=a,this.angle=o,this.alpha=s,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.define("GRAD_MAX",10),e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let r=e.include($7964b790afa27bed$export$3d3dd8f63ff0f876.Nodes.gradient),n=[];return n.push(this.gradientType.build(e,"i")),n.push(this.smooth.build(e,"b")),n.push(this.colors.build(e,"v4[]")),n.push(this.steps.build(e,"f[]")),n.push(this.offset.build(e,"v2")),n.push(this.morph.build(e,"v2")),n.push(this.angle.build(e,"f")),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(r+"("+n.join(",")+")",this.getType(e),t)}return console.warn("GradientNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}copy(e){return super.copy(e),this.gradientType=e.gradientType.clone(),this.smooth=e.smooth.clone(),this.colors=e.colors.clone(),this.steps=e.steps.clone(),this.offset=e.offset.clone(),this.morph=e.morph.clone(),this.angle=e.angle.clone(),this.alpha=e.alpha.clone(),this.calpha=e.calpha,this}}$7964b790afa27bed$export$3d3dd8f63ff0f876.Nodes={gradient:new $0fa5f465218bcb0f$export$f3890eeaf6851387("vec3 gradient(int gradientType, bool smoothed, vec4 colors[GRAD_MAX], float steps[GRAD_MAX], vec2 offset, vec2 morph, float angle, float alpha, out float calpha) {\n\t\t\t\tvec4 color = colors[0];\n\t\t\t\tvec2 m = morph / vUv.xy;\n\t\t\t\tvec2 rot = vec2( 0.5 + m.x, m.y );\n\t\t\t\tvec2 dt = vec2(\n\t\t\t\t\tcos( angle ) * rot.x - sin( angle ) * rot.y,\n\t\t\t\t\tsin( angle ) * rot.x + cos( angle ) * rot.y\n\t\t\t\t);\n\t\t\t\tvec2 pt = ( vUv - 0.5 + offset ) / 2.0 + dt / 2.0;\n\t\t\t\tfloat t = dot( pt, dt ) / dot( dt, dt );\n\t\t\t\tif ( gradientType == 1 ) {\n\t\t\t\t\tt = distance (\n\t\t\t\t\t\t( vUv + morph ) * 3.0,\n\t\t\t\t\t\t( vUv + offset ) + 1.0\n\t\t\t\t\t) + angle;\n\t\t\t\t} else if ( gradientType == 2 ) {\n\t\t\t\t\tfloat polar = atan(\n\t\t\t\t\t\tvUv.x + morph.x - 0.5 + offset.x,\n\t\t\t\t\t\tvUv.y + morph.y - 0.5 + offset.y\n\t\t\t\t\t) * -1.0;\n\t\t\t\t\tt = fract( ( angle / PI / -2.0 ) + 0.5 * ( polar / PI ) );\n\t\t\t\t}\n\n\t\t\t\tfloat p;\n\t\t\t\tif (smoothed) {\n\t\t\t\t\tfor ( int i = 1; i < GRAD_MAX; i++ ) {\n\t\t\t\t\t\tp = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );\n\t\t\t\t\t\tcolor = mix(color, colors[i], smoothstep(0.0, 1.0, p));\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tfor ( int i = 1; i < GRAD_MAX; i++ ) {\n\t\t\t\t\t\tp = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );\n\t\t\t\t\t\tcolor = mix(color, colors[i], p);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfloat lalpha = alpha * color.a;\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * lalpha;\n\n\t\t\t\treturn color.xyz;\n\t\t\t}")};class $5ba2266fe8792822$export$7cd3c6cf913ec8ff extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e,t,r){super("v3"),this.nodeType="Matcap",this.texture=e,this.alpha=t,this.mode=r,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let r=e.include($5ba2266fe8792822$export$7cd3c6cf913ec8ff.Nodes.matcap);e.require("normal"),e.requires.normal=!0;let n=[];return n.push(this.texture.getTexture(e,"t")),n.push("normal"),n.push(this.alpha.build(e,"f")),n.push(this.mode.build(e,"i")),n.push(this.calpha),e.format(r+"("+n.join(",")+")",this.getType(e),t)}return console.warn("MatcapNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}copy(e){return super.copy(e),this.texture=e.texture.clone(),this.alpha=e.alpha.clone(),this.mode=e.mode.clone(),this.calpha=e.calpha,this}}$5ba2266fe8792822$export$7cd3c6cf913ec8ff.Nodes={matcap:new $0fa5f465218bcb0f$export$f3890eeaf6851387("vec3 matcap(sampler2D matcapTex, vec3 normal, float alpha, int mode, out float calpha) {\n                vec3 viewDir = normalize( vViewPosition );\n                vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n                vec3 y = cross( viewDir, x );\n                vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks\n                vec4 matcapColor = texture2D( matcapTex, uv );\n\n                calpha =  alpha / clamp( alpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * alpha;\n                \n                return matcapColor.rgb;\n            }\n            ")};class $2478c567b5c990c2$export$380958644dbbc22b extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,t=$cf00a5c94ce7c28c$export$ec09cbca3f283849.ABS,r,n){super(),this.nodeType="Math",this.a=e,"string"!=typeof t?this.b=t:n=t,"string"!=typeof r?this.c=r:n=r,this.method=n,this.hashProperties=["method"]}getNumInputs(e){switch(this.method){case $cf00a5c94ce7c28c$export$ec09cbca3f283849.MIX:case $cf00a5c94ce7c28c$export$ec09cbca3f283849.CLAMP:case $cf00a5c94ce7c28c$export$ec09cbca3f283849.REFRACT:case $cf00a5c94ce7c28c$export$ec09cbca3f283849.SMOOTHSTEP:case $cf00a5c94ce7c28c$export$ec09cbca3f283849.FACEFORWARD:return 3;case $cf00a5c94ce7c28c$export$ec09cbca3f283849.MIN:case $cf00a5c94ce7c28c$export$ec09cbca3f283849.MAX:case $cf00a5c94ce7c28c$export$ec09cbca3f283849.MOD:case $cf00a5c94ce7c28c$export$ec09cbca3f283849.STEP:case $cf00a5c94ce7c28c$export$ec09cbca3f283849.REFLECT:case $cf00a5c94ce7c28c$export$ec09cbca3f283849.DISTANCE:case $cf00a5c94ce7c28c$export$ec09cbca3f283849.DOT:case $cf00a5c94ce7c28c$export$ec09cbca3f283849.CROSS:case $cf00a5c94ce7c28c$export$ec09cbca3f283849.POW:return 2;default:return 1}}getInputType(e){let t=e.getTypeLength(this.a.getType(e)),r=this.b?e.getTypeLength(this.b.getType(e)):0,n=this.c?e.getTypeLength(this.c.getType(e)):0;return t>r&&t>n?this.a.getType(e):r>n?this.b.getType(e):this.c.getType(e)}getType(e){switch(this.method){case $cf00a5c94ce7c28c$export$ec09cbca3f283849.LENGTH:case $cf00a5c94ce7c28c$export$ec09cbca3f283849.DISTANCE:case $cf00a5c94ce7c28c$export$ec09cbca3f283849.DOT:return"f";case $cf00a5c94ce7c28c$export$ec09cbca3f283849.CROSS:return"v3"}return this.getInputType(e)}generate(e,t){let r,n,i,a=this.a?e.getTypeLength(this.a.getType(e)):0,o=this.b?e.getTypeLength(this.b.getType(e)):0,s=this.c?e.getTypeLength(this.c.getType(e)):0,c=this.getInputType(e),l=this.getType(e);switch(this.type=l,this.method){case $cf00a5c94ce7c28c$export$ec09cbca3f283849.NEGATE:return e.format("( -"+this.a.build(e,c)+" )",c,t);case $cf00a5c94ce7c28c$export$ec09cbca3f283849.INVERT:return e.format("( 1.0 - "+this.a.build(e,c)+" )",c,t);case $cf00a5c94ce7c28c$export$ec09cbca3f283849.CROSS:r=this.a.build(e,"v3"),n=this.b.build(e,"v3");break;case $cf00a5c94ce7c28c$export$ec09cbca3f283849.STEP:r=this.a.build(e,1===a?"f":c),n=this.b.build(e,c);break;case $cf00a5c94ce7c28c$export$ec09cbca3f283849.MIN:case $cf00a5c94ce7c28c$export$ec09cbca3f283849.MAX:case $cf00a5c94ce7c28c$export$ec09cbca3f283849.MOD:r=this.a.build(e,c),n=this.b.build(e,1===o?"f":c);break;case $cf00a5c94ce7c28c$export$ec09cbca3f283849.REFRACT:r=this.a.build(e,c),n=this.b.build(e,c),i=this.c.build(e,"f");break;case $cf00a5c94ce7c28c$export$ec09cbca3f283849.MIX:r=this.a.build(e,c),n=this.b.build(e,c),i=this.c.build(e,1===s?"f":c);break;default:r=this.a.build(e,c),this.b&&(n=this.b.build(e,c)),this.c&&(i=this.c.build(e,c))}let d=[];d.push(r),n&&d.push(n),i&&d.push(i);let u=this.getNumInputs(e);if(d.length!==u)throw Error(`Arguments not match used in "${this.method}". Require ${u}, currently ${d.length}.`);return e.format(this.method+"( "+d.join(", ")+" )",l,t)}copy(e){return super.copy(e),this.a.copy(e.a),this.b=e.b instanceof $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039?e.b.clone():e.b,this.c=e.c instanceof $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039?e.c.clone():e.c,this.method=e.method,this}}let $2478c567b5c990c2$var$nt=$2478c567b5c990c2$export$380958644dbbc22b;$2478c567b5c990c2$var$nt.RAD=$cf00a5c94ce7c28c$export$ec09cbca3f283849.RAD,$2478c567b5c990c2$var$nt.DEG=$cf00a5c94ce7c28c$export$ec09cbca3f283849.DEG,$2478c567b5c990c2$var$nt.EXP=$cf00a5c94ce7c28c$export$ec09cbca3f283849.EXP,$2478c567b5c990c2$var$nt.EXP2=$cf00a5c94ce7c28c$export$ec09cbca3f283849.EXP2,$2478c567b5c990c2$var$nt.LOG=$cf00a5c94ce7c28c$export$ec09cbca3f283849.LOG,$2478c567b5c990c2$var$nt.LOG2=$cf00a5c94ce7c28c$export$ec09cbca3f283849.LOG2,$2478c567b5c990c2$var$nt.SQRT=$cf00a5c94ce7c28c$export$ec09cbca3f283849.SQRT,$2478c567b5c990c2$var$nt.INV_SQRT=$cf00a5c94ce7c28c$export$ec09cbca3f283849.INV_SQRT,$2478c567b5c990c2$var$nt.FLOOR=$cf00a5c94ce7c28c$export$ec09cbca3f283849.FLOOR,$2478c567b5c990c2$var$nt.CEIL=$cf00a5c94ce7c28c$export$ec09cbca3f283849.CEIL,$2478c567b5c990c2$var$nt.NORMALIZE=$cf00a5c94ce7c28c$export$ec09cbca3f283849.NORMALIZE,$2478c567b5c990c2$var$nt.FRACT=$cf00a5c94ce7c28c$export$ec09cbca3f283849.FRACT,$2478c567b5c990c2$var$nt.SATURATE=$cf00a5c94ce7c28c$export$ec09cbca3f283849.SATURATE,$2478c567b5c990c2$var$nt.SIN=$cf00a5c94ce7c28c$export$ec09cbca3f283849.SIN,$2478c567b5c990c2$var$nt.COS=$cf00a5c94ce7c28c$export$ec09cbca3f283849.COS,$2478c567b5c990c2$var$nt.TAN=$cf00a5c94ce7c28c$export$ec09cbca3f283849.TAN,$2478c567b5c990c2$var$nt.ASIN=$cf00a5c94ce7c28c$export$ec09cbca3f283849.ASIN,$2478c567b5c990c2$var$nt.ACOS=$cf00a5c94ce7c28c$export$ec09cbca3f283849.ACOS,$2478c567b5c990c2$var$nt.ARCTAN=$cf00a5c94ce7c28c$export$ec09cbca3f283849.ARCTAN,$2478c567b5c990c2$var$nt.ABS=$cf00a5c94ce7c28c$export$ec09cbca3f283849.ABS,$2478c567b5c990c2$var$nt.SIGN=$cf00a5c94ce7c28c$export$ec09cbca3f283849.SIGN,$2478c567b5c990c2$var$nt.LENGTH=$cf00a5c94ce7c28c$export$ec09cbca3f283849.LENGTH,$2478c567b5c990c2$var$nt.NEGATE=$cf00a5c94ce7c28c$export$ec09cbca3f283849.NEGATE,$2478c567b5c990c2$var$nt.INVERT=$cf00a5c94ce7c28c$export$ec09cbca3f283849.INVERT,$2478c567b5c990c2$var$nt.MIN=$cf00a5c94ce7c28c$export$ec09cbca3f283849.MIN,$2478c567b5c990c2$var$nt.MAX=$cf00a5c94ce7c28c$export$ec09cbca3f283849.MAX,$2478c567b5c990c2$var$nt.MOD=$cf00a5c94ce7c28c$export$ec09cbca3f283849.MOD,$2478c567b5c990c2$var$nt.STEP=$cf00a5c94ce7c28c$export$ec09cbca3f283849.STEP,$2478c567b5c990c2$var$nt.REFLECT=$cf00a5c94ce7c28c$export$ec09cbca3f283849.REFLECT,$2478c567b5c990c2$var$nt.DISTANCE=$cf00a5c94ce7c28c$export$ec09cbca3f283849.DISTANCE,$2478c567b5c990c2$var$nt.DOT=$cf00a5c94ce7c28c$export$ec09cbca3f283849.DOT,$2478c567b5c990c2$var$nt.CROSS=$cf00a5c94ce7c28c$export$ec09cbca3f283849.CROSS,$2478c567b5c990c2$var$nt.POW=$cf00a5c94ce7c28c$export$ec09cbca3f283849.POW,$2478c567b5c990c2$var$nt.MIX=$cf00a5c94ce7c28c$export$ec09cbca3f283849.MIX,$2478c567b5c990c2$var$nt.CLAMP=$cf00a5c94ce7c28c$export$ec09cbca3f283849.CLAMP,$2478c567b5c990c2$var$nt.REFRACT=$cf00a5c94ce7c28c$export$ec09cbca3f283849.REFRACT,$2478c567b5c990c2$var$nt.SMOOTHSTEP=$cf00a5c94ce7c28c$export$ec09cbca3f283849.SMOOTHSTEP,$2478c567b5c990c2$var$nt.FACEFORWARD=$cf00a5c94ce7c28c$export$ec09cbca3f283849.FACEFORWARD;var $a11f1c598f2ee593$export$2e2bcd8739ae039=new class{constructor(){this.assemble()}assemble(){this.random3=new $0fa5f465218bcb0f$export$f3890eeaf6851387("vec3 random3(vec3 c) {\n            float j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));\n            vec3 r;\n            r.z = fract(512.0*j);\n            j *= .125;\n            r.x = fract(512.0*j);\n            j *= .125;\n            r.y = fract(512.0*j);\n            return r-0.5;\n        }"),this.simplex3d=new $0fa5f465218bcb0f$export$f3890eeaf6851387("float simplex3d(vec3 p) {\n            vec3 s = floor(p + dot(p, vec3(F3)));\n            vec3 x = p - s + dot(s, vec3(G3));\n            \n            vec3 e = step(vec3(0.0), x - x.yzx);\n            vec3 i1 = e*(1.0 - e.zxy);\n            vec3 i2 = 1.0 - e.zxy*(1.0 - e);\n               \n            vec3 x1 = x - i1 + G3;\n            vec3 x2 = x - i2 + 2.0*G3;\n            vec3 x3 = x - 1.0 + 3.0*G3;\n            \n            vec4 w, d;\n            \n            w.x = dot(x, x);\n            w.y = dot(x1, x1);\n            w.z = dot(x2, x2);\n            w.w = dot(x3, x3);\n            \n            w = max(0.6 - w, 0.0);\n            \n            d.x = dot(random3(s), x);\n            d.y = dot(random3(s + i1), x1);\n            d.z = dot(random3(s + i2), x2);\n            d.w = dot(random3(s + 1.0), x3);\n            \n            w *= w;\n            w *= w;\n            d *= w;\n            \n            return dot(d, vec4(52.0));\n       }",[this.random3]),this.simplex3d.keywords.F3=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float F3 0.3333333"),this.simplex3d.keywords.G3=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float G3 0.1666667"),this.simplex3dFractal=new $0fa5f465218bcb0f$export$f3890eeaf6851387("float simplex3dFractal(vec3 m) {\n           mat3 rot1 = mat3(-0.37, 0.36, 0.85,-0.14,-0.93, 0.34,0.92, 0.01,0.4);\n           mat3 rot2 = mat3(-0.55,-0.39, 0.74, 0.33,-0.91,-0.24,0.77, 0.12,0.63);\n           mat3 rot3 = mat3(-0.71, 0.52,-0.47,-0.08,-0.72,-0.68,-0.7,-0.45,0.56);\n           return 0.5333333 * simplex3d(m * rot1)\n                + 0.2666667 * simplex3d(2.0 * m * rot2)\n                + 0.1333333 * simplex3d(4.0 * m * rot3)\n                + 0.0666667 * simplex3d(8.0 * m);\n       }",[this.simplex3d]),this.permute=new $0fa5f465218bcb0f$export$f3890eeaf6851387("vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}"),this.taylorInvSqrt=new $0fa5f465218bcb0f$export$f3890eeaf6851387("vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}"),this.simplexAshima=new $0fa5f465218bcb0f$export$f3890eeaf6851387("float simplexAshima(vec3 v) {\n         const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n         const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n         vec3 i  = floor(v + dot(v, C.yyy) );\n         vec3 x0 =   v - i + dot(i, C.xxx) ;\n         vec3 g = step(x0.yzx, x0.xyz);\n         vec3 l = 1.0 - g;\n         vec3 i1 = min( g.xyz, l.zxy );\n         vec3 i2 = max( g.xyz, l.zxy );\n         vec3 x1 = x0 - i1 + 1.0 * C.xxx;\n         vec3 x2 = x0 - i2 + 2.0 * C.xxx;\n         vec3 x3 = x0 - 1. + 3.0 * C.xxx;\n         i = mod(i, 289.0 ); \n         vec4 p = permute( permute( permute( \n                    i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n                  + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n                  + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n         float n_ = 1.0/7.0; // N=7\n         vec3  ns = n_ * D.wyz - D.xzx;\n         vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)\n         vec4 x_ = floor(j * ns.z);\n         vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n         vec4 x = x_ *ns.x + ns.yyyy;\n         vec4 y = y_ *ns.x + ns.yyyy;\n         vec4 h = 1.0 - abs(x) - abs(y);\n         vec4 b0 = vec4( x.xy, y.xy );\n         vec4 b1 = vec4( x.zw, y.zw );\n         vec4 s0 = floor(b0)*2.0 + 1.0;\n         vec4 s1 = floor(b1)*2.0 + 1.0;\n         vec4 sh = -step(h, vec4(0.0));\n         vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n         vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n         vec3 p0 = vec3(a0.xy,h.x);\n         vec3 p1 = vec3(a0.zw,h.y);\n         vec3 p2 = vec3(a1.xy,h.z);\n         vec3 p3 = vec3(a1.zw,h.w);\n         vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n         p0 *= norm.x;\n         p1 *= norm.y;\n         p2 *= norm.z;\n         p3 *= norm.w;\n         vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n         m = m * m;\n         return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n                                       dot(p2,x2), dot(p3,x3) ) );\n       }",[this.permute,this.taylorInvSqrt]),this.mod289=new $0fa5f465218bcb0f$export$f3890eeaf6851387("vec4 mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}"),this.perm=new $0fa5f465218bcb0f$export$f3890eeaf6851387("vec4 perm(vec4 x){return mod289(((x * 34.0) + 1.0) * x);}",[this.mod289]),this.noise=new $0fa5f465218bcb0f$export$f3890eeaf6851387("float noise(vec3 p){\n           vec3 a = floor(p);\n           vec3 d = p - a;\n           d = d * d * (3.0 - 2.0 * d);\n           vec4 b = a.xxyy + vec4(0.0, 1.0, 0.0, 1.0);\n           vec4 k1 = perm(b.xyxy);\n           vec4 k2 = perm(k1.xyxy + b.zzww);\n           vec4 c = k2 + a.zzzz;\n           vec4 k3 = perm(c);\n           vec4 k4 = perm(c + 1.0);\n           vec4 o1 = fract(k3 * (1.0 / 41.0));\n           vec4 o2 = fract(k4 * (1.0 / 41.0));\n           vec4 o3 = o2 * d.z + o1 * (1.0 - d.z);\n           vec2 o4 = o3.yw * d.x + o3.xz * (1.0 - d.x);\n           return o4.y * d.y + o4.x * (1.0 - d.y);\n       }",[this.perm]),this.fbm=new $0fa5f465218bcb0f$export$f3890eeaf6851387("float fbm(vec3 x) {\n           float v = 0.0;\n           float a = 0.5;\n           vec3 shift = vec3(100);\n           for (int i = 0; i < NUM_OCTAVES; ++i) {\n               v += a * noise(x);\n               x = x * 2.0 + shift;\n               a *= 0.5;\n           }\n           return v;\n       }",[this.noise]),this.fbm.keywords.NUM_OCTAVES=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("int NUM_OCTAVES 5"),this.fade=new $0fa5f465218bcb0f$export$f3890eeaf6851387("vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}"),this.perlin=new $0fa5f465218bcb0f$export$f3890eeaf6851387("float perlin(vec3 P){\n         vec3 Pi0 = floor(P);\n         vec3 Pi1 = Pi0 + vec3(1.0);\n         Pi0 = mod(Pi0, 289.0);\n         Pi1 = mod(Pi1, 289.0);\n         vec3 Pf0 = fract(P);\n         vec3 Pf1 = Pf0 - vec3(1.0);\n         vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n         vec4 iy = vec4(Pi0.yy, Pi1.yy);\n         vec4 iz0 = Pi0.zzzz;\n         vec4 iz1 = Pi1.zzzz;\n         vec4 ixy = permute(permute(ix) + iy);\n         vec4 ixy0 = permute(ixy + iz0);\n         vec4 ixy1 = permute(ixy + iz1);\n         vec4 gx0 = ixy0 / 7.0;\n         vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;\n         gx0 = fract(gx0);\n         vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n         vec4 sz0 = step(gz0, vec4(0.0));\n         gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n         gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n         vec4 gx1 = ixy1 / 7.0;\n         vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;\n         gx1 = fract(gx1);\n         vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n         vec4 sz1 = step(gz1, vec4(0.0));\n         gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n         gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n         vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n         vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n         vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n         vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n         vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n         vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n         vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n         vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n         vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n         g000 *= norm0.x;\n         g010 *= norm0.y;\n         g100 *= norm0.z;\n         g110 *= norm0.w;\n         vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n         g001 *= norm1.x;\n         g011 *= norm1.y;\n         g101 *= norm1.z;\n         g111 *= norm1.w;\n         float n000 = dot(g000, Pf0);\n         float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n         float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n         float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n         float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n         float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n         float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n         float n111 = dot(g111, Pf1);\n         vec3 fade_xyz = fade(Pf0);\n         vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n         vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n         float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); \n         return 2.2 * n_xyz;\n       }",[this.permute,this.taylorInvSqrt,this.fade]),this.simplex=this.simplex3d,this.simplexFractal=this.simplex3dFractal}};class $b620137267f3ad0f$export$484d33a0500a4ce1 extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,t=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,r=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,n=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,i=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,a=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,o=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,s=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,c=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,l=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,d=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,u=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039){super("v3"),this.nodeType="Noise",this.scale=e,this.size=t,this.move=r,this.fA=n,this.fB=i,this.distortion=a,this.colorA=o,this.colorB=s,this.colorC=c,this.colorD=l,this.alpha=d,this.noiseType=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t,r,n,i){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let a=Object.values($cf00a5c94ce7c28c$export$e5f0756bec07cc35)[this.noiseType.value],o=new $0fa5f465218bcb0f$export$f3890eeaf6851387(`vec3 ${a}customNoise(float scale, vec3 size, float move, vec2 fA, vec2 fB, vec2 distortion, vec4 colorA, vec4 colorB, vec4 colorC, vec4 colorD, float alpha, out float calpha) {\n                vec3 st = position / size;\n\t\t\t\tst /= scale;\n\t\t\t\tvec3 q = vec3(${a}(st),\n\t\t\t\t\t\t\t  ${a}(st + vec3(1.0)),\n\t\t\t\t\t\t\t  ${a}(st + vec3(1.0)));\n\t\t\t\tvec3 r = vec3(${a}(st + vec3(distortion, 1.0) * q + vec3(fA, 1.0) + move),\n\t\t\t\t\t\t\t  ${a}(st + vec3(distortion, 1.0) * q + vec3(fB, 1.0) + move), \n\t\t\t\t\t\t\t  ${a}(st * q));\n\t\t\t\tfloat f = ${a}(st + r);\n\t\t\t\tvec4 color;\n\t\t\t\tcolor = mix(colorA, colorB, clamp((f * f) * 4.0, 0.0, 1.0));\n\t\t\t\tcolor = mix(color, colorC, clamp(length(q), 0.0, 1.0));\n\t\t\t\tcolor = mix(color, colorD, clamp(length(r.x), 0.0, 1.0));\n\n                float lalpha = alpha * color.a;\n                calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\n\t\t\t    accumAlpha += ( 1.0 - accumAlpha ) * lalpha;\n\t\t\t\treturn clamp(color, 0.0, 1.0).rgb;\n\t\t\t}`,[$a11f1c598f2ee593$export$2e2bcd8739ae039.simplex,$a11f1c598f2ee593$export$2e2bcd8739ae039.simplexFractal,$a11f1c598f2ee593$export$2e2bcd8739ae039.simplexAshima,$a11f1c598f2ee593$export$2e2bcd8739ae039.fbm,$a11f1c598f2ee593$export$2e2bcd8739ae039.perlin]),s=e.include(o),c=[];return c.push(this.scale.build(e,"f")),c.push(this.size.build(e,"v3")),c.push(this.move.build(e,"f")),c.push(this.fA.build(e,"v2")),c.push(this.fB.build(e,"v2")),c.push(this.distortion.build(e,"v2")),c.push(this.colorA.build(e,"v4")),c.push(this.colorB.build(e,"v4")),c.push(this.colorC.build(e,"v4")),c.push(this.colorD.build(e,"v4")),c.push(this.alpha.build(e,"f")),c.push(this.calpha),e.format(s+"("+c.join(",")+")",this.getType(e),t)}copy(e){return super.copy(e),this.scale.copy(e.scale),this.size.copy(e.size),this.move.copy(e.move),this.fA.copy(e.fA),this.fB.copy(e.fB),this.distortion.copy(e.distortion),this.colorA.copy(e.colorA),this.colorB.copy(e.colorB),this.colorC.copy(e.colorC),this.colorD.copy(e.colorD),this.alpha.copy(e.alpha),this.calpha=e.calpha,this.noiseType.copy(e.noiseType),this}}$b620137267f3ad0f$export$484d33a0500a4ce1.numOctaves=5;class $acd9f4f16f75e504$export$90749bc64b569dd0 extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e){super("v3"),this.nodeType="Normal",this.scope=null!=e?e:$acd9f4f16f75e504$export$90749bc64b569dd0.VIEW}getShared(){return this.scope===$acd9f4f16f75e504$export$90749bc64b569dd0.WORLD}build(e,t,r,n){let i=e.context[this.scope+"Normal"];return i?i.build(e,t,r,n):super.build(e,t,r)}generate(e,t,r,n,i){let a;switch(this.scope){case $acd9f4f16f75e504$export$90749bc64b569dd0.VIEW:a=e.isShader("vertex")?"transformedNormal":"geometryNormal";break;case $acd9f4f16f75e504$export$90749bc64b569dd0.LOCAL:e.isShader("vertex")?a="objectNormal":(e.requires.normal=!0,a="vObjectNormal");break;case $acd9f4f16f75e504$export$90749bc64b569dd0.WORLD:e.isShader("vertex")?a="inverseTransformDirection( transformedNormal, viewMatrix ).xyz":(e.requires.worldNormal=!0,a="vWNormal")}return e.format(a,this.getType(e),t)}copy(e){return super.copy(e),this.scope=e.scope,this}toJSON(e){let t=this.getJSONNode(e);return t||(t=this.createJSONNode(e),t.scope=this.scope),t.nodeType=this.nodeType,t}fromJSON(e,t){return super.fromJSON(e,t),e.scope&&(this.scope=e.scope),this}}$acd9f4f16f75e504$export$90749bc64b569dd0.LOCAL="local",$acd9f4f16f75e504$export$90749bc64b569dd0.WORLD="world",$acd9f4f16f75e504$export$90749bc64b569dd0.VIEW="view",$acd9f4f16f75e504$export$90749bc64b569dd0.NORMAL="normal";class $f411112e31c1d6c5$export$fa5f90bfb4dbdbcd extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,t=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,r=$cf00a5c94ce7c28c$export$1feba5eb57c23e48.ADD){super(),this.nodeType="Operator",this.type=e.type,this.a=e,this.b=t,this.op=r}getType(e){let t=this.a.getType(e),r=this.b.getType(e);return e.isTypeMatrix(t)?"v4":e.getTypeLength(r)>e.getTypeLength(t)?r:t}generate(e,t){let r=this.getType(e);this.type=r;let n=this.a.build(e,r),i=this.b.build(e,r);return e.format("( "+n+" "+this.op+" "+i+" )",r,t)}copy(e){return super.copy(e),this.a.copy(e.a),this.b.copy(e.b),this.op=e.op,this}}$f411112e31c1d6c5$export$fa5f90bfb4dbdbcd.ADD=$cf00a5c94ce7c28c$export$1feba5eb57c23e48.ADD,$f411112e31c1d6c5$export$fa5f90bfb4dbdbcd.SUB=$cf00a5c94ce7c28c$export$1feba5eb57c23e48.SUB,$f411112e31c1d6c5$export$fa5f90bfb4dbdbcd.MUL=$cf00a5c94ce7c28c$export$1feba5eb57c23e48.MUL,$f411112e31c1d6c5$export$fa5f90bfb4dbdbcd.DIV=$cf00a5c94ce7c28c$export$1feba5eb57c23e48.DIV;class $c513c62b80bdc99f$export$13807d9ee5a34a42 extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e){super("v3"),this.nodeType="Position",this.scope=null!=e?e:$c513c62b80bdc99f$export$13807d9ee5a34a42.LOCAL}getType(){return this.scope===$c513c62b80bdc99f$export$13807d9ee5a34a42.PROJECTION?"v4":this.type}getShader(){switch(this.scope){case $c513c62b80bdc99f$export$13807d9ee5a34a42.LOCAL:case $c513c62b80bdc99f$export$13807d9ee5a34a42.WORLD:return!1}return!0}generate(e,t,r,n,i){let a;switch(this.scope){case $c513c62b80bdc99f$export$13807d9ee5a34a42.LOCAL:e.isShader("vertex")?a="transformed":(e.requires.position=!0,a="vPosition");break;case $c513c62b80bdc99f$export$13807d9ee5a34a42.WORLD:if(e.isShader("vertex"))return"( modelMatrix * vec4( transformed, 1.0 ) ).xyz";e.requires.worldPosition=!0,a="vWPosition";break;case $c513c62b80bdc99f$export$13807d9ee5a34a42.VIEW:a=e.isShader("vertex")?"-mvPosition.xyz":"vViewPosition";break;case $c513c62b80bdc99f$export$13807d9ee5a34a42.PROJECTION:a=e.isShader("vertex")?"( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )":"vec4( 0.0 )"}return e.format(a,this.getType(),t)}copy(e){return super.copy(e),this.scope=e.scope,this}toJSON(e){let t=this.getJSONNode(e);return t||(t=this.createJSONNode(e),t.scope=this.scope),t.nodeType=this.nodeType,t}fromJSON(e,t){return super.fromJSON(e,t),e.scope&&(this.scope=e.scope),this}}$c513c62b80bdc99f$export$13807d9ee5a34a42.LOCAL="local",$c513c62b80bdc99f$export$13807d9ee5a34a42.WORLD="world",$c513c62b80bdc99f$export$13807d9ee5a34a42.VIEW="view",$c513c62b80bdc99f$export$13807d9ee5a34a42.PROJECTION="projection";class $e6e002cd00e27d63$export$66d94c7db7fa2263 extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e,t,r,n,i,a,o){super("v3"),this.nodeType="Rainbow",this.filmThickness=e,this.movement=t,this.wavelengths=r,this.noiseStrength=n,this.noiseScale=i,this.offset=a,this.alpha=o,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let r=e.include($e6e002cd00e27d63$export$66d94c7db7fa2263.Nodes.rainbow),n=[];return n.push(this.filmThickness.build(e,"f")),n.push(this.movement.build(e,"f")),n.push(this.wavelengths.build(e,"v3")),n.push(this.noiseStrength.build(e,"f")),n.push(this.noiseScale.build(e,"f")),n.push(this.offset.build(e,"v3")),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(r+"("+n.join(",")+")",this.getType(e),t)}return console.warn("RainbowNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}copy(e){return super.copy(e),this.filmThickness=e.filmThickness.clone(),this.movement=e.movement.clone(),this.wavelengths=e.wavelengths.clone(),this.noiseStrength=e.noiseStrength.clone(),this.noiseScale=e.noiseScale.clone(),this.offset=e.offset.clone(),this.alpha=e.alpha.clone(),this.calpha=e.calpha,this}}$e6e002cd00e27d63$export$66d94c7db7fa2263.Nodes=function(){let e=new $0fa5f465218bcb0f$export$f3890eeaf6851387("vec3 attenuation(vec3 wavelengths, float filmThickness, float movement, float noiseStrength, float noiseScale, vec3 offset) {\n                 vec3 st = position / noiseScale;\n\t\t\t\t vec3 q = vec3(simplex3d(st),\n\t\t\t\t\t\t\t  simplex3d(st + vec3(1.0)),\n\t\t\t\t\t\t\t  simplex3d(st + vec3(1.0)));\n\n\t\t\t\t vec3 r = vec3(simplex3d(st + vec3(1.4, 1.3, 1.0) * q + vec3(1.7, 9.2, 1.0)),\n\t\t\t\t\t\t\t  simplex3d(st + vec3(2.0, 1.2, 1.0) * q + vec3(8.3, 2.8, 1.0)),\n\t\t\t\t\t\t\t  simplex3d(st * q));\n\n                 float noise = simplex3d(st + r);\n\n                 return .5 + .5 * cos((((filmThickness + (noise * noiseStrength)) / (vec3(wavelengths.r * 1.0, wavelengths.g * 0.8, wavelengths.b * 0.6) + 1.0)) * dot(normalize(vWorldViewDir + (offset * -0.001)), normalize(vWNormal))) + movement);\n             }",[$a11f1c598f2ee593$export$2e2bcd8739ae039.simplex]);return{rainbow:new $0fa5f465218bcb0f$export$f3890eeaf6851387("vec3 rainbow(float filmThickness, float movement, vec3 wavelengths, float noiseStrength, float noiseScale, vec3 offset, float alpha, out float calpha) {\n                 vec3 res = clamp(attenuation(wavelengths, filmThickness, movement, noiseStrength, noiseScale, offset), 0.0, 2.0);\n\n                 float rainbowContribution = clamp(res.r + res.g + res.b, 0.0, 1.0);\n                 float lalpha = alpha * rainbowContribution;\n                 calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n                 accumAlpha += ( 1.0 - accumAlpha ) * lalpha;\n\n                 return res;\n             }",[e])}}();class $3dcca6acba3003fa$export$80bcda7eaa571a79 extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e,t){(t=null!=t?t:{}).shared=void 0!==t.shared&&t.shared,super(e,t),this.readonly=!1}setReadonly(e){return this.readonly=e,this.hashProperties=this.readonly?["value"]:void 0,this}getReadonly(){return this.readonly}createJSONNode(e){let t=super.createJSONNode(e);return!0===this.readonly&&(t.readonly=this.readonly),t}fromJSON(e,t){return super.fromJSON(e,t),void 0!==e.readonly&&this.setReadonly(e.readonly),this}generate(e,t,r,n,i,a){r=e.getUUID(null!=r?r:this.getUUID()),n=null!=n?n:this.getType(e);let o=e.getNodeData(r);return this.getReadonly()&&void 0!==this.generateReadonly?this.generateReadonly(e,t,r,n,i,a):e.isShader("vertex")?(o.vertex||(o.vertex=e.createVertexUniform(n,this,i,a,this.getLabel())),e.format(o.vertex.name,n,t)):(o.fragment||(o.fragment=e.createFragmentUniform(n,this,i,a,this.getLabel())),e.format(o.fragment.name,n,t))}copy(e){return super.copy(e),this.readonly=e.readonly,this}}class $19d034ed0741dce2$export$5529805dde9bd358 extends $ec6150e4a03e3752$export$2e2bcd8739ae039{static CUBE="cube";static SPHERE="sphere";static VECTOR="vector";constructor(e){super("v3"),this.nodeType="Reflect",this.scope=null!=e?e:$19d034ed0741dce2$export$5529805dde9bd358.CUBE}getUnique(e){return!e.context.viewNormal}getType(){return this.scope===$19d034ed0741dce2$export$5529805dde9bd358.SPHERE?"v2":this.type}generate(e,t){let r=this.getUnique(e);if(e.isShader("fragment")){let n;switch(this.scope){case $19d034ed0741dce2$export$5529805dde9bd358.VECTOR:{let t=new $acd9f4f16f75e504$export$90749bc64b569dd0($acd9f4f16f75e504$export$90749bc64b569dd0.VIEW),i=e.context.roughness,a=t.build(e,"v3"),o=new $c513c62b80bdc99f$export$13807d9ee5a34a42($c513c62b80bdc99f$export$13807d9ee5a34a42.VIEW).build(e,"v3"),s=i?i.build(e,"f"):void 0,c=`reflect( -normalize( ${o} ), ${a} )`;s&&(c=`normalize( mix( ${c}, ${a}, ${s} * ${s} ) )`);let l=`inverseTransformDirection( ${c}, viewMatrix )`;r?(e.addNodeCode(`vec3 reflectVec = ${l};`),n="reflectVec"):n=l;break}case $19d034ed0741dce2$export$5529805dde9bd358.CUBE:{let t=new $19d034ed0741dce2$export$5529805dde9bd358($19d034ed0741dce2$export$5529805dde9bd358.VECTOR).build(e,"v3"),i="vec3( -"+t+".x, "+t+".yz )";r?(e.addNodeCode(`vec3 reflectCubeVec = ${i};`),n="reflectCubeVec"):n=i;break}case $19d034ed0741dce2$export$5529805dde9bd358.SPHERE:{let t="normalize( ( viewMatrix * vec4( "+new $19d034ed0741dce2$export$5529805dde9bd358($19d034ed0741dce2$export$5529805dde9bd358.VECTOR).build(e,"v3")+", 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) ).xy * 0.5 + 0.5";r?(e.addNodeCode(`vec2 reflectSphereVec = ${t};`),n="reflectSphereVec"):n=t;break}}return e.format(n,this.getType(),t)}return console.warn("ReflectNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.type,t)}copy(e){return super.copy(e),this.scope=e.scope,this}toJSON(e){let t=this.getJSONNode(e);return t||(t=this.createJSONNode(e),t.scope=this.scope),t.nodeType=this.nodeType,t}fromJSON(e,t){return super.fromJSON(e,t),e.scope&&(this.scope=e.scope),this}}let $73698df057823186$var$xF=new RegExp("^structs*([a-z_0-9]+)s*{s*((.|\n    )*?)}","gim"),$73698df057823186$var$vF=new RegExp("s*(w*?)s*(w*?)(=|,)","gim");class $73698df057823186$export$eabc71f011df675a extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e=""){super(),this.inputs=[],this.src="",this.nodeType="Struct",this.parse(e)}getType(e){return e.getTypeByFormat(this.name)}getInputByName(e){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}generate(e,t,r,n,i){return"source"===t?this.src+";":e.format("( "+this.src+" )",this.getType(e),t)}parse(e=""){this.src=e,this.inputs=[];let t=$73698df057823186$var$xF.exec(e);if(t){let e,r=t[2];for(;e=$73698df057823186$var$vF.exec(r);)this.inputs.push({type:e[1],name:e[2]});this.name=t[1]}else this.name="";this.type=this.name}}class $28a8a0380977c00f$export$79e818cbb1c58600 extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e=new $f5d84a983111222a$export$7da1e4d32492b08a,t,r){super("v4"),this.nodeType="TextureCube",this.value=e,this.radianceNode=new TextureCubeUV(this.value,null!=t?t:new $19d034ed0741dce2$export$5529805dde9bd358($19d034ed0741dce2$export$5529805dde9bd358.VECTOR),r),this.irradianceNode=new TextureCubeUV(this.value,new Normal(Normal.WORLD),new $b300d378bbfb4a65$export$8e55930357bb50a7(1).setReadonly(!0))}generate(e,t){return e.isShader("fragment")?(e.require("irradiance"),e.context.bias&&e.context.bias.setTexture(this.value),("irradiance"===e.slot?this.irradianceNode:this.radianceNode).build(e,t)):(console.warn("TextureCubeNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t))}copy(e){return super.copy(e),this.value.copy(e.value),this.radianceNode.copy(e.radianceNode),this.irradianceNode.copy(e.irradianceNode),this}}class $8efa919912516c40$export$2e2bcd8739ae039 extends $0fa5f465218bcb0f$export$f3890eeaf6851387{constructor(e="",t,r,n,i){super(e,i,n,r,t),this.nodeType="Expression"}}class $de2744521e07322f$export$6b248f7be89c9e5 extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,t=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039,r=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039){super("v4"),this.nodeType="TextureCubeUV",this.value=e,this.uv=t,this.bias=r}bilinearCubeUV(e,t,r,n){var i,a,o,s;let c=new $de2744521e07322f$export$6b248f7be89c9e5($de2744521e07322f$export$6b248f7be89c9e5.Nodes.bilinearCubeUV,[t,r,n]);this.colorSpaceTL=null!=(i=this.colorSpaceTL)?i:new ColorSpace(new $8efa919912516c40$export$2e2bcd8739ae039("","v4")),this.colorSpaceTL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTL.input.parse(c.build(e)+".tl"),this.colorSpaceTR=null!=(a=this.colorSpaceTR)?a:new ColorSpace(new $8efa919912516c40$export$2e2bcd8739ae039("","v4")),this.colorSpaceTR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTR.input.parse(c.build(e)+".tr"),this.colorSpaceBL=null!=(o=this.colorSpaceBL)?o:new ColorSpace(new $8efa919912516c40$export$2e2bcd8739ae039("","v4")),this.colorSpaceBL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBL.input.parse(c.build(e)+".bl"),this.colorSpaceBR=null!=(s=this.colorSpaceBR)?s:new ColorSpace(new $8efa919912516c40$export$2e2bcd8739ae039("","v4")),this.colorSpaceBR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBR.input.parse(c.build(e)+".br");let l={include:e.isShader("vertex"),ignoreCache:!0};e.addContext(l),this.colorSpaceTLExp=new $8efa919912516c40$export$2e2bcd8739ae039(this.colorSpaceTL.build(e,"v4"),"v4"),this.colorSpaceTRExp=new $8efa919912516c40$export$2e2bcd8739ae039(this.colorSpaceTR.build(e,"v4"),"v4"),this.colorSpaceBLExp=new $8efa919912516c40$export$2e2bcd8739ae039(this.colorSpaceBL.build(e,"v4"),"v4"),this.colorSpaceBRExp=new $8efa919912516c40$export$2e2bcd8739ae039(this.colorSpaceBR.build(e,"v4"),"v4"),e.removeContext();let d=new $8efa919912516c40$export$2e2bcd8739ae039("mix( mix( cubeUV_TL, cubeUV_TR, cubeUV.f.x ), mix( cubeUV_BL, cubeUV_BR, cubeUV.f.x ), cubeUV.f.y )","v4");return d.keywords.cubeUV_TL=this.colorSpaceTLExp,d.keywords.cubeUV_TR=this.colorSpaceTRExp,d.keywords.cubeUV_BL=this.colorSpaceBLExp,d.keywords.cubeUV_BR=this.colorSpaceBRExp,d.keywords.cubeUV=c,d}generate(e,t){if(e.isShader("fragment")){let r=this.uv,n=this.bias||e.context.roughness,i=new FunctionCall($de2744521e07322f$export$6b248f7be89c9e5.Nodes.roughnessToMip,[n]),a=new Math(i,$de2744521e07322f$export$6b248f7be89c9e5.Nodes.m0,$de2744521e07322f$export$6b248f7be89c9e5.Nodes.cubeUV_maxMipLevel,nt.CLAMP),o=new Math(a,Math.FLOOR),s=new Math(a,Math.FRACT),c=this.bilinearCubeUV(e,this.value,r,o),l=this.bilinearCubeUV(e,this.value,r,new Operator(o,new $b300d378bbfb4a65$export$8e55930357bb50a7(1).setReadonly(!0),Hn.ADD)),d=new Math(c,l,s,Math.MIX);return e.format(d.build(e),"v4",t)}return console.warn("TextureCubeUVNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t)}copy(e){return super.copy(e),this.uv.copy(e.uv),this.bias.copy(e.bias),this.value.copy(e.value),e.colorSpaceTL?this.colorSpaceTL?this.colorSpaceTL.copy(e.colorSpaceTL):this.colorSpaceTL=e.colorSpaceTL.clone():this.colorSpaceTL=void 0,e.colorSpaceTR?this.colorSpaceTR?this.colorSpaceTR.copy(e.colorSpaceTR):this.colorSpaceTR=e.colorSpaceTR.clone():this.colorSpaceTR=void 0,e.colorSpaceBL?this.colorSpaceBL?this.colorSpaceBL.copy(e.colorSpaceBL):this.colorSpaceBL=e.colorSpaceBL.clone():this.colorSpaceBL=void 0,e.colorSpaceBR?this.colorSpaceBR?this.colorSpaceBR.copy(e.colorSpaceBR):this.colorSpaceBR=e.colorSpaceBR.clone():this.colorSpaceBR=void 0,e.colorSpaceTLExp?this.colorSpaceTLExp?this.colorSpaceTLExp.copy(e.colorSpaceTLExp):this.colorSpaceTLExp=e.colorSpaceTLExp.clone():this.colorSpaceTLExp=void 0,e.colorSpaceTRExp?this.colorSpaceTRExp?this.colorSpaceTRExp.copy(e.colorSpaceTRExp):this.colorSpaceTRExp=e.colorSpaceTRExp.clone():this.colorSpaceTRExp=void 0,e.colorSpaceBLExp?this.colorSpaceBLExp?this.colorSpaceBLExp.copy(e.colorSpaceBLExp):this.colorSpaceBLExp=e.colorSpaceBLExp.clone():this.colorSpaceBLExp=void 0,e.colorSpaceBRExp?this.colorSpaceBRExp?this.colorSpaceBRExp.copy(e.colorSpaceBRExp):this.colorSpaceBRExp=e.colorSpaceBRExp.clone():this.colorSpaceBRExp=void 0,this}}$de2744521e07322f$export$6b248f7be89c9e5.Nodes=function(){let e=new $73698df057823186$export$eabc71f011df675a("\n        struct TextureCubeUVData {\n\t\t\tvec4 tl;\n\t\t\tvec4 tr;\n\t\t\tvec4 br;\n\t\t\tvec4 bl;\n\t\t\tvec2 f;\n\t\t}"),t=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float cubeUV_maxMipLevel 8.0",!0),r=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float cubeUV_minMipLevel 4.0",!0),n=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float cubeUV_maxTileSize 256.0",!0),i=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float cubeUV_minTileSize 16.0",!0),a=new $0fa5f465218bcb0f$export$f3890eeaf6851387("float getFace(vec3 direction) {\n\t\t\t\tvec3 absDirection = abs(direction);\n\t\t\t\tfloat face = -1.0;\n\t\t\t\tif (absDirection.x > absDirection.z) {\n\t\t\t\t\tif (absDirection.x > absDirection.y)\n\t\t\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\t\t\telse\n\t\t\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t\t\t} else {\n\t\t\t\t\tif (absDirection.z > absDirection.y)\n\t\t\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\t\t\telse\n\t\t\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t\t\t}\n\t\t\t\treturn face;\n\t\t}");a.useKeywords=!1;let o=new $0fa5f465218bcb0f$export$f3890eeaf6851387("vec2 getUV(vec3 direction, float face) {\n\t\t\t\tvec2 uv;\n\t\t\t\tif (face == 0.0) {\n\t\t\t\t\tuv = vec2(direction.z, direction.y) / abs(direction.x); // pos x\n\t\t\t\t} else if (face == 1.0) {\n\t\t\t\t\tuv = vec2(-direction.x, -direction.z) / abs(direction.y); // pos y\n\t\t\t\t} else if (face == 2.0) {\n\t\t\t\t\tuv = vec2(-direction.x, direction.y) / abs(direction.z); // pos z\n\t\t\t\t} else if (face == 3.0) {\n\t\t\t\t\tuv = vec2(-direction.z, direction.y) / abs(direction.x); // neg x\n\t\t\t\t} else if (face == 4.0) {\n\t\t\t\t\tuv = vec2(-direction.x, direction.z) / abs(direction.y); // neg y\n\t\t\t\t} else {\n\t\t\t\t\tuv = vec2(direction.x, direction.y) / abs(direction.z); // neg z\n\t\t\t\t}\n\t\t\t\treturn 0.5 * (uv + 1.0);\n\t\t}");o.useKeywords=!1;let s=new $0fa5f465218bcb0f$export$f3890eeaf6851387("TextureCubeUVData bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n\t\t\tfloat face = getFace(direction);\n\t\t\tfloat filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n\t\t\tmipInt = max(mipInt, cubeUV_minMipLevel);\n\t\t\tfloat faceSize = exp2(mipInt);\n\t\t\tfloat texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n\t\t\tvec2 uv = getUV(direction, face) * (faceSize - 1.0);\n\t\t\tvec2 f = fract(uv);\n\t\t\tuv += 0.5 - f;\n\t\t\tif (face > 2.0) {\n\t\t\t\tuv.y += faceSize;\n\t\t\t\tface -= 3.0;\n\t\t\t}\n\t\t\tuv.x += face * faceSize;\n\t\t\tif(mipInt < cubeUV_maxMipLevel){\n\t\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t\t}\n\t\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\t\tuv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n\t\t\tuv *= texelSize;\n\t\t\tvec4 tl = texture2D(envMap, uv);\n\t\t\tuv.x += texelSize;\n\t\t\tvec4 tr = texture2D(envMap, uv);\n\t\t\tuv.y += texelSize;\n\t\t\tvec4 br = texture2D(envMap, uv);\n\t\t\tuv.x -= texelSize;\n\t\t\tvec4 bl = texture2D(envMap, uv);\n\t\t\treturn TextureCubeUVData( tl, tr, br, bl, f );\n\t\t}",[e,a,o,t,r,n,i]);s.useKeywords=!1;let c=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float r0 1.0",!0),l=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float v0 0.339",!0),d=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float m0 -2.0",!0),u=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float r1 0.8",!0),h=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float v1 0.276",!0),f=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float m1 -1.0",!0),p=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float r4 0.4",!0),m=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float v4 0.046",!0),v=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float m4 2.0",!0),$=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float r5 0.305",!0),g=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float v5 0.016",!0),b=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float m5 3.0",!0),x=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float r6 0.21",!0),y=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float v6 0.0038",!0),w=new $6d96ac0e6aa542d5$export$8ad5d15375e29446("float m6 4.0",!0);return{bilinearCubeUV:s,roughnessToMip:new $0fa5f465218bcb0f$export$f3890eeaf6851387("float roughnessToMip(float roughness) {\n\t\t\tfloat mip = 0.0;\n\t\t\tif (roughness >= r1) {\n\t\t\t\tmip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n\t\t\t} else if (roughness >= r4) {\n\t\t\t\tmip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n\t\t\t} else if (roughness >= r5) {\n\t\t\t\tmip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n\t\t\t} else if (roughness >= r6) {\n\t\t\t\tmip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n\t\t\t} else {\n\t\t\t\tmip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25\n\t\t\t}\n\t\t\treturn mip;\n\t\t}",[c,l,d,u,h,f,p,m,v,$,g,b,x,y,w]),m0:d,cubeUV_maxMipLevel:t}}();class $a0fbafe43e498bf2$export$24c11d44c152d0bb extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e,t,r,n,i,a,o,s){super("v3"),this.nodeType="Transmission",this.thickness=e,this.ior=t,this.roughness=r,this.transmissionSamplerSize=n,this.transmissionSamplerMap=i,this.transmissionDepthMap=a,this.aspectRatio=o,this.alpha=s,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0,e.isShader("fragment")){e.define("NUM_SAMPLES",30),e.require("worldPosition"),e.requires.worldNormal=!0,e.requires.modelMatrix=!0,e.requires.projectionMatrix=!0,e.addFragmentVariable(this.calpha,"float");let r=e.include($a0fbafe43e498bf2$export$24c11d44c152d0bb.Nodes.transmission),n=[];return n.push(this.thickness.build(e,"f")),n.push(this.ior.build(e,"f")),n.push(this.roughness.build(e,"f")),n.push(this.transmissionSamplerSize.build(e,"v2")),n.push(this.transmissionSamplerMap.getTexture(e,"t")),n.push(this.transmissionDepthMap.getTexture(e,"t")),n.push(this.aspectRatio.build(e,"v2")),n.push("normal"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(r+"("+n.join(",")+")",this.getType(e),t)}return console.warn("TransmissionNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}copy(e){return super.copy(this),this.thickness=e.thickness.clone(),this.ior=e.ior.clone(),this.roughness=e.roughness.clone(),this.transmissionSamplerSize=e.transmissionSamplerSize.clone(),this.transmissionSamplerMap=e.transmissionSamplerMap,this.transmissionDepthMap=e.transmissionDepthMap,this.alpha=e.alpha.clone(),this.calpha=e.calpha,this}}$a0fbafe43e498bf2$export$24c11d44c152d0bb.Nodes=function(){let e=new $0fa5f465218bcb0f$export$f3890eeaf6851387("\n            float gaussian(vec2 i) {\n                const float sigma = float(NUM_SAMPLES) * .25;\n                return exp( -.5* dot(i/=sigma,i) ) / ( 6.28 * sigma*sigma );\n            }"),t=new $0fa5f465218bcb0f$export$f3890eeaf6851387("\n            vec4 blur(sampler2D sp, vec2 U, vec2 scale, float lod, sampler2D dm, vec2 unrefractedU, vec2 aspectRatio) {\n                // Slightly modified version of this:\n\n                const int LOD = 2;\n                const int sLOD = 4; // tile size = 2^LOD\n\n                vec4 O = vec4(0);\n                const int s = NUM_SAMPLES/sLOD;\n                for ( int i = 0; i < s*s; i++ ) {\n                    int modulo = (i)-((i)/(s))*(s);\n                    vec2 d = vec2(float(modulo), float(i/s))*float(sLOD) - float(NUM_SAMPLES)/2.;\n                    vec2 uv = U + (scale * aspectRatio) * d;\n                    // What is the depth of the opaque object we're trying to sample\n                    float opaqueDepth = texture2D(dm, uv).r;\n                    if (opaqueDepth < gl_FragCoord.z) {\n                        uv = unrefractedU + ((scale * min(lod / 2., 1.)) * aspectRatio) * d;\n                        lod = lod > 4.0 ? lod : lod / 2.0;\n                    }\n\t\t            #ifdef TEXTURE_LOD_EXT\n                    O += gaussian(d) * texture2DLodEXT( sp, uv, lod);\n                    #else\n                    O += gaussian(d) * textureLod( sp, uv, lod);\n                    #endif\n                }\n                return O / O.a;\n            }",[e]),r=new $0fa5f465218bcb0f$export$f3890eeaf6851387("\n            vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {\n\t\t        // Direction of refracted light.\n\t\t        vec3 refractionVector = refract( -v,  n, 1.0 / ior );\n\t\t        // Compute rotation-independant scaling of the model matrix.\n\t\t        vec3 modelScale;\n\t\t        modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\t        modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\t        modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\t        // The thickness is specified in local space.\n\t\t        return normalize( refractionVector ) * thickness * modelScale;\n\t        }"),n=new $0fa5f465218bcb0f$export$f3890eeaf6851387("\nfloat applyIorToRoughness( float roughness, float ior ) {\n\t\t// Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and\n\t\t// an IOR of 1.5 results in the default amount of microfacet refraction.\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t} "),i=new $0fa5f465218bcb0f$export$f3890eeaf6851387("\nvec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 unrefractedCoords, vec2 aspectRatio) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n        float lod = applyIorToRoughness(roughness, ior);\n\n        return blur(transmissionSamplerMap, fragCoord, vec2(lod / (transmissionSamplerSize.x / 2.)), min(framebufferLod / 5.5, 8.5), transmissionDepthMap, unrefractedCoords, aspectRatio);\n\t}",[n,t]),a=new $0fa5f465218bcb0f$export$f3890eeaf6851387("\nvec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio ) {\n        vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n        vec3 refractedRayExit = position + transmissionRay;\n\n        // Project refracted vector on the framebuffer, while mapping to normalized device coordinates.\n        vec4 ndcPos = projMatrix * viewMatrix *  vec4( refractedRayExit, 1.0 );\n        vec2 refractionCoords = ndcPos.xy / ndcPos.w;\n        refractionCoords += 1.0;\n        refractionCoords /= 2.0;\n\n        vec4 ndcPosUnrefracted = projMatrix * viewMatrix * vec4(position, 1.0 );\n        vec2 unrefractedCoords = ndcPosUnrefracted.xy / ndcPosUnrefracted.w;\n        unrefractedCoords += 1.0;\n        unrefractedCoords /= 2.0;\n\n        // Sample framebuffer to get pixel the refracted ray hits.\n        vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, unrefractedCoords, aspectRatio );\n        // Get the specular component.\n        return vec4( ( 1.0 ) * transmittedLight.rgb, transmittedLight.a );\n    }",[i,r]);return{transmission:new $0fa5f465218bcb0f$export$f3890eeaf6851387("\n            vec3 transmission(float thickness, float ior, float roughness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio, vec3 normal, float alpha, out float calpha) {\n                vec3 v = vec3(0.);\n                if (isOrthographic) {\n                    v = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n                } else {\n                    v = normalize(vWPosition - cameraPosition);\n                }\n                vec4 transmission = getIBLVolumeRefraction(vWNormal, -v, roughness,  vWPosition, modelMatrix, viewMatrix, projectionMatrix, ior, thickness, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, aspectRatio );\n                float lalpha = alpha;\n\n                 calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n                 accumAlpha += ( 1.0 - accumAlpha ) * lalpha;\n                 return transmission.rgb;\n            }",[a])}}();class $9d94a445cf80c34b$export$99261a5e00029637 extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e){super("v2",{shared:!1}),this.nodeType="UV",this.index=null!=e?e:0}generate(e,t){e.requires.uv[this.index]=!0;let r=this.index>0?this.index+1:"",n=e.isShader("vertex")?"uv"+r:"vUv"+r;return e.format(n,this.getType(e),t)}copy(e){return super.copy(e),this.index=e.index,this}toJSON(e){let t=this.getJSONNode(e);return t||(t=this.createJSONNode(e),t.index=this.index),t.nodeType=this.nodeType,t}fromJSON(e,t){return super.fromJSON(e,t),e.index&&(this.index=e.index),this}}class $ea607a8295702ef1$export$35a784ba56513e0b extends $ec6150e4a03e3752$export$2e2bcd8739ae039{constructor(e=new $8e339bc66620535d$export$657b728694f5d7df(0),t,r,n,i,a){super("v3"),this.nodeType="VertexDisplacement",this.displacementTypeIndex=e,this.intensity=t,this.movementOrTexture=r,Object.values($cf00a5c94ce7c28c$export$6935a6f1e1aeed09)[this.displacementTypeIndex.value]===DisplacementType.MAP&&(this.mat=new $be832e36fff49ab8$export$780d7114bf5fec67(this.movementOrTexture.value.matrix)),this.cropOrOffset=n,this.scale=i,this.noiseFunctionIndex=a}generate(e,t){if(e.isShader("vertex")){e.define("USE_LAYER_DISPLACE");let r,n=[];switch(n.push("displaced_position"),n.push("displaced_normal"),Object.values(DisplacementType)[this.displacementTypeIndex.value]){case $cf00a5c94ce7c28c$export$6935a6f1e1aeed09.MAP:r=e.include($ea607a8295702ef1$export$35a784ba56513e0b.Nodes.map),n.push(this.movementOrTexture.getTexture(e,"t")),n.push("uv"),n.push(this.cropOrOffset.build(e,"f")),this.mat&&n.push(this.mat.build(e,"mat3"));break;case $cf00a5c94ce7c28c$export$6935a6f1e1aeed09.NOISE:{let t=Object.values($cf00a5c94ce7c28c$export$e5f0756bec07cc35)[this.noiseFunctionIndex.value],i=new $0fa5f465218bcb0f$export$f3890eeaf6851387("vec3 orthogonal(vec3 v) {\n                        return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));\n                    }"),a=new $0fa5f465218bcb0f$export$f3890eeaf6851387(`vec3 distorted(vec3 p, vec3 n, float scale, float intensity, vec3 offset, float neighbour_offset, float movement) {\n                        return p + n * ${t}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1)) * intensity;\n                    }`,[$a11f1c598f2ee593$export$2e2bcd8739ae039.simplex,$a11f1c598f2ee593$export$2e2bcd8739ae039.simplexFractal,$a11f1c598f2ee593$export$2e2bcd8739ae039.simplexAshima,$a11f1c598f2ee593$export$2e2bcd8739ae039.fbm,$a11f1c598f2ee593$export$2e2bcd8739ae039.perlin]),o=new $0fa5f465218bcb0f$export$f3890eeaf6851387("vec3 vertexDisplacementNoise(vec3 position, vec3 normal, float scale, vec3 offset, float movement, float intensity, out vec3 displaced_normal) {\n                        vec3 displaced_position = distorted(position, normal, scale, intensity, offset, neighbor_offset, movement);\n                        vec3 tangent1 = orthogonal(normal);\n                        vec3 tangent2 = normalize(cross(normal, tangent1));\n\n                        // TODO(Max): The distance to the neighbors was originally scaled by 0.1.\n                        // This caused some small oval/circular visual artifacts in the lighting.\n                        // For now, simply using neighbors further away betters the problem,\n                        // but we should figure out the underlying cause when we have some time.\n                        // Maybe its related to how we calculate the tangent and bitangent?\n                        vec3 nearby1 = position + tangent1;\n                        vec3 nearby2 = position + tangent2;\n                        vec3 distorted1 = distorted(nearby1, normal, scale, intensity, offset, neighbor_offset, movement);\n                        vec3 distorted2 = distorted(nearby2, normal, scale, intensity, offset, neighbor_offset, movement);\n                        displaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));\n                        return displaced_position;\n                    }",[a,i]);r=e.include(o),n.push(this.scale.build(e,"f")),n.push(this.cropOrOffset.build(e,"v3")),n.push(this.movementOrTexture.build(e,"f"));break}}return n.push(this.intensity.build(e,"f")),n.push("displaced_normal"),e.format(r+"("+n.join(",")+")",this.getType(e),t)}return console.warn("VertexDisplacementNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}copy(e){var t,r;return super.copy(e),this.noiseFunctionIndex=null==(t=e.noiseFunctionIndex)?void 0:t.clone(),this.scale=null==(r=e.scale)?void 0:r.clone(),this.cropOrOffset=e.cropOrOffset.clone(),this.intensity=e.intensity.clone(),this.movementOrTexture=e.movementOrTexture.clone(),this}}$ea607a8295702ef1$export$35a784ba56513e0b.Nodes=function(){let e=new $0fa5f465218bcb0f$export$f3890eeaf6851387("vec3 orthogonal(vec3 v) {\n\t\t\t\treturn normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));\n\t\t\t}"),t=new $0fa5f465218bcb0f$export$f3890eeaf6851387("float displacementMapTexture(sampler2D tex, float crop, vec2 uv, mat3 mat, vec2 offset) {\n\t\t\t\tvec2 uvs = (mat * vec3(uv * 2.0 - 1.0, 1.0) / 2.0 + 0.5).xy + offset;\n\t\t\t\tvec4 tmp = texture2D(tex, uvs);\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tif (crop > 0.5) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\treturn 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn col.r;\n\t\t\t}");return{map:new $0fa5f465218bcb0f$export$f3890eeaf6851387("vec3 vertexDisplacementMap(vec3 position, vec3 normal, sampler2D tex, vec2 uv, float crop, mat3 mat, float intensity, out vec3 displaced_normal) {\n\t\t\t\tvec3 displaced_position = position + normal * displacementMapTexture(tex, crop, uv, mat, vec2(0.0)) * intensity;\n\t\t\t\tvec3 tangent1 = normalize(orthogonal(normal));\n\t\t\t\tvec3 tangent2 = normalize(cross(normal, tangent1));\n\t\t\t\tvec3 nearby1 = position + tangent1 * 0.1;\n\t\t\t\tvec3 nearby2 = position + tangent2 * 0.1;\n\t\t\t\tvec3 distorted1 = nearby1 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;\n\t\t\t\tvec3 distorted2 = nearby2 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;\n\t\t\t\tdisplaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));\n\t\t\t\treturn displaced_position;\n\t\t\t}",[e,t])}}();class $33b61c4455783b12$export$8a96196a63ba95a9 extends $3dcca6acba3003fa$export$80bcda7eaa571a79{constructor(e){super("b"),this.nodeType="Bool",this.value=null!=e&&e}generateReadonly(e,t,r,n){return e.format(this.value?"true":"false",n,t)}copy(e){return super.copy(e),this.value=e.value,this}}class $3d6aa5349a88f941$export$adb1612036698e33 extends $3dcca6acba3003fa$export$80bcda7eaa571a79{constructor(e=0,t,r,n){super("c"),this.nodeType="Color",this.value=e instanceof $879988fab1d83fef$export$2e2bcd8739ae039?e:new $879988fab1d83fef$export$2e2bcd8739ae039(e||0,t,r,n)}setRGBA(e){this.value.setRGBA(e.r,e.g,e.b,e.a)}generate(e,t,r,n,i,a){r=e.getUUID(null!=r?r:this.getUUID()),n=null!=n?n:this.getType(e);let o=e.getNodeData(r),s=this.getReadonly()&&void 0!==this.generateReadonly;if(this.alpha){let t=this.alpha.build(e,"f");e.addFragmentNodeCode(`accumAlpha += ( 1.0 - accumAlpha ) * ${t};`)}return s?this.generateReadonly(e,t,r,n,i,a):e.isShader("vertex")?(o.vertex||(o.vertex=e.createVertexUniform(n,this,i,a,this.getLabel())),e.format(o.vertex.name,n,t)):(o.fragment||(o.fragment=e.createFragmentUniform(n,this,i,a,this.getLabel())),e.format(o.fragment.name,n,t))}generateReadonly(e,t,r,n,i,a){return e.format("vec3("+this.value.r+", "+this.value.g+", "+this.value.b+")",n,t)}}var $ilwiq=parcelRequire("ilwiq");class $5c475583596ec84d$export$d39765a38ea590d1 extends $3dcca6acba3003fa$export$80bcda7eaa571a79{constructor(e=new(0,$ilwiq.CubeTexture),t,r){super("v4",{shared:!0}),this.nodeType="CubeTexture",this.value=e,this.uv=null!=t?t:new Reflect,this.bias=r}getTexture(e,t){return super.generate(e,t,this.value.uuid,"tc")}generate(e,t){var r,n;if("samplerCube"===t)return this.getTexture(e,t);let i,a=this.getTexture(e,t),o=null==(r=this.uv)?void 0:r.build(e,"v3"),s=this.bias?this.bias.build(e,"f"):void 0;void 0===s&&e.context.bias&&(s=e.context.bias.setTexture(this).build(e,"f")),i=s?"texCubeBias( "+a+", "+o+", "+s+" )":"texCube( "+a+", "+o+" )";let c={include:e.isShader("vertex"),ignoreCache:!0},l=this.getType(e);return e.addContext(c),this.colorSpace=null!=(n=this.colorSpace)?n:new $8503a0a0fcc89892$export$e738dfb0a9c1234a(new $8efa919912516c40$export$2e2bcd8739ae039("",l)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(i),i=this.colorSpace.build(e,l),e.removeContext(),e.format(i,l,t)}copy(e){return super.copy(e),this.value.copy(e.value),e.uv?this.uv?this.uv.copy(e.uv):this.uv=e.uv.clone():this.uv=void 0,e.bias?this.bias?this.bias.copy(e.bias):this.bias=e.bias.clone():this.bias=void 0,this}}class $b300d378bbfb4a65$export$8e55930357bb50a7 extends $3dcca6acba3003fa$export$80bcda7eaa571a79{constructor(e){super("f"),this.nodeType="Float",this.value=null!=e?e:0}generateReadonly(e,t,r,n,i,a){return e.format(this.value+(this.value%1?"":".0"),n,t)}copy(e){return super.copy(e),this.value=e.value,this}}class $9d16feb65e294ddb$export$3cc7a80bfd915e5c extends $3dcca6acba3003fa$export$80bcda7eaa571a79{constructor(e=1,t){super("f[]"),this.nodeType="FloatArray",this.size=e,this.value=Array.isArray(t)?t:"number"==typeof t?new Array(e).fill(t):new Array(e).fill(0)}copy(e){return super.copy(e),this.size=e.size,this.value=[...e.value],this}}class $8e339bc66620535d$export$657b728694f5d7df extends $3dcca6acba3003fa$export$80bcda7eaa571a79{constructor(e){super("i"),this.nodeType="Int",this.value=Math.floor(null!=e?e:0)}generateReadonly(e,t,r,n,i,a){return e.format(this.value.toString(),n,t)}copy(e){return super.copy(e),this.value=e.value,this}}var $ilwiq=parcelRequire("ilwiq");class $be832e36fff49ab8$export$780d7114bf5fec67 extends $3dcca6acba3003fa$export$80bcda7eaa571a79{constructor(e){super("m3"),this.nodeType="Matrix3",this.value=null!=e?e:new(0,$ilwiq.Matrix3)}generateReadonly(e,t,r,n,i,a){return e.format("mat3("+this.value.elements.join(", ")+")",n,t)}copy(e){return super.copy(e),this.elements=e.elements,this}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}}var $ilwiq=parcelRequire("ilwiq");function $dae106a43e0e5840$var$bF(e){if(/^data:/i.test(e.src))return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===_l&&(_l=document.createElement("canvas")),_l.width=e.width,_l.height=e.height;let r=_l.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=_l}let r=e.src.startsWith("blob:")?e.fileName:e.src;return/\.jpe?g$/i.test(r)?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}function $dae106a43e0e5840$var$Y1(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?$dae106a43e0e5840$var$bF(e):(console.warn("THREE.Texture: Unable to serialize Texture."),"")}class $dae106a43e0e5840$export$2e2bcd8739ae039 extends $ilwiq.Texture{toJSON(e){let t=super.toJSON(e),r=void 0===e||"string"==typeof e;if(void 0!==this.image&&!r){let t=this.image;if(Array.isArray(t)){e.images[t.uuid].url=[];for(let r=0;r<t.length;r++)e.images[t.uuid].url[r]=$dae106a43e0e5840$var$Y1(t[r])}else e.images[t.uuid].url=$dae106a43e0e5840$var$Y1(t)}return t}}class $f5d84a983111222a$export$7da1e4d32492b08a extends $3dcca6acba3003fa$export$80bcda7eaa571a79{constructor(e=new $dae106a43e0e5840$export$2e2bcd8739ae039,t,r,n){super("v4",{shared:!0}),this.nodeType="Texture",this.value=e,this.uv=null!=t?t:new $9d94a445cf80c34b$export$99261a5e00029637,this.bias=r,this.project=void 0!==n&&n}getTexture(e,t){return super.generate(e,t,this.value.uuid,"t")}generate(e,t){var r;if("sampler2D"===t)return this.getTexture(e,t);let n,i,a=this.getTexture(e,t),o=this.uv.build(e,this.project?"v4":"v2"),s=this.bias?this.bias.build(e,"f"):void 0;void 0===s&&e.context.bias&&(s=e.context.bias.setTexture(this).build(e,"f")),n=this.project?"texture2DProj":s?"tex2DBias":"tex2D",i=s?n+"( "+a+", "+o+", "+s+" )":n+"( "+a+", "+o+" )";let c={include:e.isShader("vertex"),ignoreCache:!0},l=this.getType(e);return e.addContext(c),this.colorSpace=null!=(r=this.colorSpace)?r:new $8503a0a0fcc89892$export$e738dfb0a9c1234a(new $8efa919912516c40$export$2e2bcd8739ae039("",l)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(i),i=this.colorSpace.build(e,l),e.removeContext(),e.format(i,l,t)}copy(e){return super.copy(e),e.value.isRenderTargetTexture?this.value=e.value:this.value.copy(e.value),this.uv.copy(e.uv),e.bias?this.bias?this.bias.copy(e.bias):this.bias=e.bias.clone():this.bias=void 0,e.colorSpace?this.colorSpace?this.colorSpace.copy(e.colorSpace):this.colorSpace=e.colorSpace.clone():this.colorSpace=void 0,this.project=e.project,e.value.isRenderTargetTexture||(this.value.updateMatrix(),this.value.needsUpdate=!0),this}}var $ilwiq=parcelRequire("ilwiq");class $67c02f4e8276e3fb$export$3521adecc091d455 extends $3dcca6acba3003fa$export$80bcda7eaa571a79{constructor(e=0,t){super("v2"),this.nodeType="Vector2",this.value=e instanceof $ilwiq.Vector2?e:new(0,$ilwiq.Vector2)(e,t)}get x(){return this.value.x}set x(e){this.value.x=e}get y(){return this.value.y}set y(e){this.value.y=e}generateReadonly(e,t,r,n,i,a){return e.format("vec2("+this.value.x+", "+this.value.y+")",n,t)}copy(e){return super.copy(e),this.value.copy(e.value),this}}var $ilwiq=parcelRequire("ilwiq");class $8986f71b01c09fa5$export$b7c09c8ee3c7f7e4 extends $3dcca6acba3003fa$export$80bcda7eaa571a79{constructor(e=0,t,r){super("v3"),this.nodeType="Vector3",this.value=e instanceof $ilwiq.Vector3?e:new(0,$ilwiq.Vector3)(e,t,r)}get x(){return this.value.x}set x(e){this.value.x=e}get y(){return this.value.y}set y(e){this.value.y=e}get z(){return this.value.z}set z(e){this.value.z=e}generateReadonly(e,t,r,n,i,a){return e.format("vec3("+this.value.x+", "+this.value.y+", "+this.value.z+")",n,t)}copy(e){return super.copy(e),this.value.copy(e.value),this}}class $833374c6009aaaa9$export$9963d2f946672699 extends $3dcca6acba3003fa$export$80bcda7eaa571a79{constructor(e){super("v4"),this.nodeType="Vector4",this.value=e instanceof $879988fab1d83fef$export$2e2bcd8739ae039?e:new $879988fab1d83fef$export$2e2bcd8739ae039(e.r,e.g,e.b,e.a)}generateReadonly(e,t,r,n,i,a){return e.format("vec4("+this.value.r+", "+this.value.g+", "+this.value.b+", "+this.value.a+")",n,t)}copy(e){return super.copy(e),this.value.copy(e.value),this}}var $ilwiq=parcelRequire("ilwiq");class $e19652f1a72ed5b9$export$98122bb926c75f03 extends $3dcca6acba3003fa$export$80bcda7eaa571a79{constructor(e=1,t){super("v4[]"),this.nodeType="Vector4Array",this.size=e,this.value=Array.isArray(t)?t:t instanceof $ilwiq.Vector4?new Array(e).fill(t):new Array(e).fill(new(0,$ilwiq.Vector4)(0))}copy(e){return super.copy(e),this.value=e.value.map((e=>e.clone())),this}}var $ilwiq=parcelRequire("ilwiq");class $4a92a6a093b64c0c$export$cff88634e3289b72 extends $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039{constructor(){super("basic"),this.nodeType="Basic",this.color=new $3d6aa5349a88f941$export$adb1612036698e33(5855577)}generate(e){let t;if(e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform($ilwiq.UniformsUtils.merge([$ilwiq.UniformsLib.fog])),e.addParsCode(["varying vec3 vViewPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>"].join("\n"));let n=["#include <beginnormal_vertex>","\n\t\t\t\t#if !defined( USE_LAYER_DISPLACE )\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = normal;\n\n\t\t\t\t#if defined( USE_LAYER_DISPLACE )\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#if !defined( USE_LAYER_DISPLACE )\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif /* !USE_LAYER_DISPLACE */\n\t\t\t\t"];r&&n.push(r.code,r.result?"displaced_position = "+r.result+";":""),n.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","\tvNormal = transformedNormal;","#endif"),n.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>"),t=n.join("\n")}else{void 0===this.color&&(this.color=new $3d6aa5349a88f941$export$adb1612036698e33(5855577)),this.color.analyze(e,{slot:"color"}),this.alpha&&this.alpha.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"});let r=this.color.flow(e,"c",{slot:"color"}),n=this.alpha?this.alpha.flow(e,"f"):void 0,i=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0;e.requires.transparent=void 0!==n,e.addParsCode(["#include <fog_pars_fragment>","#include <dithering_pars_fragment>","varying vec3 vViewPosition;","#include <normal_pars_fragment>"].join("\n"));let a=["#include <normal_fragment_begin>",r.code];n&&a.push(n.code,"#ifdef ALPHATEST"," if ( "+n.result+" <= ALPHATEST ) discard;","#endif"),i?a.push(i.code,`vec3 outgoingLight = ${r.result};`,`vec3 finalColor = spe_blend(outgoingLight, ${i.result}, 1.0, SPE_BLENDING_NORMAL);`):a.push(`vec3 finalColor = ${r.result};`),n?a.push(`gl_FragColor = vec4( finalColor, accumAlpha * ${n.result} );`):a.push("gl_FragColor = vec4("+r.result+", 1.0 );"),a.push("#include <fog_fragment>","#include <dithering_fragment>"),t=a.join("\n")}return t}copy(e){return super.copy(e),e.color&&(this.color=e.color.clone()),e.position&&(this.position=e.position.clone()),e.alpha&&(this.alpha=e.alpha.clone()),e.afterColor&&(this.afterColor=e.afterColor.clone()),e.shadingAlpha&&(this.shadingAlpha=e.shadingAlpha.clone()),e.shadingBlend&&(this.shadingBlend=e.shadingBlend.clone()),this}}var $ilwiq=parcelRequire("ilwiq");class $714556b034d4ef4f$export$cf4eeafedd196920 extends $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039{constructor(){super("lambert"),this.nodeType="Lambert",this.color=new $3d6aa5349a88f941$export$adb1612036698e33(5855577),this.emissive=new $3d6aa5349a88f941$export$adb1612036698e33(0),this.emissiveIntensity=new $b300d378bbfb4a65$export$8e55930357bb50a7(1),this.shadingAlpha=new $b300d378bbfb4a65$export$8e55930357bb50a7(1),this.shadingBlend=new $8e339bc66620535d$export$657b728694f5d7df(0)}build(e){let t;if(e.define("LAMBERT"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform($ilwiq.UniformsUtils.merge([$ilwiq.UniformsLib.fog,$ilwiq.UniformsLib.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","\tvarying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <color_pars_vertex>","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join("\n"));let n=["#include <beginnormal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = normal;\n\n\t\t\t\t#ifdef USE_LAYER_DISPLACE\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif\n\t\t\t\t"];r&&n.push(r.code,r.result?"displaced_position = "+r.result+";":""),n.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),n.push("\t#include <project_vertex>","\t#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","\t#include <worldpos_vertex>","\n\t\t\t\t\tvec3 diffuse = vec3( 1.0 );\n\t\t\t\t\tGeometricContext geometry;\n\t\t\t\t\tgeometry.position = mvPosition.xyz;\n\t\t\t\t\tgeometry.normal = normalize( transformedNormal );\n\t\t\t\t\tgeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\n\t\t\t\t\tGeometricContext backGeometry;\n\t\t\t\t\tbackGeometry.position = geometry.position;\n\t\t\t\t\tbackGeometry.normal = -geometry.normal;\n\t\t\t\t\tbackGeometry.viewDir = geometry.viewDir;\n\t\t\t\t\tvLightFront = vec3( 0.0 );\n\t\t\t\t\tvIndirectFront = vec3( 0.0 );\n\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\tvLightBack = vec3( 0.0 );\n\t\t\t\t\t\tvIndirectBack = vec3( 0.0 );\n\t\t\t\t\t#endif\n\t\t\t\t\tIncidentLight directLight;\n\t\t\t\t\tfloat dotNL;\n\t\t\t\t\tvec3 directLightColor_Diffuse;\n\t\t\t\t\tvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\n\t\t\t\t\tvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\t\t\t\t\t\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n\t\t\t\t\t#endif\n\t\t\t\t\t#if NUM_POINT_LIGHTS > 0\n\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\t\t\t\t\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\t\t\t\t\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\t\t\t\t\t\tdirectLightColor_Diffuse = directLight.color;\n\t\t\t\t\t\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#pragma unroll_loop_end\n\t\t\t\t\t#endif\n\t\t\t\t\t#if NUM_SPOT_LIGHTS > 0\n\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\t\t\t\t\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\t\t\t\t\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\t\t\t\t\t\tdirectLightColor_Diffuse = directLight.color;\n\t\t\t\t\t\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#pragma unroll_loop_end\n\t\t\t\t\t#endif\n\t\t\t\t\t#if NUM_DIR_LIGHTS > 0\n\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\t\t\t\t\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\t\t\t\t\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\t\t\t\t\t\tdirectLightColor_Diffuse = directLight.color;\n\t\t\t\t\t\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#pragma unroll_loop_end\n\t\t\t\t\t#endif\n\t\t\t\t\t#if NUM_HEMI_LIGHTS > 0\n\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\t\t\t\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#pragma unroll_loop_end\n\t\t\t\t\t#endif\n\t\t\t\t","\t#include <shadowmap_vertex>","\t#include <fog_vertex>"),t=n.join("\n")}else{void 0===this.color&&(this.color=new $3d6aa5349a88f941$export$adb1612036698e33(5855577)),this.color.analyze(e,{slot:"color"}),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let r=this.color.flow(e,"c",{slot:"color"}),n=this.emissive.flow(e,"c",{slot:"emissive"}),i=this.emissiveIntensity.flow(e,"f",{slot:"emissive"}),a=this.shadingAlpha.flow(e,"f"),o=this.shadingBlend.flow(e,"i"),s=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,c=this.alpha?this.alpha.flow(e,"f"):void 0;e.requires.transparent=void 0!==c,e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#include <normal_pars_fragment>","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","\tvarying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <fog_pars_fragment>","#include <shadowmap_pars_fragment>","#include <shadowmask_pars_fragment>","#include <clipping_planes_pars_fragment>","#include <dithering_pars_fragment>"].join("\n"));let l=["#include <normal_fragment_begin>","\n\t\t\t\t// NOTE: gl_FrontFacing alternative using face normal estimation.\n\t\t\t\tvec3 viewdx = dFdx(vViewPosition);\n\t\t\t\tvec3 viewdy = dFdy(vViewPosition);\n\t\t\t\tvec3 faceNormal = normalize(cross(viewdx, viewdy));\n\t\t\t\tbool isFrontFacing = (dot(normal, faceNormal) >= 0.0);\n\t\t\t\t","#include <clipping_planes_fragment>"];l.push(r.code,"vec3 diffuseColor = "+r.result+";","ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );"),c&&l.push(c.code,"#ifdef ALPHATEST","if ( "+c.result+" <= ALPHATEST ) discard;","#endif"),l.push("#ifdef DOUBLE_SIDED","\treflectedLight.indirectDiffuse += ( isFrontFacing ) ? vIndirectFront : vIndirectBack;","#else","\treflectedLight.indirectDiffuse += vIndirectFront;","#endif","#include <lightmap_fragment>","reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );","#ifdef DOUBLE_SIDED","\treflectedLight.directDiffuse = ( isFrontFacing ) ? vLightFront : vLightBack;","#else","\treflectedLight.directDiffuse = vLightFront;","#endif","reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();"),n&&l.push(n.code,"reflectedLight.directDiffuse += "+n.result+" * "+i.result+";"),l.push("vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;"),l.push(`\n\t\t\t\tif (outgoingLight != diffuseColor) {\n\t\t\t\t\tfloat lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\n\t\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * ${a.result} * lightAccu;\n\t\t\t\t\toutgoingLight = spe_blend( diffuseColor, outgoingLight, ${a.result}, ${o.result} );\n\t\t\t\t}\n\t\t\t\t`),s&&l.push(s.code,`outgoingLight = spe_blend(outgoingLight, ${s.result}, 1.0, SPE_BLENDING_NORMAL);`),c?l.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${c.result} );`):l.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),l.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=l.join("\n")}return t}copy(e){return super.copy(e),this.emissiveIntensity=e.emissiveIntensity.clone(),e.color&&(this.color=e.color.clone()),e.position&&(this.position=e.position.clone()),e.afterColor&&(this.afterColor=e.afterColor.clone()),e.alpha&&(this.alpha=e.alpha.clone()),e.shadingAlpha&&(this.shadingAlpha=e.shadingAlpha.clone()),e.shadingBlend&&(this.shadingBlend=e.shadingBlend.clone()),e.emissive&&(this.emissive=e.emissive.clone()),this}}var $ilwiq=parcelRequire("ilwiq");class $bc35c1f148bdd886$export$325981b1716882d4 extends $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039{constructor(){super("phong"),this.nodeType="Phong",this.color=new $3d6aa5349a88f941$export$adb1612036698e33(5855577),this.specular=new $3d6aa5349a88f941$export$adb1612036698e33(1118481),this.shininess=new $b300d378bbfb4a65$export$8e55930357bb50a7(30),this.shadingAlpha=new $b300d378bbfb4a65$export$8e55930357bb50a7(1),this.shadingBlend=new $8e339bc66620535d$export$657b728694f5d7df(0)}build(e){let t;if(e.define("PHONG"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform($ilwiq.UniformsUtils.merge([$ilwiq.UniformsLib.fog,$ilwiq.UniformsLib.lights])),e.addParsCode(["varying vec3 vViewPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join("\n"));let n=["#include <beginnormal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = normal;\n\n\t\t\t\t#ifdef USE_LAYER_DISPLACE\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif\n\t\t\t\t"];r&&n.push(r.code,r.result?"displaced_position = "+r.result+";":""),n.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),n.push("\t#include <project_vertex>","\t#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","\t#include <worldpos_vertex>","\t#include <shadowmap_vertex>","\t#include <fog_vertex>"),t=n.join("\n")}else{void 0===this.color&&(this.color=new $3d6aa5349a88f941$export$adb1612036698e33(5855577)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let r=this.color.flow(e,"c",{slot:"color"}),n=this.specular.flow(e,"c"),i=this.shininess.flow(e,"f"),a=this.shadingAlpha.flow(e,"f"),o=this.shadingBlend.flow(e,"i"),s=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,c=this.alpha?this.alpha.flow(e,"f"):void 0;e.requires.transparent=void 0!==c,e.addParsCode(["uniform vec3 emissive;","#include <normal_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_phong_pars_fragment>","#include <shadowmap_pars_fragment>","#include <dithering_pars_fragment>"].join("\n"));let l=["#include <normal_fragment_begin>","\n\t\t\t\t// NOTE: gl_FrontFacing alternative using face normal estimation.\n\t\t\t\tvec3 viewdx = dFdx(vViewPosition);\n\t\t\t\tvec3 viewdy = dFdy(vViewPosition);\n\t\t\t\tvec3 faceNormal = normalize(cross(viewdx,viewdy));\n\t\t\t\tif (dot(normal, faceNormal) < 0.0) {\n\t\t\t\t\tnormal *= -1.0;\n\t\t\t\t}\n\t\t\t\t","\tBlinnPhongMaterial material;"];l.push(r.code,"\tvec3 diffuseColor = "+r.result+";","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","\tvec3 totalEmissiveRadiance = emissive;",n.code,"\tvec3 specular = "+n.result+";",i.code,"\tfloat shininess = max( 0.0001, "+i.result+" );","\tfloat specularStrength = 1.0;"),c&&l.push(c.code,"#ifdef ALPHATEST","if ( "+c.result+" <= ALPHATEST ) discard;","#endif"),l.push("material.diffuseColor = diffuseColor;"),l.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),l.push("vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;"),l.push(`\n\t\t\t\tif (outgoingLight != diffuseColor) {\n\t\t\t\t\tfloat lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\n\t\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * ${a.result} * lightAccu;\n\t\t\t\t\toutgoingLight = spe_blend( diffuseColor, outgoingLight, ${a.result}, ${o.result} );\n\t\t\t\t}\n\t\t\t\t`),s&&l.push(s.code,`outgoingLight = spe_blend(outgoingLight, ${s.result}, 1.0, SPE_BLENDING_NORMAL);`),c?l.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${c.result} );`):l.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),l.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=l.join("\n")}return t}copy(e){return super.copy(e),e.color&&(this.color=e.color.clone()),this.specular=e.specular.clone(),this.shininess=e.shininess.clone(),e.position&&(this.position=e.position.clone()),e.afterColor&&(this.afterColor=e.afterColor.clone()),e.alpha&&(this.alpha=e.alpha.clone()),e.shadingAlpha&&(this.shadingAlpha=e.shadingAlpha.clone()),e.shadingBlend&&(this.shadingBlend=e.shadingBlend.clone()),this}}class $edee30c4d992c263$export$6f88fe47d32c9c94 extends $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039{constructor(e=new $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039){super("v4"),this.nodeType="Raw",this.value=e}generate(e){let t=this.value.analyzeAndFlow(e,this.type),r=t.code+"\n";return e.isShader("vertex")?r+="gl_Position = "+t.result+";":r+="gl_FragColor = "+t.result+";",r}copy(e){return super.copy(e),this.value.copy(e.value),this}}var $ilwiq=parcelRequire("ilwiq");class $9fb77d863457a90c$export$d5a1f56087d42b19 extends $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039{constructor(){super("standard"),this.nodeType="Standard",this.color=new $3d6aa5349a88f941$export$adb1612036698e33(5855577),this.roughness=new $b300d378bbfb4a65$export$8e55930357bb50a7(.3),this.metalness=new $b300d378bbfb4a65$export$8e55930357bb50a7(0),this.reflectivity=new $b300d378bbfb4a65$export$8e55930357bb50a7(.5),this.shadingAlpha=new $b300d378bbfb4a65$export$8e55930357bb50a7(1),this.shadingBlend=new $8e339bc66620535d$export$657b728694f5d7df(0)}build(e){let t;if(e.define("STANDARD"),e.requires.lights=!0,e.extensions.derivatives=!0,e.extensions.shaderTextureLOD=!0,e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform($ilwiq.UniformsUtils.merge([$ilwiq.UniformsLib.fog,$ilwiq.UniformsLib.lights])),$ilwiq.UniformsLib.LTC_1&&(e.uniforms.ltc_1={value:void 0},e.uniforms.ltc_2={value:void 0}),e.addParsCode(["varying vec3 vViewPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join("\n"));let n=["#include <beginnormal_vertex>","\n\t\t\t\t#if !defined( USE_LAYER_DISPLACE )\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = normal;\n\n\t\t\t\t#if defined( USE_LAYER_DISPLACE )\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#if !defined( USE_LAYER_DISPLACE )\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif /* !USE_LAYER_DISPLACE */\n\t\t\t\t"];r&&n.push(r.code,r.result?"displaced_position = "+r.result+";":""),n.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),n.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>","#include <shadowmap_vertex>"),t=n.join("\n")}else{let r={gamma:!0};void 0===this.color&&(this.color=new $3d6aa5349a88f941$export$adb1612036698e33(5855577)),this.color.analyze(e,{slot:"color",context:r}),this.roughness.analyze(e),this.metalness.analyze(e),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e),this.reflectivity&&this.reflectivity.analyze(e);let n=this.color.flow(e,"c",{slot:"color",context:r}),i=this.roughness.flow(e,"f"),a=this.metalness.flow(e,"f"),o=this.shadingAlpha.flow(e,"f"),s=this.shadingBlend.flow(e,"i"),c=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,l=this.alpha?this.alpha.flow(e,"f"):void 0,d=this.reflectivity?this.reflectivity.flow(e,"f"):void 0;e.requires.transparent=void 0!==l,e.addParsCode(["varying vec3 vViewPosition;","#include <normal_pars_fragment>","#include <dithering_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_physical_pars_fragment>","#include <shadowmap_pars_fragment>"].join("\n"));let u=["#include <clipping_planes_fragment>","\t#include <normal_fragment_begin>","\n\t\t\t\t// NOTE: gl_FrontFacing alternative using face normal estimation.\n\t\t\t\tvec3 viewdx = dFdx(vViewPosition);\n\t\t\t\tvec3 viewdy = dFdy(vViewPosition);\n\t\t\t\tvec3 faceNormal = normalize(cross(viewdx,viewdy));\n\t\t\t\tif (dot(normal, faceNormal) < 0.0) {\n\t\t\t\t\tnormal *= -1.0;\n\t\t\t\t}\n\t\t\t\t","\tPhysicalMaterial material;","\tmaterial.diffuseColor = vec3( 1.0 );"];u.push(n.code,"\tvec3 diffuseColor = "+n.result+";","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",i.code,"\tfloat roughnessFactor = "+i.result+";",a.code,"\tfloat metalnessFactor = "+a.result+";"),l&&u.push(l.code,"#ifdef ALPHATEST","\tif ( "+l.result+" <= ALPHATEST ) discard;","#endif"),u.push("vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );"),u.push("material.diffuseColor = diffuseColor * ( 1.0 - metalnessFactor );","material.roughness = max( roughnessFactor, 0.0525 );","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.roughness = clamp( roughnessFactor, 0.04, 1.0 );"),d?u.push(d.code,"material.specularColor = mix( vec3( 0.16 * pow2( "+d.result+" ) ), diffuseColor, metalnessFactor );"):u.push("material.specularColor = mix( vec3( 0.04 ), diffuseColor, metalnessFactor );"),u.push("#include <lights_fragment_begin>"),u.push("#include <lights_fragment_end>"),u.push("vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular;"),u.push(`\n\t\t\t\tif (outgoingLight != diffuseColor) {\n\t\t\t\t\tfloat lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\n\t\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * ${o.result} * lightAccu;\n\t\t\t\t\toutgoingLight = spe_blend( diffuseColor, outgoingLight, ${o.result}, ${s.result} );\n\t\t\t\t}\n\t\t\t\t`),c&&u.push(c.code,`outgoingLight = spe_blend(outgoingLight, ${c.result}, 1.0, SPE_BLENDING_NORMAL);`),l?u.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${l.result} );`):u.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),u.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=u.join("\n")}return t}copy(e){return super.copy(e),e.color&&(this.color=e.color.clone()),this.roughness=e.roughness.clone(),this.metalness=e.metalness.clone(),e.position&&(this.position=e.position.clone()),e.afterColor&&(this.afterColor=e.afterColor.clone()),e.alpha&&(this.alpha=e.alpha.clone()),e.reflectivity&&(this.reflectivity=e.reflectivity.clone()),e.shadingAlpha&&(this.shadingAlpha=e.shadingAlpha.clone()),e.shadingBlend&&(this.shadingBlend=e.shadingBlend.clone()),this}}var $ilwiq=parcelRequire("ilwiq");class $a9cfa237d2811dbc$export$2040417bf76f9c66 extends $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039{constructor(){super("toon"),this.nodeType="Toon",this.color=new $3d6aa5349a88f941$export$adb1612036698e33(5855577),this.specular=new $3d6aa5349a88f941$export$adb1612036698e33(1118481),this.shininess=new $b300d378bbfb4a65$export$8e55930357bb50a7(30),this.shadingAlpha=new $b300d378bbfb4a65$export$8e55930357bb50a7(1),this.shadingBlend=new $8e339bc66620535d$export$657b728694f5d7df(0)}build(e){let t;if(e.define("TOON"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform($ilwiq.UniformsUtils.merge([$ilwiq.UniformsLib.fog,$ilwiq.UniformsLib.lights])),e.addParsCode(["varying vec3 vViewPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join("\n"));let n=["#include <beginnormal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = normal;\n\n\t\t\t\t#ifdef USE_LAYER_DISPLACE\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif\n\t\t\t\t"];r&&n.push(r.code,r.result?"displaced_position = "+r.result+";":""),n.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","    vNormal = transformedNormal;"),n.push("\t#include <project_vertex>","\t#include <fog_vertex>","\t#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","\t#include <worldpos_vertex>","\t#include <shadowmap_vertex>","\t#include <fog_vertex>"),t=n.join("\n")}else{void 0===this.color&&(this.color=new $3d6aa5349a88f941$export$adb1612036698e33(5855577)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let r=this.color.flow(e,"c",{slot:"color"}),n=this.specular.flow(e,"c"),i=this.shininess.flow(e,"f"),a=this.shadingAlpha.flow(e,"f"),o=this.shadingBlend.flow(e,"i"),s=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,c=this.alpha?this.alpha.flow(e,"f"):void 0;e.requires.transparent=void 0!==c,e.addParsCode(["#include <normal_pars_fragment>","#include <gradientmap_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <dithering_pars_fragment>","\n\t\t\t\t\tvarying vec3 vViewPosition;\n\t\t\t\t\tstruct ToonMaterial {\n\t\t\t\t\t\tvec3\tdiffuseColor;\n\t\t\t\t\t\tvec3\tspecularColor;\n\t\t\t\t\t\tfloat\tspecularShininess;\n\t\t\t\t\t\tfloat\tspecularStrength;\n\t\t\t\t\t};\n\t\t\t\t\tvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\t\t\t\t\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t\t\t\n\t\t\t\t\t\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\t\t\t\t\t\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n\t\t\t\t\t}\n\t\t\t\t\tvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\t\t\t\t\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\t\t\t\t\t}\n\t\t\t\t\t#define RE_Direct\t\t\t\tRE_Direct_Toon\n\t\t\t\t\t#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n\t\t\t\t\t#define Material_LightProbeLOD( material )\t(0)\n\t\t\t\t\t","#include <shadowmap_pars_fragment>","#include <bumpmap_pars_fragment>","#include <normalmap_pars_fragment>"].join("\n"));let l=["#include <normal_fragment_begin>","\n\t\t\t\t// NOTE: gl_FrontFacing alternative using face normal estimation.\n\t\t\t\tvec3 viewdx = dFdx(vViewPosition);\n\t\t\t\tvec3 viewdy = dFdy(vViewPosition);\n\t\t\t\tvec3 faceNormal = normalize(cross(viewdx,viewdy));\n\t\t\t\tif (dot(normal, faceNormal) < 0.0) {\n\t\t\t\t\tnormal *= -1.0;\n\t\t\t\t}\n\t\t\t\t","\tToonMaterial material;"];l.push(r.code,"\tvec3 diffuseColor = "+r.result+";","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",n.code,"\tvec3 specular = "+n.result+";",i.code,"\tfloat shininess = max( 0.0001, "+i.result+" );","\tfloat specularStrength = 1.0;"),c&&l.push(c.code,"#ifdef ALPHATEST","if ( "+c.result+" <= ALPHATEST ) discard;","#endif"),l.push("material.diffuseColor = diffuseColor;"),l.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),l.push("vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular;"),l.push(`\n\t\t\t\tif (outgoingLight != diffuseColor) {\n\t\t\t\t\tfloat lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\n\t\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * ${a.result} * lightAccu;\n\t\t\t\t\toutgoingLight = spe_blend( diffuseColor, outgoingLight, ${a.result}, ${o.result} );\n\t\t\t\t}\n\t\t\t\t`),s&&l.push(s.code,`outgoingLight = spe_blend(outgoingLight, ${s.result}, 1.0, SPE_BLENDING_NORMAL);`),c?l.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${c.result} );`):l.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),l.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=l.join("\n")}return t}copy(e){return super.copy(e),e.color&&(this.color=e.color.clone()),this.specular=e.specular.clone(),this.shininess=e.shininess.clone(),e.position&&(this.position=e.position.clone()),e.afterColor&&(this.afterColor=e.afterColor.clone()),e.alpha&&(this.alpha=e.alpha.clone()),e.shadingAlpha&&(this.shadingAlpha=e.shadingAlpha.clone()),e.shadingBlend&&(this.shadingBlend=e.shadingBlend.clone()),this}}var $ilwiq=parcelRequire("ilwiq"),$ilwiq=parcelRequire("ilwiq");class $9c98a078885aa0cf$export$2e2bcd8739ae039{constructor(e,t,r,n){if(this.next=void 0,this.uniforms={},this.textures={},this.defines={},this.id=e,this.uuid=t,r){this.type=r.type;for(let e in r)"type"!==e&&"calpha"!==e&&(this.uniforms[`f${this.id}_${e}`]=r[e]);for(let e in n)this.defines[e]=n[e]}}copy(e){this.id=e.id,this.type=e.type,this.defines={...e.defines};for(let t in e.uniforms)"transmissionSamplerMap"===this.getName(t)||"transmissionDepthMap"===this.getName(t)||(this.uniforms[t]?this.uniforms[t].copy(e.uniforms[t]):this.uniforms[t]=e.uniforms[t].clone());return this}copyUniforms(e){for(let t in this.uniforms){let r=this.getName(t);void 0!==r&&e.uniforms[`f${e.id}_${r}`]&&"transmissionDepthMap"!==r&&"transmissionSamplerMap"!==r&&this.uniforms[t].copy(e.uniforms[`f${e.id}_${r}`])}return this}hasValueByKey(e){return void 0!==this.uniforms[e]}hasValue(e){return this.hasValueByKey(`f${this.id}_${e}`)}setValue(e,t){let r=`f${this.id}_${e}`;this.hasValueByKey(r)&&void 0!==t&&(this.uniforms[r].value=t)}getValue(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t].value}getValues(){let e={type:this.type};for(let t in this.uniforms){let r=this.getName(t);if(void 0===r)continue;let n=this.uniforms[`f${this.id}_${r}`].value;void 0!==n&&(Array.isArray(n)?e[r]=n.map((e=>e.clone?e.clone():e)):e[r]=n.clone?n.clone():n)}return e}getName(e){let t=/f\d+_(.*)/.exec(e);if(t&&t.length>1)return t[1];console.log(`Layer.getName:DoubleSideror ${e}`)}getNames(){let e=[];for(let t in this.uniforms){let r=this.getName(t);r&&e.push(r)}return e}isEqual(e){for(let t in e.uniforms){let r=e.getName(t);if(!r)return!1;let n=this.getValue(r),i=e.uniforms[t].value;if(i.value instanceof Texture){if(n.image!==i.image)return!1}else if(Array.isArray(i)){let e=n;for(let t=0,r=e.length;t<r;++t)if(e[t]!==i[t])return!1}else{let e=n;if(e.equals){if(!e.equals(i))return!1}else if(n!==i)return!1}}return!0}dispose(){}}var $ilwiq=parcelRequire("ilwiq");class $0a0dedea89a00c7a$export$2e2bcd8739ae039{constructor(e){this.id=2,this.layerCount=2,this.uuid=$ilwiq.MathUtils.generateUUID(),this.needsUpdate=!1,this._material=e,this._layerNodes=[];let t=this._createLayer({id:0,type:$cf00a5c94ce7c28c$export$76bf88ec17fef043.COLOR});this._material.color=t.color,void 0===this._material.alpha&&(this._material.alpha=new $b300d378bbfb4a65$export$8e55930357bb50a7(1));let r=new $b300d378bbfb4a65$export$8e55930357bb50a7(1),n=new $8e339bc66620535d$export$657b728694f5d7df(0);"shadingAlpha"in this._material&&"shadingBlend"in this._material&&(this._material.shadingAlpha=r,this._material.shadingBlend=n),this._layerNodes.push({id:0,type:$cf00a5c94ce7c28c$export$10bfff72983f76a1.COLOR,color:t.color,alpha:t.alpha,mode:t.mode}),this._layerNodes.push({id:1,type:$cf00a5c94ce7c28c$export$10bfff72983f76a1.LIGHTING,alpha:r,mode:n}),this.head=t.layer,this.head.next=new $9c98a078885aa0cf$export$2e2bcd8739ae039(1,void 0,{type:$cf00a5c94ce7c28c$export$76bf88ec17fef043.LIGHTING,alpha:r,mode:n}),this.attachLightNodes(this.getLightLayer())}get material(){return this._material}set material(e){var t;this._material=e;let r,n,i=this.head;for(;void 0!==i;){if(i.type===$cf00a5c94ce7c28c$export$76bf88ec17fef043.LIGHTING){r=i.uniforms[`f${i.id}_alpha`],n=i.uniforms[`f${i.id}_mode`];break}i=i.next}"shadingAlpha"in this._material&&"shadingBlend"in this._material&&(this._material.shadingAlpha=r,this._material.shadingBlend=n),this.attachLightNodes(null==(t=e.userData.layers)?void 0:t.getLightLayer()),this.blendColors(),this.blendAfterColors(),this.blendPositions()}getLayersOfType(e){let t=[],r=this.head;for(;r;)r.type===e&&t.push(r),r=r.next;return t}addLayer(e){var t;if(e.id=null!=(t=e.id)?t:++this.id,this.layerCount++,e.type===$cf00a5c94ce7c28c$export$76bf88ec17fef043.LIGHTING){let t=this.createLightLayer(e);return this.uuid=$ilwiq.MathUtils.generateUUID(),this.blendColors(),this.blendAfterColors(),this.blendPositions(),t}let r=this._createLayer(e),n=r.layer;if(void 0===this.head)this.head=n;else{let e=this.head;for(;null!=e.next;)e=e.next;e.next=n}return r.color&&this._layerNodes.push({id:n.id,type:$cf00a5c94ce7c28c$export$10bfff72983f76a1.COLOR,color:r.color,alpha:r.alpha,mode:r.mode}),r.position&&this._layerNodes.push({id:n.id,type:$cf00a5c94ce7c28c$export$10bfff72983f76a1.POSITION,position:r.position}),this.uuid=$ilwiq.MathUtils.generateUUID(),this.blendColors(),this.blendAfterColors(),this.blendPositions(),n}addLayerBeforeAt(e,t){var r;let n=this.head;e.id=null!=(r=e.id)?r:++this.id,this.layerCount++;let i=this._createLayer(e),a=i.layer;a.next=t;let o=0;if(n===t)this.head=a,i.color&&this._layerNodes.splice(0,0,{id:a.id,type:$cf00a5c94ce7c28c$export$10bfff72983f76a1.COLOR,color:i.color,alpha:i.alpha,mode:i.mode}),i.position&&this._layerNodes.splice(0,0,{id:a.id,type:$cf00a5c94ce7c28c$export$10bfff72983f76a1.POSITION,position:i.position});else{for(o=1;(null==n?void 0:n.next)!==t;)n=null==n?void 0:n.next,o++;n.next=a,i.color&&this._layerNodes.splice(o,0,{id:a.id,type:$cf00a5c94ce7c28c$export$10bfff72983f76a1.COLOR,color:i.color,alpha:i.alpha,mode:i.mode}),i.position&&this._layerNodes.splice(o,0,{id:a.id,type:$cf00a5c94ce7c28c$export$10bfff72983f76a1.POSITION,position:i.position})}return this.uuid=$ilwiq.MathUtils.generateUUID(),this.blendColors(),this.blendAfterColors(),this.blendPositions(),a}addLayerAt(e,t){var r;t.id=null!=(r=t.id)?r:++this.id,this.layerCount++;let n=this._createLayer(t),i=n.layer;if(n.color&&this._layerNodes.splice(e,0,{id:i.id,type:$cf00a5c94ce7c28c$export$10bfff72983f76a1.COLOR,color:n.color,alpha:n.alpha,mode:n.mode}),n.position&&this._layerNodes.splice(e,0,{id:i.id,type:$cf00a5c94ce7c28c$export$10bfff72983f76a1.POSITION,position:n.position}),0==e)i.next=this.head,this.head=i;else{let t=this.head,r=this.head.next;for(let n=0;n<e-1;n++)t=r,r=r.next;i.next=r,t.next=i}return this.uuid=$ilwiq.MathUtils.generateUUID(),this.blendColors(),this.blendAfterColors(),this.blendPositions(),i}removeLayer(e){let t,r=this.head,n=0;if((null==r?void 0:r.id)==e)this.head=r.next;else for(n=1,t=r,r=null==r?void 0:r.next;null!=r;){if(r.id==e){t.next=r.next;break}n++,t=r,r=r.next}return this.cleanupChangedLayer(r),this.blendColors(),this.blendAfterColors(),this.blendPositions(),this.uuid=$ilwiq.MathUtils.generateUUID(),this.layerCount--,n}changeLayer(e,t){let r,n,i=this.head;if((null==i?void 0:i.id)==e){let r=this._createLayer({id:e,uuid:i.uuid,...t});n=r.layer,n.next=i.next,this.head=n,r.color&&(this._layerNodes[0]={id:n.id,type:$cf00a5c94ce7c28c$export$10bfff72983f76a1.COLOR,color:r.color,alpha:r.alpha,mode:r.mode}),r.position&&(this._layerNodes[0]={id:n.id,type:$cf00a5c94ce7c28c$export$10bfff72983f76a1.POSITION,position:r.position}),n.uniforms[`f${e}_mode`].value=i.uniforms[`f${e}_mode`].value,n.uniforms[`f${e}_alpha`].value=i.uniforms[`f${e}_alpha`].value}else{r=i,i=i.next;let a=1;for(;null!=i;){if(i.id==e){let o=this._createLayer({id:e,uuid:i.uuid,...t});n=o.layer,r.next=n,n.next=i.next,o.color&&(this._layerNodes[a]={id:e,type:$cf00a5c94ce7c28c$export$10bfff72983f76a1.COLOR,color:o.color,alpha:o.alpha,mode:o.mode}),o.position&&(this._layerNodes[a]={id:e,type:$cf00a5c94ce7c28c$export$10bfff72983f76a1.POSITION,position:o.position}),n.uniforms[`f${e}_mode`].value=i.uniforms[`f${e}_mode`].value,n.uniforms[`f${e}_alpha`].value=i.uniforms[`f${e}_alpha`].value;break}r=i,i=i.next,a++}}return this.uuid=$ilwiq.MathUtils.generateUUID(),this.blendColors(),this.blendAfterColors(),this.blendPositions(),n}getLayer(e){let t=this.head;for(;null!=t&&t.id!=e;)t=t.next;return t}getLayerByUuid(e){let t=this.head;for(;void 0!==t;){if(t.uuid===e)return t;t=t.next}}getLayers(){let e=[],t=this.head;for(;null!=t;)e.push(t),t=t.next;return e}getLayerPosition(e){let t=this.head,r=0;for(;void 0!==t&&t.id!=e;)r++,t=t.next;return r}getDefines(){}getBeforeProgram(){}getLightingProgram(){}getAfterProgram(){}getVarPrograms(){}getUniforms(){}moveLayer(e,t){let r,n,i=this.head;if(0==e)r=this.head,this.head=r.next;else{for(let t=0;t<e;t++)n=i,i=i.next;n.next=i.next,r=i}if(i=this.head,n=void 0,0==t)r.next=this.head,this.head=r;else{for(let e=0;e<t-1;e++)i=i.next;r.next=null==i?void 0:i.next,i.next=r}let a=this._layerNodes.splice(e,1)[0];this._layerNodes.splice(t,0,a),this.uuid=$ilwiq.MathUtils.generateUUID(),this.blendColors(),this.blendAfterColors()}updateLayerUniform(){this.uuid=$ilwiq.MathUtils.generateUUID(),this.blendColors(),this.blendAfterColors()}copy(e){this.needsUpdate=!1,this.layerCount=e.layerCount,this._layerNodes=[],this.layerCount=0,this.head=void 0,this.rebuildLayerNodes(this.head,e.head);let t=e.head,r=this.head;for(;null!=t.next;)this.rebuildLayerNodes(r,t.next),r=r.next,t=t.next;return this.id=e.id,this.uuid=e.uuid,this.blendColors(),this.blendAfterColors(),this.blendPositions(),this}createLightLayer(e){let t=new $b300d378bbfb4a65$export$8e55930357bb50a7(e.alpha),r=new $8e339bc66620535d$export$657b728694f5d7df(e.mode);this._material.shadingAlpha=t,this._material.shadingBlend=r,this._layerNodes.push({id:e.id,type:$cf00a5c94ce7c28c$export$10bfff72983f76a1.LIGHTING,alpha:t,mode:r});let n=new $9c98a078885aa0cf$export$2e2bcd8739ae039(e.id,void 0,{type:$cf00a5c94ce7c28c$export$76bf88ec17fef043.LIGHTING,alpha:t,mode:r});if(void 0===this.head)this.head=n;else{let e=this.head;for(;null!=e.next;)e=e.next;e.next=n}return this.attachLightNodes(this.getLightLayer()),n}rebuildLayerNodes(e,t,r=!1){if(t.type===$cf00a5c94ce7c28c$export$76bf88ec17fef043.LIGHTING){let n=r?t.uniforms[`f${t.id}_alpha`]:new $b300d378bbfb4a65$export$8e55930357bb50a7(t.uniforms[`f${t.id}_alpha`].value),i=r?t.uniforms[`f${t.id}_mode`]:new $8e339bc66620535d$export$657b728694f5d7df(t.uniforms[`f${t.id}_mode`].value);this._material.shadingAlpha=n,this._material.shadingBlend=i,this._layerNodes.push({id:t.id,type:$cf00a5c94ce7c28c$export$10bfff72983f76a1.LIGHTING,alpha:n,mode:i}),void 0===this.head?this.head=new $9c98a078885aa0cf$export$2e2bcd8739ae039(t.id,t.uuid,{type:$cf00a5c94ce7c28c$export$76bf88ec17fef043.LIGHTING,alpha:n,mode:i}):e&&(e.next=new $9c98a078885aa0cf$export$2e2bcd8739ae039(t.id,t.uuid,{type:$cf00a5c94ce7c28c$export$76bf88ec17fef043.LIGHTING,alpha:n,mode:i})),this.attachLightNodes(t)}else{let e={type:t.type,id:t.id};for(let n in t.uniforms){let i=t.getName(n);if(!i)continue;let a=`f${t.id}_${i}`;if(Array.isArray(t.uniforms[a].value))e[i]=t.uniforms[a].value.map((e=>e.clone&&!r?e.clone():e));else{let n=t.uniforms[a].value;if("transmissionDepthMap"===i){e[i]=n;continue}null!=n&&(e[i]=!n.clone||r||n.isRenderTargetTexture?n:n.clone())}}this.addLayer(e)}}attachLightNodes(e){var t,r,n,i,a,o,s,c,l,d,u;let h={},f=this.getLightLayer();switch(this._material.userData.category){case"Lambert":h.emissive=new $3d6aa5349a88f941$export$adb1612036698e33(null!=(r=null==(t=null==e?void 0:e.getValue("emissive"))?void 0:t.clone())?r:0);break;case"Phong":h.shininess=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(n=null==e?void 0:e.getValue("shininess"))?n:30),h.specular=new $3d6aa5349a88f941$export$adb1612036698e33(null!=(a=null==(i=null==e?void 0:e.getValue("specular"))?void 0:i.clone())?a:1118481);break;case"Toon":h.shininess=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(o=null==e?void 0:e.getValue("shininess"))?o:30),h.specular=new $3d6aa5349a88f941$export$adb1612036698e33(null!=(c=null==(s=null==e?void 0:e.getValue("specular"))?void 0:s.clone())?c:1118481);break;case"Physical":h.roughness=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(l=null==e?void 0:e.getValue("roughness"))?l:.3),h.metalness=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(d=null==e?void 0:e.getValue("metalness"))?d:0),h.reflectivity=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(u=null==e?void 0:e.getValue("reflectivity"))?u:.5)}Object.keys(h).forEach((e=>{this._material[e]=h[e],f.uniforms[`f${f.id}_${e}`]=h[e]}))}clone(e){return new $0a0dedea89a00c7a$export$2e2bcd8739ae039(e).copy(this)}toJSON(e){return{id:this.id,uuid:this.uuid,head:this.head.toJSON(e)}}fromJSON(e,t,r){let n=new $9c98a078885aa0cf$export$2e2bcd8739ae039(e.head.id,void 0,{type:e.head.type}).fromJSON(e.head,t),i=e.head.next,a=n;for(;null!=i;)a.next=new $9c98a078885aa0cf$export$2e2bcd8739ae039(i.id,void 0,{type:i.type}).fromJSON(i,t),i=i.next,a=a.next;this._layerNodes=[],this.head=void 0,this.rebuildLayerNodes(this.head,n,!0);let o=n;for(a=this.head;null!=o.next;)this.rebuildLayerNodes(a,o.next,!0),a=a.next,o=o.next;return this._material=r,this.id=e.id,this.uuid=e.uuid,this.blendColors(),this.blendAfterColors(),this.blendPositions(),this}getLightLayer(){var e;let t=this.head;for(;void 0!==t&&"light"!==t.type;)t=null!=(e=t.next)?e:t;return t}dispose(){let e=this.head;for(this._layerNodes=[],this.layerCount=0;void 0!==e;)!0===e.hasOwnProperty("dispose")&&e.dispose(),e=e.next;this.head=void 0}_createLayer(e){var t,r,n,i,a,o,s,c,l,d,u,h,f,p,m,v,$,g,b,x,y,w,_,S,T,M,E,A,C,L,R,P,D,O,I,N,B,z,U,k,F,q,G,V,H,j,W,X,K,Y,Z,J,Q,ee,te,re,ne,ie,ae,oe,se,ce,le,de,ue,he,fe,pe,me,ve,$e,ge,be,xe,ye,we,_e,Se,Te;let Me=e.type;switch(Me){case $cf00a5c94ce7c28c$export$76bf88ec17fef043.COLOR:{let i=new $3d6aa5349a88f941$export$adb1612036698e33(null!=(t=e.color)?t:5855577),a=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(r=e.alpha)?r:1),o=new $8efa919912516c40$export$2e2bcd8739ae039("alpha / clamp(alpha + accumAlpha, 0.00001, 1.0 )","f");o.keywords.alpha=a;let s=new $8e339bc66620535d$export$657b728694f5d7df(null!=(n=e.mode)?n:0);return i.alpha=a,{layer:new $9c98a078885aa0cf$export$2e2bcd8739ae039(e.id,e.uuid,{type:Me,color:i,alpha:a,calpha:o,mode:s}),color:i,alpha:o,mode:s}}case $cf00a5c94ce7c28c$export$76bf88ec17fef043.TEXTURE:{let t=null!=(i=e.texture)?i:new $dae106a43e0e5840$export$2e2bcd8739ae039,r=t.matrix;e.mat&&r.copy(e.mat),t.needsUpdate=!0;let n=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(a=e.crop)?a:0),u=new $8e339bc66620535d$export$657b728694f5d7df(null!=(o=e.projection)?o:0),h=new $8e339bc66620535d$export$657b728694f5d7df(null!=(s=e.axis)?s:0),f=new $67c02f4e8276e3fb$export$3521adecc091d455(e.size?new(0,$ilwiq.Vector2)(e.size[0],e.size[1]):new(0,$ilwiq.Vector2)(100,100)),p=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(c=e.alpha)?c:1),m=new $8e339bc66620535d$export$657b728694f5d7df(null!=(l=e.mode)?l:0),v=new $f5d84a983111222a$export$7da1e4d32492b08a(t),$=new $8986f71b01c09fa5$export$b7c09c8ee3c7f7e4(null!=(d=e.textureSize)?d:new(0,$ilwiq.Vector3)(t.image?t.image.width:0,t.image?t.image.height:0)),g=new $bec57a130ae117c2$export$7b4493a7204b5eef(v,$,n,u,h,f,p,m),b=new $8efa919912516c40$export$2e2bcd8739ae039(g.calpha,"f");return{layer:new $9c98a078885aa0cf$export$2e2bcd8739ae039(e.id,e.uuid,{type:Me,texture:v,textureSize:$,crop:n,projection:u,axis:h,size:f,mat:g.mat,alpha:p,calpha:b,mode:m}),color:g,alpha:b,mode:m}}case $cf00a5c94ce7c28c$export$76bf88ec17fef043.MATCAP:{let t=null!=(u=e.texture)?u:new $dae106a43e0e5840$export$2e2bcd8739ae039;t.needsUpdate=!0;let r=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(h=e.alpha)?h:1),n=new $f5d84a983111222a$export$7da1e4d32492b08a(t),i=new $8e339bc66620535d$export$657b728694f5d7df(null!=(f=e.mode)?f:0),a=new $5ba2266fe8792822$export$7cd3c6cf913ec8ff(n,r,i),o=new $8efa919912516c40$export$2e2bcd8739ae039(a.calpha,"f");return{layer:new $9c98a078885aa0cf$export$2e2bcd8739ae039(e.id,e.uuid,{type:Me,texture:n,alpha:r,calpha:o,mode:i}),color:a,alpha:o,mode:i}}case $cf00a5c94ce7c28c$export$76bf88ec17fef043.FRESNEL:{let t=new $3d6aa5349a88f941$export$adb1612036698e33(null!=(p=e.color)?p:16777215),r=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(m=e.bias)?m:.1),n=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(v=e.scale)?v:1),i=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=($=e.intensity)?$:2),a=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(g=e.factor)?g:1),o=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(b=e.alpha)?b:1),s=new $8e339bc66620535d$export$657b728694f5d7df(null!=(x=e.mode)?x:0),c=new $a419cc5704e74af9$export$e1a61b1c190af790(t,r,n,i,a,o,s),l=new $8efa919912516c40$export$2e2bcd8739ae039(c.calpha,"f");return{layer:new $9c98a078885aa0cf$export$2e2bcd8739ae039(e.id,e.uuid,{type:Me,color:t,bias:r,scale:n,intensity:i,factor:a,alpha:o,calpha:l,mode:s}),color:c,alpha:l,mode:s}}case $cf00a5c94ce7c28c$export$76bf88ec17fef043.RAINBOW:{let t=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(y=e.filmThickness)?y:30),r=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(w=e.movement)?w:0),n=new $8986f71b01c09fa5$export$b7c09c8ee3c7f7e4(null!=(_=e.wavelengths)?_:new(0,$ilwiq.Vector3)(0,0,0)),i=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(S=e.noiseStrength)?S:0),a=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(T=e.noiseScale)?T:1),o=new $8986f71b01c09fa5$export$b7c09c8ee3c7f7e4(null!=(M=e.offset)?M:new(0,$ilwiq.Vector3)(0,0,0)),s=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(E=e.alpha)?E:1),c=new $e6e002cd00e27d63$export$66d94c7db7fa2263(t,r,n,i,a,o,s),l=new $8efa919912516c40$export$2e2bcd8739ae039(c.calpha,"f"),d=new $8e339bc66620535d$export$657b728694f5d7df(null!=(A=e.mode)?A:0);return{layer:new $9c98a078885aa0cf$export$2e2bcd8739ae039(e.id,e.uuid,{type:Me,filmThickness:t,movement:r,wavelengths:n,noiseStrength:i,noiseScale:a,offset:o,alpha:s,calpha:l,mode:d}),color:c,alpha:l,mode:d}}case $cf00a5c94ce7c28c$export$76bf88ec17fef043.TRANSMISSION:{let t=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(C=e.thickness)?C:10),r=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(L=e.ior)?L:1.5),n=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(R=e.roughness)?R:.5),i=new $67c02f4e8276e3fb$export$3521adecc091d455(null!=(P=e.transmissionSamplerSize)?P:new(0,$ilwiq.Vector2)(2048,2048)),a=null!=(D=e.transmissionSamplerMap)?D:new $dae106a43e0e5840$export$2e2bcd8739ae039,o=null!=(O=e.transmissionDepthMap)?O:new $dae106a43e0e5840$export$2e2bcd8739ae039,s=new $f5d84a983111222a$export$7da1e4d32492b08a(a),c=new $f5d84a983111222a$export$7da1e4d32492b08a(o),l=window.innerWidth,d=window.innerHeight,u=l>=d?new $67c02f4e8276e3fb$export$3521adecc091d455(d/l,1):new $67c02f4e8276e3fb$export$3521adecc091d455(1,l/d),h=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(I=e.alpha)?I:1),f=new $a0fbafe43e498bf2$export$24c11d44c152d0bb(t,r,n,i,s,c,u,h),p=new $8efa919912516c40$export$2e2bcd8739ae039(f.calpha,"f"),m=new $8e339bc66620535d$export$657b728694f5d7df(null!=(N=e.mode)?N:0);return{layer:new $9c98a078885aa0cf$export$2e2bcd8739ae039(e.id,e.uuid,{type:Me,thickness:t,ior:r,roughness:n,transmissionSamplerSize:i,transmissionSamplerMap:s,transmissionDepthMap:c,aspectRatio:u,alpha:h,calpha:p,mode:m}),color:f,alpha:p,mode:m}}case $cf00a5c94ce7c28c$export$76bf88ec17fef043.DEPTH:{let t,r,n=new $8e339bc66620535d$export$657b728694f5d7df(null!=(B=e.gradientType)?B:0),i=new $33b61c4455783b12$export$8a96196a63ba95a9(null!=(z=e.smooth)&&z),a=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(U=e.near)?U:50),o=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(k=e.far)?k:200),s=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(F=e.isVector)?F:1),c=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(q=e.isWorldSpace)?q:0),l=new $8986f71b01c09fa5$export$b7c09c8ee3c7f7e4(null!=(G=e.origin)?G:new(0,$ilwiq.Vector3)),d=new $8986f71b01c09fa5$export$b7c09c8ee3c7f7e4(null!=(V=e.direction)?V:new(0,$ilwiq.Vector3)),u=new $8e339bc66620535d$export$657b728694f5d7df(null!=(H=e.num)?H:0);e.colors?t=new $e19652f1a72ed5b9$export$98122bb926c75f03(u.value+1,e.colors):(t=new $e19652f1a72ed5b9$export$98122bb926c75f03(u.value+1,new(0,$ilwiq.Vector4)(0,0,0,1)),t.value[1]=new(0,$ilwiq.Vector4)(1,1,1,1)),e.steps?r=new $9d16feb65e294ddb$export$3cc7a80bfd915e5c(e.steps.length,e.steps):(r=new $9d16feb65e294ddb$export$3cc7a80bfd915e5c(10,1),r.value[0]=0);let h=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(j=e.alpha)?j:1),f=new $8e339bc66620535d$export$657b728694f5d7df(null!=(W=e.mode)?W:0),p=new $438352b6aee48da8$export$950556173b6cbecb(n,i,a,o,s,c,l,d,t,r,u,h),m=new $8efa919912516c40$export$2e2bcd8739ae039(p.calpha,"f");return{layer:new $9c98a078885aa0cf$export$2e2bcd8739ae039(e.id,e.uuid,{type:Me,gradientType:n,smooth:i,near:a,far:o,isVector:s,isWorldSpace:c,origin:l,direction:d,colors:t,steps:r,num:u,alpha:h,calpha:m,mode:f}),color:p,alpha:m,mode:f}}case $cf00a5c94ce7c28c$export$76bf88ec17fef043.NOISE:{let t=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(X=e.scale)?X:1),r=new $8986f71b01c09fa5$export$b7c09c8ee3c7f7e4(null!=(K=e.size)?K:new(0,$ilwiq.Vector3)(100,100,100)),n=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(Y=e.move)?Y:1),i=new $67c02f4e8276e3fb$export$3521adecc091d455(null!=(Z=e.fA)?Z:new(0,$ilwiq.Vector2)(1.7,9.2)),a=new $67c02f4e8276e3fb$export$3521adecc091d455(null!=(J=e.fB)?J:new(0,$ilwiq.Vector2)(8.3,2.8)),o=new $67c02f4e8276e3fb$export$3521adecc091d455(null!=(Q=e.distortion)?Q:new(0,$ilwiq.Vector2)(1,1)),s=new $833374c6009aaaa9$export$9963d2f946672699(e.colorA),c=new $833374c6009aaaa9$export$9963d2f946672699(e.colorB),l=new $833374c6009aaaa9$export$9963d2f946672699(e.colorC),d=new $833374c6009aaaa9$export$9963d2f946672699(e.colorD),u=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(ee=e.alpha)?ee:1),h=new $8e339bc66620535d$export$657b728694f5d7df(null!=(te=e.mode)?te:0),f=new $8e339bc66620535d$export$657b728694f5d7df(null!=(re=e.noiseType)?re:0),p=new $b620137267f3ad0f$export$484d33a0500a4ce1(t,r,n,i,a,o,s,c,l,d,u,f),m=new $8efa919912516c40$export$2e2bcd8739ae039(p.calpha,"f");return{layer:new $9c98a078885aa0cf$export$2e2bcd8739ae039(e.id,e.uuid,{type:Me,scale:t,size:r,move:n,fA:i,fB:a,distortion:o,colorA:s,colorB:c,colorC:l,colorD:d,alpha:u,calpha:m,mode:h,noiseType:f}),color:p,alpha:m,mode:h}}case $cf00a5c94ce7c28c$export$76bf88ec17fef043.NORMAL:{let t=new $8986f71b01c09fa5$export$b7c09c8ee3c7f7e4(null!=(ne=e.cnormal)?ne:new(0,$ilwiq.Vector3)(1,1,1)),r=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(ie=e.alpha)?ie:1),n=new $8e339bc66620535d$export$657b728694f5d7df(null!=(ae=e.mode)?ae:0),i=new $699231b3b0622277$export$35e014a8106cf443(t,r),a=new $8efa919912516c40$export$2e2bcd8739ae039("alpha / clamp(alpha + accumAlpha, 0.00001, 1.0 )","f");return a.keywords.alpha=r,{layer:new $9c98a078885aa0cf$export$2e2bcd8739ae039(e.id,e.uuid,{type:Me,cnormal:t,alpha:r,calpha:a,mode:n}),color:i,alpha:a,mode:n}}case $cf00a5c94ce7c28c$export$76bf88ec17fef043.GRADIENT:{let t,r,n=new $8e339bc66620535d$export$657b728694f5d7df(null!=(oe=e.gradientType)?oe:0),i=new $33b61c4455783b12$export$8a96196a63ba95a9(null!=(se=e.smooth)&&se);e.colors?t=new $e19652f1a72ed5b9$export$98122bb926c75f03(e.colors.length,e.colors):(t=new $e19652f1a72ed5b9$export$98122bb926c75f03(10,new(0,$ilwiq.Vector4)(0,0,0,1)),t.value[1]=new(0,$ilwiq.Vector4)(1,1,1,1)),e.steps?r=new $9d16feb65e294ddb$export$3cc7a80bfd915e5c(e.steps.length,e.steps):(r=new $9d16feb65e294ddb$export$3cc7a80bfd915e5c(10,1),r.value[0]=0);let a=new $67c02f4e8276e3fb$export$3521adecc091d455(null!=(ce=e.offset)?ce:new(0,$ilwiq.Vector2)(0,0)),o=new $67c02f4e8276e3fb$export$3521adecc091d455(null!=(le=e.morph)?le:new(0,$ilwiq.Vector2)(0,0)),s=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(de=e.angle)?de:0),c=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(ue=e.alpha)?ue:1),l=new $8e339bc66620535d$export$657b728694f5d7df(null!=(he=e.mode)?he:0),d=new $7964b790afa27bed$export$3d3dd8f63ff0f876(n,i,t,r,a,o,s,c),u=new $8efa919912516c40$export$2e2bcd8739ae039(d.calpha,"f");return{layer:new $9c98a078885aa0cf$export$2e2bcd8739ae039(e.id,e.uuid,{type:Me,gradientType:n,smooth:i,colors:t,steps:r,offset:a,morph:o,angle:s,alpha:c,calpha:u,mode:l}),color:d,alpha:u,mode:l}}case $cf00a5c94ce7c28c$export$76bf88ec17fef043.DISPLACE:{let t=new $8e339bc66620535d$export$657b728694f5d7df(null!=(fe=e.displacementType)?fe:0);if(0===t.value){let r=new $8986f71b01c09fa5$export$b7c09c8ee3c7f7e4(null!=(pe=e.offset)?pe:new(0,$ilwiq.Vector3)(0,0,0)),n=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(me=e.scale)?me:10),i=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(ve=e.intensity)?ve:8),a=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=($e=e.movement)?$e:1),o=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(ge=e.alpha)?ge:1),s=new $8e339bc66620535d$export$657b728694f5d7df(null!=(be=e.mode)?be:0),c=new $8e339bc66620535d$export$657b728694f5d7df(null!=(xe=e.noiseType)?xe:0),l=new $ea607a8295702ef1$export$35a784ba56513e0b(t,i,a,r,n,c);return{layer:new $9c98a078885aa0cf$export$2e2bcd8739ae039(e.id,e.uuid,{displacementType:t,type:Me,offset:r,scale:n,intensity:i,movement:a,alpha:o,mode:s,noiseType:c}),position:l}}if(1===t.value){let r=null!=(ye=e.texture)?ye:new $dae106a43e0e5840$export$2e2bcd8739ae039,n=r.matrix;e.mat&&n.copy(e.mat),r.needsUpdate=!0;let i=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(we=e.intensity)?we:8),a=new $f5d84a983111222a$export$7da1e4d32492b08a(r),o=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(_e=e.crop)?_e:0),s=new $b300d378bbfb4a65$export$8e55930357bb50a7(null!=(Se=e.alpha)?Se:1),c=new $8e339bc66620535d$export$657b728694f5d7df(null!=(Te=e.mode)?Te:0),l=new $ea607a8295702ef1$export$35a784ba56513e0b(t,i,a,o);return{layer:new $9c98a078885aa0cf$export$2e2bcd8739ae039(e.id,e.uuid,{displacementType:t,type:Me,intensity:i,texture:a,crop:o,mat:l.mat,alpha:s,mode:c}),position:l}}return{}}}return{}}blendColors(){let e=this._layerNodes.findIndex((e=>e.type===$cf00a5c94ce7c28c$export$10bfff72983f76a1.COLOR)),t=this._layerNodes.findIndex((e=>e.type===$cf00a5c94ce7c28c$export$10bfff72983f76a1.LIGHTING));if(-1!==e&&e<t){let r=this._layerNodes[e].color;for(let n=e+1;n<t;++n){let e=this._layerNodes[n];e.type===$cf00a5c94ce7c28c$export$10bfff72983f76a1.COLOR&&(r=new $21de892bee6a33ab$export$b5ae400d0e125404(r,e.color,e.alpha,e.mode))}this._material.color=r}else this._material.color=void 0}blendAfterColors(){let e=new $8efa919912516c40$export$2e2bcd8739ae039("outgoingLight","f"),t=this._layerNodes.findIndex((e=>e.type===$cf00a5c94ce7c28c$export$10bfff72983f76a1.LIGHTING));if(this._layerNodes.length>t+1){for(let r=t+1;r<this._layerNodes.length;++r){let t=this._layerNodes[r];t.type===$cf00a5c94ce7c28c$export$10bfff72983f76a1.COLOR&&(e=new $21de892bee6a33ab$export$b5ae400d0e125404(e,t.color,t.alpha,t.mode))}"afterColor"in this._material&&(this._material.afterColor=e)}else"afterColor"in this._material&&(this._material.afterColor=void 0)}blendPositions(){let e=this._layerNodes.filter((e=>e.type===$cf00a5c94ce7c28c$export$10bfff72983f76a1.POSITION));if(e.length>0){let t=e[0].position;for(let r=1;r<e.length;++r)e[r]&&(t=new Operator(t,e[r].position,Operator.ADD),t=new Operator(t,new $b300d378bbfb4a65$export$8e55930357bb50a7(.5).setReadonly(!0),Operator.MUL));this._material.position=t}else this._material.position=void 0}cleanupChangedLayer(e){if(this._layerNodes=this._layerNodes.filter((t=>t.id!==e.id)),e.type===$cf00a5c94ce7c28c$export$76bf88ec17fef043.DISPLACE)this.blendPositions();else this.blendColors(),this.blendAfterColors()}}class $9b1b159e4c930dbb$export$2e2bcd8739ae039{constructor(e){e=null!=e?e:{},this.name=e.name,this.type=e.type,this.node=e.node,this.size=e.size,this.needsUpdate=e.needsUpdate}get value(){return this.node.value}set value(e){this.node.value=e}}let $c7c760c4496d469e$var$SF={float:"f",vec2:"v2",vec3:"v3",vec4:"v4",mat4:"v4",int:"i",bool:"b","float[]":"f[]","vec4[]":"v4[]"},$c7c760c4496d469e$var$MF={t:"sampler2D",tc:"samplerCube",b:"bool",i:"int",f:"float",c:"vec3",v2:"vec2",v3:"vec3",v4:"vec4",m3:"mat3",m4:"mat4","f[]":"float[]","v4[]":"vec4[]"};class $c7c760c4496d469e$export$2e2bcd8739ae039{constructor(){this.includes={consts:{},functions:{},structs:{}},this.cache="",this.slot="",this.shader="",this.context={},this.getIncludesCode=function(){function e(e,t){return e.deps.length-t.deps.length}return function(t,r){let n=this.getIncludes(t,r);if(!n)return"";let i="";n=n.sort(e);for(let e=0;e<n.length;e++)n[e].src&&(i+=n[e].src+"\n");return i}}(),this.slots=[],this.caches=[],this.contexts=[],this.keywords={},this.nodeData={},this.fragmentVariables={},this.requires={uv:[],color:[],lights:!1,fog:!1,transparent:!1,irradiance:!1,position:!1,worldPosition:!1,normal:!1,worldNormal:!1,vWorldViewDir:!1,modelMatrix:!1,viewMatrix:!1,projectionMatrix:!1},this.includes={consts:[],functions:[],structs:[]},this.attributes={},this.prefixCode=["#ifdef TEXTURE_LOD_EXT","\t#define texCube(a, b) textureCube(a, b)","\t#define texCubeBias(a, b, c) textureCubeLodEXT(a, b, c)","\t#define tex2D(a, b) texture2D(a, b)","\t#define tex2DBias(a, b, c) texture2DLodEXT(a, b, c)","#else","\t#define texCube(a, b) textureCube(a, b)","\t#define texCubeBias(a, b, c) textureCube(a, b, c)","\t#define tex2D(a, b) texture2D(a, b)","\t#define tex2DBias(a, b, c) texture2D(a, b, c)","#endif","\n        // NOTE: Include Spline's blending modes. This could be part of BlendNode\n        #define SPE_BLENDING_NORMAL 0\n        #define SPE_BLENDING_MULTIPLY 1\n        #define SPE_BLENDING_SCREEN 2\n        #define SPE_BLENDING_OVERLAY 3\n\n        vec3 spe_normalBlend( vec3 a, vec3 b, float alpha ) {\n            return mix( a, b, alpha );\n        }\n\n        vec3 spe_multiplyBlend( vec3 a, vec3 b, float alpha ) {\n            return mix( a, a * b, alpha );\n        }\n\n        vec3 spe_screenBlend( vec3 a, vec3 b, float alpha ) {\n            vec3 tmp = 1.0 - ( 1.0 - a ) * ( 1.0 - b );\n            return mix( a, tmp, alpha );\n        }\n\n        vec3 spe_overlayBlend( vec3 a, vec3 b, float alpha ) {\n            vec3 tmp = mix( 1. - 2. * (1. - a) * (1. - b), 2. * a * b, step( a, vec3(.5) ) );\n            return clamp( mix( a, tmp, alpha ), 0.0, 1.0 );\n        }\n\n        vec3 spe_blend( vec3 a, vec3 b, float alpha, int mode ) {\n            if ( mode == SPE_BLENDING_NORMAL ) return spe_normalBlend( a, b, alpha );\n            else if ( mode == SPE_BLENDING_MULTIPLY ) return spe_multiplyBlend( a, b, alpha );\n            else if ( mode == SPE_BLENDING_SCREEN ) return spe_screenBlend( a, b, alpha );\n            else if ( mode == SPE_BLENDING_OVERLAY ) return spe_overlayBlend( a, b, alpha );\n            return vec3( 1.0 );\n        }\n        ","#include <packing>","#include <common>"].join("\n"),this.parsCode={vertex:["float neighbor_offset = 0.0001;",""].join("\n"),fragment:["float accumAlpha = 0.0;","void accumulateAlpha(float alpha) {\n                accumAlpha += (1.0 - accumAlpha) * alpha;\n            }",""].join("\n")},this.code={vertex:"",fragment:""},this.nodeCode={vertex:"",fragment:""},this.resultCode={vertex:"",fragment:""},this.finalCode={vertex:"",fragment:""},this.inputs={uniforms:{list:[],vertex:[],fragment:[]},arrayUniforms:{list:[],vertex:[],fragment:[]},vars:{varying:[],vertex:[],fragment:[]}},this.defines={},this.uniforms={},this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.updaters=[],this.nodes=[],this.analyzing=!1}build(e,t){this.buildShader("vertex",e),this.buildShader("fragment",t);for(let e=0;e<this.requires.uv.length;e++)if(this.requires.uv[e]){let t=e>0?e+1:"";this.addVaryCode("varying vec2 vUv"+t+";"),e>0&&this.addVertexParsCode("attribute vec2 uv"+t+";"),this.addVertexFinalCode("vUv"+t+" = uv"+t+";")}return this.requires.color[0]&&(this.addVaryCode("varying vec4 vColor;"),this.addVertexParsCode("attribute vec4 color;"),this.addVertexFinalCode("vColor = color;")),this.requires.color[1]&&(this.addVaryCode("varying vec4 vColor2;"),this.addVertexParsCode("attribute vec4 color2;"),this.addVertexFinalCode("vColor2 = color2;")),this.requires.position&&(this.addVaryCode("varying vec3 vPosition;"),this.addVertexFinalCode("vPosition = transformed;")),this.requires.worldPosition&&(this.addVaryCode("varying vec3 vWPosition;"),this.addVertexFinalCode("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;")),this.requires.normal&&(this.addVaryCode("varying vec3 vObjectNormal;"),this.addVertexFinalCode("vObjectNormal = normal;")),this.requires.modelMatrix&&this.addFragmentParsCode("uniform mat4 modelMatrix;"),this.requires.viewMatrix&&this.addFragmentParsCode("uniform mat4 viewMatrix;"),this.requires.projectionMatrix&&this.addFragmentParsCode("uniform mat4 projectionMatrix;"),this.requires.worldNormal&&(this.addVaryCode("varying vec3 vWNormal;"),this.addVertexFinalCode("vWNormal = inverseTransformDirection( transformedNormal, viewMatrix ).xyz;")),this.requires.vWorldViewDir&&(this.addVaryCode("varying vec3 vWorldViewDir;"),this.addVertexFinalCode("vWorldViewDir = isPerspectiveMatrix( projectionMatrix ) ?  ( (modelMatrix * vec4(position, 1.0)).xyz - cameraPosition ) : vec3( -viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2] );")),this}buildShader(e,t){this.resultCode[e]=t.build(this.setShader(e),"v4")}setMaterial(e,t){return this.material=e,this.renderer=t,this.requires.lights=e.lights,this.requires.fog=e.fog,this.mergeDefines(e.defines),this}addFlow(e,t,r){return this.addSlot(e).addCache(t).addContext(r)}removeFlow(){return this.removeSlot().removeCache().removeContext()}addCache(e){return this.cache=null!=e?e:"",this.caches.push(this.cache),this}removeCache(){return this.caches.pop(),this.cache=this.caches[this.caches.length-1]||"",this}addContext(e){return this.context=Object.assign({},this.context,e),this.context.extra=this.context.extra||{},this.contexts.push(this.context),this}removeContext(){return this.contexts.pop(),this.context=this.contexts[this.contexts.length-1]||{},this}addSlot(e){return this.slot=e||"",this.slots.push(this.slot),this}removeSlot(){return this.slots.pop(),this.slot=this.slots[this.slots.length-1]||"",this}addFragmentVariable(e,t){void 0===this.fragmentVariables[e]&&(this.addFragmentCode(`${t} ${e};`),this.fragmentVariables[e]="")}addVertexCode(e){this.addCode(e,"vertex")}addFragmentCode(e){this.addCode(e,"fragment")}addCode(e,t){this.code[null!=t?t:this.shader]+=e+"\n"}addVertexNodeCode(e){this.addNodeCode(e,"vertex")}addFragmentNodeCode(e){this.addNodeCode(e,"fragment")}addNodeCode(e,t){this.nodeCode[null!=t?t:this.shader]+=e+"\n"}clearNodeCode(e){e=null!=e?e:this.shader;let t=this.nodeCode[e];return this.nodeCode[e]="",t}clearVertexNodeCode(){return this.clearNodeCode("vertex")}clearFragmentNodeCode(){return this.clearNodeCode("fragment")}addVertexFinalCode(e){this.addFinalCode(e,"vertex")}addFragmentFinalCode(e){this.addFinalCode(e,"fragment")}addFinalCode(e,t){this.finalCode[null!=t?t:this.shader]+=e+"\n"}addVertexParsCode(e){this.addParsCode(e,"vertex")}addFragmentParsCode(e){this.addParsCode(e,"fragment")}addParsCode(e,t){this.parsCode[null!=t?t:this.shader]+=e+"\n"}addVaryCode(e){this.addVertexParsCode(e),this.addFragmentParsCode(e)}isCache(e){return-1!==this.caches.indexOf(e)}isSlot(e){return-1!==this.slots.indexOf(e)}define(e,t){this.defines[e]=void 0===t?1:t}require(e){this.requires[e]=!0}isDefined(e){return void 0!==this.defines[e]}getVar(e,t,r,n="varying",i="V",a=""){let o=this.getVars(n),s=o[e];if(!s){let n=o.length;s={name:r||"node"+i+n+(a?"_"+a:""),type:t},o.push(s),o[e]=s}return s}getTempVar(e,t,r,n){return this.getVar(e,t,r,this.shader,"T",n)}getAttribute(e,t){if(!this.attributes[e]){let r=this.getVar(e,t);this.addVertexParsCode("attribute "+t+" "+e+";"),this.addVertexFinalCode(r.name+" = "+e+";"),this.attributes[e]={varying:r,name:e,type:t}}return this.attributes[e]}getCode(e){return[this.prefixCode,this.parsCode[e],this.getVarListCode(this.getVars("varying"),"varying"),this.getVarListCode(this.inputs.uniforms[e],"uniform"),this.getVarListCode(this.inputs.arrayUniforms[e],"uniform"),this.getIncludesCode("consts",e),this.getIncludesCode("structs",e),this.getIncludesCode("functions",e),"void main() {",this.getVarListCode(this.getVars(e)),this.code[e],this.resultCode[e],this.finalCode[e],"}"].join("\n")}getVarListCode(e,t){t=null!=t?t:"";let r="";for(let n=0,i=e.length;n<i;++n){let i=e[n],a=i.type,o=i.name,s=i.size,c=this.getFormatByType(a);if(void 0===c)throw new Error("Node pars "+c+" not found.");c.includes("[]")?r+=t+" "+c.substring(0,c.length-2)+" "+o+`[${s}];\n`:r+=t+" "+c+" "+o+";\n"}return r}getVars(e){return this.inputs.vars[null!=e?e:this.shader]}getNodeData(e){let t=e instanceof $ec9f3e5b5ce1c6c7$export$2e2bcd8739ae039?e.uuid:e;return this.nodeData[t]=this.nodeData[t]||{}}createUniform(e,t,r,n,i,a){if(t.includes("[]")){let o=this.inputs.arrayUniforms,s=o.list.length,c=new $9b1b159e4c930dbb$export$2e2bcd8739ae039({type:t,size:r.size,name:n||"nodeUA"+s+(a?"_"+a:""),node:r,needsUpdate:i});return o.list.push(c),o[e].push(c),o[e][c.name]=c,this.uniforms[c.name]=c,c}{let o=this.inputs.uniforms,s=o.list.length,c=new $9b1b159e4c930dbb$export$2e2bcd8739ae039({type:t,name:n||"nodeU"+s+(a?"_"+a:""),node:r,needsUpdate:i});return o.list.push(c),o[e].push(c),o[e][c.name]=c,this.uniforms[c.name]=c,c}}createVertexUniform(e,t,r,n,i){return this.createUniform("vertex",e,t,r,n,i)}createFragmentUniform(e,t,r,n,i){return this.createUniform("fragment",e,t,r,n,i)}include(e,t,r){var n;let i;if(e="string"==typeof e?Ir.get(e):e,!1===this.context.include)return e.name;e instanceof $0fa5f465218bcb0f$export$f3890eeaf6851387?i=this.includes.functions:e instanceof $6d96ac0e6aa542d5$export$8ad5d15375e29446?i=this.includes.consts:e instanceof $73698df057823186$export$eabc71f011df675a&&(i=this.includes.structs);let a=i[this.shader]=i[this.shader]||[];if(e){let i=a[e.name];if(i||(i=a[e.name]={node:e,deps:[]},a.push(i),i.src=e.build(this,"source")),e instanceof $0fa5f465218bcb0f$export$f3890eeaf6851387&&t&&a[t.name]&&-1===a[t.name].deps.indexOf(e)&&(a[t.name].deps.push(e),null==(n=e.includes)?void 0:n.length)){let r=0;do{this.include(e.includes[r++],t)}while(r<e.includes.length)}return r&&(i.src=r),e.name}throw new Error("Include not found.")}colorToVectorProperties(e){return e.replace("r","x").replace("g","y").replace("b","z").replace("a","w")}colorToVector(e){return e.replace(/c/g,"v3")}getIncludes(e,t){return this.includes[e][t||this.shader]}getConstructorFromLength(e){return wF[e-1]}isTypeMatrix(e){return/^m/.test(e)}getTypeLength(e){return"f"===e?1:parseInt(this.colorToVector(e).substr(1))}getTypeFromLength(e){return 1===e?"f":"v"+e}findNode(...e){for(let t=0;t<arguments.length;t++){let r=e[t];if(null==r?void 0:r.isNode)return r}}resolve(...e){for(let t=0;t<arguments.length;t++){let r=e[t];if(void 0!==r){if(r.isNode)return r;if(r.isTexture)switch(r.mapping){case Es:case Cs:return new $5c475583596ec84d$export$d39765a38ea590d1(r);case ia:case Yl:return new $28a8a0380977c00f$export$79e818cbb1c58600(new $f5d84a983111222a$export$7da1e4d32492b08a(r));default:return new $f5d84a983111222a$export$7da1e4d32492b08a(r)}else{if(r.isVector2)return new $67c02f4e8276e3fb$export$3521adecc091d455(r);if(r.isVector3)return new $8986f71b01c09fa5$export$b7c09c8ee3c7f7e4(r);if(r.isVector4)return new $833374c6009aaaa9$export$9963d2f946672699(r)}}}}format(e,t,r){switch(this.colorToVector(r+" <- "+t)){case"f <- v2":case"f <- v3":case"f <- v4":return e+".x";case"f <- i":case"f <- b":return"float( "+e+" )";case"v2 <- f":return"vec2( "+e+" )";case"v2 <- v3":case"v2 <- v4":return e+".xy";case"v2 <- i":case"v2 <- b":case"v3 <- i":case"v3 <- b":return"vec2( float( "+e+" ) )";case"v3 <- f":return"vec3( "+e+" )";case"v3 <- v2":return"vec3( "+e+", 0.0 )";case"v3 <- v4":return e+".xyz";case"v4 <- f":return"vec4( "+e+" )";case"v4 <- v2":return"vec4( "+e+", 0.0, 1.0 )";case"v4 <- v3":return"vec4( "+e+", 1.0 )";case"v4 <- i":case"v4 <- b":return"vec4( float( "+e+" ) )";case"i <- f":case"i <- b":return"int( "+e+" )";case"i <- v2":case"i <- v3":case"i <- v4":return"int( "+e+".x )";case"b <- f":return"( "+e+" != 0.0 )";case"b <- v2":return"( "+e+" != vec2( 0.0 ) )";case"b <- v3":return"( "+e+" != vec3( 0.0 ) )";case"b <- v4":return"( "+e+" != vec4( 0.0 ) )";case"b <- i":return"( "+e+" != 0 )"}return e}getTypeByFormat(e){return $c7c760c4496d469e$var$SF[e]||e}getFormatByType(e){return $c7c760c4496d469e$var$MF[e]||e}getUUID(e,t){return(t=void 0===t||t)&&this.cache&&(e=this.cache+"-"+e),e}getElementByIndex(e){return J1[e]}getIndexByElement(e){return J1.indexOf(e)}isShader(e){return this.shader===e}setShader(e){return this.shader=e,this}mergeDefines(e){for(let t in e)this.defines[t]=e[t];return this.defines}mergeUniform(e){for(let t in e)this.uniforms[t]=e[t];return this.uniforms}getTextureEncodingFromMap(e){let t;return e?e.isTexture&&(t=e.encoding):t=xn,t===xn&&this.context.gamma&&(t=We),t}}class $15e9d8fcecd21f23$export$2e2bcd8739ae039 extends $ilwiq.ShaderMaterial{constructor(e,t,r){super(r),this.isNodeMaterial=!0,this.type="NodeMaterial",this.wireframeLinecap="",this.wireframeLinejoin="",this.uniformsBackup={},this.userData={type:"",category:"",nodeType:""},this.fog=!0,this.vertex=null!=e?e:new $edee30c4d992c263$export$6f88fe47d32c9c94(new $c513c62b80bdc99f$export$13807d9ee5a34a42($c513c62b80bdc99f$export$13807d9ee5a34a42.PROJECTION)),this.fragment=null!=t?t:new $edee30c4d992c263$export$6f88fe47d32c9c94(new $3d6aa5349a88f941$export$adb1612036698e33(5855577)),this.updaters=[],this.isDetached=!0,this.dithering=!0,this.onBeforeCompile=this._onBeforeCompile}getDefines(){return this.defines}getUniforms(){return this.uniforms}getVertexShader(){return this.vertexShader}getFragmentShader(){return this.fragmentShader}_onBeforeCompile(e,t){this.build({renderer:t}),e.defines=this.defines,e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.extensionDerivatives=!0===this.extensions.derivatives,e.extensionFragDepth=!0===this.extensions.fragDepth,e.extensionDrawBuffers=!0===this.extensions.drawBuffers,e.extensionShaderTextureLOD=!0===this.extensions.shaderTextureLOD}_getLayerStack(e){let t=new $0a0dedea89a00c7a$export$2e2bcd8739ae039(this);return e&&(async()=>{for(;void 0===e.image;)await new Promise((e=>requestAnimationFrame(e)));t.addLayerAt(1,{type:$cf00a5c94ce7c28c$export$76bf88ec17fef043.TEXTURE,texture:e}),this.dispose()})(),t}clampUniformsForPreview(e,t){let r=(e,t,r)=>Math.min(Math.max(e,t),r);if(this.userData.layers)for(let n of this.userData.layers.getLayers())if(n.type==$cf00a5c94ce7c28c$export$76bf88ec17fef043.DISPLACE){this.uniformsBackup[`f${n.id}_intensity`]=n.uniforms[`f${n.id}_intensity`].value;let i=r(n.uniforms[`f${n.id}_intensity`].value,e,t);n.uniforms[`f${n.id}_intensity`].value=i}}restoreClampedUniforms(){if(this.userData.layers)for(let e of this.userData.layers.getLayers())e.type==$cf00a5c94ce7c28c$export$76bf88ec17fef043.DISPLACE&&(e.uniforms[`f${e.id}_intensity`].value=this.uniformsBackup[`f${e.id}_intensity`])}customProgramCacheKey(){return this.getHash()}updateFrame(e){for(let t=0;t<this.updaters.length;++t)e.updateNode(this.updaters[t])}build(e){var t;let r=null!=(t=(e=null!=e?e:{}).builder)?t:new $c7c760c4496d469e$export$2e2bcd8739ae039;return r.setMaterial(this,e.renderer),r.build(this.vertex,this.fragment),this.vertexShader=r.getCode("vertex"),this.fragmentShader=r.getCode("fragment"),this.defines=r.defines,this.uniforms=r.uniforms,this.extensions=r.extensions,this.updaters=r.updaters,this.fog=r.requires.fog,this.lights=r.requires.lights,this.transparent=r.requires.transparent||this.blending>_s,this}getHash(){let e="{";return e+='"vertex":'+this.vertex.getHash()+",",e+='"fragment":'+this.fragment.getHash(),e+="}",e}copy(e){let t=this.uuid;for(let t in e)this[t]=e[t];return this.uuid=t,void 0!==e.userData&&(this.userData=JSON.parse(JSON.stringify(e.userData))),this}toJSON(e){let t=this.userData.layers;this.userData.layers=void 0;let r=super.toJSON(e);return r.type="ShaderMaterial",r.userData={type:this.userData.type,category:this.userData.category,nodeType:this.type,layers:t.toJSON(e)},r.vertex=this.vertex.toJSON(e).uuid,r.fragment=this.fragment.toJSON(e).uuid,delete r.vertexShader,delete r.fragmentShader,delete r.color,delete r.shininess,delete r.specular,delete r.roughness,delete r.metalness,delete r.uniforms,e&&!e.materials[this.uuid]&&(e.materials[this.uuid]=r),this.userData.layers=t,r}fromJSON(e,t){var r;this.defines=null!=(r=e.defines)?r:{},this.depthFunc=e.depthFunc,this.depthWrite=e.depthWrite,this.side=void 0!==e.side?e.side:$ilwiq.FrontSide,this.transparent=e.transparent,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.wireframe=e.wireframe,this.userData.layers.fromJSON(e.userData.layers,t,this)}}class $fce28d0644092426$export$19b7c933a28da2f extends $15e9d8fcecd21f23$export$2e2bcd8739ae039{get color(){return this.fragment.color}set color(e){this.fragment.color=e}get afterColor(){return this.fragment.afterColor}set afterColor(e){this.fragment.afterColor=e}get alpha(){return this.fragment.alpha}set alpha(e){this.fragment.alpha=e}get shadingAlpha(){return this.fragment.shadingAlpha}set shadingAlpha(e){this.fragment.shadingAlpha=e}get shadingBlend(){return this.fragment.shadingBlend}set shadingBlend(e){this.fragment.shadingBlend=e}get position(){return this.fragment.position}set position(e){this.fragment.position=e}constructor(e=new $4a92a6a093b64c0c$export$cff88634e3289b72,t){super(e,e,t),this.type="BasicNodeMaterial",this.fragment=e}}class $fce28d0644092426$export$638700cfa0c0fca2 extends $15e9d8fcecd21f23$export$2e2bcd8739ae039{get color(){return this.fragment.color}set color(e){this.fragment.color=e}get afterColor(){return this.fragment.afterColor}set afterColor(e){this.fragment.afterColor=e}get alpha(){return this.fragment.alpha}set alpha(e){this.fragment.alpha=e}get shadingAlpha(){return this.fragment.shadingAlpha}set shadingAlpha(e){this.fragment.shadingAlpha=e}get shadingBlend(){return this.fragment.shadingBlend}set shadingBlend(e){this.fragment.shadingBlend=e}get position(){return this.fragment.position}set position(e){this.fragment.position=e}get specular(){return this.fragment.specular}set specular(e){this.fragment.specular=e}get shininess(){return this.fragment.shininess}set shininess(e){this.fragment.shininess=e}constructor(e=new $bc35c1f148bdd886$export$325981b1716882d4,t){super(e,e,t),this.type="PhongNodeMaterial",this.fragment=e}}class $fce28d0644092426$export$553c4fe8f34bd242 extends $15e9d8fcecd21f23$export$2e2bcd8739ae039{get color(){return this.fragment.color}set color(e){this.fragment.color=e}get afterColor(){return this.fragment.afterColor}set afterColor(e){this.fragment.afterColor=e}get alpha(){return this.fragment.alpha}set alpha(e){this.fragment.alpha=e}get shadingAlpha(){return this.fragment.shadingAlpha}set shadingAlpha(e){this.fragment.shadingAlpha=e}get shadingBlend(){return this.fragment.shadingBlend}set shadingBlend(e){this.fragment.shadingBlend=e}get position(){return this.fragment.position}set position(e){this.fragment.position=e}get emissive(){return this.fragment.emissive}set emissive(e){this.fragment.emissive=e}get emissiveIntensity(){return this.fragment.emissiveIntensity}set emissiveIntensity(e){this.fragment.emissiveIntensity=e}constructor(e=new $714556b034d4ef4f$export$cf4eeafedd196920,t){super(e,e,t),this.type="LambertNodeMaterial",this.fragment=e}}class $fce28d0644092426$export$602a7a1570383902 extends $15e9d8fcecd21f23$export$2e2bcd8739ae039{get color(){return this.fragment.color}set color(e){this.fragment.color=e}get afterColor(){return this.fragment.afterColor}set afterColor(e){this.fragment.afterColor=e}get alpha(){return this.fragment.alpha}set alpha(e){this.fragment.alpha=e}get shadingAlpha(){return this.fragment.shadingAlpha}set shadingAlpha(e){this.fragment.shadingAlpha=e}get shadingBlend(){return this.fragment.shadingBlend}set shadingBlend(e){this.fragment.shadingBlend=e}get position(){return this.fragment.position}set position(e){this.fragment.position=e}get specular(){return this.fragment.specular}set specular(e){this.fragment.specular=e}get shininess(){return this.fragment.shininess}set shininess(e){this.fragment.shininess=e}constructor(e=new $a9cfa237d2811dbc$export$2040417bf76f9c66,t){super(e,e,t),this.type="ToonNodeMaterial",this.fragment=e}}class $fce28d0644092426$export$730ba67e9bbc9be7 extends $15e9d8fcecd21f23$export$2e2bcd8739ae039{get color(){return this.fragment.color}set color(e){this.fragment.color=e}get afterColor(){return this.fragment.afterColor}set afterColor(e){this.fragment.afterColor=e}get alpha(){return this.fragment.alpha}set alpha(e){this.fragment.alpha=e}get shadingAlpha(){return this.fragment.shadingAlpha}set shadingAlpha(e){this.fragment.shadingAlpha=e}get shadingBlend(){return this.fragment.shadingBlend}set shadingBlend(e){this.fragment.shadingBlend=e}get position(){return this.fragment.position}set position(e){this.fragment.position=e}get roughness(){return this.fragment.roughness}set roughness(e){this.fragment.roughness=e}get metalness(){return this.fragment.metalness}set metalness(e){this.fragment.metalness=e}get reflectivity(){return this.fragment.reflectivity}set reflectivity(e){this.fragment.reflectivity=e}constructor(e=new $9fb77d863457a90c$export$d5a1f56087d42b19,t){super(e,e,t),this.type="StandardNodeMaterial",this.fragment=e}}class $815a6c8fba47e593$export$3ddcd94b699ad478 extends $fce28d0644092426$export$730ba67e9bbc9be7{constructor(e,t,r){super(t,e),this.userData.type="PhysicalMaterial",this.userData.category="Physical",this.userData.layers=null!=r?r:this._getLayerStack(null==e?void 0:e.map)}get layersList(){return this.userData.layers}set layersList(e){this.userData.layers=e}equals(e){return this.userData.type===e.userData.type&&this.userData.layers.uuid==e.userData.layers.uuid}copy(e){if(void 0!==e.userData.layers&&e.userData.layers instanceof $0a0dedea89a00c7a$export$2e2bcd8739ae039){let t=e.userData.layers,r=e.fragment;super.copy(e);let n=r.clone();this.fragment=n,this.vertex=n;let i=t.clone(this);this.userData.layers=i,n.shadingAlpha.value=r.shadingAlpha.value,n.shadingBlend.value=r.shadingBlend.value}else super.copy(e);return this}static fromJSON(e,t,r){let n=r.getNode(t.vertex),i=new $815a6c8fba47e593$export$3ddcd94b699ad478(void 0,n);return i.fromJSON(t,r),i}dispose(){super.dispose()}}class $815a6c8fba47e593$export$cff88634e3289b72 extends $fce28d0644092426$export$19b7c933a28da2f{constructor(e,t,r){super(t,e),this.userData.type="BasicMaterial",this.userData.category="Basic",this.userData.layers=null!=r?r:this._getLayerStack(null==e?void 0:e.map)}get layersList(){return this.userData.layers}set layersList(e){this.userData.layers=e}equals(e){return this.userData.type===e.userData.type&&this.userData.layers.uuid==e.userData.layers.uuid}copy(e){if(void 0!==e.userData.layers&&e.userData.layers instanceof $0a0dedea89a00c7a$export$2e2bcd8739ae039){let t=e.userData.layers,r=e.fragment;super.copy(e);let n=r.clone();this.fragment=n,this.vertex=n;let i=t.clone(this);this.userData.layers=i}else super.copy(e);return this}static fromJSON(e,t,r){let n=r.getNode(t.vertex),i=new $815a6c8fba47e593$export$cff88634e3289b72(void 0,n);return i.fromJSON(t,r),i}static fromMaterial(e){let t=new $815a6c8fba47e593$export$cff88634e3289b72(e.map?{map:e.map}:{}),r=t.fragment;return r.color.value.copy(e.color),r.alpha.value=e.opacity,t}dispose(){super.dispose()}}class $815a6c8fba47e593$export$cf4eeafedd196920 extends $fce28d0644092426$export$553c4fe8f34bd242{constructor(e,t,r){super(t,e),this.userData.type="LambertMaterial",this.userData.category="Lambert",this.userData.layers=null!=r?r:this._getLayerStack(null==e?void 0:e.map)}get layersList(){return this.userData.layers}set layersList(e){this.userData.layers=e}equals(e){return this.userData.type===e.userData.type&&this.userData.layers.uuid==e.userData.layers.uuid}copy(e){if(void 0!==e.userData.layers&&e.userData.layers instanceof $0a0dedea89a00c7a$export$2e2bcd8739ae039){let t=e.userData.layers,r=e.fragment;super.copy(e);let n=r.clone();this.fragment=n,this.vertex=n;let i=t.clone(this);this.userData.layers=i,n.shadingAlpha.value=r.shadingAlpha.value,n.shadingBlend.value=r.shadingBlend.value}else super.copy(e);return this}static fromJSON(e,t,r){let n=r.getNode(t.vertex),i=new $815a6c8fba47e593$export$cf4eeafedd196920(void 0,n);return i.fromJSON(t,r),i}dispose(){super.dispose()}}class $815a6c8fba47e593$export$2040417bf76f9c66 extends $fce28d0644092426$export$602a7a1570383902{constructor(e,t,r){super(t,e),this.userData.type="ToonMaterial",this.userData.category="Toon",this.userData.layers=null!=r?r:this._getLayerStack(null==e?void 0:e.map)}get layersList(){return this.userData.layers}set layersList(e){this.userData.layers=e}equals(e){return this.userData.type===e.userData.type&&this.userData.layers.uuid==e.userData.layers.uuid}copy(e){if(void 0!==e.userData.layers&&e.userData.layers instanceof $0a0dedea89a00c7a$export$2e2bcd8739ae039){let t=e.userData.layers,r=e.fragment;super.copy(e);let n=r.clone();this.fragment=n,this.vertex=n;let i=t.clone(this);this.userData.layers=i,n.shadingAlpha.value=r.shadingAlpha.value,n.shadingBlend.value=r.shadingBlend.value}else super.copy(e);return this}static fromJSON(e,t,r){let n=r.getNode(t.vertex),i=new $815a6c8fba47e593$export$2040417bf76f9c66(void 0,n);return i.fromJSON(t,r),i}dispose(){super.dispose()}}class $815a6c8fba47e593$export$325981b1716882d4 extends $fce28d0644092426$export$638700cfa0c0fca2{constructor(e,t,r){super(t,e),this.userData.type="PhongMaterial",this.userData.category="Phong",this.userData.layers=null!=r?r:this._getLayerStack(null==e?void 0:e.map)}get layersList(){return this.userData.layers}set layersList(e){this.userData.layers=e}equals(e){return this.userData.type===e.userData.type&&this.userData.layers.uuid==e.userData.layers.uuid}copy(e){if(void 0!==e.userData.layers&&e.userData.layers instanceof $0a0dedea89a00c7a$export$2e2bcd8739ae039){let t=e.userData.layers,r=e.fragment;super.copy(e);let n=r.clone();this.fragment=n,this.vertex=n;let i=t.clone(this);this.userData.layers=i,n.shadingAlpha.value=r.shadingAlpha.value,n.shadingBlend.value=r.shadingBlend.value}else super.copy(e);return this}static fromJSON(e,t,r){let n=r.getNode(t.vertex),i=new $815a6c8fba47e593$export$325981b1716882d4(void 0,n);return i.fromJSON(t,r),i}static fromMaterial(e){let t=new $815a6c8fba47e593$export$325981b1716882d4(e.map?{map:e.map}:{}),r=t.fragment;return r.color.value.copy(e.color),r.alpha.value=e.opacity,t}dispose(){super.dispose()}}function $7a44cd67e386b99d$var$Q1(e){let t=e instanceof $9c98a078885aa0cf$export$2e2bcd8739ae039?e.type:e;return"texture"===t||"displace_map"===t||"matcap"===t}const $7a44cd67e386b99d$var$cA=e=>"VIDEO"===e.tagName;class $7a44cd67e386b99d$export$2e2bcd8739ae039{static resize(e,t,r){let n,i=e/t;if(!r.image)return;let a=r.image;n=$7a44cd67e386b99d$var$cA(a)?a.videoWidth/a.videoHeight:a.width/a.height,i>n&&("WEBCAM"==r.imageType?r.repeat.set(-1,1*n/i):r.repeat.set(1,1*n/i)),i<n&&("WEBCAM"==r.imageType?r.repeat.set(1*i/n*-1,1):r.repeat.set(1*i/n,1)),i==n&&("WEBCAM"==r.imageType?r.repeat.set(-1,1):r.repeat.set(1,1))}static resizeTextureLayer(e,t,r){let n,i=e/t,a=void 0!==r.image?r.image.width/r.image.height:1;n=i>a?{x:1,y:a/i}:i<a?{x:i/a,y:1}:{x:1,y:1},r.repeat.set(n.x,n.y),r.updateMatrix()}static resizeTextureLayers(e,t,r){let n=r.userData.layers,i=n.getLayers();for(let r=0;r<i.length;r++){let a=i[r];$7a44cd67e386b99d$var$Q1(a)&&($7a44cd67e386b99d$export$2e2bcd8739ae039.resizeTextureLayer(e,t,a.uniforms[`f${a.id}_texture`].value),n.updateLayerUniform())}}static resizeComplex(e,t,r,n){let i,a=e/t,o=r.image;i=$7a44cd67e386b99d$var$cA(o)?o.videoWidth/o.videoHeight:o.width/o.height,n.geometry.type.includes("Shape")?(a>i&&("WEBCAM"==r.imageType?r.repeat.set(1/e*-1,1/t*i/a):r.repeat.set(1/e,1/t*i/a)),a<i&&("WEBCAM"==r.imageType?r.repeat.set(1/e*a/i*-1,1/t):r.repeat.set(1/e*a/i,1/t)),a==i&&("WEBCAM"==r.imageType?r.repeat.set(1/e*-1,1/t):r.repeat.set(1/e,1/t))):(a>i&&("WEBCAM"==r.imageType?r.repeat.set(-1,1*i/a):r.repeat.set(1,1*i/a)),a<i&&("WEBCAM"==r.imageType?r.repeat.set(1*a/i*-1,1):r.repeat.set(1*a/i,1)),a==i&&("WEBCAM"==r.imageType?r.repeat.set(-1,1):r.repeat.set(1,1)))}}var $ilwiq=parcelRequire("ilwiq"),$ilwiq=parcelRequire("ilwiq");parcelRequire("f1q41");var $ilwiq=parcelRequire("ilwiq");let $b00c79fae392a566$var$wl=e=>"isEntity"in e;function $b00c79fae392a566$var$Al(e){let t=[];for(let r in e){let n=e[r];delete n.metadata,t.push(n)}return t}function $b00c79fae392a566$var$j1(e){let t=[];for(let r in e)t.push(e[r]);return t}function $b00c79fae392a566$export$c7f6ab2975ab589f(e){return class extends e{hasEntityChild(){return this.children.some((e=>$b00c79fae392a566$var$wl(e)))}isDescendantOf(e){e instanceof Object3D&&(e=e.uuid);let t=this;for(;t.parent;){if(t.parent.uuid===e)return!0;t=t.parent}return!1}attach(e,t){this.updateWorldMatrix(!0,!1);let r=(new(0,$ilwiq.Matrix4)).copy(this.matrixWorld).invert();return null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),r.multiply(e.parent.matrixWorld)),$b00c79fae392a566$var$wl(e)?e.hiddenMatrix.premultiply(r):e.applyMatrix4(r),e.updateWorldMatrix(!1,!1),this.add(e),void 0!==t&&(this.children.pop(),this.children.splice(t,0,e)),this}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let t=0;t<e.children.length;t++){let r=e.children[t];this.add(r.clone())}return this}toJSON(e){let t=void 0===e,r={object:{uuid:"",ObjectType:""}};void 0===e&&(e={geometries:{},materials:{},textures:{},images:{},interactionStates:{},nodes:{}},r.metadata={version:1.5,type:"Object",generator:"Object3D.toJSON"});let n={uuid:this.uuid,ObjectType:this.type};if(""!==this.name&&(n.name=this.name),n.matrix=this.matrix.toArray(),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),n.layers=this.layers.mask,"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),this.children.length>0){n.children=[];for(let t of this.children)($b00c79fae392a566$var$wl(t)||t instanceof Light)&&n.children.push(t.toJSON(e).object)}if(t){let t=$b00c79fae392a566$var$Al(e.geometries),n=$b00c79fae392a566$var$Al(e.materials),i=$b00c79fae392a566$var$Al(e.textures),a=$b00c79fae392a566$var$Al(e.images),o=$b00c79fae392a566$var$Al(e.interactionStates),s=$b00c79fae392a566$var$j1(e.nodes);t.length>0&&(r.geometries=t),n.length>0&&(r.materials=n),i.length>0&&(r.textures=i),a.length>0&&(r.images=a),o.length>0&&(r.interactionStates=o),s.length>0&&(r.nodes=s)}return r.object=n,r}fromJSON(e){return this.uuid=e.uuid,void 0!==e.name&&(this.name=e.name),void 0!==e.matrix?(this.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(this.matrixAutoUpdate=e.matrixAutoUpdate),this.matrixAutoUpdate&&this.matrix.decompose(this.position,this.quaternion,this.scale)):(void 0!==e.position&&this.position.fromArray(e.position),void 0!==e.rotation&&this.rotation.fromArray(e.rotation),void 0!==e.quaternion&&this.quaternion.fromArray(e.quaternion),void 0!==e.scale&&this.scale.fromArray(e.scale)),this.castShadow=void 0!==e.castShadow,this.receiveShadow=void 0!==e.receiveShadow,void 0!==e.visible&&(this.visible=e.visible),void 0!==e.frustumCulled&&(this.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(this.renderOrder=e.renderOrder),void 0!==e.layers&&(this.layers.mask=e.layers),void 0!==e.userData&&(this.userData=e.userData),this}}}parcelRequire("f1q41");var $ilwiq=parcelRequire("ilwiq");function $63088aed6d967d68$var$$O(e,t,r=0,n=t.count){let i=1/0,a=1/0,o=1/0,s=-1/0,c=-1/0,l=-1/0;for(let e=r;e<n;e++){let r=t.getX(e),n=t.getY(e),d=t.getZ(e);r<i&&(i=r),n<a&&(a=n),d<o&&(o=d),r>s&&(s=r),n>c&&(c=n),d>l&&(l=d)}return e.min.set(i,a,o),e.max.set(s,c,l),e}let $63088aed6d967d68$var$qr=new(0,$ilwiq.Vector3),$63088aed6d967d68$var$ke=new(0,$ilwiq.Vector3),$63088aed6d967d68$var$Ml=new(0,$ilwiq.Box3),$63088aed6d967d68$var$_r=new(0,$ilwiq.Matrix4);const $63088aed6d967d68$var$A1=(e,t,r,n)=>{var i;if("isAbstractMesh"in e){let t=e.geometry.userData.parameters,r=e.geometry.getAttribute("position");"SubdivGeometry"===e.geometry.userData.type?$63088aed6d967d68$var$qr.copy(e.originalGeometry.boundingSphere.center):($63088aed6d967d68$var$$O($63088aed6d967d68$var$Ml,r,e.geometry.drawRange.start,e.geometry.drawRange.count<1/0?e.geometry.drawRange.count:r.count),$63088aed6d967d68$var$Ml.getCenter($63088aed6d967d68$var$qr)),e.forceComputeSize?$63088aed6d967d68$var$Ml.getSize($63088aed6d967d68$var$ke).multiplyScalar(.5):$63088aed6d967d68$var$ke.set(t.width,t.height,null!=(i=t.depth)?i:0).multiplyScalar(.5)}else if("objectHelper"in e&&!0===n){let t=e.geometryHelper.getAttribute("position");$63088aed6d967d68$var$Ml.setFromArray(t.array),$63088aed6d967d68$var$Ml.getCenter($63088aed6d967d68$var$qr),$63088aed6d967d68$var$Ml.getSize($63088aed6d967d68$var$ke).multiplyScalar(.5)}else $63088aed6d967d68$var$qr.setScalar(0),$63088aed6d967d68$var$ke.setScalar(0);$63088aed6d967d68$var$_r.copy(t).multiply(e.matrixWorld),0===$63088aed6d967d68$var$ke.x&&0===$63088aed6d967d68$var$ke.y&&0===$63088aed6d967d68$var$ke.z?r.push(new(0,$ilwiq.Vector3)($63088aed6d967d68$var$qr.x,$63088aed6d967d68$var$qr.y,$63088aed6d967d68$var$qr.z).applyMatrix4($63088aed6d967d68$var$_r)):r.push(new(0,$ilwiq.Vector3)(-$63088aed6d967d68$var$ke.x,$63088aed6d967d68$var$ke.y,$63088aed6d967d68$var$ke.z).add($63088aed6d967d68$var$qr).applyMatrix4($63088aed6d967d68$var$_r),new(0,$ilwiq.Vector3)(-$63088aed6d967d68$var$ke.x,-$63088aed6d967d68$var$ke.y,$63088aed6d967d68$var$ke.z).add($63088aed6d967d68$var$qr).applyMatrix4($63088aed6d967d68$var$_r),new(0,$ilwiq.Vector3)($63088aed6d967d68$var$ke.x,-$63088aed6d967d68$var$ke.y,$63088aed6d967d68$var$ke.z).add($63088aed6d967d68$var$qr).applyMatrix4($63088aed6d967d68$var$_r),new(0,$ilwiq.Vector3)($63088aed6d967d68$var$ke.x,$63088aed6d967d68$var$ke.y,$63088aed6d967d68$var$ke.z).add($63088aed6d967d68$var$qr).applyMatrix4($63088aed6d967d68$var$_r),new(0,$ilwiq.Vector3)(-$63088aed6d967d68$var$ke.x,$63088aed6d967d68$var$ke.y,-$63088aed6d967d68$var$ke.z).add($63088aed6d967d68$var$qr).applyMatrix4($63088aed6d967d68$var$_r),new(0,$ilwiq.Vector3)(-$63088aed6d967d68$var$ke.x,-$63088aed6d967d68$var$ke.y,-$63088aed6d967d68$var$ke.z).add($63088aed6d967d68$var$qr).applyMatrix4($63088aed6d967d68$var$_r),new(0,$ilwiq.Vector3)($63088aed6d967d68$var$ke.x,-$63088aed6d967d68$var$ke.y,-$63088aed6d967d68$var$ke.z).add($63088aed6d967d68$var$qr).applyMatrix4($63088aed6d967d68$var$_r),new(0,$ilwiq.Vector3)($63088aed6d967d68$var$ke.x,$63088aed6d967d68$var$ke.y,-$63088aed6d967d68$var$ke.z).add($63088aed6d967d68$var$qr).applyMatrix4($63088aed6d967d68$var$_r))};class $63088aed6d967d68$export$2e2bcd8739ae039 extends $ilwiq.Box3{constructor(){super(...arguments),this.matrix=new(0,$ilwiq.Matrix4),this.vertices=[],this.faces=[],this.edges=[],this.centerEdges=[]}copy(e){return super.copy(e),this.matrix.copy(e.matrix),this.vertices=e.vertices.map((e=>e.clone())),this.faces=e.faces.map((e=>e.clone())),this.edges=e.edges.map((e=>e.clone())),this.centerEdges=e.centerEdges.map((e=>e.clone())),this}setFromObjectSize(e,t=!1){e.updateWorldMatrix(!1,t),this.makeEmpty(),this.matrix.copy(e.matrixWorld);let r=(new(0,$ilwiq.Matrix4)).copy(e.matrixWorld).invert();return this.expandByObjectSize(e,r,t)}expandByObjectSize(e,t,r=!1){let n=[];return!0===r?e.traverseEntity((r=>$63088aed6d967d68$var$A1(r,t,n,!0===e.enableHelper))):$63088aed6d967d68$var$A1(e,t,n,!0===e.enableHelper),this.setFromPoints(n)}getCenter(e){return(e=super.getCenter(e)).applyMatrix4(this.matrix),e}getPositionToCenter(e){return(e=super.getCenter(e)).applyMatrix4($63088aed6d967d68$var$_r.copy(this.matrix).setPosition(0,0,0)),e}computeVertices(){this.getSize($63088aed6d967d68$var$ke).multiplyScalar(.5),this.getCenter($63088aed6d967d68$var$qr),$63088aed6d967d68$var$_r.copy(this.matrix).setPosition($63088aed6d967d68$var$qr),this.vertices=[new(0,$ilwiq.Vector3)(-$63088aed6d967d68$var$ke.x,$63088aed6d967d68$var$ke.y,$63088aed6d967d68$var$ke.z).applyMatrix4($63088aed6d967d68$var$_r),new(0,$ilwiq.Vector3)(-$63088aed6d967d68$var$ke.x,-$63088aed6d967d68$var$ke.y,$63088aed6d967d68$var$ke.z).applyMatrix4($63088aed6d967d68$var$_r),new(0,$ilwiq.Vector3)($63088aed6d967d68$var$ke.x,-$63088aed6d967d68$var$ke.y,$63088aed6d967d68$var$ke.z).applyMatrix4($63088aed6d967d68$var$_r),new(0,$ilwiq.Vector3)($63088aed6d967d68$var$ke.x,$63088aed6d967d68$var$ke.y,$63088aed6d967d68$var$ke.z).applyMatrix4($63088aed6d967d68$var$_r),new(0,$ilwiq.Vector3)(-$63088aed6d967d68$var$ke.x,$63088aed6d967d68$var$ke.y,-$63088aed6d967d68$var$ke.z).applyMatrix4($63088aed6d967d68$var$_r),new(0,$ilwiq.Vector3)(-$63088aed6d967d68$var$ke.x,-$63088aed6d967d68$var$ke.y,-$63088aed6d967d68$var$ke.z).applyMatrix4($63088aed6d967d68$var$_r),new(0,$ilwiq.Vector3)($63088aed6d967d68$var$ke.x,-$63088aed6d967d68$var$ke.y,-$63088aed6d967d68$var$ke.z).applyMatrix4($63088aed6d967d68$var$_r),new(0,$ilwiq.Vector3)($63088aed6d967d68$var$ke.x,$63088aed6d967d68$var$ke.y,-$63088aed6d967d68$var$ke.z).applyMatrix4($63088aed6d967d68$var$_r)]}computeEdges(){this.vertices.length>0&&this.computeVertices(),this.edges=[new(0,$ilwiq.Line3)(this.vertices[0],this.vertices[3]),new(0,$ilwiq.Line3)(this.vertices[1],this.vertices[2]),new(0,$ilwiq.Line3)(this.vertices[5],this.vertices[6]),new(0,$ilwiq.Line3)(this.vertices[4],this.vertices[7]),new(0,$ilwiq.Line3)(this.vertices[0],this.vertices[1]),new(0,$ilwiq.Line3)(this.vertices[3],this.vertices[2]),new(0,$ilwiq.Line3)(this.vertices[7],this.vertices[6]),new(0,$ilwiq.Line3)(this.vertices[4],this.vertices[5]),new(0,$ilwiq.Line3)(this.vertices[0],this.vertices[4]),new(0,$ilwiq.Line3)(this.vertices[1],this.vertices[5]),new(0,$ilwiq.Line3)(this.vertices[2],this.vertices[6]),new(0,$ilwiq.Line3)(this.vertices[3],this.vertices[7])],this.centerEdges=this.edges.map((e=>e.getCenter(new(0,$ilwiq.Vector3))))}computeFaces(){this.vertices.length>0&&this.computeVertices(),this.faces=[(new(0,$ilwiq.Vector3)).copy(this.vertices[0]).sub(this.vertices[2]).multiplyScalar(.5).add(this.vertices[2]),(new(0,$ilwiq.Vector3)).copy(this.vertices[7]).sub(this.vertices[5]).multiplyScalar(.5).add(this.vertices[5]),(new(0,$ilwiq.Vector3)).copy(this.vertices[4]).sub(this.vertices[1]).multiplyScalar(.5).add(this.vertices[1]),(new(0,$ilwiq.Vector3)).copy(this.vertices[3]).sub(this.vertices[6]).multiplyScalar(.5).add(this.vertices[6]),(new(0,$ilwiq.Vector3)).copy(this.vertices[4]).sub(this.vertices[3]).multiplyScalar(.5).add(this.vertices[3]),(new(0,$ilwiq.Vector3)).copy(this.vertices[1]).sub(this.vertices[6]).multiplyScalar(.5).add(this.vertices[6])]}}var $ilwiq=parcelRequire("ilwiq");let $7447aa2841984708$var$xs=e=>"objectHelper"in e,$7447aa2841984708$var$Tn=e=>"isEntity"in e;function $7447aa2841984708$export$82769c919fcdc8d5(e){return class extends($b00c79fae392a566$export$c7f6ab2975ab589f(e)){constructor(){super(...arguments),this.objectType="",this.isEntity=!0,this.raycastLock=!1,this.scaleLock=!1,this.hiddenMatrix=new(0,$ilwiq.Matrix4),this._singleBBox=new $63088aed6d967d68$export$2e2bcd8739ae039,this._recursiveBBox=new $63088aed6d967d68$export$2e2bcd8739ae039,this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this.forceComputeSize=!1}set visibility(e){this.visible=e;for(let t of this.children)$7447aa2841984708$var$Tn(t)&&t.traverseEntity((t=>{$7447aa2841984708$var$xs(t)&&t.visible&&(t.objectHelper.visible=e)}))}get visibility(){return this.visible}get interactionCache(){var e,t,r;return void 0===(null==(e=this.interaction)?void 0:e.cache)&&(null==(t=this.interaction)||t.computeCache()),null==(r=this.interaction)?void 0:r.cache}get singleBBox(){return this.singleBBoxNeedsUpdate&&(this.singleBBoxNeedsUpdate=!1,this._singleBBox.setFromObjectSize(this,!1),this._singleBBox.computeVertices(),this._singleBBox.computeEdges(),this._singleBBox.computeFaces()),this._singleBBox}get recursiveBBox(){return this.recursiveBBoxNeedsUpdate&&(this.recursiveBBoxNeedsUpdate=!1,this._recursiveBBox.setFromObjectSize(this,!0),this._recursiveBBox.computeVertices(),this._recursiveBBox.computeEdges(),this._recursiveBBox.computeFaces()),this._recursiveBBox}resetBBoxNeedsUpdate(){this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this.traverseAncestors((e=>{$7447aa2841984708$var$Tn(e)&&(e.singleBBoxNeedsUpdate=!0,e.recursiveBBoxNeedsUpdate=!0)})),this.traverseEntity((e=>{e.singleBBoxNeedsUpdate=!0,e.recursiveBBoxNeedsUpdate=!0}))}traverseEntity(e){e(this);for(let t of this.children)$7447aa2841984708$var$Tn(t)&&t.traverseEntity(e)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);for(let t of this.children)t.updateMatrixWorld(e)}updateWorldMatrix(e,t){let r=this.parent;if(e&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),t)for(let e of this.children)e.updateWorldMatrix(!1,!0)}shallowClone(e){return(new this.constructor).shallowCopy(this,e)}shallowCopy(e,t=!0){if(super.copy(e,!1),this.raycastLock=e.raycastLock,this.scaleLock=e.scaleLock,this.hiddenMatrix.copy(e.hiddenMatrix),!0===t)for(let t of e.children)$7447aa2841984708$var$Tn(t)&&this.add(t.shallowClone());return this}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(super.copy(e,!1),this.raycastLock=e.raycastLock,this.scaleLock=e.scaleLock,this.hiddenMatrix.copy(e.hiddenMatrix),!0===t)for(let t of e.children)$7447aa2841984708$var$Tn(t)&&this.add(t.clone());return this}keepChildrenMatrixWorld(){let e=new(0,$ilwiq.Matrix4),t=this.matrixWorld.clone();this.updateWorldMatrix(!1,!1),e.copy(this.matrixWorld).invert(),e.multiply(t);for(let t of this.children)$7447aa2841984708$var$Tn(t)&&t.hiddenMatrix.premultiply(e)}toJSON(e){let t=super.toJSON(e),r=t.object;return!0===this.raycastLock&&(r.raycastLock=!0),!0===this.scaleLock&&(r.scaleLock=!0),r.hiddenMatrix=this.hiddenMatrix.toArray(),t}fromJSON(e){return super.fromJSON(e),void 0!==e.raycastLock&&(this.raycastLock=e.raycastLock),void 0!==e.scaleLock&&(this.scaleLock=e.scaleLock),this.hiddenMatrix.fromArray(e.hiddenMatrix),this}fromObject3D(e){let t=e.children;return e.children=[],Object.assign(e,{raycastLock:!1,scaleLock:!1,hiddenMatrix:new(0,$ilwiq.Matrix4)}),this.copy(e),e.children=t,this}toObjectTransformState(e=[]){this.updateWorldMatrix(!0,!1);let t={position:this.position.toArray(),rotation:[this.rotation.x,this.rotation.y,this.rotation.z],scale:this.scale.toArray(),hiddenMatrix:this.hiddenMatrix.toArray()};return cl(t,e)}fromObjectTransformState(e){return e.position&&this.position.fromArray(e.position),e.rotation&&this.rotation.fromArray(e.rotation),e.scale&&this.scale.fromArray(e.scale),e.hiddenMatrix&&this.hiddenMatrix.fromArray(e.hiddenMatrix),this.updateMatrix(),this}toState(e=[]){let t={name:this.name,visible:this.visible,raycastLock:this.raycastLock,...this.toObjectTransformState(e)};return cl(t,e)}fromState(e,t){return e.name&&(this.name=e.name),void 0!==e.raycastLock&&(this.raycastLock=e.raycastLock),"OrthographicCamera"!==e.type&&"PerspectiveCamera"!==e.type&&(this.matrixAutoUpdate=!1),void 0!==e.visible&&(this.visibility=e.visible),this.fromObjectTransformState(e),this}}}parcelRequire("f1q41");let $e1e8fbc274910ad0$var$xs=e=>"objectHelper"in e,$e1e8fbc274910ad0$var$Tn=e=>"isEntity"in e;function $e1e8fbc274910ad0$export$165a27c7d02dd2c5(e,t){return class extends e{constructor(){super(...arguments),this.objectHelper=new t(this),this.enableHelper=!1}set visibility(e){this.visible=e,this.setHelperVisibility(e),this.setHelperChildrenVisibility(e)}get visibility(){return this.visible}get geometryHelper(){return t.geometryHelper}setHelperVisibility(e){this.objectHelper.visible=e}setHelperChildrenVisibility(e){for(let t of this.children)$e1e8fbc274910ad0$var$Tn(t)&&t.traverseEntity((t=>{$e1e8fbc274910ad0$var$xs(t)&&t.visible&&(t.objectHelper.visible=e)}))}raycast(e,t){this.objectHelper.raycast(e,t)}copy(e,t=!0){return super.copy(e,t),void 0!==e.enableHelper&&(this.enableHelper=e.enableHelper),void 0!==e.objectHelper&&(this.objectHelper.visible=e.objectHelper.visible),this}toJSON(e){let t=super.toJSON(e);return t.object.enableHelper=this.enableHelper,t}fromJSON(e){return super.fromJSON(e),void 0!==e.enableHelper&&(this.enableHelper=!0),this}fromLightState(e,t){if("LightDirectional"===this.objectType||"LightPoint"===this.objectType||"LightSpot"===this.objectType){let r=this;void 0!==e.color&&(r.color=$f34097f475629eff$export$c0c1db43bb4f60f7(e.color,t)),void 0!==e.intensity&&(r.intensity=e.intensity),void 0!==e.depth&&(r.shadow.camera.far=e.depth,r.shadow.needsUpdate=!0),void 0!==e.shadows&&(this.castShadow=e.shadows),void 0!==e.helper&&(this.enableHelper=e.helper,r.gizmos.shadowmap.visible=e.helper)}return this}}}var $ilwiq=parcelRequire("ilwiq");function $037f39954857b10b$export$e2c68b3cfb6ef7cb(e){var t;return t=class extends e{constructor(){super(...arguments),this.isObjectHelper=!0}},t.geometryHelper=new(0,$ilwiq.BoxGeometry)(30,30,30),t}var $ilwiq=parcelRequire("ilwiq"),$f1q41=parcelRequire("f1q41");class $c4163c889c617f84$export$2e2bcd8739ae039 extends $ilwiq.Object3D{constructor(e,t={}){super(),this.object=e;let r=e.recursiveBBox.getSize(new(0,$ilwiq.Vector3));this.parameters=$d9b846eb5d0a0e26$export$bd8640a971ca3043.defaultData(r.toArray(),.1),$parcel$interopDefault($f1q41).merge(this.parameters,t),this.update(),this.setHideBase(this.parameters.hideBase)}refreshMaterial(){if("material"in this.object)for(let e of this.children)e.material=this.object.material}setHideBase(e){if("material"in this.object){if(Array.isArray(this.object.material)){if(this.children.length>0){for(let e of this.object.material)e.visible=!0;if(e){let e=this.object.material.map((e=>e.clone()));for(let t of this.children)t.material=e}else for(let e of this.children)e.material=this.object.material}for(let t of this.object.material)t.visible=!e}else{if(this.children.length>0)if(this.object.material.visible=!0,e){let e=this.object.material.clone();for(let t of this.children)t.material=e}else for(let e of this.children)e.material=this.object.material;this.object.material.visible=!e}this.parameters.hideBase=e}}update(){switch(this._updateCount(),this.parameters.type){case"radial":this._updateRadial(this.parameters);break;case"linear":this._updateLinear(this.parameters);break;case"grid":this._updateGrid(this.parameters)}this.children.forEach((e=>e.updateMatrix()))}_updateCount(){let e="grid"===this.parameters.type?this.parameters.grid.count[0]*this.parameters.grid.count[1]*this.parameters.grid.count[2]:this.parameters.count;if(this.children.length!==e)if(this.children.length<e)for(let t=0,r=e-this.children.length;t<r;++t){let e=this.object.shallowClone(!1);e.visible=!0,this.add(e),this.parameters.hideBase&&this.setHideBase(!0)}else for(let t=0,r=this.children.length-e;t<r;++t)this.remove(this.children[0])}_updateRadial(e){let t,r=e.radial,n=r.start*$ilwiq.MathUtils.DEG2RAD,i=n-r.end*$ilwiq.MathUtils.DEG2RAD,a=new(0,$ilwiq.Euler)(r.rotation[0]*$ilwiq.MathUtils.DEG2RAD,r.rotation[1]*$ilwiq.MathUtils.DEG2RAD,r.rotation[2]*$ilwiq.MathUtils.DEG2RAD);switch(r.axis){case"z":t=new(0,$ilwiq.Vector3)(0,0,1);break;case"y":t=new(0,$ilwiq.Vector3)(0,1,0);break;default:t=new(0,$ilwiq.Vector3)(1,0,0)}for(let[o,s]of this.children.entries()){s.hiddenMatrix.identity(),s.scale.x=r.scale[0]+1,s.scale.y=r.scale[1]+1,s.scale.z=r.scale[2]+1,s.position.setScalar(0);let c=i/e.count*o-n;switch(r.axis){case"x":s.rotation.set(0,c,0);break;case"y":s.rotation.set(0,0,c);break;case"z":s.rotation.set(c,0,0)}s.translateOnAxis(t,r.radius),s.position.x+=r.position[0],s.position.y+=r.position[1],s.position.z+=r.position[2],!0===r.alignment?(s.rotation.x+=a.x,s.rotation.y+=a.y,s.rotation.z+=a.z):s.rotation.copy(a)}}_updateLinear(e){if("linear"!==e.type)throw new Error;let t=e.linear,r=new(0,$ilwiq.Euler)(t.rotation[0]*$ilwiq.MathUtils.DEG2RAD,t.rotation[1]*$ilwiq.MathUtils.DEG2RAD,t.rotation[2]*$ilwiq.MathUtils.DEG2RAD);for(let[e,n]of this.children.entries())n.hiddenMatrix.identity(),n.scale.x=t.scale[0]*e+1,n.scale.y=t.scale[1]*e+1,n.scale.z=t.scale[2]*e+1,n.rotation.x=r.x*e,n.rotation.y=r.y*e,n.rotation.z=r.z*e,n.position.x=t.position[0]*e,n.position.y=t.position[1]*e,n.position.z=t.position[2]*e}_updateGrid(e){let t=0,r=e.grid;if(!0===r.useCenter){let e={x:r.count[0]%2==0?2:1,y:r.count[1]%2==0?2:1,z:r.count[2]%2==0?2:1},n=new(0,$ilwiq.Vector3)(r.size[0]*(r.count[0]-e.x)*.5,r.size[1]*(r.count[1]-e.y)*.5,r.size[2]*(r.count[2]-e.z)*.5);for(let e=0;e<r.count[0];e++)for(let i=0;i<r.count[1];i++)for(let a=0;a<r.count[2];a++){let o=this.children[t++];o.hiddenMatrix.identity(),o.scale.setScalar(1),o.rotation.set(0,0,0),o.position.x=r.size[0]*e-n.x,o.position.y=r.size[1]*i-n.y,o.position.z=r.size[2]*a-n.z}}else for(let e=0;e<r.count[0];e++)for(let n=0;n<r.count[1];n++)for(let i=0;i<r.count[2];i++){let a=this.children[t++];a.hiddenMatrix.identity(),a.scale.setScalar(1),a.rotation.set(0,0,0),a.position.x=r.size[0]*e,a.position.y=-r.size[1]*n,a.position.z=-r.size[2]*i}}fromJSON(e){return this}toJSON(){return{}}fromClonerState(e){return void 0!==e.hideBase&&this.setHideBase(e.hideBase),$parcel$interopDefault($f1q41).merge(this.parameters,e),this.update(),this}}var $ilwiq=parcelRequire("ilwiq"),$ilwiq=parcelRequire("ilwiq");class $482828adeba6d6b0$export$2e2bcd8739ae039{constructor(e=256,t=!1){this.capacity=e,this.size=0,this.debug=t,this.debug&&console.log(`allocating with cap ${e}`);let r=e*$482828adeba6d6b0$export$2e2bcd8739ae039.eSize;this.buffer=new ArrayBuffer(r);let n=Float32Array.BYTES_PER_ELEMENT,i=0;this.positions=new Float32Array(this.buffer,i*n,3*e),i+=3*e,this.normals=new Float32Array(this.buffer,i*n,3*e),i+=3*e,this.uvs=new Float32Array(this.buffer,i*n,2*e)}realloc(e,t=!1){if(e<this.size)throw Error("cannot shrink buffer");if(e<=this.capacity&&!t)return;this.debug&&console.log(`resizing from ${this.capacity}  ${e}`);let r=e*$482828adeba6d6b0$export$2e2bcd8739ae039.eSize,n=new ArrayBuffer(r),i=Float32Array.BYTES_PER_ELEMENT,a=0,o=new Float32Array(n,a*i,3*e);a+=3*e;let s=new Float32Array(n,a*i,3*e);a+=3*e;let c=new Float32Array(n,a*i,2*e);o.set(this.positions.slice(0,3*this.size)),s.set(this.normals.slice(0,3*this.size)),c.set(this.uvs.slice(0,2*this.size)),this.buffer=n,this.positions=o,this.normals=s,this.uvs=c,this.capacity=e}get(e=1){let t=this.size+e;if(t>this.capacity){let e=this.capacity;for(;t>e;)e*=2;this.realloc(e)}let r=this.size;return this.size=t,r}reserve(e){let t=this.size+e;t>this.capacity&&this.realloc(t)}shrink(){this.debug&&console.log(`shrinking ${this.capacity}  ${this.size}`),this.realloc(this.size,!0)}}$482828adeba6d6b0$export$2e2bcd8739ae039.eSize=8*Float32Array.BYTES_PER_ELEMENT;var $f1q41=parcelRequire("f1q41"),$eafe7a70b9d76214$var$Tess={};function $eafe7a70b9d76214$var$assert(e,t){if(!e)throw t||"Assertion Failed!"}$eafe7a70b9d76214$var$Tess.ODD=0,$eafe7a70b9d76214$var$Tess.NONZERO=1,$eafe7a70b9d76214$var$Tess.POSITIVE=2,$eafe7a70b9d76214$var$Tess.NEGATIVE=3,$eafe7a70b9d76214$var$Tess.ABS_GEQ_TWO=4,$eafe7a70b9d76214$var$Tess.POLYGONS=0,$eafe7a70b9d76214$var$Tess.CONNECTED_POLYGONS=1,$eafe7a70b9d76214$var$Tess.BOUNDARY_CONTOURS=2;var $eafe7a70b9d76214$var$Geom={};function $eafe7a70b9d76214$var$TESSface(){this.next=null,this.prev=null,this.anEdge=null,this.trail=null,this.n=0,this.marked=!1,this.inside=!1}function $eafe7a70b9d76214$var$TESShalfEdge(e){this.next=null,this.Sym=null,this.Onext=null,this.Lnext=null,this.Org=null,this.Lface=null,this.activeRegion=null,this.winding=0,this.side=e}function $eafe7a70b9d76214$var$TESSvertex(){this.next=null,this.prev=null,this.anEdge=null,this.coords=[0,0,0],this.s=0,this.t=0,this.pqHandle=0,this.n=0,this.idx=0}function $eafe7a70b9d76214$var$TESSmesh(){var e=new $eafe7a70b9d76214$var$TESSvertex,t=new $eafe7a70b9d76214$var$TESSface,r=new $eafe7a70b9d76214$var$TESShalfEdge(0),n=new $eafe7a70b9d76214$var$TESShalfEdge(1);e.next=e.prev=e,e.anEdge=null,t.next=t.prev=t,r.next=r,r.Sym=n,n.next=n,n.Sym=r,this.vHead=e,this.fHead=t,this.eHead=r,this.eHeadSym=n}function $eafe7a70b9d76214$var$PQnode(){this.handle=null}function $eafe7a70b9d76214$var$PQhandleElem(){this.key=null,this.node=null}function $eafe7a70b9d76214$var$PriorityQ(e,t){this.leq=t,this.max=0,this.nodes=[],this.handles=[],this.initialized=!1,this.freeList=0,this.size=0,this.max=e,this.nodes=[],this.handles=[];for(var r=0;r<e+1;r++)this.nodes[r]=new $eafe7a70b9d76214$var$PQnode,this.handles[r]=new $eafe7a70b9d76214$var$PQhandleElem;this.initialized=!1,this.nodes[1].handle=1,this.handles[1].key=null}function $eafe7a70b9d76214$var$ActiveRegion(){this.eUp=null,this.nodeUp=null,this.windingNumber=0,this.inside=!1,this.sentinel=!1,this.dirty=!1,this.fixUpperEdge=!1}function $eafe7a70b9d76214$var$DictNode(){this.key=null,this.next=null,this.prev=null}function $eafe7a70b9d76214$var$Dict(e,t){this.head=new $eafe7a70b9d76214$var$DictNode,this.head.next=this.head,this.head.prev=this.head,this.frame=e,this.leq=t}$eafe7a70b9d76214$var$Geom.vertEq=function(e,t){return e.s===t.s&&e.t===t.t},$eafe7a70b9d76214$var$Geom.vertLeq=function(e,t){return e.s<t.s||e.s===t.s&&e.t<=t.t},$eafe7a70b9d76214$var$Geom.transLeq=function(e,t){return e.t<t.t||e.t===t.t&&e.s<=t.s},$eafe7a70b9d76214$var$Geom.edgeGoesLeft=function(e){return $eafe7a70b9d76214$var$Geom.vertLeq(e.Dst,e.Org)},$eafe7a70b9d76214$var$Geom.edgeGoesRight=function(e){return $eafe7a70b9d76214$var$Geom.vertLeq(e.Org,e.Dst)},$eafe7a70b9d76214$var$Geom.vertL1dist=function(e,t){return Math.abs(e.s-t.s)+Math.abs(e.t-t.t)},$eafe7a70b9d76214$var$Geom.edgeEval=function(e,t,r){$eafe7a70b9d76214$var$assert($eafe7a70b9d76214$var$Geom.vertLeq(e,t)&&$eafe7a70b9d76214$var$Geom.vertLeq(t,r));var n=t.s-e.s,i=r.s-t.s;return n+i>0?n<i?t.t-e.t+(e.t-r.t)*(n/(n+i)):t.t-r.t+(r.t-e.t)*(i/(n+i)):0},$eafe7a70b9d76214$var$Geom.edgeSign=function(e,t,r){$eafe7a70b9d76214$var$assert($eafe7a70b9d76214$var$Geom.vertLeq(e,t)&&$eafe7a70b9d76214$var$Geom.vertLeq(t,r));var n=t.s-e.s,i=r.s-t.s;return n+i>0?(t.t-r.t)*n+(t.t-e.t)*i:0},$eafe7a70b9d76214$var$Geom.transEval=function(e,t,r){$eafe7a70b9d76214$var$assert($eafe7a70b9d76214$var$Geom.transLeq(e,t)&&$eafe7a70b9d76214$var$Geom.transLeq(t,r));var n=t.t-e.t,i=r.t-t.t;return n+i>0?n<i?t.s-e.s+(e.s-r.s)*(n/(n+i)):t.s-r.s+(r.s-e.s)*(i/(n+i)):0},$eafe7a70b9d76214$var$Geom.transSign=function(e,t,r){$eafe7a70b9d76214$var$assert($eafe7a70b9d76214$var$Geom.transLeq(e,t)&&$eafe7a70b9d76214$var$Geom.transLeq(t,r));var n=t.t-e.t,i=r.t-t.t;return n+i>0?(t.s-r.s)*n+(t.s-e.s)*i:0},$eafe7a70b9d76214$var$Geom.vertCCW=function(e,t,r){return e.s*(t.t-r.t)+t.s*(r.t-e.t)+r.s*(e.t-t.t)>=0},$eafe7a70b9d76214$var$Geom.interpolate=function(e,t,r,n){return(e=e<0?0:e)<=(r=r<0?0:r)?0==r?(t+n)/2:t+e/(e+r)*(n-t):n+r/(e+r)*(t-n)},$eafe7a70b9d76214$var$Geom.intersect=function(e,t,r,n,i){var a,o,s;$eafe7a70b9d76214$var$Geom.vertLeq(e,t)||(s=e,e=t,t=s),$eafe7a70b9d76214$var$Geom.vertLeq(r,n)||(s=r,r=n,n=s),$eafe7a70b9d76214$var$Geom.vertLeq(e,r)||(s=e,e=r,r=s,s=t,t=n,n=s),$eafe7a70b9d76214$var$Geom.vertLeq(r,t)?$eafe7a70b9d76214$var$Geom.vertLeq(t,n)?((a=$eafe7a70b9d76214$var$Geom.edgeEval(e,r,t))+(o=$eafe7a70b9d76214$var$Geom.edgeEval(r,t,n))<0&&(a=-a,o=-o),i.s=$eafe7a70b9d76214$var$Geom.interpolate(a,r.s,o,t.s)):((a=$eafe7a70b9d76214$var$Geom.edgeSign(e,r,t))+(o=-$eafe7a70b9d76214$var$Geom.edgeSign(e,n,t))<0&&(a=-a,o=-o),i.s=$eafe7a70b9d76214$var$Geom.interpolate(a,r.s,o,n.s)):i.s=(r.s+t.s)/2,$eafe7a70b9d76214$var$Geom.transLeq(e,t)||(s=e,e=t,t=s),$eafe7a70b9d76214$var$Geom.transLeq(r,n)||(s=r,r=n,n=s),$eafe7a70b9d76214$var$Geom.transLeq(e,r)||(s=e,e=r,r=s,s=t,t=n,n=s),$eafe7a70b9d76214$var$Geom.transLeq(r,t)?$eafe7a70b9d76214$var$Geom.transLeq(t,n)?((a=$eafe7a70b9d76214$var$Geom.transEval(e,r,t))+(o=$eafe7a70b9d76214$var$Geom.transEval(r,t,n))<0&&(a=-a,o=-o),i.t=$eafe7a70b9d76214$var$Geom.interpolate(a,r.t,o,t.t)):((a=$eafe7a70b9d76214$var$Geom.transSign(e,r,t))+(o=-$eafe7a70b9d76214$var$Geom.transSign(e,n,t))<0&&(a=-a,o=-o),i.t=$eafe7a70b9d76214$var$Geom.interpolate(a,r.t,o,n.t)):i.t=(r.t+t.t)/2},$eafe7a70b9d76214$var$TESShalfEdge.prototype={get Rface(){return this.Sym.Lface},set Rface(e){this.Sym.Lface=e},get Dst(){return this.Sym.Org},set Dst(e){this.Sym.Org=e},get Oprev(){return this.Sym.Lnext},set Oprev(e){this.Sym.Lnext=e},get Lprev(){return this.Onext.Sym},set Lprev(e){this.Onext.Sym=e},get Dprev(){return this.Lnext.Sym},set Dprev(e){this.Lnext.Sym=e},get Rprev(){return this.Sym.Onext},set Rprev(e){this.Sym.Onext=e},get Dnext(){return this.Sym.Onext.Sym},set Dnext(e){this.Sym.Onext.Sym=e},get Rnext(){return this.Sym.Lnext.Sym},set Rnext(e){this.Sym.Lnext.Sym=e}},$eafe7a70b9d76214$var$TESSmesh.prototype={makeEdge_(e){var t=new $eafe7a70b9d76214$var$TESShalfEdge(0),r=new $eafe7a70b9d76214$var$TESShalfEdge(1);e.Sym.side<e.side&&(e=e.Sym);var n=e.Sym.next;return r.next=n,n.Sym.next=t,t.next=e,e.Sym.next=r,t.Sym=r,t.Onext=t,t.Lnext=r,t.Org=null,t.Lface=null,t.winding=0,t.activeRegion=null,r.Sym=t,r.Onext=r,r.Lnext=t,r.Org=null,r.Lface=null,r.winding=0,r.activeRegion=null,t},splice_(e,t){var r=e.Onext,n=t.Onext;r.Sym.Lnext=t,n.Sym.Lnext=e,e.Onext=n,t.Onext=r},makeVertex_(e,t,r){var n=e;$eafe7a70b9d76214$var$assert(n,"Vertex can't be null!");var i=r.prev;n.prev=i,i.next=n,n.next=r,r.prev=n,n.anEdge=t;var a=t;do{a.Org=n,a=a.Onext}while(a!==t)},makeFace_(e,t,r){var n=e;$eafe7a70b9d76214$var$assert(n,"Face can't be null");var i=r.prev;n.prev=i,i.next=n,n.next=r,r.prev=n,n.anEdge=t,n.trail=null,n.marked=!1,n.inside=r.inside;var a=t;do{a.Lface=n,a=a.Lnext}while(a!==t)},killEdge_(e){e.Sym.side<e.side&&(e=e.Sym);var t=e.next,r=e.Sym.next;t.Sym.next=r,r.Sym.next=t},killVertex_(e,t){var r=e.anEdge,n=r;do{n.Org=t,n=n.Onext}while(n!==r);var i=e.prev,a=e.next;a.prev=i,i.next=a},killFace_(e,t){var r=e.anEdge,n=r;do{n.Lface=t,n=n.Lnext}while(n!==r);var i=e.prev,a=e.next;a.prev=i,i.next=a},makeEdge(){var e=new $eafe7a70b9d76214$var$TESSvertex,t=new $eafe7a70b9d76214$var$TESSvertex,r=new $eafe7a70b9d76214$var$TESSface,n=this.makeEdge_(this.eHead);return this.makeVertex_(e,n,this.vHead),this.makeVertex_(t,n.Sym,this.vHead),this.makeFace_(r,n,this.fHead),n},splice(e,t){var r=!1,n=!1;if(e!==t){if(t.Org!==e.Org&&(n=!0,this.killVertex_(t.Org,e.Org)),t.Lface!==e.Lface&&(r=!0,this.killFace_(t.Lface,e.Lface)),this.splice_(t,e),!n){var i=new $eafe7a70b9d76214$var$TESSvertex;this.makeVertex_(i,t,e.Org),e.Org.anEdge=e}if(!r){var a=new $eafe7a70b9d76214$var$TESSface;this.makeFace_(a,t,e.Lface),e.Lface.anEdge=e}}},delete(e){var t=e.Sym,r=!1;if(e.Lface!==e.Rface&&(r=!0,this.killFace_(e.Lface,e.Rface)),e.Onext===e)this.killVertex_(e.Org,null);else if(e.Rface.anEdge=e.Oprev,e.Org.anEdge=e.Onext,this.splice_(e,e.Oprev),!r){var n=new $eafe7a70b9d76214$var$TESSface;this.makeFace_(n,e,e.Lface)}t.Onext===t?(this.killVertex_(t.Org,null),this.killFace_(t.Lface,null)):(e.Lface.anEdge=t.Oprev,t.Org.anEdge=t.Onext,this.splice_(t,t.Oprev)),this.killEdge_(e)},addEdgeVertex(e){var t=this.makeEdge_(e),r=t.Sym;this.splice_(t,e.Lnext),t.Org=e.Dst;var n=new $eafe7a70b9d76214$var$TESSvertex;return this.makeVertex_(n,r,t.Org),t.Lface=r.Lface=e.Lface,t},splitEdge(e){var t=this.addEdgeVertex(e).Sym;return this.splice_(e.Sym,e.Sym.Oprev),this.splice_(e.Sym,t),e.Dst=t.Org,t.Dst.anEdge=t.Sym,t.Rface=e.Rface,t.winding=e.winding,t.Sym.winding=e.Sym.winding,t.idx=e.idx,t.Sym.idx=e.Sym.idx,t},connect(e,t){var r=!1,n=this.makeEdge_(e),i=n.Sym;if(t.Lface!==e.Lface&&(r=!0,this.killFace_(t.Lface,e.Lface)),this.splice_(n,e.Lnext),this.splice_(i,t),n.Org=e.Dst,i.Org=t.Org,n.Lface=i.Lface=e.Lface,e.Lface.anEdge=i,!r){var a=new $eafe7a70b9d76214$var$TESSface;this.makeFace_(a,n,e.Lface)}return n},zapFace(e){var t,r,n,i,a,o=e.anEdge;r=o.Lnext;do{r=(t=r).Lnext,t.Lface=null,null===t.Rface&&(t.Onext===t?this.killVertex_(t.Org,null):(t.Org.anEdge=t.Onext,this.splice_(t,t.Oprev)),(n=t.Sym).Onext===n?this.killVertex_(n.Org,null):(n.Org.anEdge=n.Onext,this.splice_(n,n.Oprev)),this.killEdge_(t))}while(t!=o);i=e.prev,(a=e.next).prev=i,i.next=a},countFaceVerts_(e){var t=e.anEdge,r=0;do{r++,t=t.Lnext}while(t!==e.anEdge);return r},mergeConvexFaces(e){var t,r,n,i,a;for(t=this.fHead.next;t!==this.fHead;t=t.next)if(t.inside)for(a=(r=t.anEdge).Org;n=r.Lnext,(i=r.Sym)&&i.Lface&&i.Lface.inside&&(this.countFaceVerts_(t)+this.countFaceVerts_(i.Lface)-2<=e&&$eafe7a70b9d76214$var$Geom.vertCCW(r.Lprev.Org,r.Org,i.Lnext.Lnext.Org)&&$eafe7a70b9d76214$var$Geom.vertCCW(i.Lprev.Org,i.Org,r.Lnext.Lnext.Org)&&(n=i.Lnext,this.delete(i),r=null,i=null)),!r||r.Lnext.Org!==a;)r=n;return!0},check(){var e,t,r,n,i,a,o=this.fHead,s=this.vHead,c=this.eHead;for(t=o,t=o;(e=t.next)!==o;t=e){$eafe7a70b9d76214$var$assert(e.prev===t),i=e.anEdge;do{$eafe7a70b9d76214$var$assert(i.Sym!==i),$eafe7a70b9d76214$var$assert(i.Sym.Sym===i),$eafe7a70b9d76214$var$assert(i.Lnext.Onext.Sym===i),$eafe7a70b9d76214$var$assert(i.Onext.Sym.Lnext===i),$eafe7a70b9d76214$var$assert(i.Lface===e),i=i.Lnext}while(i!==e.anEdge)}for($eafe7a70b9d76214$var$assert(e.prev===t&&null===e.anEdge),n=s,n=s;(r=n.next)!==s;n=r){$eafe7a70b9d76214$var$assert(r.prev===n),i=r.anEdge;do{$eafe7a70b9d76214$var$assert(i.Sym!==i),$eafe7a70b9d76214$var$assert(i.Sym.Sym===i),$eafe7a70b9d76214$var$assert(i.Lnext.Onext.Sym===i),$eafe7a70b9d76214$var$assert(i.Onext.Sym.Lnext===i),$eafe7a70b9d76214$var$assert(i.Org===r),i=i.Onext}while(i!==r.anEdge)}for($eafe7a70b9d76214$var$assert(r.prev===n&&null===r.anEdge),a=c,a=c;(i=a.next)!==c;a=i)$eafe7a70b9d76214$var$assert(i.Sym.next===a.Sym),$eafe7a70b9d76214$var$assert(i.Sym!==i),$eafe7a70b9d76214$var$assert(i.Sym.Sym===i),$eafe7a70b9d76214$var$assert(null!==i.Org),$eafe7a70b9d76214$var$assert(null!==i.Dst),$eafe7a70b9d76214$var$assert(i.Lnext.Onext.Sym===i),$eafe7a70b9d76214$var$assert(i.Onext.Sym.Lnext===i);$eafe7a70b9d76214$var$assert(i.Sym.next===a.Sym&&i.Sym===this.eHeadSym&&i.Sym.Sym===i&&null===i.Org&&null===i.Dst&&null===i.Lface&&null===i.Rface)}},$eafe7a70b9d76214$var$PriorityQ.prototype={floatDown_(e){var t,r,n,i=this.nodes,a=this.handles;for(t=i[e].handle;;){if((n=e<<1)<this.size&&this.leq(a[i[n+1].handle].key,a[i[n].handle].key)&&++n,$eafe7a70b9d76214$var$assert(n<=this.max),r=i[n].handle,n>this.size||this.leq(a[t].key,a[r].key)){i[e].handle=t,a[t].node=e;break}i[e].handle=r,a[r].node=e,e=n}},floatUp_(e){var t,r,n,i=this.nodes,a=this.handles;for(t=i[e].handle;;){if(r=i[n=e>>1].handle,0===n||this.leq(a[r].key,a[t].key)){i[e].handle=t,a[t].node=e;break}i[e].handle=r,a[r].node=e,e=n}},init(){for(var e=this.size;e>=1;--e)this.floatDown_(e);this.initialized=!0},min(){return this.handles[this.nodes[1].handle].key},insert(e){var t,r;if(2*(t=++this.size)>this.max){var n,i;for(this.max*=2,i=this.nodes.length,this.nodes.length=this.max+1,n=i;n<this.nodes.length;n++)this.nodes[n]=new $eafe7a70b9d76214$var$PQnode;for(i=this.handles.length,this.handles.length=this.max+1,n=i;n<this.handles.length;n++)this.handles[n]=new $eafe7a70b9d76214$var$PQhandleElem}return 0===this.freeList?r=t:(r=this.freeList,this.freeList=this.handles[r].node),this.nodes[t].handle=r,this.handles[r].node=t,this.handles[r].key=e,this.initialized&&this.floatUp_(t),r},extractMin(){var e=this.nodes,t=this.handles,r=e[1].handle,n=t[r].key;return this.size>0&&(e[1].handle=e[this.size].handle,t[e[1].handle].node=1,t[r].key=null,t[r].node=this.freeList,this.freeList=r,--this.size,this.size>0&&this.floatDown_(1)),n},delete(e){var t,r=this.nodes,n=this.handles;$eafe7a70b9d76214$var$assert(e>=1&&e<=this.max&&null!==n[e].key),r[t=n[e].node].handle=r[this.size].handle,n[r[t].handle].node=t,--this.size,t<=this.size&&(t<=1||this.leq(n[r[t>>1].handle].key,n[r[t].handle].key)?this.floatDown_(t):this.floatUp_(t)),n[e].key=null,n[e].node=this.freeList,this.freeList=e}},$eafe7a70b9d76214$var$Dict.prototype={min(){return this.head.next},max(){return this.head.prev},insert(e){return this.insertBefore(this.head,e)},search(e){var t=this.head;do{t=t.next}while(null!==t.key&&!this.leq(this.frame,e,t.key));return t},insertBefore(e,t){do{e=e.prev}while(null!==e.key&&!this.leq(this.frame,e.key,t));var r=new $eafe7a70b9d76214$var$DictNode;return r.key=t,r.next=e.next,e.next.prev=r,r.prev=e,e.next=r,r},delete(e){e.next.prev=e.prev,e.prev.next=e.next}};var $eafe7a70b9d76214$var$Sweep={};function $eafe7a70b9d76214$var$Tesselator(){this.mesh=new $eafe7a70b9d76214$var$TESSmesh,this.normal=[0,0,0],this.sUnit=[0,0,0],this.tUnit=[0,0,0],this.bmin=[0,0],this.bmax=[0,0],this.windingRule=$eafe7a70b9d76214$var$Tess.ODD,this.dict=null,this.pq=null,this.event=null,this.vertexIndexCounter=0,this.vertices=[],this.vertexIndices=[],this.vertexCount=0,this.elements=[],this.elementCount=0}$eafe7a70b9d76214$var$Sweep.regionBelow=function(e){return e.nodeUp.prev.key},$eafe7a70b9d76214$var$Sweep.regionAbove=function(e){return e.nodeUp.next.key},$eafe7a70b9d76214$var$Sweep.debugEvent=function(e){},$eafe7a70b9d76214$var$Sweep.addWinding=function(e,t){e.winding+=t.winding,e.Sym.winding+=t.Sym.winding},$eafe7a70b9d76214$var$Sweep.edgeLeq=function(e,t,r){var n=e.event,i=t.eUp,a=r.eUp;return i.Dst===n?a.Dst===n?$eafe7a70b9d76214$var$Geom.vertLeq(i.Org,a.Org)?$eafe7a70b9d76214$var$Geom.edgeSign(a.Dst,i.Org,a.Org)<=0:$eafe7a70b9d76214$var$Geom.edgeSign(i.Dst,a.Org,i.Org)>=0:$eafe7a70b9d76214$var$Geom.edgeSign(a.Dst,n,a.Org)<=0:a.Dst===n?$eafe7a70b9d76214$var$Geom.edgeSign(i.Dst,n,i.Org)>=0:$eafe7a70b9d76214$var$Geom.edgeEval(i.Dst,n,i.Org)>=$eafe7a70b9d76214$var$Geom.edgeEval(a.Dst,n,a.Org)},$eafe7a70b9d76214$var$Sweep.deleteRegion=function(e,t){t.fixUpperEdge&&$eafe7a70b9d76214$var$assert(0===t.eUp.winding),t.eUp.activeRegion=null,e.dict.delete(t.nodeUp)},$eafe7a70b9d76214$var$Sweep.fixUpperEdge=function(e,t,r){$eafe7a70b9d76214$var$assert(t.fixUpperEdge),e.mesh.delete(t.eUp),t.fixUpperEdge=!1,t.eUp=r,r.activeRegion=t},$eafe7a70b9d76214$var$Sweep.topLeftRegion=function(e,t){var r,n=t.eUp.Org;do{t=$eafe7a70b9d76214$var$Sweep.regionAbove(t)}while(t.eUp.Org===n);if(t.fixUpperEdge){if(null===(r=e.mesh.connect($eafe7a70b9d76214$var$Sweep.regionBelow(t).eUp.Sym,t.eUp.Lnext)))return null;$eafe7a70b9d76214$var$Sweep.fixUpperEdge(e,t,r),t=$eafe7a70b9d76214$var$Sweep.regionAbove(t)}return t},$eafe7a70b9d76214$var$Sweep.topRightRegion=function(e){var t=e.eUp.Dst;do{e=$eafe7a70b9d76214$var$Sweep.regionAbove(e)}while(e.eUp.Dst===t);return e},$eafe7a70b9d76214$var$Sweep.addRegionBelow=function(e,t,r){var n=new $eafe7a70b9d76214$var$ActiveRegion;return n.eUp=r,n.nodeUp=e.dict.insertBefore(t.nodeUp,n),n.fixUpperEdge=!1,n.sentinel=!1,n.dirty=!1,r.activeRegion=n,n},$eafe7a70b9d76214$var$Sweep.isWindingInside=function(e,t){switch(e.windingRule){case $eafe7a70b9d76214$var$Tess.ODD:return 0!=(1&t);case $eafe7a70b9d76214$var$Tess.NONZERO:return 0!==t;case $eafe7a70b9d76214$var$Tess.POSITIVE:return t>0;case $eafe7a70b9d76214$var$Tess.NEGATIVE:return t<0;case $eafe7a70b9d76214$var$Tess.ABS_GEQ_TWO:return t>=2||t<=-2}throw new Error("Invalid winding rulle")},$eafe7a70b9d76214$var$Sweep.computeWinding=function(e,t){t.windingNumber=$eafe7a70b9d76214$var$Sweep.regionAbove(t).windingNumber+t.eUp.winding,t.inside=$eafe7a70b9d76214$var$Sweep.isWindingInside(e,t.windingNumber)},$eafe7a70b9d76214$var$Sweep.finishRegion=function(e,t){var r=t.eUp,n=r.Lface;n.inside=t.inside,n.anEdge=r,$eafe7a70b9d76214$var$Sweep.deleteRegion(e,t)},$eafe7a70b9d76214$var$Sweep.finishLeftRegions=function(e,t,r){for(var n,i=null,a=t,o=t.eUp;a!==r;){if(a.fixUpperEdge=!1,(n=(i=$eafe7a70b9d76214$var$Sweep.regionBelow(a)).eUp).Org!=o.Org){if(!i.fixUpperEdge){$eafe7a70b9d76214$var$Sweep.finishRegion(e,a);break}n=e.mesh.connect(o.Lprev,n.Sym),$eafe7a70b9d76214$var$Sweep.fixUpperEdge(e,i,n)}o.Onext!==n&&(e.mesh.splice(n.Oprev,n),e.mesh.splice(o,n)),$eafe7a70b9d76214$var$Sweep.finishRegion(e,a),o=i.eUp,a=i}return o},$eafe7a70b9d76214$var$Sweep.addRightEdges=function(e,t,r,n,i,a){var o,s,c,l,d=!0;c=r;do{$eafe7a70b9d76214$var$assert($eafe7a70b9d76214$var$Geom.vertLeq(c.Org,c.Dst)),$eafe7a70b9d76214$var$Sweep.addRegionBelow(e,t,c.Sym),c=c.Onext}while(c!==n);for(null===i&&(i=$eafe7a70b9d76214$var$Sweep.regionBelow(t).eUp.Rprev),s=t,l=i;(c=(o=$eafe7a70b9d76214$var$Sweep.regionBelow(s)).eUp.Sym).Org===l.Org;)c.Onext!==l&&(e.mesh.splice(c.Oprev,c),e.mesh.splice(l.Oprev,c)),o.windingNumber=s.windingNumber-c.winding,o.inside=$eafe7a70b9d76214$var$Sweep.isWindingInside(e,o.windingNumber),s.dirty=!0,!d&&$eafe7a70b9d76214$var$Sweep.checkForRightSplice(e,s)&&($eafe7a70b9d76214$var$Sweep.addWinding(c,l),$eafe7a70b9d76214$var$Sweep.deleteRegion(e,s),e.mesh.delete(l)),d=!1,s=o,l=c;s.dirty=!0,$eafe7a70b9d76214$var$assert(s.windingNumber-c.winding===o.windingNumber),a&&$eafe7a70b9d76214$var$Sweep.walkDirtyRegions(e,s)},$eafe7a70b9d76214$var$Sweep.spliceMergeVertices=function(e,t,r){e.mesh.splice(t,r)},$eafe7a70b9d76214$var$Sweep.vertexWeights=function(e,t,r){var n=$eafe7a70b9d76214$var$Geom.vertL1dist(t,e),i=$eafe7a70b9d76214$var$Geom.vertL1dist(r,e),a=.5*i/(n+i),o=.5*n/(n+i);e.coords[0]+=a*t.coords[0]+o*r.coords[0],e.coords[1]+=a*t.coords[1]+o*r.coords[1],e.coords[2]+=a*t.coords[2]+o*r.coords[2]},$eafe7a70b9d76214$var$Sweep.getIntersectData=function(e,t,r,n,i,a){t.coords[0]=t.coords[1]=t.coords[2]=0,t.idx=-1,$eafe7a70b9d76214$var$Sweep.vertexWeights(t,r,n),$eafe7a70b9d76214$var$Sweep.vertexWeights(t,i,a)},$eafe7a70b9d76214$var$Sweep.checkForRightSplice=function(e,t){var r=$eafe7a70b9d76214$var$Sweep.regionBelow(t),n=t.eUp,i=r.eUp;if($eafe7a70b9d76214$var$Geom.vertLeq(n.Org,i.Org)){if($eafe7a70b9d76214$var$Geom.edgeSign(i.Dst,n.Org,i.Org)>0)return!1;$eafe7a70b9d76214$var$Geom.vertEq(n.Org,i.Org)?n.Org!==i.Org&&(e.pq.delete(n.Org.pqHandle),$eafe7a70b9d76214$var$Sweep.spliceMergeVertices(e,i.Oprev,n)):(e.mesh.splitEdge(i.Sym),e.mesh.splice(n,i.Oprev),t.dirty=r.dirty=!0)}else{if($eafe7a70b9d76214$var$Geom.edgeSign(n.Dst,i.Org,n.Org)<0)return!1;$eafe7a70b9d76214$var$Sweep.regionAbove(t).dirty=t.dirty=!0,e.mesh.splitEdge(n.Sym),e.mesh.splice(i.Oprev,n)}return!0},$eafe7a70b9d76214$var$Sweep.checkForLeftSplice=function(e,t){var r,n=$eafe7a70b9d76214$var$Sweep.regionBelow(t),i=t.eUp,a=n.eUp;if($eafe7a70b9d76214$var$assert(!$eafe7a70b9d76214$var$Geom.vertEq(i.Dst,a.Dst)),$eafe7a70b9d76214$var$Geom.vertLeq(i.Dst,a.Dst)){if($eafe7a70b9d76214$var$Geom.edgeSign(i.Dst,a.Dst,i.Org)<0)return!1;$eafe7a70b9d76214$var$Sweep.regionAbove(t).dirty=t.dirty=!0,r=e.mesh.splitEdge(i),e.mesh.splice(a.Sym,r),r.Lface.inside=t.inside}else{if($eafe7a70b9d76214$var$Geom.edgeSign(a.Dst,i.Dst,a.Org)>0)return!1;t.dirty=n.dirty=!0,r=e.mesh.splitEdge(a),e.mesh.splice(i.Lnext,a.Sym),r.Rface.inside=t.inside}return!0},$eafe7a70b9d76214$var$Sweep.checkForIntersect=function(e,t){var r,n,i=$eafe7a70b9d76214$var$Sweep.regionBelow(t),a=t.eUp,o=i.eUp,s=a.Org,c=o.Org,l=a.Dst,d=o.Dst,u=new $eafe7a70b9d76214$var$TESSvertex;if($eafe7a70b9d76214$var$assert(!$eafe7a70b9d76214$var$Geom.vertEq(d,l)),$eafe7a70b9d76214$var$assert($eafe7a70b9d76214$var$Geom.edgeSign(l,e.event,s)<=0),$eafe7a70b9d76214$var$assert($eafe7a70b9d76214$var$Geom.edgeSign(d,e.event,c)>=0),$eafe7a70b9d76214$var$assert(s!==e.event&&c!==e.event),$eafe7a70b9d76214$var$assert(!t.fixUpperEdge&&!i.fixUpperEdge),s===c||Math.min(s.t,l.t)>Math.max(c.t,d.t))return!1;if($eafe7a70b9d76214$var$Geom.vertLeq(s,c)){if($eafe7a70b9d76214$var$Geom.edgeSign(d,s,c)>0)return!1}else if($eafe7a70b9d76214$var$Geom.edgeSign(l,c,s)<0)return!1;return $eafe7a70b9d76214$var$Sweep.debugEvent(e),$eafe7a70b9d76214$var$Geom.intersect(l,s,d,c,u),$eafe7a70b9d76214$var$assert(Math.min(s.t,l.t)<=u.t),$eafe7a70b9d76214$var$assert(u.t<=Math.max(c.t,d.t)),$eafe7a70b9d76214$var$assert(Math.min(d.s,l.s)<=u.s),$eafe7a70b9d76214$var$assert(u.s<=Math.max(c.s,s.s)),$eafe7a70b9d76214$var$Geom.vertLeq(u,e.event)&&(u.s=e.event.s,u.t=e.event.t),r=$eafe7a70b9d76214$var$Geom.vertLeq(s,c)?s:c,$eafe7a70b9d76214$var$Geom.vertLeq(r,u)&&(u.s=r.s,u.t=r.t),$eafe7a70b9d76214$var$Geom.vertEq(u,s)||$eafe7a70b9d76214$var$Geom.vertEq(u,c)?($eafe7a70b9d76214$var$Sweep.checkForRightSplice(e,t),!1):!$eafe7a70b9d76214$var$Geom.vertEq(l,e.event)&&$eafe7a70b9d76214$var$Geom.edgeSign(l,e.event,u)>=0||!$eafe7a70b9d76214$var$Geom.vertEq(d,e.event)&&$eafe7a70b9d76214$var$Geom.edgeSign(d,e.event,u)<=0?d===e.event?(e.mesh.splitEdge(a.Sym),e.mesh.splice(o.Sym,a),t=$eafe7a70b9d76214$var$Sweep.topLeftRegion(e,t),a=$eafe7a70b9d76214$var$Sweep.regionBelow(t).eUp,$eafe7a70b9d76214$var$Sweep.finishLeftRegions(e,$eafe7a70b9d76214$var$Sweep.regionBelow(t),i),$eafe7a70b9d76214$var$Sweep.addRightEdges(e,t,a.Oprev,a,a,!0),!0):l===e.event?(e.mesh.splitEdge(o.Sym),e.mesh.splice(a.Lnext,o.Oprev),i=t,t=$eafe7a70b9d76214$var$Sweep.topRightRegion(t),n=$eafe7a70b9d76214$var$Sweep.regionBelow(t).eUp.Rprev,i.eUp=o.Oprev,o=$eafe7a70b9d76214$var$Sweep.finishLeftRegions(e,i,null),$eafe7a70b9d76214$var$Sweep.addRightEdges(e,t,o.Onext,a.Rprev,n,!0),!0):($eafe7a70b9d76214$var$Geom.edgeSign(l,e.event,u)>=0&&($eafe7a70b9d76214$var$Sweep.regionAbove(t).dirty=t.dirty=!0,e.mesh.splitEdge(a.Sym),a.Org.s=e.event.s,a.Org.t=e.event.t),$eafe7a70b9d76214$var$Geom.edgeSign(d,e.event,u)<=0&&(t.dirty=i.dirty=!0,e.mesh.splitEdge(o.Sym),o.Org.s=e.event.s,o.Org.t=e.event.t),!1):(e.mesh.splitEdge(a.Sym),e.mesh.splitEdge(o.Sym),e.mesh.splice(o.Oprev,a),a.Org.s=u.s,a.Org.t=u.t,a.Org.pqHandle=e.pq.insert(a.Org),$eafe7a70b9d76214$var$Sweep.getIntersectData(e,a.Org,s,l,c,d),$eafe7a70b9d76214$var$Sweep.regionAbove(t).dirty=t.dirty=i.dirty=!0,!1)},$eafe7a70b9d76214$var$Sweep.walkDirtyRegions=function(e,t){for(var r,n,i=$eafe7a70b9d76214$var$Sweep.regionBelow(t);;){for(;i.dirty;)t=i,i=$eafe7a70b9d76214$var$Sweep.regionBelow(i);if(!t.dirty&&(i=t,null===(t=$eafe7a70b9d76214$var$Sweep.regionAbove(t))||!t.dirty))return;if(t.dirty=!1,r=t.eUp,n=i.eUp,r.Dst!==n.Dst&&$eafe7a70b9d76214$var$Sweep.checkForLeftSplice(e,t)&&(i.fixUpperEdge?($eafe7a70b9d76214$var$Sweep.deleteRegion(e,i),e.mesh.delete(n),n=(i=$eafe7a70b9d76214$var$Sweep.regionBelow(t)).eUp):t.fixUpperEdge&&($eafe7a70b9d76214$var$Sweep.deleteRegion(e,t),e.mesh.delete(r),r=(t=$eafe7a70b9d76214$var$Sweep.regionAbove(i)).eUp)),r.Org!==n.Org)if(r.Dst===n.Dst||t.fixUpperEdge||i.fixUpperEdge||r.Dst!==e.event&&n.Dst!==e.event)$eafe7a70b9d76214$var$Sweep.checkForRightSplice(e,t);else if($eafe7a70b9d76214$var$Sweep.checkForIntersect(e,t))return;r.Org===n.Org&&r.Dst===n.Dst&&($eafe7a70b9d76214$var$Sweep.addWinding(n,r),$eafe7a70b9d76214$var$Sweep.deleteRegion(e,t),e.mesh.delete(r),t=$eafe7a70b9d76214$var$Sweep.regionAbove(i))}},$eafe7a70b9d76214$var$Sweep.connectRightVertex=function(e,t,r){var n,i=r.Onext,a=$eafe7a70b9d76214$var$Sweep.regionBelow(t),o=t.eUp,s=a.eUp,c=!1;o.Dst!==s.Dst&&$eafe7a70b9d76214$var$Sweep.checkForIntersect(e,t),$eafe7a70b9d76214$var$Geom.vertEq(o.Org,e.event)&&(e.mesh.splice(i.Oprev,o),t=$eafe7a70b9d76214$var$Sweep.topLeftRegion(e,t),i=$eafe7a70b9d76214$var$Sweep.regionBelow(t).eUp,$eafe7a70b9d76214$var$Sweep.finishLeftRegions(e,$eafe7a70b9d76214$var$Sweep.regionBelow(t),a),c=!0),$eafe7a70b9d76214$var$Geom.vertEq(s.Org,e.event)&&(e.mesh.splice(r,s.Oprev),r=$eafe7a70b9d76214$var$Sweep.finishLeftRegions(e,a,null),c=!0),c?$eafe7a70b9d76214$var$Sweep.addRightEdges(e,t,r.Onext,i,i,!0):(n=$eafe7a70b9d76214$var$Geom.vertLeq(s.Org,o.Org)?s.Oprev:o,n=e.mesh.connect(r.Lprev,n),$eafe7a70b9d76214$var$Sweep.addRightEdges(e,t,n,n.Onext,n.Onext,!1),n.Sym.activeRegion.fixUpperEdge=!0,$eafe7a70b9d76214$var$Sweep.walkDirtyRegions(e,t))},$eafe7a70b9d76214$var$Sweep.connectLeftDegenerate=function(e,t,r){var n,i,a,o,s;return n=t.eUp,$eafe7a70b9d76214$var$Geom.vertEq(n.Org,r)?($eafe7a70b9d76214$var$assert(!1),void $eafe7a70b9d76214$var$Sweep.spliceMergeVertices(e,n,r.anEdge)):$eafe7a70b9d76214$var$Geom.vertEq(n.Dst,r)?($eafe7a70b9d76214$var$assert(!1),t=$eafe7a70b9d76214$var$Sweep.topRightRegion(t),i=o=(a=(s=$eafe7a70b9d76214$var$Sweep.regionBelow(t)).eUp.Sym).Onext,s.fixUpperEdge&&($eafe7a70b9d76214$var$assert(i!==a),$eafe7a70b9d76214$var$Sweep.deleteRegion(e,s),e.mesh.delete(a),a=i.Oprev),e.mesh.splice(r.anEdge,a),$eafe7a70b9d76214$var$Geom.edgeGoesLeft(i)||(i=null),void $eafe7a70b9d76214$var$Sweep.addRightEdges(e,t,a.Onext,o,i,!0)):(e.mesh.splitEdge(n.Sym),t.fixUpperEdge&&(e.mesh.delete(n.Onext),t.fixUpperEdge=!1),e.mesh.splice(r.anEdge,n),void $eafe7a70b9d76214$var$Sweep.sweepEvent(e,r))},$eafe7a70b9d76214$var$Sweep.connectLeftVertex=function(e,t){var r,n,i,a,o,s,c=new $eafe7a70b9d76214$var$ActiveRegion;if(c.eUp=t.anEdge.Sym,r=e.dict.search(c).key,n=$eafe7a70b9d76214$var$Sweep.regionBelow(r)){if(a=r.eUp,o=n.eUp,0===$eafe7a70b9d76214$var$Geom.edgeSign(a.Dst,t,a.Org))return void $eafe7a70b9d76214$var$Sweep.connectLeftDegenerate(e,r,t);if(i=$eafe7a70b9d76214$var$Geom.vertLeq(o.Dst,a.Dst)?r:n,r.inside||i.fixUpperEdge){if(i===r)s=e.mesh.connect(t.anEdge.Sym,a.Lnext);else s=e.mesh.connect(o.Dnext,t.anEdge).Sym;i.fixUpperEdge?$eafe7a70b9d76214$var$Sweep.fixUpperEdge(e,i,s):$eafe7a70b9d76214$var$Sweep.computeWinding(e,$eafe7a70b9d76214$var$Sweep.addRegionBelow(e,r,s)),$eafe7a70b9d76214$var$Sweep.sweepEvent(e,t)}else $eafe7a70b9d76214$var$Sweep.addRightEdges(e,r,t.anEdge,t.anEdge,null,!0)}},$eafe7a70b9d76214$var$Sweep.sweepEvent=function(e,t){e.event=t,$eafe7a70b9d76214$var$Sweep.debugEvent(e);for(var r=t.anEdge;null===r.activeRegion;)if((r=r.Onext)===t.anEdge)return void $eafe7a70b9d76214$var$Sweep.connectLeftVertex(e,t);var n=$eafe7a70b9d76214$var$Sweep.topLeftRegion(e,r.activeRegion);$eafe7a70b9d76214$var$assert(null!==n);var i=$eafe7a70b9d76214$var$Sweep.regionBelow(n),a=i.eUp,o=$eafe7a70b9d76214$var$Sweep.finishLeftRegions(e,i,null);o.Onext===a?$eafe7a70b9d76214$var$Sweep.connectRightVertex(e,n,o):$eafe7a70b9d76214$var$Sweep.addRightEdges(e,n,o.Onext,a,a,!0)},$eafe7a70b9d76214$var$Sweep.addSentinel=function(e,t,r,n){var i=new $eafe7a70b9d76214$var$ActiveRegion,a=e.mesh.makeEdge();a.Org.s=r,a.Org.t=n,a.Dst.s=t,a.Dst.t=n,e.event=a.Dst,i.eUp=a,i.windingNumber=0,i.inside=!1,i.fixUpperEdge=!1,i.sentinel=!0,i.dirty=!1,i.nodeUp=e.dict.insert(i)},$eafe7a70b9d76214$var$Sweep.initEdgeDict=function(e){e.dict=new $eafe7a70b9d76214$var$Dict(e,$eafe7a70b9d76214$var$Sweep.edgeLeq);var t=e.bmax[0]-e.bmin[0],r=e.bmax[1]-e.bmin[1],n=e.bmin[0]-t,i=e.bmax[0]+t,a=e.bmin[1]-r,o=e.bmax[1]+r;$eafe7a70b9d76214$var$Sweep.addSentinel(e,n,i,a),$eafe7a70b9d76214$var$Sweep.addSentinel(e,n,i,o)},$eafe7a70b9d76214$var$Sweep.doneEdgeDict=function(e){for(var t,r=0;null!==(t=e.dict.min().key);)t.sentinel||($eafe7a70b9d76214$var$assert(t.fixUpperEdge),$eafe7a70b9d76214$var$assert(1==++r)),$eafe7a70b9d76214$var$assert(0===t.windingNumber),$eafe7a70b9d76214$var$Sweep.deleteRegion(e,t)},$eafe7a70b9d76214$var$Sweep.removeDegenerateEdges=function(e){var t,r,n,i=e.mesh.eHead;for(t=i.next;t!==i;t=r)r=t.next,n=t.Lnext,$eafe7a70b9d76214$var$Geom.vertEq(t.Org,t.Dst)&&t.Lnext.Lnext!==t&&($eafe7a70b9d76214$var$Sweep.spliceMergeVertices(e,n,t),e.mesh.delete(t),n=(t=n).Lnext),n.Lnext===t&&(n!==t&&((n===r||n===r.Sym)&&(r=r.next),e.mesh.delete(n)),(t===r||t===r.Sym)&&(r=r.next),e.mesh.delete(t))},$eafe7a70b9d76214$var$Sweep.initPriorityQ=function(e){var t,r,n,i=0;for(r=(n=e.mesh.vHead).next;r!==n;r=r.next)i++;for(i+=8,t=e.pq=new $eafe7a70b9d76214$var$PriorityQ(i,$eafe7a70b9d76214$var$Geom.vertLeq),r=(n=e.mesh.vHead).next;r!==n;r=r.next)r.pqHandle=t.insert(r);return r===n&&(t.init(),!0)},$eafe7a70b9d76214$var$Sweep.donePriorityQ=function(e){e.pq=null},$eafe7a70b9d76214$var$Sweep.removeDegenerateFaces=function(e,t){var r,n,i;for(r=t.fHead.next;r!==t.fHead;r=n)n=r.next,$eafe7a70b9d76214$var$assert((i=r.anEdge).Lnext!==i),i.Lnext.Lnext===i&&($eafe7a70b9d76214$var$Sweep.addWinding(i.Onext,i),e.mesh.delete(i));return!0},$eafe7a70b9d76214$var$Sweep.computeInterior=function(e,t){var r,n;if(void 0===t&&(t=!0),$eafe7a70b9d76214$var$Sweep.removeDegenerateEdges(e),!$eafe7a70b9d76214$var$Sweep.initPriorityQ(e))return!1;for($eafe7a70b9d76214$var$Sweep.initEdgeDict(e);null!==(r=e.pq.extractMin());){for(;null!==(n=e.pq.min())&&$eafe7a70b9d76214$var$Geom.vertEq(n,r);)n=e.pq.extractMin(),$eafe7a70b9d76214$var$Sweep.spliceMergeVertices(e,r.anEdge,n.anEdge);$eafe7a70b9d76214$var$Sweep.sweepEvent(e,r)}return e.event=e.dict.min().key.eUp.Org,$eafe7a70b9d76214$var$Sweep.debugEvent(e),$eafe7a70b9d76214$var$Sweep.doneEdgeDict(e),$eafe7a70b9d76214$var$Sweep.donePriorityQ(e),!!$eafe7a70b9d76214$var$Sweep.removeDegenerateFaces(e,e.mesh)&&(t&&e.mesh.check(),!0)},$eafe7a70b9d76214$var$Tesselator.prototype={dot_:(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2],normalize_(e){var t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2];if(!t)throw"Zero-size vector!";t=Math.sqrt(t),e[0]/=t,e[1]/=t,e[2]/=t},longAxis_(e){var t=0;return Math.abs(e[1])>Math.abs(e[0])&&(t=1),Math.abs(e[2])>Math.abs(e[t])&&(t=2),t},computeNormal_(e){var t,r,n,i,a,o,s=[0,0,0],c=[0,0,0],l=[0,0,0],d=[0,0,0],u=[0,0,0],h=[null,null,null],f=[null,null,null],p=this.mesh.vHead;t=p.next;for(var m=0;m<3;++m)i=t.coords[m],c[m]=i,f[m]=t,s[m]=i,h[m]=t;for(t=p.next;t!==p;t=t.next)for(var v=0;v<3;++v)(i=t.coords[v])<c[v]&&(c[v]=i,f[v]=t),i>s[v]&&(s[v]=i,h[v]=t);var $=0;if(s[1]-c[1]>s[0]-c[0]&&($=1),s[2]-c[2]>s[$]-c[$]&&($=2),c[$]>=s[$])return e[0]=0,e[1]=0,void(e[2]=1);for(o=0,r=f[$],n=h[$],l[0]=r.coords[0]-n.coords[0],l[1]=r.coords[1]-n.coords[1],l[2]=r.coords[2]-n.coords[2],t=p.next;t!==p;t=t.next)d[0]=t.coords[0]-n.coords[0],d[1]=t.coords[1]-n.coords[1],d[2]=t.coords[2]-n.coords[2],u[0]=l[1]*d[2]-l[2]*d[1],u[1]=l[2]*d[0]-l[0]*d[2],u[2]=l[0]*d[1]-l[1]*d[0],(a=u[0]*u[0]+u[1]*u[1]+u[2]*u[2])>o&&(o=a,e[0]=u[0],e[1]=u[1],e[2]=u[2]);o<=0&&(e[0]=e[1]=e[2]=0,e[this.longAxis_(l)]=1)},checkOrientation_(){for(var e,t,r=this.mesh.fHead,n=this.mesh.vHead,i=0,a=r.next;a!==r;a=a.next)if(!((t=a.anEdge).winding<=0))do{i+=(t.Org.s-t.Dst.s)*(t.Org.t+t.Dst.t),t=t.Lnext}while(t!==a.anEdge);if(i<0){for(e=n.next;e!==n;e=e.next)e.t=-e.t;this.tUnit[0]=-this.tUnit[0],this.tUnit[1]=-this.tUnit[1],this.tUnit[2]=-this.tUnit[2]}},projectPolygon_(){var e,t,r=this.mesh.vHead,n=[0,0,0],i=!1;n[0]=this.normal[0],n[1]=this.normal[1],n[2]=this.normal[2],!n[0]&&!n[1]&&!n[2]&&(this.computeNormal_(n),i=!0),e=this.sUnit,t=this.tUnit;var a=this.longAxis_(n);e[a]=0,e[(a+1)%3]=1,e[(a+2)%3]=0,t[a]=0,t[(a+1)%3]=0,t[(a+2)%3]=n[a]>0?1:-1;for(var o=r.next;o!==r;o=o.next)o.s=this.dot_(o.coords,e),o.t=this.dot_(o.coords,t);i&&this.checkOrientation_();for(var s=!0,c=r.next;c!==r;c=c.next)s?(this.bmin[0]=this.bmax[0]=c.s,this.bmin[1]=this.bmax[1]=c.t,s=!1):(c.s<this.bmin[0]&&(this.bmin[0]=c.s),c.s>this.bmax[0]&&(this.bmax[0]=c.s),c.t<this.bmin[1]&&(this.bmin[1]=c.t),c.t>this.bmax[1]&&(this.bmax[1]=c.t))},addWinding_(e,t){e.winding+=t.winding,e.Sym.winding+=t.Sym.winding},tessellateMonoRegion_(e,t){var r,n;if((r=t.anEdge).Lnext===r||r.Lnext.Lnext===r)throw"Mono region invalid";for(;$eafe7a70b9d76214$var$Geom.vertLeq(r.Dst,r.Org);r=r.Lprev);for(;$eafe7a70b9d76214$var$Geom.vertLeq(r.Org,r.Dst);r=r.Lnext);n=r.Lprev;for(;r.Lnext!==n;)if($eafe7a70b9d76214$var$Geom.vertLeq(r.Dst,n.Org)){for(;n.Lnext!==r&&($eafe7a70b9d76214$var$Geom.edgeGoesLeft(n.Lnext)||$eafe7a70b9d76214$var$Geom.edgeSign(n.Org,n.Dst,n.Lnext.Dst)<=0);)n=e.connect(n.Lnext,n).Sym;n=n.Lprev}else{for(;n.Lnext!==r&&($eafe7a70b9d76214$var$Geom.edgeGoesRight(r.Lprev)||$eafe7a70b9d76214$var$Geom.edgeSign(r.Dst,r.Org,r.Lprev.Org)>=0);)r=e.connect(r,r.Lprev).Sym;r=r.Lnext}if(n.Lnext===r)throw"Mono region invalid";for(;n.Lnext.Lnext!==r;)n=e.connect(n.Lnext,n).Sym;return!0},tessellateInterior_(e){for(var t,r=e.fHead.next;r!==e.fHead;r=t)if(t=r.next,r.inside&&!this.tessellateMonoRegion_(e,r))return!1;return!0},discardExterior_(e){for(var t,r=e.fHead.next;r!==e.fHead;r=t)t=r.next,r.inside||e.zapFace(r)},setWindingNumber_(e,t,r){for(var n,i=e.eHead.next;i!==e.eHead;i=n)n=i.next,i.Rface.inside!==i.Lface.inside?i.winding=i.Lface.inside?t:-t:r?e.delete(i):i.winding=0},getNeighbourFace_:e=>e.Rface&&e.Rface.inside?e.Rface.n:-1,outputPolymesh_(e,t,r,n){var i,a,o=0,s=0;r>3&&e.mergeConvexFaces(r);for(var c=e.vHead.next;c!==e.vHead;c=c.next)c.n=-1;for(var l=e.fHead.next;l!==e.fHead;l=l.next)if(l.n=-1,l.inside){i=l.anEdge,a=0;do{-1===(c=i.Org).n&&(c.n=s,s++),a++,i=i.Lnext}while(i!==l.anEdge);if(a>r)throw"Face vertex greater that support polygon";l.n=o,++o}this.elementCount=o,t===$eafe7a70b9d76214$var$Tess.CONNECTED_POLYGONS&&(o*=2),this.elements=[],this.elements.length=o*r,this.vertexCount=s,this.vertices=[],this.vertices.length=s*n,this.vertexIndices=[],this.vertexIndices.length=s;for(c=e.vHead.next;c!==e.vHead;c=c.next)if(-1!==c.n){var d=c.n*n;this.vertices[d+0]=c.coords[0],this.vertices[d+1]=c.coords[1],n>2&&(this.vertices[d+2]=c.coords[2]),this.vertexIndices[c.n]=c.idx}var u=0;for(l=e.fHead.next;l!==e.fHead;l=l.next)if(l.inside){i=l.anEdge,a=0;do{c=i.Org;this.elements[u++]=c.n,a++,i=i.Lnext}while(i!==l.anEdge);for(var h=a;h<r;++h)this.elements[u++]=-1;if(t===$eafe7a70b9d76214$var$Tess.CONNECTED_POLYGONS){i=l.anEdge;do{this.elements[u++]=this.getNeighbourFace_(i),i=i.Lnext}while(i!==l.anEdge);for(var f=a;f<r;++f)this.elements[u++]=-1}}},outputContours_(e,t){var r,n,i=0,a=0;this.vertexCount=0,this.elementCount=0;for(var o=e.fHead.next;o!==e.fHead;o=o.next)if(o.inside){n=r=o.anEdge;do{this.vertexCount++,r=r.Lnext}while(r!==n);this.elementCount++}this.elements=[],this.elements.length=2*this.elementCount,this.vertices=[],this.vertices.length=this.vertexCount*t,this.vertexIndices=[],this.vertexIndices.length=this.vertexCount;var s=0,c=0,l=0;i=0;for(o=e.fHead.next;o!==e.fHead;o=o.next)if(o.inside){a=0,n=r=o.anEdge;do{this.vertices[s++]=r.Org.coords[0],this.vertices[s++]=r.Org.coords[1],t>2&&(this.vertices[s++]=r.Org.coords[2]),this.vertexIndices[c++]=this.vertexIdCallback?this.vertexIdCallback(r):r.Org.idx,a++,r=r.Lnext}while(r!==n);this.elements[l++]=i,this.elements[l++]=a,i+=a}},addContour(e,t){null===this.mesh&&(this.mesh=new $eafe7a70b9d76214$var$TESSmesh),e<2&&(e=2),e>3&&(e=3);for(var r=null,n=0;n<t.length;n+=e)null===r?(r=this.mesh.makeEdge(),this.mesh.splice(r,r.Sym)):(this.mesh.splitEdge(r),r=r.Lnext),r.Org.coords[0]=t[n+0],r.Org.coords[1]=t[n+1],r.Org.coords[2]=e>2?t[n+2]:0,r.Org.idx=this.vertexIndexCounter++,this.edgeCreateCallback&&this.edgeCreateCallback(r),r.winding=1,r.Sym.winding=-1},tesselate(e,t,r,n,i,a){if(void 0===e&&(e=$eafe7a70b9d76214$var$Tess.ODD),void 0===t&&(t=$eafe7a70b9d76214$var$Tess.POLYGONS),void 0===a&&(a=!0),this.vertices=[],this.elements=[],this.vertexIndices=[],this.vertexIndexCounter=0,i&&(this.normal[0]=i[0],this.normal[1]=i[1],this.normal[2]=i[2]),this.windingRule=e,n<2&&(n=2),n>3&&(n=3),!this.mesh)return!1;this.projectPolygon_(),$eafe7a70b9d76214$var$Sweep.computeInterior(this,a);var o=this.mesh;return t===$eafe7a70b9d76214$var$Tess.BOUNDARY_CONTOURS?this.setWindingNumber_(o,1,!0):this.tessellateInterior_(o),a&&o.check(),t===$eafe7a70b9d76214$var$Tess.BOUNDARY_CONTOURS?this.outputContours_(o,n):this.outputPolymesh_(o,t,r,n),!0}},$eafe7a70b9d76214$var$Tess.tesselate=function(e){var t=e.windingRule,r=void 0===t?$eafe7a70b9d76214$var$Tess.ODD:t,n=e.elementType,i=void 0===n?$eafe7a70b9d76214$var$Tess.POLYGONS:n,a=e.polySize,o=void 0===a?3:a,s=e.vertexSize,c=void 0===s?2:s,l=e.normal,d=void 0===l?[0,0,1]:l,u=e.contours,h=void 0===u?[]:u,f=e.strict,p=void 0===f||f,m=e.debug,v=void 0!==m&&m;if(!h&&p)throw new Error("Contours can't be empty");if(h){var $=new $eafe7a70b9d76214$var$Tesselator;e.edgeCreateCallback&&($.edgeCreateCallback=e.edgeCreateCallback),e.vertexIdCallback&&($.vertexIdCallback=e.vertexIdCallback);for(var g=0;g<h.length;g++)$.addContour(c||2,h[g]);return $.tesselate(r,i,o,c,d,p),{vertices:$.vertices,vertexIndices:$.vertexIndices,vertexCount:$.vertexCount,elements:$.elements,elementCount:$.elementCount,mesh:v?$.mesh:void 0}}};var $eafe7a70b9d76214$export$2e2bcd8739ae039=$eafe7a70b9d76214$var$Tess;let $22f8397078a03bca$var$Bg=Math.PI/2;const $22f8397078a03bca$var$Wg=(e,t)=>([r,n])=>(n<r&&(n+=t),(e>=r?e:e+t)<=n);function $22f8397078a03bca$var$HO(e,t,r){let n=e.clone().sub(t),i=r.clone().sub(t);return n.projectOnVector(i),n.add(t)}function $22f8397078a03bca$var$oo(e,t,r){r.x=e.x*t.x,r.y=e.y,r.z=e.x*t.y}function $22f8397078a03bca$var$eu(e,t,r){r.x=e.x*t.x,r.y=e.y,r.z=e.x*t.y}function $22f8397078a03bca$var$Qg(e,t,r,n,i,a){let o=t.clone().sub(e),s=r.clone().sub(e),c=o.angleTo(s);if(o.normalize(),s.normalize(),n===i){let t=o.add(s).normalize();a.copy(e).addScaledVector(t,n/Math.sin(c/2))}else{let t=o.angleTo(s);a.copy(e),a.addScaledVector(o,i/Math.sin(t)),a.addScaledVector(s,n/Math.sin(t))}}function $22f8397078a03bca$var$PM(e){return new(0,$ilwiq.Vector2)(e.y,-e.x)}class $22f8397078a03bca$export$56ea040fa5ffbf70 extends $ilwiq.BufferGeometry{constructor(e,t,r,n,i,a,o,s,c,l,d,u,h=!1){super(),this.type="RoundedCylinderBufferGeometry",e=void 0!==e?e:1,t=void 0!==t?t:1,r=r||1,n=Math.floor(n)||8,i=Math.floor(i)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI,a&&(c=0,l=0);let f=[],p=[],m=[],v=[],$=0,g=r/2,b=new(0,$ilwiq.Vector3),x=new(0,$ilwiq.Vector3);h&&0==e&&(e=c),h&&0==t&&(t=l);let y=new(0,$ilwiq.Vector2)(e,g),w=new(0,$ilwiq.Vector2)(t,-g),_=null,S=null,T=null,M=null,E=y.clone().sub(w),A=0,C=0,L=0;u>0&&(A=Math.min(e,t)*(1-u),C=e-A,L=t-A);let R=y.clone();R.x-=A;let P=Math.PI-E.angle(),D=E.angle(),O=Math.tan(D/2),I=Math.tan(P/2),N=O+I,B=u?N:I,z=u?N:O;if(c=Math.min(c,(e-C)/B,E.length()/N),l=Math.min(l,(t-L)/z,E.length()/N),c>0){let e=c/O;_=y.clone().sub(new(0,$ilwiq.Vector2)(e,c)),u&&(T=_.clone(),T.x-=A-N*c),y.sub(E.clone().setLength(e))}if(l>0){let e=l/I;S=w.clone().sub(new(0,$ilwiq.Vector2)(e,-l)),w.add(E.clone().setLength(e)),u&&(M=S.clone(),M.x-=A-N*l,R.sub(E.clone().setLength(e)))}E=y.clone().sub(w);let U=E.length()<.5,k=[];for(let d=0;d<=n;d++){let h=[],f=d/n,g=f*s+o,y=new(0,$ilwiq.Vector2)(Math.sin(g),Math.cos(g));if(M&&S?(F(h,f,y,P,l,M,-1,!0),F(h,f,y,D,l,S,-1,!1)):S?(q(h,y,S.x,0,-1),F(h,f,y,D,l,S,-1,!1)):a||q(h,y,t,L,-1),$22f8397078a03bca$var$oo($22f8397078a03bca$var$PM(E).normalize(),y,b),!U)for(let e=0;e<=i;e++){let t=e/i;$22f8397078a03bca$var$oo(E.clone().multiplyScalar(t).add(w),y,x),p.push(x.x,x.y,x.z),m.push(b.x,b.y,b.z),v.push(f,.5+x.y/r),h.push($++)}if(T&&_?(F(h,f,y,P,c,_,1,!1),F(h,f,y,D,c,T,1,!0)):_?(F(h,f,y,P,c,_,1,!1),q(h,y,_.x,0,1)):a||q(h,y,e,C,1),u&&!U){$22f8397078a03bca$var$oo($22f8397078a03bca$var$PM(E).multiplyScalar(-1).normalize(),y,b);for(let e=0;e<=i;e++){let t=e/i;$22f8397078a03bca$var$oo(E.clone().multiplyScalar(-t).add(R),y,x),p.push(x.x,x.y,x.z),m.push(b.x,b.y,b.z),v.push(f,.5+x.y/r),h.push($++)}}u&&!a&&h.push(h[0]),k.push(h)}for(let e=0;e<k.length-1;e++)for(let t=0;t<k[0].length-1;t++){if(a&&u&&t==i)continue;let r=k[e][t],n=k[e+1][t],o=k[e+1][t+1],s=k[e][t+1],c=p[3*o+0],l=p[3*o+2];f.push(r,n,s),(0!=c||0!=l)&&f.push(n,o,s)}function F(e,t,n,i,a,o,s,c){for(let l=0;l<d+1;l++){let u=l/d,h=s<0?u:1-u;c&&(h-=1),h*=i;let f=new(0,$ilwiq.Vector2)(Math.sin(h),Math.cos(h)*s);$22f8397078a03bca$var$oo(f.clone().multiplyScalar(a).add(o),n,x),p.push(x.x,x.y,x.z),$22f8397078a03bca$var$oo(f,n,b),m.push(b.x,b.y,b.z),v.push(t,.5+x.y/r),e.push($++)}}function q(e,t,r,n,i){let a=new(0,$ilwiq.Vector3),o=new(0,$ilwiq.Vector2),s=[r,n];i<0&&s.reverse();for(let r of s)o.set(r,g*i),$22f8397078a03bca$var$oo(o,t,a),p.push(a.x,a.y,a.z),m.push(0,i,0),v.push(.5,.5),e.push($++)}function G(r,n,i){let a=new(0,$ilwiq.Vector2)(Math.sin(i),Math.cos(i)),o=new(0,$ilwiq.Vector2)(-Math.cos(i),Math.sin(i)),s=new(0,$ilwiq.Vector3),c=r<0?(e,t,r)=>f.push(e,t,r):(e,t,r)=>f.push(e,r,t);$22f8397078a03bca$var$oo(new(0,$ilwiq.Vector2)((e+t+C+L)/4,0),a,s),p.push(s.x,s.y,s.z),m.push(o.x,0,o.y),v.push(.5,.5);let l=$++;for(let e of n){let t=p.slice(3*e,3*e+3);p.push(...t),m.push(o.x,0,o.y);let r=v.slice(2*e,2*e+2);v.push(...r),$++}for(let e=l+1;e<$-1;e++)c(l,e,e+1);c(l,$-1,l+1)}s<2*Math.PI&&(G(-1,k[0],o),G(1,k[k.length-1],o+s)),this.setIndex(f),this.setAttribute("position",new(0,$ilwiq.Float32BufferAttribute)(p,3)),this.setAttribute("normal",new(0,$ilwiq.Float32BufferAttribute)(m,3)),this.setAttribute("uv",new(0,$ilwiq.Float32BufferAttribute)(v,2))}}class $22f8397078a03bca$export$ab3456a079aa7d80 extends $ilwiq.BufferGeometry{constructor(e=1,t=1,r=1,n=1,i=1,a=1,o=0,s=4){super(),this.type="BoxBufferGeometry";let c=this;n=Math.floor(n),i=Math.floor(i),a=Math.floor(a),s=Math.floor(s),o=Math.min(o,e/2,t/2,r/2);let l=[],d=[],u=[],h=[],f=0,p=0;function m(e,t,r,n,i,a,s,m,v,$,g){let b=(a-2*o)/v,x=(s-2*o)/$,y=a/2-o,w=s/2-o,_=m/2,S=v+1,T=$+1,M=0,E=0,A=new(0,$ilwiq.Vector3);for(let a=0;a<T;a++){let o=a*x-w;for(let s=0;s<S;s++){let c=s*b-y;A[e]=c*n,A[t]=o*i,A[r]=_,d.push(A.x,A.y,A.z),A[e]=0,A[t]=0,A[r]=m>0?1:-1,u.push(A.x,A.y,A.z),h.push(s/v),h.push(1-a/$),M+=1}}for(let e=0;e<$;e++)for(let t=0;t<v;t++){let r=f+t+S*e,n=f+t+S*(e+1),i=f+(t+1)+S*(e+1),a=f+(t+1)+S*e;l.push(r,n,a),l.push(n,i,a),E+=6}c.addGroup(p,E,g),p+=E,f+=M}function v(e,t,r,n,i,a,m,v,$,g,b){let x=(m-2*o)/g,y=m/2-o,w=v/2-o,_=$/2,S=g+1,T=0,M=0,E=new(0,$ilwiq.Vector3),A=new(0,$ilwiq.Vector3);for(let c=0;c<s+1;c++){let l=c/s*$22f8397078a03bca$var$Bg,f=Math.sin(l)*o,p=(1-Math.cos(l))*o,m=Math.sin(l),v=Math.cos(l);E[t]=(w+f)*i,E[r]=(_-p)*a,A[e]=0,A[t]=m*Math.sign(E[t]),A[r]=v*Math.sign(E[r]);for(let t=0;t<S;t++){let r=t*x-y;E[e]=r*n,d.push(E.x,E.y,E.z),u.push(A.x,A.y,A.z),h.push(t/g),h.push(0),T+=1}}for(let e=0;e<s;e++)for(let t=0;t<g;t++){let r=f+t+S*e,n=f+t+S*(e+1),i=f+(t+1)+S*(e+1),a=f+(t+1)+S*e;l.push(r,n,a),l.push(n,i,a),M+=6}c.addGroup(p,M,b),p+=M,f+=T}function $(n,i,a){let c=new(0,$ilwiq.Vector3),p=new(0,$ilwiq.Vector3)(e/2,t/2,r/2);p.subScalar(o);let m=[],v=n*i*a>0?(e,t,r)=>l.push(e,t,r):(e,t,r)=>l.push(e,r,t);for(let e=0;e<=s;e++){let t=[],r=$22f8397078a03bca$var$Bg*(1-e/s),l=Math.cos(r),v=Math.sin(r),$=0;for(let r=0;r<=e;r++){let r=Math.cos($),s=Math.sin($);c.x=l*r,c.y=v,c.z=l*s;let m=p.clone().addScaledVector(c,o);d.push(n*m.x,i*m.y,a*m.z),u.push(n*c.x,i*c.y,a*c.z),h.push(0,0),t.push(f++),$+=$22f8397078a03bca$var$Bg/e}m.push(t)}let $=m.length-1;for(let e=0;e<$;e++){let t=m[e],r=m[e+1],n=t.length-1;v(t[0],r[1],r[0]);for(let e=1;e<=n;e++)v(t[e-1],t[e],r[e]),v(t[e],r[e+1],r[e])}}m("z","y","x",-1,-1,r,t,e,a,i,0),m("z","y","x",1,-1,r,t,-e,a,i,1),m("x","z","y",1,1,e,r,t,n,a,2),m("x","z","y",1,-1,e,r,-t,n,a,3),m("x","y","z",1,-1,e,t,r,n,i,4),m("x","y","z",-1,-1,e,t,-r,n,i,5),o>0&&(v("z","y","x",-1,-1,1,r,t,e,a,0),v("z","y","x",1,-1,-1,r,t,e,a,1),v("z","y","x",-1,1,-1,r,t,e,a,1),v("z","y","x",1,1,1,r,t,e,a,0),v("x","y","z",-1,-1,-1,e,t,r,n,0),v("x","y","z",1,-1,1,e,t,r,n,1),v("x","y","z",-1,1,1,e,t,r,n,0),v("x","y","z",1,1,-1,e,t,r,n,1),v("y","x","z",-1,-1,1,t,e,r,i,0),v("y","x","z",1,-1,-1,t,e,r,i,1),v("y","x","z",1,1,1,t,e,r,i,1),v("y","x","z",-1,1,-1,t,e,r,i,0),$(1,1,1),$(-1,1,1),$(1,-1,1),$(-1,-1,1),$(1,1,-1),$(-1,1,-1),$(1,-1,-1),$(-1,-1,-1)),this.setIndex(l),this.setAttribute("position",new(0,$ilwiq.Float32BufferAttribute)(d,3)),this.setAttribute("normal",new(0,$ilwiq.Float32BufferAttribute)(u,3)),this.setAttribute("uv",new(0,$ilwiq.Float32BufferAttribute)(h,2))}}class $22f8397078a03bca$export$f5a32f23b4d0e8c2 extends $ilwiq.BufferGeometry{constructor(e=[],t=[],r="",n=1,i=.2,a=4){super(),this.type="PolyhedronGeometryRound";let o=[],s=[],c=[];return function(){var s;0==(i=Math.min(.99999,i))&&(a=0);let l={IcosahedronGeometry:5,DodecahedronGeometry:3,HexahedronGeometry:3,OctahedronGeometry:4,TetrahedronGeometry:3}[r],d=new(0,$ilwiq.Vector3),u=d.clone(),h=new(0,$ilwiq.Triangle),f=i*n,p=n-f,m=a+1,v=new(0,$ilwiq.Vector3),$=(e,t)=>v.subVectors(e,t).normalize(),g=(e,t)=>Array(e).fill(void 0).map(t),b=g(e.length/3,((t,r)=>(new(0,$ilwiq.Vector3)).fromArray(e,3*r).setLength(n))),x=[],y=1e6;for(let e=0;e<b.length;e++){let r,n,i,a=b[e],o=[],c=1e10,l=-1;for(;-1!=(l=t.indexOf(e,l+1));){let e=l-l%3;r=t[e+(l+1)%3],n=t[e+(l+2)%3],i=a.distanceToSquared(b[r]),c=Math.min(c,i),o.push([r,n,i])}c+=1e-6;let d=[],u=0,h=o.length;for(let t=0;t<h;t++){[r,n,i]=o[u];let t=1==(null==(s=x[r])?void 0:s.includes(e));i<=c&&d.push(r+ +t*y),u=o.findIndex((e=>e[0]==n))}x.push(d)}let w=[];{let e,t,r=0,n=0,i=3==l;for(let o=0;o<=a;o++){e=o*(o+1)/2,t=(o+1)*(o+2)/2;for(let s=0;s<a-o;s++)[r,n]=[e+s+o+2,t+s+o+3],w.push(e,t,...i?[n,e]:[r,t],n,r),[e,t]=[r,n];w.push(e,t,e+a+2)}}let _=d.clone(),S=d.clone(),T=d.clone(),M=d.clone(),E=d.clone(),A=[],C=g(b.length,(()=>g(l,(()=>d.clone()))));for(let e=0;e<b.length;e++){d.copy(b[e]).normalize(),_.copy(d).multiplyScalar(p);let t=x[e];for(let r=0;r<t.length;r++){let n=t[r],i=t[(r+1)%l];h.setFromPointsAndIndices(b,e,n%y,i%y),h.b.sub(h.a).setLength(1e10).add(h.a),h.c.sub(h.a).setLength(1e10).add(h.a),h.closestPointToPoint(_,C[e][r])}let r=[],n=[],i=[],s=new(0,$ilwiq.Vector3);0==a&&[...C[e]].reduce(((e,t)=>e.add(t)),s).multiplyScalar(1/l);for(let t=0;t<l;t++){let o=[],c=(t-1+l)%l,h=C[e][c],g=C[e][t];d.copy(h).sub(_),u.copy(g).sub(_);let b=_.angleTo(d),x=d.angleTo(u),y=Math.cos(b)*f;0==a?S.copy(s):S.copy(_).setLength(p+y),n.push(y);let w=[S,h,g];for(let e=0;e<2;e++){let t=w[e],n=w[e+1];M.subVectors(t,_),E.subVectors(n,_),T.crossVectors(M,E).normalize();for(let n=0;n<m;n++){let i=[b,x][e]*n/m;d.copy(M).applyAxisAngle(T,i).add(_),r.push(d.clone()),e&&($(d,_),o.push([0==n?t:d.clone(),v.clone()]))}e&&($(n,_),o.push([n,v.clone()]))}i.push(o)}A.push(i);let g=2*m,L=2;for(let e=0;e<l;e++){let t=g*e,i=g*((e+1)%l),a=[r[t]];for(let o=1;o<m;o++){M=r[t+o],E=r[i+o],a.push(M);for(let t=1,r=o-L+1;t<=r;t++)d.lerpVectors(M,E,t/(r+1)),d.sub(_).setLength(n[e]).add(_),a.push(d.clone());a.push(E)}for(let e=0;e<m;e++)a.push(r[e+m+t]);a.push(r[i+m]);let s=w.map((e=>a[e]));o.push(...s.map((e=>[e.x,e.y,e.z])).flat()),c.push(...s.map((e=>($(e,_),[v.x,v.y,v.z]))).flat())}}let L=[];for(let e=0;e<x.length;e++)for(let t=0;t<l;t++){let r=x[e][t];if(r<y){let n=x[r].findIndex((t=>t%y==e)),i=A[e][t],a=A[r][n];for(let e=0;e<m;e++){let t=i[e],r=a[m-e],n=i[e+1],s=a[m-(e+1)];[t,r,n,n,r,s].forEach((e=>{o.push(e[0].x,e[0].y,e[0].z),c.push(e[1].x,e[1].y,e[1].z)}))}L.push(i[0][0],a[m][0],i[m][0],a[0][0])}}for(;L.length;){let e,t,r,n;[e,t]=L.splice(0,2);let i=[e];for(;e!=t;)i.push(t),r=L.indexOf(t),n=r%2,t=L.splice(r-n,2)[1-n];v.subVectors(i[0],i[1]).cross(d.subVectors(i[0],i[2])).normalize();let a=v.dot(i[0])<0;a&&v.negate();for(let e=1;e<=i.length-2;e++)[i[e+ +a],i[e+1-+a],i[0]].forEach((e=>{o.push(e.x,e.y,e.z),c.push(v.x,v.y,v.z)}))}}(),function(){let e=new(0,$ilwiq.Vector3);for(let r=0;r<o.length;r+=3){e.x=o[r+0],e.y=o[r+1],e.z=o[r+2];let n=h(e)/2/Math.PI+.5,i=(t=e,Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5);s.push(n,1-i)}var t;let r=new(0,$ilwiq.Vector3),n=new(0,$ilwiq.Vector3),i=new(0,$ilwiq.Vector3),a=new(0,$ilwiq.Vector3),c=new(0,$ilwiq.Vector2),l=new(0,$ilwiq.Vector2),d=new(0,$ilwiq.Vector2),u=(e,t,r,n)=>{n<0&&1===e.x&&(s[t]=e.x-1),0===r.x&&0===r.z&&(s[t]=n/2/Math.PI+.5)};for(let e=0,t=0;e<o.length;e+=9,t+=6){r.set(o[e+0],o[e+1],o[e+2]),n.set(o[e+3],o[e+4],o[e+5]),i.set(o[e+6],o[e+7],o[e+8]),c.set(s[t+0],s[t+1]),l.set(s[t+2],s[t+3]),d.set(s[t+4],s[t+5]),a.copy(r).add(n).add(i).divideScalar(3);let f=h(a);u(c,t+0,r,f),u(l,t+2,n,f),u(d,t+4,i,f)}for(let e=0;e<s.length;e+=6){let t=s[e+0],r=s[e+2],n=s[e+4],i=Math.max(t,r,n),a=Math.min(t,r,n);i>.9&&a<.1&&(t<.2&&(s[e+0]+=1),r<.2&&(s[e+2]+=1),n<.2&&(s[e+4]+=1))}function h(e){return Math.atan2(e.z,-e.x)}}(),this.setAttribute("position",new(0,$ilwiq.Float32BufferAttribute)(o,3)),this.setAttribute("normal",new(0,$ilwiq.Float32BufferAttribute)(c,3)),void this.setAttribute("uv",new(0,$ilwiq.Float32BufferAttribute)(s,2))}static fromJSON(e){return new $22f8397078a03bca$export$f5a32f23b4d0e8c2(e.vertices,e.indices,e.radius,e.corner,e.cornerSides)}}class $22f8397078a03bca$export$125740beb827f712 extends $ilwiq.BufferGeometry{constructor(e,t=12,r=100,n={}){super(),this.type="ShapeGeometry",this.windingRule=$cf00a5c94ce7c28c$export$f9a44b087bf5d29c.ODD,this.elementType=$cf00a5c94ce7c28c$export$97c2d5dba3c6ff41.POLYGONS,this.polySize=3,this.vertexSize=2,this.strict=!0,this._drawCount=0,this._shape=e,this._curveSegments=t,this._maxCount=r,this._maxDrawCount=3*r,this._triangulationOptions=Object.assign({windingRule:$cf00a5c94ce7c28c$export$f9a44b087bf5d29c.ODD,elementType:$cf00a5c94ce7c28c$export$97c2d5dba3c6ff41.POLYGONS,polySize:3,vertexSize:2,strict:!0},n),this._positionAttribute=new(0,$ilwiq.BufferAttribute)(new Float32Array(3*r),3),this._normalAttribute=new(0,$ilwiq.BufferAttribute)(new Float32Array(3*r),3),this._uvAttribute=new(0,$ilwiq.BufferAttribute)(new Float32Array(2*r),2),this._indexAttribute=new(0,$ilwiq.BufferAttribute)(new Uint32Array(3*r),1),this.setAttribute("position",this._positionAttribute),this.setAttribute("normal",this._normalAttribute),this.setAttribute("uv",this._uvAttribute),this.setIndex(this._indexAttribute),this.updateFromShape()}copy(e){return this._drawCount=e.drawCount,this._maxDrawCount=e._maxDrawCount,this._maxCount=e.maxCount,super.copy(e)}get curveSegments(){return this._curveSegments}set curveSegments(e){this._curveSegments=e,this.updateFromShape()}get drawCount(){return this._drawCount}get maxDrawCount(){return this._maxDrawCount}get maxCount(){return this._maxCount}updateFromShape(){let e,t,r,n=this._shape.extractShapePointsToFlatArray([],this._curveSegments),i=this._shape.shapeHoles.map((e=>e.extractShapePointsToFlatArray([],this._curveSegments))),a=!0,o=!0;for(let e=0,i=n.length/2;e<i;e++){let i=2*e,s=n[i+0],c=n[i+1];if(void 0!==t&&s!==t&&(a=!1),void 0!==r&&c!==r&&(o=!1),t=s,r=c,!a&&!o)break}if(!a&&!o&&(e=$eafe7a70b9d76214$export$2e2bcd8739ae039.tesselate({contours:[n,...i],windingRule:this._triangulationOptions.windingRule,elementType:this._triangulationOptions.elementType,polySize:this._triangulationOptions.polySize,vertexSize:this._triangulationOptions.vertexSize,strict:this._triangulationOptions.strict})),this._positionAttribute.array.fill(0),this._normalAttribute.array.fill(0),this._uvAttribute.array.fill(0),this._indexAttribute.array.fill(0),this._drawCount=0,e){let t=1/0,r=-1/0,n=1/0,i=-1/0;for(let a=0,o=e.vertexCount;a<o;a++){let o=2*a,s=e.vertices[o+0],c=e.vertices[o+1];s<t&&(t=s),s>r&&(r=s),c<n&&(n=c),c>i&&(i=c)}let a=r-t,o=i-n;for(let r=0,i=e.vertexCount;r<i;r++){let i=2*r,s=e.vertices[i+0],c=e.vertices[i+1],l=(s-t)/a,d=(c-n)/o;this._positionAttribute.setXYZ(r,s,c,0),this._normalAttribute.setXYZ(r,0,0,1),this._uvAttribute.setXY(r,l,d)}for(let t=0,r=e.elementCount;t<r;t++){let r=3*t,n=e.elements[r+0],i=e.elements[r+1],a=e.elements[r+2];this._indexAttribute.setX(r+0,n),this._indexAttribute.setX(r+1,i),this._indexAttribute.setX(r+2,a),this._drawCount+=3}}return this._positionAttribute.needsUpdate=!0,this._normalAttribute.needsUpdate=!0,this._uvAttribute.needsUpdate=!0,this._indexAttribute.needsUpdate=!0,this.setDrawRange(0,this._drawCount),this._drawCount>this._maxDrawCount}clone(){let e=new $22f8397078a03bca$export$125740beb827f712(this._shape,this._curveSegments,this._maxCount);return e.userData=$parcel$interopDefault($f1q41).cloneDeep(this.userData),e}}class $22f8397078a03bca$export$f818ecd8e1315481 extends $ilwiq.BufferGeometry{constructor(e,t,r=0,n=12,i=3){super(),this.type="ShapeGeometry",this.vertexCache={},this._shape=e,this._depth=t,this._bevel=r,this._curveSegments=n,this._bevelSegmentsInput=i,r<=0?(this._bevelSize=0,this._bevelSegments=0):(this._bevelSize=Math.min(r,t/2-1e-12),this._bevelSegments=Math.floor(i));let a=this._shape.extractShapePointsToFlatArray([],n),o=this._shape.shapeHoles.map((e=>{let t=e.extractShapePointsToFlatArray([],n),r=[];for(let e=t.length-1;e>=1;e-=2){let n=t[e-1],i=t[e-0];r.push(n,i)}return r})),s=$eafe7a70b9d76214$export$2e2bcd8739ae039.tesselate({windingRule:$cf00a5c94ce7c28c$export$f9a44b087bf5d29c.ODD,elementType:$cf00a5c94ce7c28c$export$97c2d5dba3c6ff41.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[a]}),c=$eafe7a70b9d76214$export$2e2bcd8739ae039.tesselate({windingRule:$cf00a5c94ce7c28c$export$f9a44b087bf5d29c.ODD,elementType:$cf00a5c94ce7c28c$export$97c2d5dba3c6ff41.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...o]});if(!s)throw new Error("error generating geometry");let l=s.elementCount;if(c){s.elementCount+=c.elementCount;for(let e=0;e<c.elements.length;e++){let t=c.elements[e],r=e%2==0?s.vertexCount:0;s.elements.push(t+r)}for(let e=0;e<c.vertexIndices.length;e++){let t=c.vertexIndices[e],r=s.vertexCount;s.vertexIndices.push(t+r)}for(let e=0;e<c.vertices.length;e++){let t=c.vertices[e];s.vertices.push(t)}}let d=1/0,u=-1/0,h=1/0,f=-1/0;for(let e=0,t=s.vertexCount;e<t;e++){let t=2*e,r=s.vertices[t+0],n=s.vertices[t+1];r<d&&(d=r),r>u&&(u=r),n<h&&(h=n),n>f&&(f=n)}this._minX=d,this._minY=h,this._width=u-d,this._height=f-h;let p=2*s.vertexCount*(2+this._bevelSegments);this._buffer=new $482828adeba6d6b0$export$2e2bcd8739ae039(p);let m=[],v=[];for(let e=s.elementCount-1;e>=0;e--){let t=e>=l,r=2*e,i=s.elements[r+0],a=s.elements[r+1],o=i+a,c={start:i,count:a,normals:[],continuous:[],concave:[]},d=i,u=o-1,h=i+1,f=this._shape.roundedCurves.length;do{let e=d-i,r=s.vertices[2*u+0],n=s.vertices[2*u+1],l=s.vertices[2*d+0],p=s.vertices[2*d+1],m=s.vertices[2*h+0],v=s.vertices[2*h+1],$=l-r,g=p-n,b=Math.sqrt($*$+g*g);$/=b,g/=b;let x=l-m,y=p-v,w=Math.sqrt(x*x+y*y);x/=w,y/=w,c.normals[2*e+0]=-y,c.normals[2*e+1]=x,c.concave[e]=$*y-g*x>0;let _=s.vertexIndices[d];if(Array.isArray(_))c.continuous[e]=!1;else{let[t,r]=this._shape.getCurveIndexFromVertexId(_-1,!0);if(r>0&&r<1)c.continuous[e]=!0;else{let n=1===r?t+1:t-1;n=(n+f)%f;let i=1===r?0:1,a=this._shape.roundedCurves[t].getTangent(r),o=this._shape.roundedCurves[n].getTangent(i);c.continuous[e]=a.dot(o)>.95}}t&&(c.normals[2*e+0]*=-1,c.normals[2*e+1]*=-1),[u,d,h]=[d,h,h+1],h>=o&&(h-=a)}while(h!==i+1);let p=[];p.push({bevelI:0,angle:0,size:0,boundary:{vertices:s.vertices.slice(2*i,2*o),vertexCount:a,vertexIndices:new Array(a).fill(!0).map(((e,t)=>[t,t])),elements:[0,a],elementCount:1,mesh:null},reverseMap:[],insetPoints:s.vertices.slice(2*i,2*o)});for(let e=1;e<=this._bevelSegments;e++){let r=e/this._bevelSegments*Math.PI/2,i=(1-Math.cos(r))*this._bevelSize,o=[],l=[],d=[],u=[],h=0;for(let e=0;e<a;e++){let r=2*e,f=(e-1+a)%a*2,p=s.vertices[2*c.start+r+0],m=s.vertices[2*c.start+r+1],v=-c.normals[f+0]*i,$=-c.normals[f+1]*i,g=-c.normals[r+0]*i,b=-c.normals[r+1]*i;if(c.concave[e]||!c.concave[e]&&t){let r=Math.atan2($,v),a=Math.atan2(b,g);a>r&&(a-=2*Math.PI);let s=a-r;if(c.continuous[e]||t){let n=r+s/2,a=Math.cos(n)*i,c=Math.sin(n)*i;o[2*h+0]=p+a*(t?-1:1),o[2*h+1]=m+c*(t?-1:1),u[h]=e,h++}else{let t=Math.max(1,Math.floor(n/4*Math.abs(s)/Math.PI));for(let n=0;n<=t;n++){let a=r+s*(n/t),c=Math.cos(a)*i,l=Math.sin(a)*i;o[2*h+0]=p+c,o[2*h+1]=m+l,u[h]=e,h++}}}else o[2*h+0]=p+v,o[2*h+1]=m+$,u[h]=e,l[e]=h,h++,o[2*h+0]=p,o[2*h+1]=m,u[h]=e,h++,o[2*h+0]=p+g,o[2*h+1]=m+b,u[h]=e,d[e]=h,h++}let f=$eafe7a70b9d76214$export$2e2bcd8739ae039.tesselate({windingRule:$cf00a5c94ce7c28c$export$f9a44b087bf5d29c.POSITIVE,elementType:$cf00a5c94ce7c28c$export$97c2d5dba3c6ff41.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[o],edgeCreateCallback:e=>{let t=e.Org.idx,r=u[t],n=u[(t+1)%u.length];e.idx=[r,n],e.Sym.idx=[n,r]},vertexIdCallback:e=>{let t=e.Lprev.idx;return[t?t[1]:0,e.idx[0]]}});if(!f)throw console.log("Error"),new Error("error generating bevel geometry\n\t\t\t\tfor $ {\n\t\t\t\t\tU\n\t\t\t\t}\n\t\t\t\t'th loop");if(!f.vertexCount)break;for(let e=0;e<f.vertexIndices.length;e++){let[t,r]=f.vertexIndices[e];if(t===r)continue;let n=r;r<t&&(n+=a);for(let i=t;i<n;i++){let n=i%a,o=(i+1)%a;if(!c.continuous[n]||!c.continuous[o]){f.vertexIndices[e]=[t,n],f.vertexIndices.splice(e+1,0,[o,r]),f.vertices.splice(2*(e+1),0,f.vertices[2*e],f.vertices[2*e+1]);break}}}p.push({bevelI:e,angle:r,size:i,boundary:f,reverseMap:u,insetPoints:o})}let $=(e,t,r)=>{let n=0,i=e.boundary.vertexIndices.length;for(;n<i&&r(e.boundary.vertexIndices[t]);)t=(t+1)%i,n++;return n},g=m.length;for(let e=1;e<p.length;e++){let t=p[e-1],r=p[e],n=t.boundary.vertexIndices.length,i=r.boundary.vertexIndices.length;if(!n||!i)break;let o=c.concave.length,s=0,l=$22f8397078a03bca$var$Wg(s,a);for(;!t.boundary.vertexIndices.filter(l).length||!r.boundary.vertexIndices.filter(l).length;)s++,l=$22f8397078a03bca$var$Wg(s,a);let d=t.boundary.vertexIndices.findIndex(l),u=r.boundary.vertexIndices.findIndex(l);do{d=(d+1)%n}while(l(t.boundary.vertexIndices[d]));do{u=(u+1)%i}while(l(r.boundary.vertexIndices[u]));s=(s+1)%a;let h,f,v=s,g=this.buildBevelVert(c,t,(d-1+n)%n),b=this.buildBevelVert(c,r,(u-1+i)%i),x=!1;do{l=$22f8397078a03bca$var$Wg(s,a);let e=$(t,d,l),p=$(r,u,l),v=x;if(x=!1,e&&!p){for(let r=0;r<e;r++)h=this.buildBevelVert(c,t,(d+r)%n,r/(e-1)),m.push(g.topN,h.topP,b.topN),m.push(h.bottomP,g.bottomN,b.bottomN),g=h;x=!0}else if(!e&&p)for(let e=0;e<p;e++)f=this.buildBevelVert(c,r,(u+e)%i,e/(p-1)),m.push(b.topN,g.topP,f.topP),m.push(g.bottomP,b.bottomN,f.bottomP),b=f;else if(e&&p)if(h=this.buildBevelVert(c,t,d,0),f=this.buildBevelVert(c,r,u,0),v?(m.push(g.topN,f.topP,b.topN),m.push(g.topN,h.topP,f.topP),m.push(f.bottomP,g.bottomN,b.bottomN),m.push(h.bottomP,g.bottomN,f.bottomP)):(m.push(g.topN,h.topP,b.topN),m.push(b.topN,h.topP,f.topP),m.push(h.bottomP,g.bottomN,b.bottomN),m.push(h.bottomP,b.bottomN,f.bottomP)),g=h,b=f,e===p)for(let a=1;a<e;a++)h=this.buildBevelVert(c,t,(d+a)%n,a/(e-1)),f=this.buildBevelVert(c,r,(u+a)%i,a/(p-1)),m.push(g.topN,h.topP,b.topN),m.push(b.topN,h.topP,f.topP),m.push(h.bottomP,g.bottomN,b.bottomN),m.push(h.bottomP,b.bottomN,f.bottomP),g=h,b=f;else if(e>p){let a=e/p,o=0;for(let s=1;s<e;s++)h=this.buildBevelVert(c,t,(d+s)%n,s/(e-1)),m.push(g.topN,h.topP,b.topN),m.push(h.bottomP,g.bottomN,b.bottomN),g=h,s>(o+1)*a&&(o++,f=this.buildBevelVert(c,r,(u+o)%i,o/(p-1)),m.push(b.topN,h.topP,f.topP),m.push(h.bottomP,b.bottomN,f.bottomP),b=f)}else{let a=p/e,o=0;for(let s=1;s<p;s++)f=this.buildBevelVert(c,r,(u+s)%i,s/(p-1)),m.push(b.topN,h.topP,f.topP),m.push(h.bottomP,b.bottomN,f.bottomP),b=f,s>(o+1)*a&&(o++,h=this.buildBevelVert(c,t,(d+o)%n,o/(e-1)),m.push(g.topN,h.topP,b.topN),m.push(h.bottomP,g.bottomN,b.bottomN),g=h)}d=(d+e)%n,u=(u+p)%i,s=(s+1)%o}while(s!==v)}{let e=p[0];for(let t=0,r=e.boundary.vertexCount;t<r;t++){let n=this.buildBevelVert(c,e,t),i=this.buildBevelVert(c,e,(t+1)%r);m.push(i.topP,n.topN,n.bottomN),m.push(i.topP,n.bottomN,i.bottomP)}}if(t){let e=[];for(let t=m.length-1;t>=g+2;t-=3){let r=m[t-2],n=m[t-1],i=m[t-0];e.push(i,n,r)}m.splice(g,m.length-g,...e)}if(t){let e=[];for(let t=p[p.length-1].boundary.vertices.length-1;t>=1;t-=2){let r=p[p.length-1].boundary.vertices[t-1],n=p[p.length-1].boundary.vertices[t-0];e.push(r,n)}v.push(e)}if(!t){let e=p[p.length-1],t=$eafe7a70b9d76214$export$2e2bcd8739ae039.tesselate({windingRule:p.length>1?$cf00a5c94ce7c28c$export$f9a44b087bf5d29c.POSITIVE:$cf00a5c94ce7c28c$export$f9a44b087bf5d29c.ODD,elementType:$cf00a5c94ce7c28c$export$97c2d5dba3c6ff41.POLYGONS,vertexSize:2,strict:!0,contours:[e.insetPoints,...v]});if(!t)throw new Error("Error generating geometry for surface");for(let e=0;e<3*t.elementCount;e+=3){let r=this.buildSurfaceVert(t,t.elements[e+0]),n=this.buildSurfaceVert(t,t.elements[e+1]),i=this.buildSurfaceVert(t,t.elements[e+2]);m.push(r.top,n.top,i.top),m.push(i.bottom,n.bottom,r.bottom)}}this.vertexCache={}}this._buffer.shrink();let $=new(0,$ilwiq.BufferAttribute)(Uint32Array.from(m),1),g=new(0,$ilwiq.BufferAttribute)(this._buffer.positions,3),b=new(0,$ilwiq.BufferAttribute)(this._buffer.normals,3),x=new(0,$ilwiq.BufferAttribute)(this._buffer.uvs,2);g.needsUpdate=!0,b.needsUpdate=!0,x.needsUpdate=!0,$.needsUpdate=!0,this.setAttribute("position",g),this.setAttribute("normal",b),this.setAttribute("uv",x),this.setIndex($)}buildSurfaceVert(e,t){let r=t.toString();if(r in this.vertexCache)return this.vertexCache[r];let n=e.vertices[2*t+0],i=e.vertices[2*t+1],a=(n-this._minX)/this._width,o=(i-this._minY)/this._height,s=this._buffer.get(2),c=3*s,l=2*s,d={top:s+0,bottom:s+1};return this._buffer.positions[c+0]=n,this._buffer.positions[c+1]=i,this._buffer.positions[c+2]=this._depth,this._buffer.normals[c+0]=0,this._buffer.normals[c+1]=0,this._buffer.normals[c+2]=1,this._buffer.uvs[l+0]=a,this._buffer.uvs[l+1]=o,this._buffer.positions[c+3]=n,this._buffer.positions[c+4]=i,this._buffer.positions[c+5]=0,this._buffer.normals[c+3]=0,this._buffer.normals[c+4]=0,this._buffer.normals[c+5]=-1,this._buffer.uvs[l+2]=a,this._buffer.uvs[l+3]=o,this.vertexCache[r]=d,d}buildBevelVert(e,t,r,n=1){let i=`${t.bevelI}:${r}`;if(i in this.vertexCache)return this.vertexCache[i];let a,o,s,c,[l,d]=t.boundary.vertexIndices[r];l!==d?(o=l,a=d,c=!1,s=e.continuous[o]&&e.continuous[a]):(a=l,o=(a-1+e.count)%e.count,c=e.concave[a]&&t.bevelI>0,s=e.continuous[a]||c);let u=Math.cos(t.angle),h=Math.sin(t.angle),f=2*r,p=2*a,m=2*o,v=t.boundary.vertices[f+0],$=t.boundary.vertices[f+1],g=(1-h)*this._bevelSize,b=(v-this._minX)/this._width,x=($-this._minY)/this._height,y=e.normals[p+0],w=e.normals[p+1],_=e.normals[m+0],S=e.normals[m+1];if(c){y+=(_-y)*(1-n),w+=(S-w)*(1-n);let e=Math.sqrt(y*y+w*w);y/=e,w/=e}let T=this._buffer.get(s?2:4),M=3*T,E=2*T,A={i:r,fi:a,topP:T+0,topN:T+0,bottomP:T+1,bottomN:T+1};return this._buffer.positions[M+0]=v,this._buffer.positions[M+1]=$,this._buffer.positions[M+2]=this._depth-g,this._buffer.normals[M+0]=y*u,this._buffer.normals[M+1]=w*u,this._buffer.normals[M+2]=h,this._buffer.uvs[E+0]=b,this._buffer.uvs[E+1]=x,this._buffer.positions[M+3]=v,this._buffer.positions[M+4]=$,this._buffer.positions[M+5]=g,this._buffer.normals[M+3]=y*u,this._buffer.normals[M+4]=w*u,this._buffer.normals[M+5]=-h,this._buffer.uvs[E+2]=x,this._buffer.uvs[E+3]=b,s||(T+=2,M+=6,E+=4,A.topP=T+0,A.bottomP=T+1,this._buffer.positions[M+0]=v,this._buffer.positions[M+1]=$,this._buffer.positions[M+2]=this._depth-g,this._buffer.normals[M+0]=_*u,this._buffer.normals[M+1]=S*u,this._buffer.normals[M+2]=h,this._buffer.uvs[E+0]=b,this._buffer.uvs[E+1]=x,this._buffer.positions[M+3]=v,this._buffer.positions[M+4]=$,this._buffer.positions[M+5]=g,this._buffer.normals[M+3]=_*u,this._buffer.normals[M+4]=S*u,this._buffer.normals[M+5]=-h,this._buffer.uvs[E+2]=x,this._buffer.uvs[E+3]=b),this.vertexCache[i]=A,A}clone(){let e=new $22f8397078a03bca$export$f818ecd8e1315481(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=$parcel$interopDefault($f1q41).cloneDeep(this.userData),e}}class $22f8397078a03bca$export$f9a2b42cd5925f5b extends $ilwiq.BufferGeometry{constructor(e=!0,t=1,r=1,n=1,i=1,a=1,o=1,s=1,c=1,l=1,d=1,u=1){super();let h=e&&1===a;h&&(u=0),d>100&&(d=100);let f,p,m,v,$,g,b,x,y=()=>new(0,$ilwiq.Vector3),w=new(0,$ilwiq.Vector3),_=y(),S=y(),T=y(),M=y(),E=y(),A=y(),C=y(),L=y(),R=y(),P=y(),D=y(),O=r-2*s+.001,I=O/a,N=Math.ceil(o*a),B=N+1,z=O/N,U=-O/2,k=l+1,F=2*Math.PI/l,q=Math.PI/2/u,G=Math.min((1-d/100)*s,s-.01),V=s-G,H=0,j=2*u+2,W=k*j/2,X=W+k*B,K=k*(B+j),[Y,Z,J]=[3,3,2].map((e=>Array(K*e).fill(0))),Q=[],ee=i-s;function te(t,r){let n=Math.PI/2;g=r*z,x=2*Math.PI*(g%I)/I+n,g+=U,b=Math.sin(x)*ee,$=Math.cos(x)*ee,e?t.set($,b,g):t.set($,g,b)}te(w,-1e-10),te(_,0),M.copy(w),te(w,1);let re=w.distanceTo(_),ne=V+G,ie=re*N+2*ne,ae=G,oe=ie-ne;for(let t=0;t<=N;t++){te(S,t),D.subVectors(S,M).normalize(),M.copy(S),R.copy(S).setComponent(+e+1,0).normalize(),P.crossVectors(D,R).normalize();let r=0===t,n=t===N,i=r?3*Math.PI/2:q,a=r?ae:oe,o=r?k:X,c=r?0:K-k,d=D.clone().multiplyScalar(r?-V:V).add(S),f=D.clone().multiplyScalar(r?-1:1).normalize();for(let e=0;e<k;e++){let p=e*F;if(E.addVectors(w.copy(R).multiplyScalar(s*Math.cos(p)),_.copy(P).multiplyScalar(s*Math.sin(p))),A.copy(E).normalize(),r||n){h||(H=c+e,[0,1,2].forEach((e=>{Y[3*H+e]=d.getComponent(e),Z[3*H+e]=f.getComponent(e)})),J[2*H]=+n,J[2*H+1]=e/l),_.copy(A).multiplyScalar(G),T.addVectors(S,_);for(let t=0;t<u;t++){let n=t*q+i;C.addVectors(w.copy(D).multiplyScalar(V*Math.sin(n)),_.copy(A).multiplyScalar(V*Math.cos(n))),L.copy(C).normalize(),_.addVectors(T,C),C.normalize(),H=o+t*k+e,[0,1,2].forEach((e=>{Y[3*H+e]=_.getComponent(e),Z[3*H+e]=L.getComponent(e)}));let s=+r+Math.sin(n);J[2*H]=(a+V*s)/ie,J[2*H+1]=e/l}}_.addVectors(S,E),H=W+t*k+e,[0,1,2].forEach((e=>{Y[3*H+e]=_.getComponent(e),Z[3*H+e]=A.getComponent(e)})),J[2*H]=(ne+t*re)/ie,J[2*H+1]=e/l}}let se=B+2*u+2,[ce,le]=h?[1,1+B-1]:[0,se-1];for(let e=ce;e<=le-1;e++){let t=h&&e===le-1;for(let r=0;r<k-1;r++)f=e*k+r,p=f+1,m=(t?r:f)+k,v=(t?r+1:p)+k,0===e?Q.push(p,v,m):e===se-2?Q.push(f,p,m):Q.push(f,p,m,p,v,m)}this.setIndex(Q),this.setAttribute("position",new(0,$ilwiq.Float32BufferAttribute)(Y,3)),this.setAttribute("normal",new(0,$ilwiq.Float32BufferAttribute)(Z,3)),this.setAttribute("uv",new(0,$ilwiq.Float32BufferAttribute)(J,2))}}class $22f8397078a03bca$export$debd0e6c2696f9f4 extends $ilwiq.BufferGeometry{constructor(e=.5,t=1,r=4,n=1,i=!1,a=0,o=4){super(),r=Math.floor(Math.max(3,r)),n=Math.floor(n),o=Math.floor(o);let s,c=[],l=[],d=[],u=[],h=0,f=t/2,p=Math.PI/r,m=e*Math.cos(Math.PI/r),v=2*Math.PI/r,$=(r-2)*Math.PI/r,g=Math.PI-$,b=new(0,$ilwiq.Vector3)(0,-f,0),x=new(0,$ilwiq.Vector3)(0,f,0),y=new(0,$ilwiq.Vector2)(e,-f),w=new(0,$ilwiq.Vector2)(m,-f),_=new(0,$ilwiq.Vector2)(0,x.y).sub(w),S=new(0,$ilwiq.Vector2)(0,x.y).sub(y),T=new(0,$ilwiq.Vector2)(_.y,-_.x).normalize(),M=new(0,$ilwiq.Vector2)(S.y,-S.x).normalize(),E=e*Math.cos(Math.PI/r)*Math.tan((Math.PI-_.angle())/2)-1e-8;a=Math.min(a,E);{let e=new(0,$ilwiq.Vector3)(T.x,T.y,0),t=new(0,$ilwiq.Vector3)(Math.cos(v)*e.x,e.y,Math.sin(v)*e.x);s=e.angleTo(t)}let A=a/Math.tan((Math.PI-_.angle())/2),C=a/Math.tan((Math.PI-s)/2),L=new(0,$ilwiq.Vector3);if(!i){l.push(b.x,b.y,b.z),d.push(0,-1,0),u.push(0,0);let e=h++,t=[],n=y.clone(),i=A/Math.cos(Math.PI/r);n.x-=i;for(let e=0;e<r;e++){let i=e/r*Math.PI*2+p;$22f8397078a03bca$var$eu(n,new(0,$ilwiq.Vector2)(Math.sin(i),Math.cos(i)),L),l.push(L.x,L.y,L.z),d.push(0,-1,0),u.push(0,0),t.push(h++)}for(let r=0;r<t.length;r++)c.push(t[r],e,t[(r+1)%t.length])}let R=[];{let e=new(0,$ilwiq.Vector3),t=new(0,$ilwiq.Vector3),n=new(0,$ilwiq.Vector3),i=new(0,$ilwiq.Vector3),f=new(0,$ilwiq.Vector3),m=new(0,$ilwiq.Vector3);for(let v=0;v<r;v++){let $=v/r*Math.PI*2+p,g=(v+.5)/r*Math.PI*2+p,w=(v+1)/r*Math.PI*2+p,S=new(0,$ilwiq.Vector2)(Math.sin($),Math.cos($)),E=new(0,$ilwiq.Vector2)(Math.sin(g),Math.cos(g)),L=new(0,$ilwiq.Vector2)(Math.sin(w),Math.cos(w));$22f8397078a03bca$var$eu(y,S,t),$22f8397078a03bca$var$eu(y,L,n),$22f8397078a03bca$var$eu(T,E,e),$22f8397078a03bca$var$Qg(x,t,n,C,C,i),l.push(i.x,i.y,i.z),$22f8397078a03bca$var$Qg(t,x,n,C,A,f),l.push(f.x,f.y,f.z),$22f8397078a03bca$var$Qg(n,t,x,A,C,m),l.push(m.x,m.y,m.z),d.push(e.x,e.y,e.z),d.push(e.x,e.y,e.z),d.push(e.x,e.y,e.z),u.push(0,0),u.push(0,0),u.push(0,0);let O=h++,I=h++,N=h++;if(c.push(O,I,N),a>0){{let e=t.clone().add(n).multiplyScalar(.5),r=x.clone().sub(e).normalize(),i=b.clone().sub(e).normalize().add(r).normalize().multiplyScalar(-1);P(e,m.clone().sub(f),i,_.angle())}let p,v;{let e=new(0,$ilwiq.Vector3);$22f8397078a03bca$var$eu(M,L,e);let t=m.clone().add(i).multiplyScalar(.5);t=$22f8397078a03bca$var$HO(t,n,x);let r=m.clone().sub(i);[p,v]=P(t,r,e,s,i.y)}{let e=p,t=e.clone().setY(0).normalize(),r=new(0,$ilwiq.Vector3)(0,-1,0),n=t.clone().cross(r);D(e,t,r,n)}R.concat(v);{let t=_.angle(),n=Math.PI-t,i=x.clone();i.y-=a/Math.sin(t-Math.PI/2);let s=new(0,$ilwiq.Vector3),f=[];for(let t=0;t<o;t++){let c=[],p=Math.PI/2-n*t/o,m=Math.cos(p),v=Math.sin(p),$=g;for(let n=0;n<=t;n++){let n=Math.cos($),o=Math.sin($);e.x=m*o,e.y=v,e.z=m*n,s.copy(i).addScaledVector(e,a),l.push(s.x,s.y,s.z),d.push(e.x,e.y,e.z),u.push(0,0),c.push(h++),$+=2*Math.PI/t/r}f.push(c)}v.reverse(),f.push(v);let p=f.length-1;for(let e=0;e<p;e++){let t=f[e],r=f[e+1],n=t.length-1;c.push(r[1],t[0],r[0]);for(let e=1;e<=n;e++)c.push(t[e],t[e-1],r[e]),c.push(r[e+1],t[e],r[e])}}}}}function P(e,t,r,n,i){let s=-n/2,f=(Math.PI-n)/2,p=t.clone().normalize().cross(r);e.addScaledVector(r,-a/Math.sin(f));let m=new(0,$ilwiq.Vector3),v=new(0,$ilwiq.Vector3),$=h,g=[];for(let c=0;c<=o;c++){let f=s+c/o*n;v.set(0,0,0),v.addScaledVector(p,Math.sin(f)),v.addScaledVector(r,Math.cos(f));for(let r=0;r<=1;r++){let n=r/1-.5;if(m.copy(e),m.addScaledVector(t,n),m.addScaledVector(v,a),null!=i){let e=Math.max(0,m.y-i);m.addScaledVector(t,-e/t.y)}l.push(m.x,m.y,m.z),d.push(v.x,v.y,v.z),u.push(0,0),0===r&&g.push(h),h++}}for(let e=0;e<o;e++)for(let t=0;t<1;t++){let r=$+t+2*e,n=r+2,i=n+1,a=r+1;c.push(r,n,a),c.push(n,i,a)}return[e.clone().addScaledVector(t,.5),g]}function D(e,t,r,n){let i=Math.PI/2,s=S.angle()-i,f=[],p=new(0,$ilwiq.Vector3),m=new(0,$ilwiq.Vector3);for(let c=0;c<=o;c++){let v=[],$=c/o;for(let o=0;o<=c;o++){let f=((c?o/c:0)-.5)*g,b=Math.cos(f),x=Math.sin(f),y=(i+Math.atan(Math.tan(s)*b))*$,w=Math.cos(y),_=Math.sin(y);p.set(0,0,0),p.addScaledVector(t,_*b),p.addScaledVector(r,w),p.addScaledVector(n,_*x),m.copy(e).addScaledVector(p,a),l.push(m.x,m.y,m.z),d.push(p.x,p.y,p.z),u.push(0,0),v.push(h++)}f.push(v)}let v=f.length-1;for(let e=0;e<v;e++){let t=f[e],r=f[e+1],n=t.length-1;c.push(t[0],r[1],r[0]);for(let e=1;e<=n;e++)c.push(t[e-1],t[e],r[e]),c.push(t[e],r[e+1],r[e])}}this.setIndex(c),this.setAttribute("position",new(0,$ilwiq.Float32BufferAttribute)(l,3)),this.setAttribute("normal",new(0,$ilwiq.Float32BufferAttribute)(d,3)),this.setAttribute("uv",new(0,$ilwiq.Float32BufferAttribute)(u,2))}}class $63b94844992b0d07$export$a7a48974f285c9b3{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,n,i;let a=Object.assign({},null!=(r=null==t?void 0:t.parameters)?r:{width:100,radialSegments:32,heightSegments:8,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadiusTop:0,cornerRadiusBottom:0,cornerSegments:8},e.parameters);return{parameters:Object.assign(a,{width:Math.abs(a.width),height:Math.abs(null!=(n=a.height)?n:a.width),depth:Math.abs(null!=(i=a.depth)?i:a.width)})}}static build(e){let t,{width:r,depth:n,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:c,thetaLength:l,cornerRadiusTop:d,cornerRadiusBottom:u,cornerSegments:h}=e.parameters;return t=d>0||u>0||l<360?new $22f8397078a03bca$export$56ea040fa5ffbf70(0,r/2,i,a,o,s,c,l*Math.PI/180,d,u,h,0,!0):new(0,$ilwiq.ConeGeometry)(r/2,i,a,o,s),t.scale(1,1,n/r),Object.assign(t,{userData:{...e,type:"ConeGeometry"}})}}var $ilwiq=parcelRequire("ilwiq");class $93cd45318e8b424c$export$8f0c2621363d4aa9{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,n,i;let a=Object.assign({},null!=(r=null==t?void 0:t.parameters)?r:{width:100,widthSegments:1,heightSegments:1,depthSegments:1,cornerRadius:0,cornerSegments:8},e.parameters);return{parameters:Object.assign(a,{width:Math.abs(a.width),height:Math.abs(null!=(n=a.height)?n:a.width),depth:Math.abs(null!=(i=a.depth)?i:a.width)})}}static build(e){let t,{width:r,height:n,depth:i,widthSegments:a,heightSegments:o,depthSegments:s,cornerRadius:c,cornerSegments:l}=e.parameters;return t=0==c?new(0,$ilwiq.BoxGeometry)(r,n,i,a,o,s):new $22f8397078a03bca$export$ab3456a079aa7d80(r,n,i,a,o,s,c,l),Object.assign(t,{userData:{...e,type:"CubeGeometry"}})}}var $ilwiq=parcelRequire("ilwiq");class $dd624bf6ab4ab516$export$68f745719dbe5198{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,n,i,a,o;let s=Object.assign({},null!=(r=null==t?void 0:t.parameters)?r:{width:100,radialSegments:64,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadius:0,cornerSegments:8,hollow:0},e.parameters),c=s.width/2,l=null!=(n=s.radiusTop)?n:c,d=null!=(i=s.radiusBottom)?i:c;return l===d?(l=c,d=c):l>d?(l=c,d=d*c/l):(l=l*c/d,d=c),{parameters:Object.assign(s,{width:Math.abs(s.width),height:Math.abs(null!=(a=s.height)?a:s.width),depth:Math.abs(null!=(o=s.depth)?o:s.width),radiusTop:l,radiusBottom:d})}}static build(e){let t,{width:r,depth:n,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:c,thetaLength:l,radiusTop:d,radiusBottom:u,cornerRadius:h,cornerSegments:f,hollow:p}=e.parameters;return t=h||p?new $22f8397078a03bca$export$56ea040fa5ffbf70(d,u,i,a,o,s,c,l*Math.PI/180,h,h,f,p):new(0,$ilwiq.CylinderGeometry)(d,u,i,a,o,s,c,l*Math.PI/180),t.scale(1,1,n/r),Object.assign(t,{userData:{...e,type:"CylinderGeometry"}})}}class $2ed4e98258d0856d$export$28e4f42d9ee84f60 extends $22f8397078a03bca$export$f5a32f23b4d0e8c2{constructor(e=1,t=.2,r=4){let n=(1+Math.sqrt(5))/2,i=1/n,a="DodecahedronGeometry";super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],a,e,t,r),this.type=a}static fromJSON(e){return new $2ed4e98258d0856d$export$28e4f42d9ee84f60(e.radius,e.corner,e.cornerSides)}}class $2ed4e98258d0856d$export$e33841a6d69dfd92 extends $22f8397078a03bca$export$f5a32f23b4d0e8c2{constructor(e=1,t=.2,r=4){let n=(1+Math.sqrt(5))/2,i="IcosahedronGeometry";super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],i,e,t,r),this.type=i}static fromJSON(e){return new $2ed4e98258d0856d$export$e33841a6d69dfd92(e.radius,e.corner,e.cornerSides)}}var $ilwiq=parcelRequire("ilwiq");class $15432287979198b1$export$c0babfeb8708fc9c{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,n,i;let a=Object.assign({},null!=(r=null==t?void 0:t.parameters)?r:{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(a,{width:Math.abs(a.width),height:Math.abs(null!=(n=a.height)?n:a.width),depth:Math.abs(null!=(i=a.depth)?i:a.width)})}}static build(e){let{width:t,height:r,depth:n,detail:i,corner:a,cornerSides:o}=e.parameters,s=0===i&&0!==a?new $2ed4e98258d0856d$export$28e4f42d9ee84f60(.5*t,a,o):new(0,$ilwiq.DodecahedronGeometry)(.5*t,i);return s.scale(1,r/t,n/t),Object.assign(s,{userData:{...e,type:"DodecahedronGeometry"}})}}var $ilwiq=parcelRequire("ilwiq"),$ilwiq=parcelRequire("ilwiq"),$ilwiq=parcelRequire("ilwiq"),$ilwiq=parcelRequire("ilwiq"),$ilwiq=parcelRequire("ilwiq");class $3ab6230e2a1d61bf$export$2e2bcd8739ae039{constructor(e){this.position=new(0,$ilwiq.Vector2),this.startPosition=new(0,$ilwiq.Vector2),this.uuid=$ilwiq.MathUtils.generateUUID(),this.position=e.clone()}start(){this.reset()}reset(){this.startPosition.copy(this.position)}applyOffset(e){this.position.copy(this.startPosition).add(e)}copy(e){return this.position.copy(e.position),this.startPosition.copy(e.startPosition),this}clone(){return new $3ab6230e2a1d61bf$export$2e2bcd8739ae039(this.position).copy(this)}toJSON(){return[this.position.x,this.position.y]}}class $76a122765cb18b49$export$59e91de47f6c7779 extends $3ab6230e2a1d61bf$export$2e2bcd8739ae039{constructor(e){super(e.position),this.parent=e}copy(e){return super.copy(e),this}clone(){return new $76a122765cb18b49$export$59e91de47f6c7779(this.parent).copy(this)}}class $76a122765cb18b49$export$baf26146a414f24a extends $3ab6230e2a1d61bf$export$2e2bcd8739ae039{constructor(e,t){super(t),this.controls=[],this.roundness=0,this.areControlsDirectionsMirrored=!0,this.uuid=e,this.controls.push(new $76a122765cb18b49$export$59e91de47f6c7779(this),new $76a122765cb18b49$export$59e91de47f6c7779(this))}static create(e,t){let r=new $76a122765cb18b49$export$baf26146a414f24a(e,new(0,$ilwiq.Vector2)(...t.position));return r.controls[0].position.set(...t.controlPrevious.position),r.controls[1].position.set(...t.controlNext.position),r.roundness=t.roundness,r.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored,r}getOppositeControl(e){let t=this.controls.indexOf(e);return 0===t?this.controls[1]:1===t?this.controls[0]:null}applyOffsetToControls(e,t=1){for(let r=0,n=this.controls.length;r<n;r++){let n=this.controls[r];this.position.distanceTo(n.position)<=t?n.position.copy(this.position):n.applyOffset(e)}}controlsMoved(){return!(this.position.equals(this.controls[0].position)&&this.position.equals(this.controls[1].position))}copy(e){return super.copy(e),this.controls[0].copy(e.controls[0]),this.controls[1].copy(e.controls[1]),this.roundness=e.roundness,this.uuid=e.uuid,this}clone(){return new $76a122765cb18b49$export$baf26146a414f24a(this.uuid,this.position).copy(this)}toJSON(){return super.toJSON().concat(this.controls[0].toJSON(),this.controls[1].toJSON(),[this.roundness])}}let $303979faefae2a64$var$Jc=new(0,$ilwiq.Vector2),$303979faefae2a64$var$Fg=new(0,$ilwiq.Vector2),$303979faefae2a64$var$bO=new(0,$ilwiq.Vector2),$303979faefae2a64$var$wO=new(0,$ilwiq.Vector2),$303979faefae2a64$var$SO=new(0,$ilwiq.Vector2),$303979faefae2a64$var$MO=new(0,$ilwiq.Vector2),$303979faefae2a64$var$kg=new(0,$ilwiq.Vector2),$303979faefae2a64$var$TO=new(0,$ilwiq.Vector2),$303979faefae2a64$var$EO=new(0,$ilwiq.Vector2),$303979faefae2a64$var$CO=new(0,$ilwiq.Vector2),$303979faefae2a64$var$LO=new(0,$ilwiq.Vector2),$303979faefae2a64$var$PO=new(0,$ilwiq.Vector2),$303979faefae2a64$var$qc=1e-12;function $303979faefae2a64$var$ao(e,t=12){return e&&e instanceof $ilwiq.EllipseCurve?2*t:e&&(e instanceof $ilwiq.LineCurve||e instanceof $ilwiq.LineCurve3)?1:e&&e instanceof $ilwiq.SplineCurve?t*e.points.length:t}function $303979faefae2a64$var$kM(e,t,r,n,i=.5){let a=$303979faefae2a64$var$Jc.subVectors(t,e).multiplyScalar(i).add(e),o=$303979faefae2a64$var$Fg.subVectors(r,t).multiplyScalar(i).add(t),s=$303979faefae2a64$var$bO.subVectors(n,r).multiplyScalar(i).add(r),c=a,l=$303979faefae2a64$var$wO.subVectors(o,a).multiplyScalar(i).add(a),d=$303979faefae2a64$var$SO.subVectors(s,o).multiplyScalar(i).add(o),u=s,h=$303979faefae2a64$var$MO.subVectors(d,l).multiplyScalar(i).add(l);return[e.x,e.y,c.x,c.y,l.x,l.y,h.x,h.y,d.x,d.y,u.x,u.y,n.x,n.y]}function $303979faefae2a64$var$zM(e,t,r,n,i,a){let o,s=t.x-e.x,c=t.y-e.y,l=r.x-e.x,d=r.y-e.y,u=Math.sqrt((s+l)*(s+l)+(c+d)*(c+d));return $303979faefae2a64$export$4a9bc526d08974a4(t,e,r)>Math.PI&&(u*=-1),o=$303979faefae2a64$var$Qc(d,c)?(c+d)*(n/u-.5)*8/3/(s-l):(s+l)*(n/u-.5)*8/3/(d-c),i.set(t.x-o*c,t.y+o*s),a.set(r.x+o*d,r.y-o*l),[i,a]}function $303979faefae2a64$export$af02b8e3ecf08df4(e,t,r){return e.distanceTo(r)<t.distanceTo(r)?t:e}function $303979faefae2a64$var$UM(e,t,r,n,i){let a=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),o=(e.y+t.y)/2,s=(e.x+t.x)/2,c=Math.sqrt(Math.pow(r,2)-Math.pow(a/2,2))*(e.y-t.y)/a,l=Math.sqrt(Math.pow(r,2)-Math.pow(a/2,2))*(t.x-e.x)/a;return n.set(s+c,o+l),i.set(s-c,o-l),[n,i]}function $303979faefae2a64$export$4a9bc526d08974a4(e,t,r){let n=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),i=Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)),a=Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));return Math.acos((i*i+n*n-a*a)/(2*i*n))}function $303979faefae2a64$var$Gg(e,t){return e.position.equals(e.controls[1].position)&&t.position.equals(t.controls[0].position)}function $303979faefae2a64$export$e8ae668e70e7a813(e,t,r,n=12,i=!0){let a=OM.set(0,0,0),o=0,s=[];for(let i=0;i<t.length;i++){if(!1===r[i])continue;let c,l=t[i],d=$303979faefae2a64$var$Jc,u=$303979faefae2a64$var$ao(l,n);s.push(u);for(let t=0;t<=u;t++)if(l instanceof $ilwiq.CubicBezierCurve||l instanceof $ilwiq.QuadraticBezierCurve||l instanceof $ilwiq.LineCurve){if(l.getPoint(t/u,d),a.set(d.x,d.y,0),null==c?void 0:c.equals(a))continue;void 0===c?c=BM:(e.setXYZ(o,c.x,c.y,c.z),o++,e.setXYZ(o,a.x,a.y,a.z),o++),c.copy(a)}}return i&&o>1&&!(e.getX(o-1)===e.getX(0)&&e.getY(o-1)===e.getY(0)&&e.getZ(o-1)===e.getZ(0))&&(e.setXYZ(o,e.getX(0),e.getY(0),e.getZ(0)),o++),s}function $303979faefae2a64$var$VM(e,t,r=12,n=!0){let i,a=OM.set(0,0,0),o=0,s=[];for(let n=0;n<t.length;n++){let c=t[n],l=$303979faefae2a64$var$Jc,d=$303979faefae2a64$var$ao(c,r);s.push(d);for(let t=0;t<=d;t++)if(c instanceof $ilwiq.CubicBezierCurve||c instanceof $ilwiq.QuadraticBezierCurve||c instanceof $ilwiq.LineCurve){if(c.getPoint(t/d,l),a.set(l.x,l.y,0),void 0!==i&&$303979faefae2a64$var$_O(i,a))continue;void 0===i&&(i=BM),i.copy(a),e.setXYZ(o,a.x,a.y,a.z),o++}}return n&&o>1&&!(e.getX(o-1)===e.getX(0)&&e.getY(o-1)===e.getY(0)&&e.getZ(o-1)===e.getZ(0))&&(e.setXYZ(o,e.getX(0),e.getY(0),e.getZ(0)),o++),e}function $303979faefae2a64$var$AO(e,t,r=Number.EPSILON){return e.distanceTo(t)<r}function $303979faefae2a64$var$_O(e,t,r=Number.EPSILON){return e.distanceTo(t)<r}function $303979faefae2a64$var$Qc(e,t,r=Number.EPSILON){return Math.abs(e-t)<r}function $303979faefae2a64$var$jM(e,t,r=12,n=!0){let i,a=0;for(let n=0;n<t.length;n++){let o=t[n],s=$303979faefae2a64$var$ao(o,r),c=$303979faefae2a64$var$Jc;for(let t=0;t<=s;t++)if(o instanceof $ilwiq.CubicBezierCurve||o instanceof $ilwiq.QuadraticBezierCurve||o instanceof $ilwiq.LineCurve){if(o.getPoint(t/s,c),void 0!==i&&$303979faefae2a64$var$AO(i,c,$303979faefae2a64$var$qc))continue;void 0===i&&(i=$303979faefae2a64$var$Fg),i.copy(c),e.push(c.x,c.y),a++}}return $303979faefae2a64$var$Qc(e[0],e[e.length-2],$303979faefae2a64$var$qc)&&$303979faefae2a64$var$Qc(e[1],e[e.length-1],$303979faefae2a64$var$qc)&&(e.pop(),e.pop()),n&&a>1&&!($303979faefae2a64$var$Qc(e[a-1],e[1],$303979faefae2a64$var$qc)&&$303979faefae2a64$var$Qc(e[a-2],e[0],$303979faefae2a64$var$qc))&&(e.push(e[0],e[1]),a++),e}function $303979faefae2a64$var$zg(e,t=12,r=!1){let n=[];for(let i=0,a=e.length;i<a;i++){let a=e[i],o=0;if(r&&void 0!==a.roundedCurveCorner){let e=.5*$303979faefae2a64$var$ao(a.roundedCurveCorner,t);i>0&&(n[i-1]+=e),o+=e}void 0!==a.curveAfter&&(o+=$303979faefae2a64$var$ao(a.curveAfter,t)),n.push(o)}return e.length>0&&r&&void 0!==e[0].roundedCurveCorner&&(n[e.length-1]+=.5*$303979faefae2a64$var$ao(e[0].roundedCurveCorner,t)),n}function $303979faefae2a64$var$FM(e){let t=new(0,$ilwiq.Vector2);t.addVectors(e.v0,$303979faefae2a64$var$Jc.subVectors(e.v1,e.v0).multiplyScalar(2/3));let r=new(0,$ilwiq.Vector2);return r.addVectors(e.v2,$303979faefae2a64$var$Fg.subVectors(e.v1,e.v2).multiplyScalar(2/3)),new(0,$ilwiq.CubicBezierCurve)(e.v0,t,r,e.v2)}class $303979faefae2a64$export$2e2bcd8739ae039 extends $ilwiq.Shape{constructor(e=100,t=100){super(),this.points=[],this.shapeHoles=[],this.eventDispatcher=new(0,$ilwiq.EventDispatcher),this.plane=new(0,$ilwiq.Plane)(new(0,$ilwiq.Vector3)(0,0,-1)),this.subdivision=0,this.controlSnapDistance=4,this.pointIDs=0,this.isMesh2D=!1,this._roundness=0,this.isClosed=!1,this.useCubicForRoundedCorners=!0,this.uuid=$ilwiq.MathUtils.generateUUID(),this.needsUpdate=!1,this.roundedCurves=[],this._width=e,this._height=t}static createFromState(e,t,r){let n=new $303979faefae2a64$export$2e2bcd8739ae039;return n.isClosed=e.isClosed,n.points=e.points.map((e=>$76a122765cb18b49$export$baf26146a414f24a.create(e.id,e.data))),"number"==typeof e.roundness&&(n.roundness=e.roundness),n.shapeHoles=e.shapeHoles.map((e=>$303979faefae2a64$export$2e2bcd8739ae039.createFromState(e))),void 0!==t&&void 0!==r&&n.applySize(t,r),n.update(),n}get width(){return this._width}get height(){return this._height}get roundness(){return this._roundness}set roundness(e){if(this._roundness!==e){this._roundness=e;for(let t=0,r=this.points.length;t<r;t++)this.points[t].roundness=e;this.needsUpdate=!0}}getPointsIndexesByIds(e){return e.map((e=>this.getPointIndexById(e))).filter((e=>e>=0))}getPointIndexById(e){return this.points.findIndex((t=>t.uuid===e))}getLineIndexById(e){return this.getPointIndexById(e)}getBezierPoint(e){if(e<=this.points.length-1)return this.points[e];if(this.shapeHoles.length>0)for(let t=0,r=this.shapeHoles.length;t<r;t++){let r=this.shapeHoles[t],n=e-this.points.length;if(n<=r.points.length-1)return r.points[n]}throw new Error("This shape does not have a point for this index: "+e)}getBezierPointIndex(e){let t=this.points.indexOf(e);if(t>=0)return t;if(t=this.points.length,this.shapeHoles.length>0)for(let r=0,n=this.shapeHoles.length;r<n;r++){let n=this.shapeHoles[r],i=n.points.indexOf(e);if(i>=0)return t+i;t+=n.points.length}return-1}getAllPoints(){let e=[].concat(...this.shapeHoles.map((e=>e.points)));return[...this.points,...e]}applySize(e,t){0===e&&(e=.001),0===t&&(t=.001),this._width=e,this._height=t}applyScale(e,t){let r=$303979faefae2a64$var$kg.set(e,t);for(let e=0,t=this.points.length;e<t;e++){let t=this.points[e];t.position.multiply(r),t.controls[0].position.multiply(r),t.controls[1].position.multiply(r)}for(let r=0,n=this.shapeHoles.length;r<n;r++)this.shapeHoles[r].applyScale(e,t);this._update(!1)}createPoint(e,t=0,r=$ilwiq.MathUtils.generateUUID()){let n;n=e instanceof $ilwiq.Vector2?e:new(0,$ilwiq.Vector2)(e,t);let i=new $76a122765cb18b49$export$baf26146a414f24a(r,n);return i.roundness=this.roundness,i}addPoint(e){this.points.push(e),this.needsUpdate=!0}addPointAt(e,t){this.points.splice(t,0,e),this.needsUpdate=!0}getPointByUuid(e){for(let t=0,r=this.points.length;t<r;t++){let r=this.points[t];if(r.uuid===e)return r}}getFirstPoint(){return this.points[0]}getLastPoint(){return this.points[this.points.length-1]}removePoint(e){let t=this.points.indexOf(e);t>=0&&this.points.splice(t,1),this.needsUpdate=!0}removePointById(e){let t=this.points.find((t=>t.uuid===e));t&&this.removePoint(t)}update(e=!0){for(let e=0,t=this.shapeHoles.length;e<t;e++)this.shapeHoles[e].update(!1);this._update(e)}extractShapePointsToBuffer(e,t=12,r=!1){this.subdivision=t,void 0===this.curveDivisions&&this.computeCurveDivisions(t);let n=r?this.roundedCurveDivisions:this.curveDivisions;return $303979faefae2a64$var$VM(e,r?this.roundedCurves:this.curves,t,this.autoClose),n.reduce(((e,t)=>e+t),0)+1}computeCurveDivisions(e=12){return this.curveDivisions=$303979faefae2a64$var$zg(this.points,e,!1),this.roundedCurveDivisions=$303979faefae2a64$var$zg(this.points,e,!0),this.curveDivisions}extractFilteredShapePointsToBuffer(e,t,r=12){return 2*$303979faefae2a64$export$e8ae668e70e7a813(e,this.curves,t,r,this.autoClose).reduce(((e,t)=>e+t),0)}extractShapePointsToFlatArray(e,t=12){return this.subdivision=t,void 0===this.curveDivisions&&this.computeCurveDivisions(t),$303979faefae2a64$var$jM(e,this.roundedCurves,t,this.autoClose)}getCurveIndexFromVertexId(e,t=!1){let r=0;void 0===this.curveDivisions&&this.computeCurveDivisions(this.subdivision);let n=t?this.roundedCurveDivisions:this.curveDivisions,i=0;t&&void 0!==this.points[0].roundedCurveCorner&&(i=.5*$303979faefae2a64$var$ao(this.points[0].roundedCurveCorner,this.subdivision));let a=e-i;a<0&&(a+=n.reduce(((e,t)=>e+t),0));for(let e=0,t=n.length;e<t;e++){let t=n[e];if(a<r+t)return[e,(a-r+1)/t];r+=t}return[0,1]}getCurveT(e,t,r){let n=this.points[e],i=this.points[e>=this.points.length-1?0:e+1],a=this.curveDivisions,o=a[e];if($303979faefae2a64$var$Gg(n,i)){let e=n.position.distanceTo(i.position);return n.position.distanceTo($303979faefae2a64$var$kg.set(r.x,r.y))/e}let s=0;for(let t=0;t<e;t++)s+=a[t];return(t-s)/o}dispose(){this.eventDispatcher=null}_applyCurveForPoint(e,t){$303979faefae2a64$var$Gg(t,e)?this.lineTo(e.position.x,e.position.y):this.bezierCurveTo(t.controls[1].position.x,t.controls[1].position.y,e.controls[0].position.x,e.controls[0].position.y,e.position.x,e.position.y);let r=this.curves[this.curves.length-1];e.curveBefore=r,t.curveAfter=r;let n=r.clone();e.roundedCurveBefore=n,t.roundedCurveAfter=n,e.roundedCurveCorner=void 0,this.roundedCurves.push(n)}_update(e=!0){var t;if(this.curves=[],this.roundedCurves=[],!this.points.length)return;for(let e=0,t=this.points.length;e<t;e++){let t=this.points[e];if(0===e)this.moveTo(t.position.x,t.position.y);else{let r=this.points[e-1];this._applyCurveForPoint(t,r)}}let r=this.getLastPoint();if((null==r?void 0:r.curveAfter)&&(r.curveAfter=void 0),this.isClosed){let e=this.points[0],t=this.points[this.points.length-1];this._applyCurveForPoint(e,t)}if(this.points.length>2){let e=0;for(let t=0,r=this.points.length;t<r;t++){let r=this.points[t],n=r.roundness;if(!r.controlsMoved()&&n>0){let i=r.curveBefore,a=r.curveAfter;if(void 0===i||void 0===a)continue;let o,s=r.roundedCurveBefore,c=r.roundedCurveAfter,l=i.getLength(),d=a.getLength(),u=Math.min(n,.499*l),h=Math.min(n,.499*d),f=Math.min(u,h),p=1-f/l,m=f/d,v=i.getPointAt(p,$303979faefae2a64$var$kg),$=a.getPointAt(m,$303979faefae2a64$var$TO);if(this._subSplitCurve(i,s,p,v,void 0),this._subSplitCurve(a,c,m,void 0,$),this.useCubicForRoundedCorners){let e=$303979faefae2a64$export$4a9bc526d08974a4(v,r.position,$)/2,t=Math.tan(e)*v.distanceTo(r.position),[n,i]=$303979faefae2a64$var$UM(v,$,t,$303979faefae2a64$var$EO,$303979faefae2a64$var$CO),a=$303979faefae2a64$export$af02b8e3ecf08df4(n,i,r.position),[s,c]=$303979faefae2a64$var$zM(a,v,$,t,$303979faefae2a64$var$LO,$303979faefae2a64$var$PO);o=new(0,$ilwiq.CubicBezierCurve)(v.clone(),s.clone(),c.clone(),$.clone())}else o=new(0,$ilwiq.QuadraticBezierCurve)(v.clone(),r.position.clone(),$.clone());r.roundedCurveCorner=o,this.roundedCurves.splice(t+e,0,o),e++}}}e&&(null==(t=this.eventDispatcher)||t.dispatchEvent({type:"update"}))}_subSplitCurve(e,t,r,n,i){if(!(e instanceof $ilwiq.LineCurve)){let a=e,o=t,s=a.getUtoTmapping(r,0),c=$303979faefae2a64$var$kM(a.v0,a.v1,a.v2,a.v3,s);return void 0!==n&&(o.v0.set(c[0],c[1]),o.v1.set(c[2],c[3]),o.v2.set(c[4],c[5]),o.v3.set(c[6],c[7])),void 0!==i&&(o.v0.set(c[6],c[7]),o.v1.set(c[8],c[9]),o.v2.set(c[10],c[11]),o.v3.set(c[12],c[13])),o}return void 0!==n&&t.v2.copy(n),void 0!==i&&t.v1.copy(i),t}clone(){let e=new $303979faefae2a64$export$2e2bcd8739ae039(this._width,this._height);return e.points=this.points.map((e=>e.clone())),e.isClosed=this.isClosed,e.roundness=this.roundness,e.isMesh2D=this.isMesh2D,e.shapeHoles=this.shapeHoles.map((e=>e.clone())),e}toJSON(){return{points:this.points.reduce(((e,t)=>e.concat(t.toJSON())),[]),shapeHoles:this.shapeHoles.map((e=>e.toJSON())),isClosed:this.isClosed,roundness:this.roundness}}fromJSON(e){var t;this.points=[],this.pointIDs=0;let r=e.points.length/7;for(let t=0;t<r;t++){let r=7*t,n=e.points[r+0],i=e.points[r+1],a=e.points[r+2],o=e.points[r+3],s=e.points[r+4],c=e.points[r+5],l=e.points[r+6],d=new $76a122765cb18b49$export$baf26146a414f24a($ilwiq.MathUtils.generateUUID(),new(0,$ilwiq.Vector2)(n,i));d.controls[0].position.set(a,o),d.controls[1].position.set(s,c),d.roundness=l,this.points.push(d)}return this.shapeHoles=(null==(t=e.shapeHoles)?void 0:t.length)?e.shapeHoles.map((e=>{let t=new $303979faefae2a64$export$2e2bcd8739ae039;return t.fromJSON(e),t})):[],this.isClosed=e.isClosed,this._roundness=e.roundness,this._update(),this}fromShape(e){let t=(e,t)=>{t instanceof $ilwiq.CubicBezierCurve&&t.v3.equals(e.position)&&e.controls[0].position.copy(t.v2)};return this.points=(e=>{let r,n,i=[];for(r=0,n=e.length;r<n;r++)e[r]instanceof $ilwiq.QuadraticBezierCurve&&(e[r]=$303979faefae2a64$var$FM(e[r]));for(r=0,n=e.length;r<n;r++){let n,a=e[r],o=r>0?e[r-1]:null;a instanceof $ilwiq.CubicBezierCurve?(n=this.createPoint(a.v0),n.controls[1].position.copy(a.v1)):a instanceof $ilwiq.LineCurve&&(n=this.createPoint(a.v1)),void 0!==n&&(null!==o&&t(n,o),i.push(n))}let a=e[e.length-1],o=!1;return a instanceof $ilwiq.CubicBezierCurve?a.v3.equals(i[0].position)&&(i[0].controls[0].position.copy(a.v2),o=!0):a instanceof $ilwiq.LineCurve&&a.v2.equals(i[0].position)&&(o=!0),this.isClosed=o,i})(e.curves),e instanceof $ilwiq.Shape&&(this.shapeHoles=e.holes.map((e=>{let t=new $303979faefae2a64$export$2e2bcd8739ae039;return t.fromShape(e),t}))),this.update(),this}}class $62d72ba884266636$export$6a1b7c4373126e72{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,n,i,a,o,s,c;let l=Object.assign({},null!=(r=null==t?void 0:t.parameters)?r:{width:100,subdivisions:40,roundness:0,extrudeDepth:0,surfaceMaxCount:100,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters),d=Math.abs(l.width),u=Math.abs(null!=(n=l.height)?n:l.width),h=Math.abs(void 0!==l.depth&&0===l.depth&&l.extrudeDepth>0?l.extrudeDepth:null!=(i=l.depth)?i:0),f=null!=(a=e.shape)?a:null==t?void 0:t.shape,p=null!=(o=null==f?void 0:f.roundness)?o:l.roundness;void 0!==f&&(f instanceof $303979faefae2a64$export$2e2bcd8739ae039?(f.width!==d||f.height!==u)&&f.applySize(d,u):f=new $303979faefae2a64$export$2e2bcd8739ae039(d,u).fromJSON(f),void 0!==(null==(s=e.parameters)?void 0:s.roundness)&&(null==(c=e.parameters)?void 0:c.roundness)>0&&f.update(!1));let m=null!=f?f:new $303979faefae2a64$export$2e2bcd8739ae039(d,u);return{parameters:Object.assign(l,{width:d,height:u,depth:h,extrudeDepth:h,roundness:p}),shape:m}}static build(e){let t,{extrudeDepth:r,extrudeBevelSize:n,extrudeBevelSegments:i,subdivisions:a,roundness:o,surfaceMaxCount:s}=e.parameters;return e.shape.roundness=o,t=r<=0?new $22f8397078a03bca$export$125740beb827f712(e.shape,a,s):new $22f8397078a03bca$export$f818ecd8e1315481(e.shape,r,n,a,i),Object.assign(t,{userData:{...e,type:"VectorGeometry"}})}}var $ilwiq=parcelRequire("ilwiq");let $c691c49ccd5f4170$var$Vg=2*Math.PI;function $c691c49ccd5f4170$var$vl(e,t){return new $76a122765cb18b49$export$baf26146a414f24a($ilwiq.MathUtils.generateUUID(),new(0,$ilwiq.Vector2)(e,t))}function $c691c49ccd5f4170$var$Hg({x:e,y:t},r,n,i,a){return{x:e*r+i,y:t*n+a}}function $c691c49ccd5f4170$var$r1(e,t,r,n){let i=n*t/100,a=i*(Math.abs(r)/Math.abs(t)),o=new(0,$ilwiq.Vector2)(i/t,a/r),s=e.points.map((e=>{let t=e.clone();return t.uuid=$ilwiq.MathUtils.generateUUID(),t})).reverse();return s.forEach((e=>{e.position.multiply(o);let t=e.controls[0].position.clone().multiply(o),r=e.controls[1].position.clone().multiply(o);e.controls[0].position.copy(r),e.controls[1].position.copy(t)})),s}function $c691c49ccd5f4170$var$t1(e,t,r,n){let i=$c691c49ccd5f4170$var$r1(e,t,r,n),a=new $303979faefae2a64$export$2e2bcd8739ae039;i.forEach((e=>a.addPoint(e))),a.isClosed=!0,e.shapeHoles.push(a)}function $c691c49ccd5f4170$var$hf(e,t,r,n,i,a){let o=$c691c49ccd5f4170$var$vl(e,t);return o.controls[0].position.set(r,n),o.controls[1].position.set(i,a),o}function $c691c49ccd5f4170$var$GO(e,t,r,n=0,i=0,a=0){let o=.5522847498,s=t*o,c=r*o;e.addPoint($c691c49ccd5f4170$var$hf(i-t,a,i-t,a-c,i-t,a+c)),e.addPoint($c691c49ccd5f4170$var$hf(i,a+r,i-s,a+r,i+s,a+r)),e.addPoint($c691c49ccd5f4170$var$hf(i+t,a,i+t,a+c,i+t,a-c)),e.addPoint($c691c49ccd5f4170$var$hf(i,a-r,i+s,a-r,i-s,a-r)),n>0&&$c691c49ccd5f4170$var$t1(e,t,r,n)}function $c691c49ccd5f4170$var$$M(e,t,r,n,i,a){let o=-t/r;for(let t=0;t<=r;t++){let r=o*t,a=Math.sin(r)*n,s=Math.cos(r)*i;e.addPoint($c691c49ccd5f4170$var$vl(a,s))}return t<2*Math.PI?a>0?$c691c49ccd5f4170$var$e1(e,n,i,a):e.addPoint($c691c49ccd5f4170$var$vl(0,0)):(e.removePoint(e.points[e.points.length-1]),a>0&&$c691c49ccd5f4170$var$t1(e,n,i,a)),1}function $c691c49ccd5f4170$export$fe81c0b6cf107daf(e,t){let r=1.5707963267948966===t?.551915024494:-1.5707963267948966===t?-.551915024494:4/3*Math.tan(t/4),n=Math.cos(e),i=Math.sin(e),a=Math.cos(e+t),o=Math.sin(e+t);return[{x:n-i*r,y:i+n*r},{x:a+o*r,y:o-a*r},{x:a,y:o}]}function $c691c49ccd5f4170$var$WM(e,t,r,n){let i=e*n-t*r<0?-1:1,a=Math.min(1,Math.max(-1,e*r+t*n));return i*Math.acos(a)}function $c691c49ccd5f4170$var$IO(e,t,r,n,i,a,o,s,c,l){let d=Math.pow(i,2),u=Math.pow(a,2),h=Math.pow(o,2),f=Math.pow(s,2),p=d*u-d*f-u*h;p<0&&(p=0),p/=d*f+u*h,p=Math.sqrt(p)*(c===l?-1:1);let m=p*i/a*s,v=p*-a/i*o,$=m+(e+r)/2,g=v+(t+n)/2,b=(o-m)/i,x=(s-v)/a,y=(-o-m)/i,w=(-s-v)/a,_=$c691c49ccd5f4170$var$WM(1,0,b,x),S=$c691c49ccd5f4170$var$WM(b,x,y,w);return!l&&S>0&&(S-=$c691c49ccd5f4170$var$Vg),l&&S<0&&(S+=$c691c49ccd5f4170$var$Vg),{centerx:$,centery:g,ang1:_,ang2:S}}function $c691c49ccd5f4170$var$qM({px:e,py:t,cx:r,cy:n,rx:i,ry:a,largeArcFlag:o,sweepFlag:s}){let c=[];if(0===i||0===a)return[];let l=(e-r)/2,d=(t-n)/2;if(0===l&&0===d)return[];i=Math.abs(i),a=Math.abs(a);let u=Math.pow(l,2)/Math.pow(i,2)+Math.pow(d,2)/Math.pow(a,2);u>1&&(i*=Math.sqrt(u),a*=Math.sqrt(u));let h=$c691c49ccd5f4170$var$IO(e,t,r,n,i,a,l,d,o,s),{ang1:f,ang2:p}=h,{centerx:m,centery:v}=h,$=Math.abs(p)/($c691c49ccd5f4170$var$Vg/4);Math.abs(1-$)<1e-7&&($=1);let g=Math.max(Math.ceil($),1);p/=g;for(let e=0;e<g;e++)c.push($c691c49ccd5f4170$export$fe81c0b6cf107daf(f,p)),f+=p;return c.map((e=>{let{x:t,y:r}=$c691c49ccd5f4170$var$Hg(e[0],i,a,m,v),{x:n,y:o}=$c691c49ccd5f4170$var$Hg(e[1],i,a,m,v),{x:s,y:c}=$c691c49ccd5f4170$var$Hg(e[2],i,a,m,v);return{x1:t,y1:r,x2:n,y2:o,x:s,y:c}}))}function $c691c49ccd5f4170$var$e1(e,t,r,n){$c691c49ccd5f4170$var$r1(e,t,r,n).forEach((t=>e.addPoint(t)))}function $c691c49ccd5f4170$var$UO(e,t,r,n,i,a,o,s){let c=Math.round(i/n.length);e.addPoint($c691c49ccd5f4170$var$vl(t,r));for(let t=0,r=n.length;t<r;t++){let r=n[t],i=e.points[t],a=$c691c49ccd5f4170$var$vl(r.x,r.y);i.controls[1].position.set(r.x1,r.y1),a.controls[0].position.set(r.x2,r.y2),e.addPoint(a)}return s>0?$c691c49ccd5f4170$var$e1(e,a,o,s):e.addPoint($c691c49ccd5f4170$var$vl(0,0)),c}function $c691c49ccd5f4170$var$subdivisions(e,t,r,n,i,a){if(n>=2*Math.PI)return i>30||i%4==0?($c691c49ccd5f4170$var$GO(e,t,r,a),Math.round(i/4)):$c691c49ccd5f4170$var$$M(e,n,i,t,r,a);let o={x:0,y:r},s=n+.5*Math.PI,c={x:Math.cos(s)*t,y:Math.sin(s)*r},l=$c691c49ccd5f4170$var$qM({px:o.x,py:o.y,cx:c.x,cy:c.y,rx:t,ry:r,largeArcFlag:n>Math.PI,sweepFlag:!0});return i>30||i%l.length==0?$c691c49ccd5f4170$var$UO(e,o.x,o.y,l,i,t,r,a):$c691c49ccd5f4170$var$$M(e,n,i,t,r,a)}class $c691c49ccd5f4170$export$1fa2d59341c2367{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,n,i;let a=Object.assign({},null!=(r=null==t?void 0:t.parameters)?r:{width:100,depth:0,spikes:64,angle:360,innerRadius:0,extrudeDepth:0,extrudeBevelSize:0,extrudeBevelSegments:1,surfaceMaxCount:1e3},e.parameters);return{shape:e.shape&&e.shape instanceof $303979faefae2a64$export$2e2bcd8739ae039?e.shape:new $303979faefae2a64$export$2e2bcd8739ae039,parameters:Object.assign(a,{width:Math.abs(a.width),height:Math.abs(null!=(n=a.height)?n:a.width),depth:Math.abs(void 0!==a.depth&&0===a.depth&&a.extrudeDepth>0?a.extrudeDepth:null!=(i=a.depth)?i:0)})}}static build(e){let{width:t,height:r,spikes:n,angle:i,innerRadius:a,depth:o,extrudeBevelSize:s,extrudeBevelSegments:c,surfaceMaxCount:l}=e.parameters,d=e.shape,u=$c691c49ccd5f4170$var$subdivisions(d,.5*t,.5*r,i*Math.PI/180,n,a);d.isClosed=!0,d.update();let h=$62d72ba884266636$export$6a1b7c4373126e72.create({shape:d,parameters:{subdivisions:u,surfaceMaxCount:l,depth:o,extrudeBevelSize:s,extrudeBevelSegments:c}});return Object.assign(h,{userData:{...e,type:"EllipseGeometry"}})}}class $06931adafac28614$export$e28ccfad1d6e731a{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,n,i;let a=Object.assign({},null!=(r=null==t?void 0:t.parameters)?r:{width:100,revolutions:2,segments:40,pathRadius:10,pathType:0,pathSegments:30,cornerRadius:30,cornerSegments:4},e.parameters),o=Math.abs(a.width),s=Math.abs(null!=(n=a.height)?n:o),c=Math.abs(null!=(i=a.depth)?i:o),l=Math.abs(Math.min(o,c))/2;return{parameters:Object.assign(a,{width:o,height:s,depth:c,radius:l,segments:Math.round(a.segments),pathSegments:Math.round(a.pathSegments),cornerSegments:Math.round(a.cornerSegments)})}}static build(e){let{width:t,height:r,depth:n,radius:i,revolutions:a,segments:o,pathRadius:s,pathType:c,pathSegments:l,cornerRadius:d,cornerSegments:u}=e.parameters,h=new $22f8397078a03bca$export$f9a2b42cd5925f5b(!1,t,r,n,i,a,o,s,c,l,d,u);return Object.assign(h,{userData:{...e,type:"HelixGeometry"}})}}var $ilwiq=parcelRequire("ilwiq");class $8fdedfb8e5c0276e$export$9567cc828c9535da{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,n,i;let a=Object.assign({},null!=(r=null==t?void 0:t.parameters)?r:{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(a,{width:Math.abs(a.width),height:Math.abs(null!=(n=a.height)?n:a.width),depth:Math.abs(null!=(i=a.depth)?i:a.width)})}}static build(e){let{width:t,height:r,depth:n,detail:i,corner:a,cornerSides:o}=e.parameters,s=0===i&&0!==a?new $2ed4e98258d0856d$export$e33841a6d69dfd92(.5*t,a,o):new(0,$ilwiq.IcosahedronGeometry)(.5*t,i);return s.scale(1,r/t,n/t),Object.assign(s,{userData:{...e,type:"IcosahedronGeometry"}})}}var $ilwiq=parcelRequire("ilwiq");class $fdf19a964123a9b1$export$6d839803fcd1882c{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,n,i,a,o;(null!=(n=null==(r=e.parameters)?void 0:r.points)?n:[]).forEach((e=>{Array.isArray(e)&&(e.x=e[0],e.y=e[1])}));let s=Object.assign({},null!=(i=null==t?void 0:t.parameters)?i:{width:100,segments:64,verticalSegments:64,points:[{x:0,y:-50,id:0},{x:50,y:-50,id:1},{x:50,y:50,id:2},{x:0,y:50,id:3}]},e.parameters);return{parameters:Object.assign(s,{width:Math.abs(s.width),height:Math.abs(null!=(a=s.height)?a:s.width),depth:Math.abs(null!=(o=s.depth)?o:s.width)})}}static build(e){let{points:t,segments:r,verticalSegments:n}=e.parameters,i=new(0,$ilwiq.Shape);i.moveTo(t[0].x,t[0].y),i.bezierCurveTo(t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y);let a=new(0,$ilwiq.LatheGeometry)(i.extractPoints(n).shape,r);return a.rotateZ(Math.PI),Object.assign(a,{userData:{...e,type:"LatheGeometry"}})}}var $ilwiq=parcelRequire("ilwiq"),$ilwiq=parcelRequire("ilwiq"),$ilwiq=parcelRequire("ilwiq");const $a2d749ec45817f5a$var$_m1=new(0,$ilwiq.Matrix4),$a2d749ec45817f5a$var$_obj=new(0,$ilwiq.Object3D),$a2d749ec45817f5a$var$_offset=new(0,$ilwiq.Vector3);class $a2d749ec45817f5a$export$2db6c17465f94a2 extends $ilwiq.EventDispatcher{constructor(){super(),this.uuid=$ilwiq.MathUtils.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}applyMatrix4(e){const t=(new(0,$ilwiq.Matrix3)).getNormalMatrix(e);for(let t=0,r=this.vertices.length;t<r;t++){this.vertices[t].applyMatrix4(e)}for(let e=0,r=this.faces.length;e<r;e++){const r=this.faces[e];r.normal.applyMatrix3(t).normalize();for(let e=0,n=r.vertexNormals.length;e<n;e++)r.vertexNormals[e].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this}rotateX(e){return $a2d749ec45817f5a$var$_m1.makeRotationX(e),this.applyMatrix4($a2d749ec45817f5a$var$_m1),this}rotateY(e){return $a2d749ec45817f5a$var$_m1.makeRotationY(e),this.applyMatrix4($a2d749ec45817f5a$var$_m1),this}rotateZ(e){return $a2d749ec45817f5a$var$_m1.makeRotationZ(e),this.applyMatrix4($a2d749ec45817f5a$var$_m1),this}translate(e,t,r){return $a2d749ec45817f5a$var$_m1.makeTranslation(e,t,r),this.applyMatrix4($a2d749ec45817f5a$var$_m1),this}scale(e,t,r){return $a2d749ec45817f5a$var$_m1.makeScale(e,t,r),this.applyMatrix4($a2d749ec45817f5a$var$_m1),this}lookAt(e){return $a2d749ec45817f5a$var$_obj.lookAt(e),$a2d749ec45817f5a$var$_obj.updateMatrix(),this.applyMatrix4($a2d749ec45817f5a$var$_obj.matrix),this}fromBufferGeometry(e){const t=this,r=null!==e.index?e.index:void 0,n=e.attributes;if(void 0===n.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const i=n.position,a=n.normal,o=n.color,s=n.uv,c=n.uv2;void 0!==c&&(this.faceVertexUvs[1]=[]);for(let e=0;e<i.count;e++)t.vertices.push((new(0,$ilwiq.Vector3)).fromBufferAttribute(i,e)),void 0!==o&&t.colors.push((new(0,$ilwiq.Color)).fromBufferAttribute(o,e));function l(e,r,n,i){const l=void 0===o?[]:[t.colors[e].clone(),t.colors[r].clone(),t.colors[n].clone()],d=void 0===a?[]:[(new(0,$ilwiq.Vector3)).fromBufferAttribute(a,e),(new(0,$ilwiq.Vector3)).fromBufferAttribute(a,r),(new(0,$ilwiq.Vector3)).fromBufferAttribute(a,n)],u=new $a2d749ec45817f5a$export$32da1b4b0a8c9982(e,r,n,d,l,i);t.faces.push(u),void 0!==s&&t.faceVertexUvs[0].push([(new(0,$ilwiq.Vector2)).fromBufferAttribute(s,e),(new(0,$ilwiq.Vector2)).fromBufferAttribute(s,r),(new(0,$ilwiq.Vector2)).fromBufferAttribute(s,n)]),void 0!==c&&t.faceVertexUvs[1].push([(new(0,$ilwiq.Vector2)).fromBufferAttribute(c,e),(new(0,$ilwiq.Vector2)).fromBufferAttribute(c,r),(new(0,$ilwiq.Vector2)).fromBufferAttribute(c,n)])}const d=e.groups;if(d.length>0)for(let e=0;e<d.length;e++){const t=d[e],n=t.start;for(let e=n,i=n+t.count;e<i;e+=3)void 0!==r?l(r.getX(e),r.getX(e+1),r.getX(e+2),t.materialIndex):l(e,e+1,e+2,t.materialIndex)}else if(void 0!==r)for(let e=0;e<r.count;e+=3)l(r.getX(e),r.getX(e+1),r.getX(e+2));else for(let e=0;e<i.count;e+=3)l(e,e+1,e+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter($a2d749ec45817f5a$var$_offset).negate(),this.translate($a2d749ec45817f5a$var$_offset.x,$a2d749ec45817f5a$var$_offset.y,$a2d749ec45817f5a$var$_offset.z),this}normalize(){this.computeBoundingSphere();const e=this.boundingSphere.center,t=this.boundingSphere.radius,r=0===t?1:1/t,n=new(0,$ilwiq.Matrix4);return n.set(r,0,0,-r*e.x,0,r,0,-r*e.y,0,0,r,-r*e.z,0,0,0,1),this.applyMatrix4(n),this}computeFaceNormals(){const e=new(0,$ilwiq.Vector3),t=new(0,$ilwiq.Vector3);for(let r=0,n=this.faces.length;r<n;r++){const n=this.faces[r],i=this.vertices[n.a],a=this.vertices[n.b],o=this.vertices[n.c];e.subVectors(o,a),t.subVectors(i,a),e.cross(t),e.normalize(),n.normal.copy(e)}}computeVertexNormals(e=!0){const t=new Array(this.vertices.length);for(let e=0,r=this.vertices.length;e<r;e++)t[e]=new(0,$ilwiq.Vector3);if(e){const e=new(0,$ilwiq.Vector3),r=new(0,$ilwiq.Vector3);for(let n=0,i=this.faces.length;n<i;n++){const i=this.faces[n],a=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,o),r.subVectors(a,o),e.cross(r),t[i.a].add(e),t[i.b].add(e),t[i.c].add(e)}}else{this.computeFaceNormals();for(let e=0,r=this.faces.length;e<r;e++){const r=this.faces[e];t[r.a].add(r.normal),t[r.b].add(r.normal),t[r.c].add(r.normal)}}for(let e=0,r=this.vertices.length;e<r;e++)t[e].normalize();for(let e=0,r=this.faces.length;e<r;e++){const r=this.faces[e],n=r.vertexNormals;3===n.length?(n[0].copy(t[r.a]),n[1].copy(t[r.b]),n[2].copy(t[r.c])):(n[0]=t[r.a].clone(),n[1]=t[r.b].clone(),n[2]=t[r.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeFlatVertexNormals(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){const t=this.faces[e],r=t.vertexNormals;3===r.length?(r[0].copy(t.normal),r[1].copy(t.normal),r[2].copy(t.normal)):(r[0]=t.normal.clone(),r[1]=t.normal.clone(),r[2]=t.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeMorphNormals(){for(let e=0,t=this.faces.length;e<t;e++){const t=this.faces[e];t.__originalFaceNormal?t.__originalFaceNormal.copy(t.normal):t.__originalFaceNormal=t.normal.clone(),t.__originalVertexNormals||(t.__originalVertexNormals=[]);for(let e=0,r=t.vertexNormals.length;e<r;e++)t.__originalVertexNormals[e]?t.__originalVertexNormals[e].copy(t.vertexNormals[e]):t.__originalVertexNormals[e]=t.vertexNormals[e].clone()}const e=new $a2d749ec45817f5a$export$2db6c17465f94a2;e.faces=this.faces;for(let t=0,r=this.morphTargets.length;t<r;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];const e=this.morphNormals[t].faceNormals,r=this.morphNormals[t].vertexNormals;for(let t=0,n=this.faces.length;t<n;t++){const t=new(0,$ilwiq.Vector3),n={a:new(0,$ilwiq.Vector3),b:new(0,$ilwiq.Vector3),c:new(0,$ilwiq.Vector3)};e.push(t),r.push(n)}}const r=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let e=0,t=this.faces.length;e<t;e++){const t=this.faces[e],n=r.faceNormals[e],i=r.vertexNormals[e];n.copy(t.normal),i.a.copy(t.vertexNormals[0]),i.b.copy(t.vertexNormals[1]),i.c.copy(t.vertexNormals[2])}}for(let e=0,t=this.faces.length;e<t;e++){const t=this.faces[e];t.normal=t.__originalFaceNormal,t.vertexNormals=t.__originalVertexNormals}}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new(0,$ilwiq.Box3)),this.boundingBox.setFromPoints(this.vertices)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new(0,$ilwiq.Sphere)),this.boundingSphere.setFromPoints(this.vertices)}merge(e,t,r=0){if(!e||!e.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);let n;const i=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,c=e.faces,l=this.colors,d=e.colors;void 0!==t&&(n=(new(0,$ilwiq.Matrix3)).getNormalMatrix(t));for(let e=0,r=o.length;e<r;e++){const r=o[e].clone();void 0!==t&&r.applyMatrix4(t),a.push(r)}for(let e=0,t=d.length;e<t;e++)l.push(d[e].clone());for(let e=0,t=c.length;e<t;e++){const t=c[e];let a,o;const l=t.vertexNormals,d=t.vertexColors,u=new $a2d749ec45817f5a$export$32da1b4b0a8c9982(t.a+i,t.b+i,t.c+i);u.normal.copy(t.normal),void 0!==n&&u.normal.applyMatrix3(n).normalize();for(let e=0,t=l.length;e<t;e++)a=l[e].clone(),void 0!==n&&a.applyMatrix3(n).normalize(),u.vertexNormals.push(a);u.color.copy(t.color);for(let e=0,t=d.length;e<t;e++)o=d[e],u.vertexColors.push(o.clone());u.materialIndex=t.materialIndex+r,s.push(u)}for(let t=0,r=e.faceVertexUvs.length;t<r;t++){const r=e.faceVertexUvs[t];void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]);for(let e=0,n=r.length;e<n;e++){const n=r[e],i=[];for(let e=0,t=n.length;e<t;e++)i.push(n[e].clone());this.faceVertexUvs[t].push(i)}}}mergeMesh(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)}mergeVertices(e=4){const t={},r=[],n=[],i=Math.pow(10,e);for(let e=0,a=this.vertices.length;e<a;e++){const a=this.vertices[e],o=Math.round(a.x*i)+"_"+Math.round(a.y*i)+"_"+Math.round(a.z*i);void 0===t[o]?(t[o]=e,r.push(this.vertices[e]),n[e]=r.length-1):n[e]=n[t[o]]}const a=[];for(let e=0,t=this.faces.length;e<t;e++){const t=this.faces[e];t.a=n[t.a],t.b=n[t.b],t.c=n[t.c];const r=[t.a,t.b,t.c];for(let t=0;t<3;t++)if(r[t]===r[(t+1)%3]){a.push(e);break}}for(let e=a.length-1;e>=0;e--){const t=a[e];this.faces.splice(t,1);for(let e=0,r=this.faceVertexUvs.length;e<r;e++)this.faceVertexUvs[e].splice(t,1)}const o=this.vertices.length-r.length;return this.vertices=r,o}setFromPoints(e){this.vertices=[];for(let t=0,r=e.length;t<r;t++){const r=e[t];this.vertices.push(new(0,$ilwiq.Vector3)(r.x,r.y,r.z||0))}return this}sortFacesByMaterialIndex(){const e=this.faces,t=e.length;for(let r=0;r<t;r++)e[r]._id=r;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));const r=this.faceVertexUvs[0],n=this.faceVertexUvs[1];let i,a;r&&r.length===t&&(i=[]),n&&n.length===t&&(a=[]);for(let o=0;o<t;o++){const t=e[o]._id;i&&i.push(r[t]),a&&a.push(n[t])}i&&(this.faceVertexUvs[0]=i),a&&(this.faceVertexUvs[1]=a)}toJSON(){const e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){const t=this.parameters;for(const r in t)void 0!==t[r]&&(e[r]=t[r]);return e}const t=[];for(let e=0;e<this.vertices.length;e++){const r=this.vertices[e];t.push(r.x,r.y,r.z)}const r=[],n=[],i={},a=[],o={},s=[],c={};for(let e=0;e<this.faces.length;e++){const t=this.faces[e],n=!0,i=!1,a=void 0!==this.faceVertexUvs[0][e],o=t.normal.length()>0,s=t.vertexNormals.length>0,c=1!==t.color.r||1!==t.color.g||1!==t.color.b,f=t.vertexColors.length>0;let p=0;if(p=l(p,0,0),p=l(p,1,n),p=l(p,2,i),p=l(p,3,a),p=l(p,4,o),p=l(p,5,s),p=l(p,6,c),p=l(p,7,f),r.push(p),r.push(t.a,t.b,t.c),r.push(t.materialIndex),a){const t=this.faceVertexUvs[0][e];r.push(h(t[0]),h(t[1]),h(t[2]))}if(o&&r.push(d(t.normal)),s){const e=t.vertexNormals;r.push(d(e[0]),d(e[1]),d(e[2]))}if(c&&r.push(u(t.color)),f){const e=t.vertexColors;r.push(u(e[0]),u(e[1]),u(e[2]))}}function l(e,t,r){return r?e|1<<t:e&~(1<<t)}function d(e){const t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==i[t]||(i[t]=n.length/3,n.push(e.x,e.y,e.z)),i[t]}function u(e){const t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==o[t]||(o[t]=a.length,a.push(e.getHex())),o[t]}function h(e){const t=e.x.toString()+e.y.toString();return void 0!==c[t]||(c[t]=s.length/2,s.push(e.x,e.y)),c[t]}return e.data={},e.data.vertices=t,e.data.normals=n,a.length>0&&(e.data.colors=a),s.length>0&&(e.data.uvs=[s]),e.data.faces=r,e}clone(){return(new $a2d749ec45817f5a$export$2db6c17465f94a2).copy(this)}copy(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;const t=e.vertices;for(let e=0,r=t.length;e<r;e++)this.vertices.push(t[e].clone());const r=e.colors;for(let e=0,t=r.length;e<t;e++)this.colors.push(r[e].clone());const n=e.faces;for(let e=0,t=n.length;e<t;e++)this.faces.push(n[e].clone());for(let t=0,r=e.faceVertexUvs.length;t<r;t++){const r=e.faceVertexUvs[t];void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]);for(let e=0,n=r.length;e<n;e++){const n=r[e],i=[];for(let e=0,t=n.length;e<t;e++){const t=n[e];i.push(t.clone())}this.faceVertexUvs[t].push(i)}}const i=e.morphTargets;for(let e=0,t=i.length;e<t;e++){const t={};if(t.name=i[e].name,void 0!==i[e].vertices){t.vertices=[];for(let r=0,n=i[e].vertices.length;r<n;r++)t.vertices.push(i[e].vertices[r].clone())}if(void 0!==i[e].normals){t.normals=[];for(let r=0,n=i[e].normals.length;r<n;r++)t.normals.push(i[e].normals[r].clone())}this.morphTargets.push(t)}const a=e.morphNormals;for(let e=0,t=a.length;e<t;e++){const t={};if(void 0!==a[e].vertexNormals){t.vertexNormals=[];for(let r=0,n=a[e].vertexNormals.length;r<n;r++){const n=a[e].vertexNormals[r],i={};i.a=n.a.clone(),i.b=n.b.clone(),i.c=n.c.clone(),t.vertexNormals.push(i)}}if(void 0!==a[e].faceNormals){t.faceNormals=[];for(let r=0,n=a[e].faceNormals.length;r<n;r++)t.faceNormals.push(a[e].faceNormals[r].clone())}this.morphNormals.push(t)}const o=e.skinWeights;for(let e=0,t=o.length;e<t;e++)this.skinWeights.push(o[e].clone());const s=e.skinIndices;for(let e=0,t=s.length;e<t;e++)this.skinIndices.push(s[e].clone());const c=e.lineDistances;for(let e=0,t=c.length;e<t;e++)this.lineDistances.push(c[e]);const l=e.boundingBox;null!==l&&(this.boundingBox=l.clone());const d=e.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}toBufferGeometry(){const e=(new $a2d749ec45817f5a$var$DirectGeometry).fromGeometry(this),t=new(0,$ilwiq.BufferGeometry),r=new Float32Array(3*e.vertices.length);if(t.setAttribute("position",new(0,$ilwiq.BufferAttribute)(r,3).copyVector3sArray(e.vertices)),e.normals.length>0){const r=new Float32Array(3*e.normals.length);t.setAttribute("normal",new(0,$ilwiq.BufferAttribute)(r,3).copyVector3sArray(e.normals))}if(e.colors.length>0){const r=new Float32Array(3*e.colors.length);t.setAttribute("color",new(0,$ilwiq.BufferAttribute)(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){const r=new Float32Array(2*e.uvs.length);t.setAttribute("uv",new(0,$ilwiq.BufferAttribute)(r,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){const r=new Float32Array(2*e.uvs2.length);t.setAttribute("uv2",new(0,$ilwiq.BufferAttribute)(r,2).copyVector2sArray(e.uvs2))}t.groups=e.groups;for(const r in e.morphTargets){const n=[],i=e.morphTargets[r];for(let e=0,t=i.length;e<t;e++){const t=i[e],r=new(0,$ilwiq.Float32BufferAttribute)(3*t.data.length,3);r.name=t.name,n.push(r.copyVector3sArray(t.data))}t.morphAttributes[r]=n}if(e.skinIndices.length>0){const r=new(0,$ilwiq.Float32BufferAttribute)(4*e.skinIndices.length,4);t.setAttribute("skinIndex",r.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){const r=new(0,$ilwiq.Float32BufferAttribute)(4*e.skinWeights.length,4);t.setAttribute("skinWeight",r.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(t.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(t.boundingBox=e.boundingBox.clone()),t}computeTangents(){console.error("THREE.Geometry: .computeTangents() has been removed.")}computeLineDistances(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}applyMatrix(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}dispose(){this.dispatchEvent({type:"dispose"})}static createBufferGeometryFromObject(e){let t=new(0,$ilwiq.BufferGeometry);const r=e.geometry;if(e.isPoints||e.isLine){const e=new(0,$ilwiq.Float32BufferAttribute)(3*r.vertices.length,3),n=new(0,$ilwiq.Float32BufferAttribute)(3*r.colors.length,3);if(t.setAttribute("position",e.copyVector3sArray(r.vertices)),t.setAttribute("color",n.copyColorsArray(r.colors)),r.lineDistances&&r.lineDistances.length===r.vertices.length){const e=new(0,$ilwiq.Float32BufferAttribute)(r.lineDistances.length,1);t.setAttribute("lineDistance",e.copyArray(r.lineDistances))}null!==r.boundingSphere&&(t.boundingSphere=r.boundingSphere.clone()),null!==r.boundingBox&&(t.boundingBox=r.boundingBox.clone())}else e.isMesh&&(t=r.toBufferGeometry());return t}}$a2d749ec45817f5a$export$2db6c17465f94a2.prototype.isGeometry=!0;class $a2d749ec45817f5a$var$DirectGeometry{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(e){const t=[];let r,n,i;const a=e.faces;for(n=0;n<a.length;n++){const e=a[n];e.materialIndex!==i&&(i=e.materialIndex,void 0!==r&&(r.count=3*n-r.start,t.push(r)),r={start:3*n,materialIndex:i})}void 0!==r&&(r.count=3*n-r.start,t.push(r)),this.groups=t}fromGeometry(e){const t=e.faces,r=e.vertices,n=e.faceVertexUvs,i=n[0]&&n[0].length>0,a=n[1]&&n[1].length>0,o=e.morphTargets,s=o.length;let c;if(s>0){c=[];for(let e=0;e<s;e++)c[e]={name:o[e].name,data:[]};this.morphTargets.position=c}const l=e.morphNormals,d=l.length;let u;if(d>0){u=[];for(let e=0;e<d;e++)u[e]={name:l[e].name,data:[]};this.morphTargets.normal=u}const h=e.skinIndices,f=e.skinWeights,p=h.length===r.length,m=f.length===r.length;r.length>0&&0===t.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let e=0;e<t.length;e++){const v=t[e];this.vertices.push(r[v.a],r[v.b],r[v.c]);const $=v.vertexNormals;if(3===$.length)this.normals.push($[0],$[1],$[2]);else{const e=v.normal;this.normals.push(e,e,e)}const g=v.vertexColors;if(3===g.length)this.colors.push(g[0],g[1],g[2]);else{const e=v.color;this.colors.push(e,e,e)}if(!0===i){const t=n[0][e];void 0!==t?this.uvs.push(t[0],t[1],t[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",e),this.uvs.push(new(0,$ilwiq.Vector2),new(0,$ilwiq.Vector2),new(0,$ilwiq.Vector2)))}if(!0===a){const t=n[1][e];void 0!==t?this.uvs2.push(t[0],t[1],t[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",e),this.uvs2.push(new(0,$ilwiq.Vector2),new(0,$ilwiq.Vector2),new(0,$ilwiq.Vector2)))}for(let e=0;e<s;e++){const t=o[e].vertices;c[e].data.push(t[v.a],t[v.b],t[v.c])}for(let t=0;t<d;t++){const r=l[t].vertexNormals[e];u[t].data.push(r.a,r.b,r.c)}p&&this.skinIndices.push(h[v.a],h[v.b],h[v.c]),m&&this.skinWeights.push(f[v.a],f[v.b],f[v.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}}class $a2d749ec45817f5a$export$32da1b4b0a8c9982{constructor(e,t,r,n,i,a=0){this.a=e,this.b=t,this.c=r,this.normal=n&&n.isVector3?n:new(0,$ilwiq.Vector3),this.vertexNormals=Array.isArray(n)?n:[],this.color=i&&i.isColor?i:new(0,$ilwiq.Color),this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=a}clone(){return(new this.constructor).copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,r=e.vertexNormals.length;t<r;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,r=e.vertexColors.length;t<r;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}}var $d2c896ecae0b2829$var$zO=["a","b","c"];function $d2c896ecae0b2829$var$kO(e,t){switch(t){case"c":return e.c;case"b":return e.b;default:return e.a}}function $d2c896ecae0b2829$var$Xg(e,t,r){let n=Math.min(e,t)+"_"+Math.max(e,t);return r.get(n)}function $d2c896ecae0b2829$var$Yg(e,t,r,n,i,a){let o,s=Math.min(e,t),c=Math.max(e,t),l=s+"_"+c;if(n.has(l))o=n.get(l);else{o={a:r[s],b:r[c],newEdge:null,faces:[]},n.set(l,o)}o.faces.push(i),a[e].edges.push(o),a[t].edges.push(o)}function $d2c896ecae0b2829$var$VO(e,t,r,n){let i,a,o;for(i=0,a=e.length;i<a;i++)r[i]={edges:[]};for(i=0,a=t.length;i<a;i++)o=t[i],$d2c896ecae0b2829$var$Yg(o.a,o.b,e,n,o,r),$d2c896ecae0b2829$var$Yg(o.b,o.c,e,n,o,r),$d2c896ecae0b2829$var$Yg(o.c,o.a,e,n,o,r)}function $d2c896ecae0b2829$var$mf(e,t,r,n,i){e.push(new $a2d749ec45817f5a$export$32da1b4b0a8c9982(t,r,n,void 0,void 0,i))}function $d2c896ecae0b2829$var$bl(e,t){return Math.abs(t-e)/2+Math.min(e,t)}function $d2c896ecae0b2829$var$gf(e,t,r,n){e.push([t.clone(),r.clone(),n.clone()])}class $d2c896ecae0b2829$export$2e2bcd8739ae039{constructor(e=1){this.subdivisions=e}modify(e){(e=e instanceof $ilwiq.BufferGeometry?(new $a2d749ec45817f5a$export$2db6c17465f94a2).fromBufferGeometry(e):e.clone()).mergeVertices();let t=this.subdivisions;for(;t-- >0;)this._smooth(e);return e.computeFaceNormals(),e.computeVertexNormals(),e}_smooth(e){let t,r,n,i,a,o=new(0,$ilwiq.Vector3),s=e.vertices,c=e.faces,l=e.faceVertexUvs[0],d=void 0!==l&&l.length>0,u=[],h=new Map;$d2c896ecae0b2829$var$VO(s,c,u,h);let f,p,m,v,$,g,b,x=[];for(let e of Array.from(h.keys())){for(p=h.get(e),m=new(0,$ilwiq.Vector3),$=.375,g=.125,b=p.faces.length,2!=b&&($=.5,g=0),m.addVectors(p.a,p.b).multiplyScalar($),o.set(0,0,0),i=0;i<b;i++){for(v=p.faces[i],a=0;a<3&&(f=s[$d2c896ecae0b2829$var$kO(v,$d2c896ecae0b2829$var$zO[a])],f===p.a||f===p.b);a++);f&&o.add(f)}o.multiplyScalar(g),m.add(o),p.newEdge=x.length,x.push(m)}let y,w,_,S,T,M,E,A=[];for(r=0,n=s.length;r<n;r++){for(M=s[r],T=u[r].edges,t=T.length,3==t?y=.1875:t>3&&(y=3/(8*t)),w=1-t*Number(y),_=y,t<=2&&(2==t&&(w=.75,_=.125)),E=M.clone().multiplyScalar(w),o.set(0,0,0),i=0;i<t;i++)S=T[i],f=S.a!==M?S.a:S.b,o.add(f);o.multiplyScalar(Number(_)),E.add(o),A.push(E)}let C,L,R,P,D,O,I,N=A.concat(x),B=A.length,z=[],U=[],k=new(0,$ilwiq.Vector2),F=new(0,$ilwiq.Vector2),q=new(0,$ilwiq.Vector2);for(r=0,n=c.length;r<n;r++)v=c[r],C=Number($d2c896ecae0b2829$var$Xg(v.a,v.b,h).newEdge)+B,L=Number($d2c896ecae0b2829$var$Xg(v.b,v.c,h).newEdge)+B,R=Number($d2c896ecae0b2829$var$Xg(v.c,v.a,h).newEdge)+B,$d2c896ecae0b2829$var$mf(z,C,L,R,v.materialIndex),$d2c896ecae0b2829$var$mf(z,v.a,C,R,v.materialIndex),$d2c896ecae0b2829$var$mf(z,v.b,L,C,v.materialIndex),$d2c896ecae0b2829$var$mf(z,v.c,R,L,v.materialIndex),d&&(P=l[r],D=P[0],O=P[1],I=P[2],k.set($d2c896ecae0b2829$var$bl(D.x,O.x),$d2c896ecae0b2829$var$bl(D.y,O.y)),F.set($d2c896ecae0b2829$var$bl(O.x,I.x),$d2c896ecae0b2829$var$bl(O.y,I.y)),q.set($d2c896ecae0b2829$var$bl(D.x,I.x),$d2c896ecae0b2829$var$bl(D.y,I.y)),$d2c896ecae0b2829$var$gf(U,k,F,q),$d2c896ecae0b2829$var$gf(U,D,k,q),$d2c896ecae0b2829$var$gf(U,O,F,k),$d2c896ecae0b2829$var$gf(U,I,q,F));e.vertices=N,e.faces=z,d&&(e.faceVertexUvs[0]=U)}}let $57862b7df0459298$var$Dr=new(0,$ilwiq.Vector3);class $57862b7df0459298$export$d04ab59d215bca24{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,n;let i,a=null!=(n=null!=(r=e.geometry)?r:null==t?void 0:t.geometry)?n:(new(0,$ilwiq.BufferGeometry)).copy(new(0,$ilwiq.BoxGeometry)(100,100,100));void 0===t?(a.computeBoundingBox(),a.boundingBox.getSize($57862b7df0459298$var$Dr),i={width:$57862b7df0459298$var$Dr.x,height:$57862b7df0459298$var$Dr.y,depth:$57862b7df0459298$var$Dr.z,subdivisions:0}):i=t.parameters;let o={...i,...e.parameters};return{parameters:{width:Math.abs(o.width),height:Math.abs(o.height),depth:Math.abs(o.depth),subdivisions:Math.abs(o.subdivisions)},geometry:a}}static build(e){var t;let{width:r,height:n,depth:i,subdivisions:a}=e.parameters,o=null!=(t=e.geometry)?t:(new(0,$ilwiq.BufferGeometry)).copy(new(0,$ilwiq.BoxGeometry)(100,100,100)),s=o.userData.parameters;void 0===s?(o.computeBoundingBox(),o.boundingBox.getSize($57862b7df0459298$var$Dr)):$57862b7df0459298$var$Dr.set(s.width,s.height,s.depth),(r!==$57862b7df0459298$var$Dr.x||n!==$57862b7df0459298$var$Dr.y||i!==$57862b7df0459298$var$Dr.z)&&o.scale(0===$57862b7df0459298$var$Dr.x?1:r/$57862b7df0459298$var$Dr.x,0===$57862b7df0459298$var$Dr.y?1:n/$57862b7df0459298$var$Dr.y,0===$57862b7df0459298$var$Dr.z?1:i/$57862b7df0459298$var$Dr.z);let c=o.originalGeometry;return a>0?(void 0===c||(null==s?void 0:s.subdivisions)!==a)&&(void 0===c&&(c=o),o=new $d2c896ecae0b2829$export$2e2bcd8739ae039(a).modify(c).toBufferGeometry()):(void 0!==c&&(o=c),c=void 0,void 0===o.getAttribute("normal")&&o.computeVertexNormals()),void 0!==c&&Object.assign(o,{originalGeometry:c}),delete e.geometry,Object.assign(o,{userData:{...e,type:"NonParametricGeometry"}})}static loadFromUrl(e,t,r){new(0,$ilwiq.BufferGeometryLoader)(r).load(e,(e=>{let r=this.normalizeInputs({geometry:e});e.boundingBox.getSize($57862b7df0459298$var$Dr);let n=100/$57862b7df0459298$var$Dr.x;Object.assign(r.parameters,{width:100,height:$57862b7df0459298$var$Dr.y*n,depth:$57862b7df0459298$var$Dr.z*n}),t(this.build(r))}))}}class $f78130b4e9e29bef$export$30fc354dea0a5c2a{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,n,i,a;let o=Object.assign({},null!=(r=null==t?void 0:t.parameters)?r:{width:100,depth:0,spikes:5,cornerRadius:0,extrudeDepth:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters);return{shape:e.shape&&e.shape instanceof $303979faefae2a64$export$2e2bcd8739ae039?e.shape:new $303979faefae2a64$export$2e2bcd8739ae039,parameters:Object.assign(o,{surfaceMaxCount:(null!=(n=o.surfaceMaxCount)?n:o.cornerRadius>0)?1e3:100,width:Math.abs(o.width),height:Math.abs(null!=(i=o.height)?i:o.width),depth:Math.abs(void 0!==o.depth&&0===o.depth&&o.extrudeDepth>0?o.extrudeDepth:null!=(a=o.depth)?a:0)})}}static build(e){let{width:t,height:r,spikes:n,cornerRadius:i,depth:a,extrudeBevelSize:o,extrudeBevelSegments:s,surfaceMaxCount:l}=e.parameters;c=e.shape,u=.5*t,h=.5*r,d=0,f=0,p=2*Math.PI/n;for(let e=0;e<n;e++){let t=p*e,r=d+Math.sin(t)*u,n=f+Math.cos(t)*h;c.addPoint(c.createPoint(r,n))}c.isClosed=!0;for(let e=0,t=c.points.length;e<t;e++)c.points[e].roundness=i;c.roundness=i,c.update();let m=$62d72ba884266636$export$6a1b7c4373126e72.create({shape:c,parameters:{surfaceMaxCount:l,roundness:i,depth:a,extrudeBevelSize:o,extrudeBevelSegments:s}});return Object.assign(m,{userData:{...e,type:"PolygonGeometry"}})}}class $85c13a884128fe3c$export$725eff56461397fa{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,n,i;let a=Object.assign({},null!=(r=null==t?void 0:t.parameters)?r:{width:100,radialSegments:4,heightSegments:1,cornerRadius:0,cornerSegments:8,openEnded:!1},e.parameters);return{parameters:Object.assign(a,{width:Math.abs(a.width),height:Math.abs(null!=(n=a.height)?n:a.width),depth:Math.abs(null!=(i=a.depth)?i:a.width)})}}static build(e){let{width:t,height:r,depth:n,radialSegments:i,heightSegments:a,openEnded:o,cornerRadius:s,cornerSegments:c}=e.parameters,l=new $22f8397078a03bca$export$debd0e6c2696f9f4(.5*t,r,i,a,o,s,c);return l.scale(1,1,n/t),Object.assign(l,{userData:{...e,type:"PyramidGeometry"}})}}class $d2c40a92d2a2e5d1$export$86123bf9eecef83e{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,n,i,a,o;let s=Object.assign({},null!=(r=null==t?void 0:t.parameters)?r:{width:100,depth:0,cornerRadius:[0,0,0,0],cornerType:1,extrudeDepth:0,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters),c=Object.assign(null!=(n=null==t?void 0:t.ui)?n:{enabledIndieCorners:!1},e.ui),l=s.cornerRadius.reduce(((e,t)=>e+t),0);return{shape:e.shape&&e.shape instanceof $303979faefae2a64$export$2e2bcd8739ae039?e.shape:new $303979faefae2a64$export$2e2bcd8739ae039,parameters:Object.assign(s,{surfaceMaxCount:(null!=(i=s.surfaceMaxCount)?i:l>0)?1e3:100,width:Math.abs(s.width),height:Math.abs(null!=(a=s.height)?a:s.width),depth:Math.abs(void 0!==s.depth&&0===s.depth&&s.extrudeDepth>0?s.extrudeDepth:null!=(o=s.depth)?o:0)}),ui:c}}static build(e){let t=e.shape,{width:r,height:n,cornerRadius:i,cornerType:a,depth:o,extrudeBevelSize:s,extrudeBevelSegments:c,surfaceMaxCount:l}=e.parameters,d={x:.5*r,y:.5*n},u={x:-d.x,y:-d.y},h={x:d.x,y:d.y};function f(e,t,i){return t>r&&i>n?Math.min(e*r/t,e*n/i):t>r?e*r/t:i>n?e*n/i:e}let p=[];p[0]=0===i[0]?0:f(i[0],i[0]+i[3],i[0]+i[1]),p[1]=0===i[1]?0:f(i[1],i[1]+i[2],i[1]+i[0]),p[2]=0===i[2]?0:f(i[2],i[2]+i[1],i[2]+i[3]),p[3]=0===i[3]?0:f(i[3],i[3]+i[0],i[3]+i[2]);let m=u.x,v=h.x,$=h.y,g=u.y;t.addPoint(t.createPoint(m,$)),t.addPoint(t.createPoint(v,$)),t.addPoint(t.createPoint(v,g)),t.addPoint(t.createPoint(m,g)),t.isClosed=!0;let b=!0;for(let e=0,r=t.points.length;e<r;e++)t.points[e].roundness=p[e],e>0&&p[e]!==p[e-1]&&(b=!1);b&&(t.roundness=p[0]),t.useCubicForRoundedCorners=1!==a,t.update();let x=$62d72ba884266636$export$6a1b7c4373126e72.create({shape:t,parameters:{surfaceMaxCount:l,depth:o,extrudeBevelSize:s,extrudeBevelSegments:c}});return Object.assign(x,{userData:{...e,type:"RectangleGeometry"}})}}var $ilwiq=parcelRequire("ilwiq");class $5504102fde368197$export$1b417fc3b307a251{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,n,i;let a=Object.assign({},null!=(r=null==t?void 0:t.parameters)?r:{width:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:Math.PI},e.parameters);return{parameters:Object.assign(a,{width:Math.abs(a.width),height:Math.abs(null!=(n=a.height)?n:a.width),depth:Math.abs(null!=(i=a.depth)?i:a.width)})}}static build(e){let{width:t=100,height:r=t,depth:n=t,widthSegments:i=64,heightSegments:a=64,phiStart:o,phiLength:s,thetaStart:c,thetaLength:l}=e.parameters,d=new(0,$ilwiq.SphereGeometry)(.5*t,i,a,o,s,c,l);return d.scale(1,r/t,n/t),Object.assign(d,{userData:{...e,type:"SphereGeometry"}})}}var $ilwiq=parcelRequire("ilwiq");class $a2a90336f0da396e$export$967d831af31f69ce{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,n;let i=Object.assign({},null!=(r=null==t?void 0:t.parameters)?r:{width:100,depth:0,widthSegments:8,heightSegments:8},e.parameters);return{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs(null!=(n=i.height)?n:i.width),depth:0})}}static build(e){let{width:t=100,height:r=t,widthSegments:n=8,heightSegments:i=8}=e.parameters,a=new(0,$ilwiq.PlaneGeometry)(t,r,n,i);return a.scale(1,1,1),Object.assign(a,{userData:{...e,type:"PlaneGeometry"}})}}class $8e0fa0feca067393$export$87f545afdb19053a{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,n,i,a;let o=Object.assign({},null!=(r=null==t?void 0:t.parameters)?r:{width:100,depth:0,innerRadiusPercent:38.19,spikes:5,cornerRadius:0,angle:360,extrudeDepth:0,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return{shape:e.shape&&e.shape instanceof $303979faefae2a64$export$2e2bcd8739ae039?e.shape:new $303979faefae2a64$export$2e2bcd8739ae039,parameters:Object.assign(o,{surfaceMaxCount:(null!=(n=o.surfaceMaxCount)?n:o.cornerRadius>0)?1e3:100,width:Math.abs(o.width),height:Math.abs(null!=(i=o.height)?i:o.width),depth:Math.abs(void 0!==o.depth&&0===o.depth&&o.extrudeDepth>0?o.extrudeDepth:null!=(a=o.depth)?a:0)})}}static build(e){let{width:t,height:r,innerRadiusPercent:n,spikes:i,cornerRadius:a,angle:o,depth:s,extrudeBevelSize:c,extrudeBevelSegments:l,surfaceMaxCount:d}=e.parameters,u=e.shape,h=.5*t,f=.5*r,p=o*Math.PI/360/i,m=Math.PI/2*-3,v=h*n/100,$=f*n/100;if(3==i&&50==n){p=2*Math.PI/i;for(let e=0;e<i;e++){let t=p*e,r=0+Math.sin(t)*h,n=0+Math.cos(t)*f;u.addPoint(u.createPoint(r,n))}}else for(let e=0;e<i;e++){let e=0+Math.cos(m)*h,t=0+Math.sin(m)*f;u.addPoint(u.createPoint(e,t)),m+=p,e=0+Math.cos(m)*v,t=0+Math.sin(m)*$,u.addPoint(u.createPoint(e,t)),m+=p}u.isClosed=!0;for(let e=0,t=u.points.length;e<t;e++)u.points[e].roundness=a;u.roundness=a,u.update();let g=$62d72ba884266636$export$6a1b7c4373126e72.create({shape:u,parameters:{surfaceMaxCount:d,roundness:a,depth:s,extrudeBevelSize:c,extrudeBevelSegments:l}});return Object.assign(g,{userData:{...e,type:"StarGeometry"}})}}var $ilwiq=parcelRequire("ilwiq");class $00de8bf802ff7529$export$10e30403edf292dd{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,n,i;let a=Object.assign({},null!=(r=null==t?void 0:t.parameters)?r:{width:100,depth:0},e.parameters);return{parameters:Object.assign(a,{width:Math.abs(a.width),height:Math.abs(null!=(n=a.height)?n:a.width),depth:Math.abs(null!=(i=a.depth)?i:0)})}}static build(e){let{width:t,height:r}=e.parameters,n=new(0,$ilwiq.PlaneGeometry)(t,r);return Object.assign(n,{userData:{...e,type:"TextFrameGeometry"}})}}function $563a21e07957fc56$var$jO(e,t,r,n,i,a,o,s,c,l,d){return[t,r]=[r,t],o=t/2,1==(i/=2*Math.PI)&&(l=0),new $22f8397078a03bca$export$f9a2b42cd5925f5b(!0,e,t,r,n,i,a,o,s,c,l,d)}class $563a21e07957fc56$export$a2312a2a1fa56495{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,n,i;let a=Object.assign({},null!=(r=null==t?void 0:t.parameters)?r:{width:100,radialSegments:32,tubularSegments:64,arc:2*Math.PI,cornerRadius:30,cornerSegments:8},e.parameters),o=Math.abs(a.width),s=Math.abs(null!=(n=a.height)?n:a.width),c=Math.abs(null!=(i=a.depth)?i:.25*a.width);return{parameters:Object.assign(a,{width:o,height:s,depth:c})}}static build(e){let{width:t,height:r,depth:n,radialSegments:i,tubularSegments:a,arc:o,cornerRadius:s,cornerSegments:c}=e.parameters,l=$563a21e07957fc56$var$jO(t,r,n,.5*t,o,a,0,0,i,s,c);return l.scale(1,r/t,1),Object.assign(l,{userData:{...e,type:"TorusGeometry"}})}}var $ilwiq=parcelRequire("ilwiq");class $0a8e6d99e37fc0f0$export$77e9bfadfb9ab8c8{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,n,i,a;let o=Object.assign({},null!=(r=null==t?void 0:t.parameters)?r:{width:100,tubularSegments:64,radialSegments:32,p:2,q:3},e.parameters);return{parameters:Object.assign(o,{width:Math.abs(o.width),height:Math.abs(null!=(n=o.height)?n:o.width),depth:Math.abs(null!=(i=o.depth)?i:o.width),tube:null!=(a=o.tube)?a:.125*o.width})}}static build(e){let{width:t,tube:r,tubularSegments:n,radialSegments:i,p:a,q:o}=e.parameters,s=.5*t;s!==r&&(s-=r);let c=new(0,$ilwiq.TorusKnotGeometry)(s,r,n,i,a,o);return Object.assign(c,{userData:{...e,type:"TorusKnotGeometry"}})}}class $62acbe22f1257a76$export$844a60242c1a343b{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,n,i,a;let o=Object.assign({},null!=(r=null==t?void 0:t.parameters)?r:{width:100,depth:0,spikes:5,cornerRadius:0,extrudeDepth:0,extrudeBevelSize:0,extrudeBevelSegments:1,isRect:!1},e.parameters);return{shape:e.shape&&e.shape instanceof $303979faefae2a64$export$2e2bcd8739ae039?e.shape:new $303979faefae2a64$export$2e2bcd8739ae039,parameters:Object.assign(o,{surfaceMaxCount:(null!=(n=o.surfaceMaxCount)?n:o.cornerRadius>0)?1e3:100,width:Math.abs(o.width),height:Math.abs(null!=(i=o.height)?i:o.width*(o.isRect?1:Math.sqrt(3)/2)),depth:Math.abs(void 0!==o.depth&&0===o.depth&&o.extrudeDepth>0?o.extrudeDepth:null!=(a=o.depth)?a:0)})}}static build(e){let{width:t=100,height:r,cornerRadius:n,depth:i,extrudeBevelSize:a,extrudeBevelSegments:o,isRect:s,surfaceMaxCount:c}=e.parameters,l=e.shape,d=.5*t,u=.5*r;s?(l.addPoint(l.createPoint(-d,u)),l.addPoint(l.createPoint(d,-u)),l.addPoint(l.createPoint(-d,-u))):(l.addPoint(l.createPoint(0,u)),l.addPoint(l.createPoint(d,-u)),l.addPoint(l.createPoint(-d,-u))),l.isClosed=!0;for(let e=0,t=l.points.length;e<t;e++)l.points[e].roundness=n;l.roundness=n,l.update();let h=$62d72ba884266636$export$6a1b7c4373126e72.create({shape:l,parameters:{surfaceMaxCount:c,roundness:n,depth:i,extrudeBevelSize:a,extrudeBevelSegments:o}});return Object.assign(h,{userData:{...e,type:"TriangleGeometry"}})}}const $68ccae5ba91d7a1b$var$GeometryPro={ConeGeometry:$63b94844992b0d07$export$a7a48974f285c9b3,CubeGeometry:$93cd45318e8b424c$export$8f0c2621363d4aa9,CylinderGeometry:$dd624bf6ab4ab516$export$68f745719dbe5198,DodecahedronGeometry:$15432287979198b1$export$c0babfeb8708fc9c,EllipseGeometry:$c691c49ccd5f4170$export$1fa2d59341c2367,HelixGeometry:$06931adafac28614$export$e28ccfad1d6e731a,IcosahedronGeometry:$8fdedfb8e5c0276e$export$9567cc828c9535da,LatheGeometry:$fdf19a964123a9b1$export$6d839803fcd1882c,NonParametricGeometry:$57862b7df0459298$export$d04ab59d215bca24,PolygonGeometry:$f78130b4e9e29bef$export$30fc354dea0a5c2a,PyramidGeometry:$85c13a884128fe3c$export$725eff56461397fa,RectangleGeometry:$d2c40a92d2a2e5d1$export$86123bf9eecef83e,SphereGeometry:$5504102fde368197$export$1b417fc3b307a251,PlaneGeometry:$a2a90336f0da396e$export$967d831af31f69ce,StarGeometry:$8e0fa0feca067393$export$87f545afdb19053a,TextFrameGeometry:$00de8bf802ff7529$export$10e30403edf292dd,TorusGeometry:$563a21e07957fc56$export$a2312a2a1fa56495,TorusKnotGeometry:$0a8e6d99e37fc0f0$export$77e9bfadfb9ab8c8,TriangleGeometry:$62acbe22f1257a76$export$844a60242c1a343b,VectorGeometry:$62d72ba884266636$export$6a1b7c4373126e72},$68ccae5ba91d7a1b$export$8fbf43ee64197075=$68ccae5ba91d7a1b$var$GeometryPro;var $68ccae5ba91d7a1b$export$2e2bcd8739ae039=e=>$68ccae5ba91d7a1b$var$GeometryPro[e.type].create(e);class $3ede439791312b8b$export$2e2bcd8739ae039 extends($7447aa2841984708$export$82769c919fcdc8d5($ilwiq.Mesh)){constructor(e,t){super(e,t),this.isAbstractMesh=!0,Array.isArray(t)&&(this.selectedMaterial=0,0===e.groups.length&&e.addGroup(0,e.getAttribute("position").count,0))}get cloner(){return this._cloner}set cloner(e){this._cloner&&this.remove(this._cloner),e&&this.add(e),this._cloner=e}getSelectedMaterial(e){return Array.isArray(this.material)?(void 0===this.selectedMaterial&&(this.selectedMaterial=null!=e?e:0),this.material[null!=e?e:this.selectedMaterial]):this.material}setSelectedMaterial(e,t){Array.isArray(this.material)?(void 0===this.selectedMaterial&&(this.selectedMaterial=null!=t?t:0),t=null!=t?t:this.selectedMaterial,this.material[t].dispose(),this.material[t]=e):(this.material.dispose(),this.material=e)}updateGeometry(e){let t=this.geometry,r=$68ccae5ba91d7a1b$export$8fbf43ee64197075[t.userData.type],n="NonParametric"===this.objectType?Object.assign({},t.userData,{geometry:t}):t.userData,i=r.build(r.normalizeInputs(e,n)),a=t.uuid;if(this.geometry.dispose(),this.geometry=i,this.geometry.uuid=a,this.geometry.computeBoundingSphere(),this.cloner)for(let e of this.cloner.children)e.geometry=this.geometry}resizeGeometry(e,t,r){$a3cbe5520e684c06$export$8eb52fc15066e6b0.resizeGeometry(this.geometry,{width:e,height:t,depth:r})}shallowClone(e){return new this.constructor(this.geometry,this.material).shallowCopy(this,e)}clone(e){let t="NonParametric"===this.objectType?Object.assign({},this.geometry.userData,{geometry:this.geometry.clone()}):this.geometry.userData,r=ru(t),n=Array.isArray(this.material)?this.material.map((e=>e.clone())):this.material.clone();return new this.constructor(r,n).copy(this,e)}copy(e,t=!0){return super.copy(e,t),e.cloner&&(this.cloner=new $c4163c889c617f84$export$2e2bcd8739ae039(e,e.cloner.parameters),this.add(this.cloner)),this}setFromClonerState(e){null===e?this.cloner=void 0:(void 0===this.cloner&&(this.cloner=new $c4163c889c617f84$export$2e2bcd8739ae039(this)),this.cloner.fromClonerState(e))}fromState(e,t){var r,n;return super.fromState(e),"Mesh"===e.type&&(this.setFromClonerState(e.cloner),this.castShadow=null==(r=e.castShadow)||r,this.receiveShadow=null==(n=e.receiveShadow)||n),this}}class $2a5dfe021abfff6d$export$73aa659f2322b537 extends $3ede439791312b8b$export$2e2bcd8739ae039{constructor(e,t=new $815a6c8fba47e593$export$cff88634e3289b72){super(e,t),this.objectType="Mesh2D",this.castShadow=!0,this.receiveShadow=!0}updateGeometry(e){super.updateGeometry(e),this.material.userData.layers&&$7a44cd67e386b99d$export$2e2bcd8739ae039.resizeTextureLayers(this.geometry.userData.parameters.width,this.geometry.userData.parameters.height,this.material)}resizeGeometry(e,t){super.resizeGeometry(e,t,0),this.material.userData.layers&&$7a44cd67e386b99d$export$2e2bcd8739ae039.resizeTextureLayers(this.geometry.userData.parameters.width,this.geometry.userData.parameters.height,this.material)}toJSON(e){let t=super.toJSON(e);return t.object.ObjectType="Mesh2D",t}clone(){let e=super.clone();return e.updateGeometry({}),e}static fromTexture(e){let t,r;if(e instanceof $ilwiq.VideoTexture){let n=e.image;t=.5*n.videoWidth,r=.5*n.videoHeight}else{let n=e.image;t=.5*n.width,r=.5*n.height}let n=$d2c40a92d2a2e5d1$export$86123bf9eecef83e.create({parameters:{width:t,height:r}}),i=new $815a6c8fba47e593$export$cff88634e3289b72;return i.layersList.changeLayer(0,{type:$cf00a5c94ce7c28c$export$76bf88ec17fef043.TEXTURE,texture:e}),i.layersList.moveLayer(0,1),i.dispose(),new $2a5dfe021abfff6d$export$73aa659f2322b537(n,i)}}class $32c3f2378c78bb95$export$331bd465e97f4635 extends $3ede439791312b8b$export$2e2bcd8739ae039{constructor(e,t=new $815a6c8fba47e593$export$325981b1716882d4){super(e,t),this.objectType="Mesh3D",this.castShadow=!0,this.receiveShadow=!0}toJSON(e){let t=super.toJSON(e);return t.object.ObjectType="Mesh3D",t}}var $ilwiq=parcelRequire("ilwiq"),$ilwiq=parcelRequire("ilwiq");function $7f4168e964a57cdb$var$KO(e,t){let r=e;return r=Math.min(r,3-Math.ceil(Math.log(t/172e3)/Math.log(4))),Math.max(r,0)}class $7f4168e964a57cdb$export$2e2bcd8739ae039{static build(e,t,r,n,i){let a,o,s;if(void 0===e)a=$7f4168e964a57cdb$export$2e2bcd8739ae039.allocate(i,r),Xe.set_destination_refinement_level(a,0),o=$7f4168e964a57cdb$export$2e2bcd8739ae039.buildLevel(a,!0,n);else if(void 0!==e.positionWASM){t&&0!==t&&(Xe.free_bvh(t),Xe.free_subdivision_surface(t));try{a=$7f4168e964a57cdb$export$2e2bcd8739ae039.allocate(i,void 0,e)}catch(t){console.error(t,e),a=$7f4168e964a57cdb$export$2e2bcd8739ae039.allocate(i,void 0,{positionWASM:y1,indexWASM:x1,verticesPerFaceWASM:v1})}Xe.set_destination_refinement_level(a,0),o=$7f4168e964a57cdb$export$2e2bcd8739ae039.buildLevel(a,!0,n)}else a=t;if(void 0!==e&&void 0!==e.subdivisions){let t=$7f4168e964a57cdb$var$KO(e.subdivisions,e.positionWASM.length);Xe.set_destination_refinement_level(a,t),s=t>0?$7f4168e964a57cdb$export$2e2bcd8739ae039.buildLevel(a,!1,n):null}return{subdivPointer:a,originalGeometry:o,subdividedGeometry:s}}static allocate(e,t,r){var n;let i,a,o,s=[],c=[];if(r)r.positionWASM&&r.positionWASM.length>0?(i=r.positionWASM,a=r.indexWASM,o=r.verticesPerFaceWASM):(i=y1,a=x1,o=v1);else{t.deleteAttribute("normal"),t.deleteAttribute("uv");let e=vM(t);i=e.attributes.position.array;let r=e.getIndex().array,n=r.length;switch("TorusGeometry"===t.userData.type&&(null==t?void 0:t.userData.parameters.arc)===2*Math.PI&&(t.userData.type="ClosedTorusGeometry"),t.userData.type){case"ClosedTorusGeometry":case"PlaneGeometry":case"TorusKnotGeometry":case"CubeGeometry":a=new Uint32Array(n/3*2),o=new Uint8Array(n/6).fill(4);for(let e=0,t=0;e<n;e+=6)a[t++]=r[e],a[t++]=r[e+1],a[t++]=r[e+4],a[t++]=r[e+5];break;case"TorusGeometry":case"SphereGeometry":case"HelixGeometry":case"CylinderGeometry":case"ConeGeometry":let e,i,s;if("SphereGeometry"===t.userData.type)i=t.parameters.heightSegments,e=t.parameters.widthSegments,t.parameters.thetaLength!==Math.PI&&(s=!0);else if("CylinderGeometry"===t.userData.type)i=t.parameters.heightSegments+2,e=t.parameters.radialSegments;else if("ConeGeometry"===t.userData.type)i=t.parameters.heightSegments+1,e=t.parameters.radialSegments;else if("TorusGeometry"===t.userData.type){let r=t.userData.parameters;i=Math.ceil(r.tubularSegments*r.arc/(2*Math.PI))+2,e=r.radialSegments}else{let{pathSegments:r,segments:n,revolutions:a}=t.userData.parameters;i=Math.ceil(n*a)+2,e=r}s?(a=new Uint32Array(1*e*3+(i-1)*e*4),o=new Uint8Array(1*e+(i-1)*e)):(a=new Uint32Array(2*e*3+(i-2)*e*4),o=new Uint8Array(2*e+(i-2)*e));let c=0,l=0,d=0;if("SphereGeometry"===t.userData.type||"HelixGeometry"===t.userData.type||"TorusGeometry"===t.userData.type){for(;l<3*e;)a[l++]=r[c++],a[l++]=r[c++],a[l++]=r[c++],o[d++]=3;let t=s?a.length:3*e+4*(i-2)*e;for(;l<t;c+=6)a[l++]=r[c],a[l++]=r[c+1],a[l++]=r[c+4],a[l++]=r[c+5],o[d++]=4}else for(;l<4*(i-2)*e;c+=6)a[l++]=r[c],a[l++]=r[c+1],a[l++]=r[c+4],a[l++]=r[c+5],o[d++]=4;for(;l<a.length;)a[l++]=r[c++],a[l++]=r[c++],a[l++]=r[c++],o[d++]=3;break;default:a=r,o=new Uint8Array(n/3).fill(3)}}let l,d=i.length,u=a.length,h=o.length,f=i.length+s.length+c.length,p=a.length+o.length,m=f*Float32Array.BYTES_PER_ELEMENT+p*Uint32Array.BYTES_PER_ELEMENT,v=f*Float32Array.BYTES_PER_ELEMENT,$=(Uint32Array.BYTES_PER_ELEMENT,Xe._malloc(m)),g=new Float32Array(Xe.HEAPF32.buffer,$,f),b=new Uint32Array(Xe.HEAPU32.buffer,$+v,p);g.set(i,0),g.set(s,i.length),g.set(c,i.length+s.length),b.set(a,0),b.set(o,a.length),(null==(n=null==r?void 0:r.scaleBaked)?void 0:n.some((e=>1!==e)))&&(l=(new Matrix4).makeScale(...r.scaleBaked)),e&&(l?l.premultiply(e):l=e);let x=l?Xe.alloc_subdivision_surface2($,d,$+v,u,$+v+a.length*Uint32Array.BYTES_PER_ELEMENT,h,l.elements):Xe.alloc_subdivision_surface($,d,$+v,u,$+v+a.length*Uint32Array.BYTES_PER_ELEMENT,h);return Xe._free($),x}static buildLevel(e,t,r,n,i){let a=i?Xe.get_mesh_data2(e,t?Xe.Level.CONTROL:Xe.Level.REFINED,null!=r?r:!t,i.elements):Xe.get_mesh_data(e,t?Xe.Level.CONTROL:Xe.Level.REFINED,null!=r?r:!t),o=Xe.HEAPU32.subarray(a>>2,8+(a>>2)),s=o.subarray(4,8),c=0,l=Xe.HEAPU32[o[c]>>2],d=Xe.HEAPF32.subarray(l>>2,(l>>2)+s[c]);c++;let u=Xe.HEAPU32[o[c]>>2],h=Xe.HEAPF32.subarray(u>>2,(u>>2)+s[c]);c++;let f=Xe.HEAPU32[o[c]>>2],p=Xe.HEAPU32.subarray(f>>2,(f>>2)+s[c]);c++;let m=Xe.HEAPU32[o[c]>>2],v=Xe.HEAPU32.subarray(m>>2,(m>>2)+s[c]);if(c++,void 0===n){let e=new BufferGeometry;if(e.setIndex(new(0,$ilwiq.Uint32BufferAttribute)(v,1)),e.setAttribute("position",new Float32BufferAttribute(d,3)),e.setAttribute("normal",new Float32BufferAttribute(h,3)),t){e.setAttribute("faceMap",new(0,$ilwiq.Uint32BufferAttribute)(p,1));let t=new Float32Array(h.length/3*4).fill(0);e.setAttribute("color",new BufferAttribute(t,4))}return Xe.free_mesh_data(a),e.userData.type="SubdivGeometry",e}n.getAttribute("position").copyArray(d),n.getAttribute("normal").copyArray(h),n.attributes.position.needsUpdate=!0,n.attributes.normal.needsUpdate=!0,Xe.free_mesh_data(a)}static buildControlCageWireframe(e,t,r){let n=Xe.get_wireframe_data_for_base_level(e),i=Xe.HEAPU32.subarray(n>>2,4+(n>>2)),a=i.subarray(2,4),o=0,s=Xe.HEAPU32[i[o]>>2],c=Xe.HEAPF32.subarray(s>>2,(s>>2)+a[o]);o++;let l=Xe.HEAPU32[i[o]>>2],d=Xe.HEAPU32.subarray(l>>2,(l>>2)+a[o]);if(void 0===t){let e=new BufferGeometry;e.setAttribute("position",new Float32BufferAttribute(c,3));let t=new Float32Array(c.length);for(let e=0,n=c.length;e<n;)t[e++]=r.r,t[e++]=r.g,t[e++]=r.b;return e.setAttribute("color",new BufferAttribute(t,3)),e.setIndex(new(0,$ilwiq.Uint32BufferAttribute)(d,1)),Xe.free_wireframe_data_for_base_level(n),e}t.getAttribute("position").copyArray(c),t.attributes.position.needsUpdate=!0,Xe.free_wireframe_data_for_base_level(n)}static updateCollabMesh(e,t,r){t||Xe.set_destination_refinement_level(e,1);let n=r?Xe.get_topological_data2(e,t?Xe.Level.CONTROL:Xe.Level.REFINED,r.elements):Xe.get_topological_data(e,t?Xe.Level.CONTROL:Xe.Level.REFINED),i=Xe.HEAPU32.subarray(n>>2,6+(n>>2)),a=i.subarray(3,6),o=0,s=Xe.HEAPU32[i[o]>>2],c=new Float32Array(Xe.HEAPF32.subarray(s>>2,(s>>2)+a[o]));o++;let l=Xe.HEAPU32[i[o]>>2],d=new Uint32Array(Xe.HEAPU32.subarray(l>>2,(l>>2)+a[o]));o++;let u=Xe.HEAPU32[i[o]>>2],h=new Uint8Array(Xe.HEAPU32.subarray(u>>2,(u>>2)+a[o]));return Xe.free_topological_data(n),{positions:c,indices:d,verticesPerFace:h}}}class $c315a9f981145089$export$2e2bcd8739ae039 extends $32c3f2378c78bb95$export$331bd465e97f4635{constructor(e,t=new $815a6c8fba47e593$export$325981b1716882d4){super(e,t),this.objectType="NonParametric"}toJSON(e){let t=super.toJSON(e);return t.object.ObjectType="NonParametric",t}}class $adf1c903040a0f39$export$2247a786f49daed0 extends $3ede439791312b8b$export$2e2bcd8739ae039{constructor(e,t,r,n=new $815a6c8fba47e593$export$325981b1716882d4){super(null!=r?r:t,n),this.subdivPointer=e,this.originalGeometry=t,this.subdividedGeometry=r,this.objectType="SubdivObject",this.hiddenMatrixOld=new(0,$ilwiq.Matrix4),this.smoothShading=!0,this.matrixWorldRigid=new(0,$ilwiq.Matrix4),this.castShadow=!0,this.receiveShadow=!0,this.forceComputeSize=!1}static createFromState(e,t,r){let{subdivPointer:n,originalGeometry:i,subdividedGeometry:a}=$7f4168e964a57cdb$export$2e2bcd8739ae039.build(t.geometry,void 0,void 0,!t.flatShading),o=$f34097f475629eff$export$c55a18a51453de72(t.material,r),s=new $adf1c903040a0f39$export$2247a786f49daed0(n,i,a||void 0,o);return s.calcBoundingBox(),s.freeSubdivPointer(),s.uuid=e,s.fromState(t),s}shallowClone(e){return new $c315a9f981145089$export$2e2bcd8739ae039(this.geometry,this.material).shallowCopy(this,e)}toJSON(e){let t=super.toJSON(e);return t.object.ObjectType="SubdivObject",t}buildFromStore(e){var t,r,n;let{originalGeometry:i,subdividedGeometry:a,subdivPointer:o}=$7f4168e964a57cdb$export$2e2bcd8739ae039.build(e,this.subdivPointer,void 0,this.smoothShading,this.shearScale);if(this.subdivPointer=o,void 0!==i&&(null==(t=this.originalGeometry)||t.dispose(),this.originalGeometry=i),void 0!==a&&(null==(r=this.subdividedGeometry)||r.dispose(),this.subdividedGeometry=null!=a?a:void 0),this.geometry=null!=(n=this.subdividedGeometry)?n:this.originalGeometry,this.cloner)for(let e of this.cloner.children)e.geometry=this.geometry;e.width&&(this.geometry.userData.parameters={width:e.width,height:e.height,depth:e.depth})}updateMesh(e=!1){$7f4168e964a57cdb$export$2e2bcd8739ae039.buildLevel(this.subdivPointer,!0,this.smoothShading,this.originalGeometry,e?this.shearScaleInv:void 0),this.subdividedGeometry&&$7f4168e964a57cdb$export$2e2bcd8739ae039.buildLevel(this.subdivPointer,!1,this.smoothShading,this.subdividedGeometry,e?this.shearScaleInv:void 0)}updateTopology(){var e;this.originalGeometry.dispose(),this.originalGeometry=$7f4168e964a57cdb$export$2e2bcd8739ae039.buildLevel(this.subdivPointer,!0,this.smoothShading),this.subdividedGeometry&&(this.subdividedGeometry.dispose(),this.subdividedGeometry=$7f4168e964a57cdb$export$2e2bcd8739ae039.buildLevel(this.subdivPointer,!1,this.smoothShading)),this.geometry=null!=(e=this.subdividedGeometry)?e:this.originalGeometry}raycast(e,t){var r;this.geometry=this.originalGeometry,ir.prototype.raycast.call(this,e,t),this.geometry=null!=(r=this.subdividedGeometry)?r:this.originalGeometry}updateMatrixWorldSVD(){let e=this.matrixWorld.elements,t=[[e[0],e[4],e[8]],[e[1],e[5],e[9]],[e[2],e[6],e[10]]],{u:r,v:n,q:i}=SVD(t),a=pA.set(r[0][0],r[0][1],r[0][2],0,r[1][0],r[1][1],r[1][2],0,r[2][0],r[2][1],r[2][2],0,0,0,0,1),o=zF.set(n[0][0],n[0][1],n[0][2],0,n[1][0],n[1][1],n[1][2],0,n[2][0],n[2][1],n[2][2],0,0,0,0,1),s=kF.copy(o).transpose();this.shearScale=VF.makeScale(i[0],i[1],i[2]).multiply(s).premultiply(o),this.shearScaleInv=HF.copy(this.shearScale).invert(),this.matrixWorldRigid.multiplyMatrices(a,s),i.every((e=>Math.abs(i[0]-e)<.01))&&(this.shearScale=void 0,this.shearScaleInv=void 0)}}var $ilwiq=parcelRequire("ilwiq"),$ilwiq=parcelRequire("ilwiq");let $cd646123365b630e$var$Vf=new(0,$ilwiq.Vector2);class $cd646123365b630e$export$2e2bcd8739ae039{constructor(e,t,r){this.message=[],this.endLine=!0,this.yLinePos=e,this.lineHeight=t,this.maxCharSize=r,this.nextChar3DPos=new(0,$ilwiq.Vector2)(0,this.yLinePos+this.maxCharSize*this.lineHeight),this.align=$cf00a5c94ce7c28c$export$e1f83bbdbccc149a.Left}addChar3D(e,t,r=this.message.length){this.message.splice(r,0,e),e.fontSize>this.maxCharSize?(this.maxCharSize=e.fontSize,this.nextChar3DPos.y=this.yLinePos+this.maxCharSize*this.lineHeight,this.fullUpdate(t)):(e.updatePosition(this.nextChar3DPos,t),this.nextChar3DPos.x+=e.charSize)}deleteChar3D(e=this.message.length-1){let t=this.message[e];if(t)return this.message.splice(e,1),this.nextChar3DPos.x-=t.charSize,t}isEndLine(e){this.endLine=e}fullUpdate(e,t=0){this.nextChar3DPos.x=0;for(let r=t,n=this.message.length;r<n;r+=1)this.message[r].updatePosition(this.nextChar3DPos,e),this.nextChar3DPos.x+=this.message[r].charSize}checkOverFlow(e){let t,r=this.message.length-1;if(r<=0)return!1;for(;r>=0;){if(" "!==this.message[r].char){t=this.message[r];break}r-=1}return!!(r>=0&&t&&t.localPosition.x+t.charSize>e)}containSpaceOverFlow(e=this.message.length-1){for(let t=e;t>=0;t-=1)if(" "===this.message[t].char)return!0;return!1}containSpace(e=this.message.length-1){if(this.endLine)return!0;for(let t=e;t>=0;t-=1)if(" "===this.message[t].char)return!0;return!1}popWord(e=this.message.length-1){let t,r=[],n=!0;for(t=e;t>=0;t-=1){if(" "===this.message[t].char){n=!1,0===r.length&&(t-=1,r.splice(0,0,this.message[t]));break}r.splice(0,0,this.message[t])}return n?r=[]:this.message.splice(t+1,r.length),r}getWord(e=0,t=1){let r=[],n=e;for(n=e;;n+=t){if(!this.message[n]||" "===this.message[n].char){0===r.length&&this.message[n]&&(r.push(this.message[n]),this.message.splice(n,1));break}t>0?(r.push(this.message[n]),this.message.splice(n,1),n-=t):(r.splice(0,0,this.message[n]),this.message.splice(n,1))}return r}getWordAtIndex(e){let t=[];for(let r=e;r<this.message.length&&" "!==this.message[r].char;r++)t.push(this.message[r]);for(let r=e-1;r>=0&&" "!==this.message[r].char;r--)t.splice(0,0,this.message[r]);return t}wordSize(e=0,t=-1){let r=0,n=e;for(;n>=0&&n<this.message.length;){if(" "===this.message[n].char){0===r&&(r=this.message[n].charSize);break}r+=this.message[n].charSize,n+=t}return(n<0||n>=this.message.length)&&!this.endLine?this.message[e]?this.message[e].charSize:999999999:0===r?999999999:r}spaceLeft(e){return e-this.nextChar3DPos.x}popChar(e=this.message.length-1){return this.nextChar3DPos.x-=this.message[e].charSize,this.message.splice(e,1)}isEmpty(){return!this.message.length}updateNextCharPosY(){this.nextChar3DPos.y=this.yLinePos+this.maxCharSize*this.lineHeight}updateYLinePos(e){this.yLinePos=e,this.updateNextCharPosY()}updatelineHeight(e){this.lineHeight=e,this.updateNextCharPosY()}updateFontSize(e,t=0,r=this.message.length-1){for(let n=t;n<=r;n+=1)this.message[n].updateFontSize(e);this.maxCharSize=e,this.nextChar3DPos.y=this.yLinePos+this.maxCharSize*this.lineHeight}countSpaces(){let e=0;for(let t=0;t<this.message.length;t++)" "===this.message[t].char&&(e+=1);return e}alignText(e,t,r,n,i){switch(r){case $cf00a5c94ce7c28c$export$e1f83bbdbccc149a.Left:this.leftAlign(e,i);break;case $cf00a5c94ce7c28c$export$e1f83bbdbccc149a.Center:this.centerAlign(this.spaceLeft(t),e,i);break;case $cf00a5c94ce7c28c$export$e1f83bbdbccc149a.Right:this.rightAlign(this.spaceLeft(t),e,i);break;case $cf00a5c94ce7c28c$export$e1f83bbdbccc149a.Justify:this.justifyAlign(this.spaceLeft(t),e,i)}}offsetCharacters(e,t,r){$cd646123365b630e$var$Vf.set(t,r);let n=this.message.length;for(let t=0;t<n;t++)this.message[t].updatePosition(this.message[t].localPosition.add($cd646123365b630e$var$Vf),e)}leftAlign(e,t){this.align=$cf00a5c94ce7c28c$export$e1f83bbdbccc149a.Left,this.offsetCharacters(e,0,t)}centerAlign(e,t,r){this.align=$cf00a5c94ce7c28c$export$e1f83bbdbccc149a.Center,this.offsetCharacters(t,e/2,r)}rightAlign(e,t,r){this.align=$cf00a5c94ce7c28c$export$e1f83bbdbccc149a.Right,this.offsetCharacters(t,e,r)}justifyAlign(e,t,r){if(this.align=$cf00a5c94ce7c28c$export$e1f83bbdbccc149a.Justify,this.endLine)return void this.offsetCharacters(t,0,r);let n=this.countSpaces();if(0===n)return void this.offsetCharacters(t,0,r);let i=e/n,a=0;for(let e=0;e<this.message.length;e++)" "===this.message[e].char&&(a+=i),$cd646123365b630e$var$Vf.set(a,r),this.message[e].updatePosition(this.message[e].localPosition.add($cd646123365b630e$var$Vf),t)}clone(){let e=new $cd646123365b630e$export$2e2bcd8739ae039(this.yLinePos,this.lineHeight,this.maxCharSize);e.nextChar3DPos=this.nextChar3DPos.clone(),e.align=this.align,e.endLine=this.endLine;for(let t=0;t<this.message.length;t++)e.message.push(this.message[t].clone());return e}}var $ilwiq=parcelRequire("ilwiq");class $ad6aefaf36d08024$export$812303d6cad736b3 extends $ilwiq.Loader{constructor(e){super(e)}load(e,t,r,n){const i=this,a=new(0,$ilwiq.FileLoader)(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(e){let r;try{r=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),r=JSON.parse(e.substring(65,e.length-2))}const n=i.parse(r);t&&t(n)}),r,n)}parse(e){return new $ad6aefaf36d08024$export$89abf52a030e56ee(e)}}class $ad6aefaf36d08024$export$89abf52a030e56ee{constructor(e){this.type="Font",this.data=e}generateShapes(e,t=100){const r=[],n=$ad6aefaf36d08024$var$createPaths(e,t,this.data);for(let e=0,t=n.length;e<t;e++)Array.prototype.push.apply(r,n[e].toShapes());return r}}function $ad6aefaf36d08024$var$createPaths(e,t,r){const n=Array.from(e),i=t/r.resolution,a=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*i,o=[];let s=0,c=0;for(let e=0;e<n.length;e++){const t=n[e];if("\n"===t)s=0,c-=a;else{const e=$ad6aefaf36d08024$var$createPath(t,i,s,c,r);s+=e.offsetX,o.push(e.path)}}return o}function $ad6aefaf36d08024$var$createPath(e,t,r,n,i){const a=i.glyphs[e]||i.glyphs["?"];if(!a)return void console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".");const o=new(0,$ilwiq.ShapePath);let s,c,l,d,u,h,f,p;if(a.o){const e=a._cachedOutline||(a._cachedOutline=a.o.split(" "));for(let i=0,a=e.length;i<a;){switch(e[i++]){case"m":s=e[i++]*t+r,c=e[i++]*t+n,o.moveTo(s,c);break;case"l":s=e[i++]*t+r,c=e[i++]*t+n,o.lineTo(s,c);break;case"q":l=e[i++]*t+r,d=e[i++]*t+n,u=e[i++]*t+r,h=e[i++]*t+n,o.quadraticCurveTo(u,h,l,d);break;case"b":l=e[i++]*t+r,d=e[i++]*t+n,u=e[i++]*t+r,h=e[i++]*t+n,f=e[i++]*t+r,p=e[i++]*t+n,o.bezierCurveTo(u,h,f,p,l,d)}}}return{offsetX:a.ha*t,path:o}}$ad6aefaf36d08024$export$89abf52a030e56ee.prototype.isFont=!0;var $ilwiq=parcelRequire("ilwiq");class $13944958e23ae004$export$2e2bcd8739ae039 extends $ilwiq.Mesh{constructor({char:e,originalChar:t,fontFamily:r,letterSpacing:n,fontSize:i,LOD:a=16},o=new(0,$ilwiq.MeshBasicMaterial)({color:0,opacity:1,visible:!0,transparent:!0,side:$ilwiq.DoubleSide})){let s=$13944958e23ae004$export$2e2bcd8739ae039.loadChar(e,r,a);super(s.geometry,o),this.char=e,this.originalChar=null!=t?t:e,this.fontFamily=r,this.letterSpacing=n,this.fontSize=i,this.LOD=a,this.resolution=s.resolution,this.glyphsHa=s.glyphsHa,this.localPosition=new(0,$ilwiq.Vector2),this.charSize=0,this.geometry.userData={type:"CharacterGeometry",parameters:{char:this.char,fontFamily:this.fontFamily,letterSpacing:this.letterSpacing,fontSize:this.fontSize,lod:this.LOD,resolution:this.resolution,charSize:this.charSize,localPosition:this.localPosition}},this.updateFontSize(this.fontSize)}static get FONTS_PATH(){return $13944958e23ae004$export$2e2bcd8739ae039._fontPath}static set FONTS_PATH(e){$13944958e23ae004$export$2e2bcd8739ae039._fontPath=e}updatePosition(e,t){this.localPosition.copy(e);let r=new(0,$ilwiq.Vector3)(this.localPosition.x,-this.localPosition.y,0);this.position.copy(r).add(t)}updateFontSize(e){let t=e/this.resolution;this.fontSize=e,this.scale.set(this.fontSize,this.fontSize,1),this.charSize=this.glyphsHa*t*this.letterSpacing}updateFontFamily(e){if(this.fontFamily===e)return;this.fontFamily=e;let t=$13944958e23ae004$export$2e2bcd8739ae039.loadChar(this.char,e,this.LOD);this.geometry=t.geometry,this.resolution=t.resolution,this.glyphsHa=t.glyphsHa,this.geometry.userData={type:"CharacterGeometry",parameters:{char:this.char,fontFamily:this.fontFamily,letterSpacing:this.letterSpacing,fontSize:this.fontSize,lod:this.LOD,resolution:this.resolution,charSize:this.charSize,localPosition:this.localPosition}},this.updateFontSize(this.fontSize)}updateChar(e){if(this.char===e)return;this.char=e;let t=$13944958e23ae004$export$2e2bcd8739ae039.loadChar(e,this.fontFamily,this.LOD);this.geometry=t.geometry,this.resolution=t.resolution,this.glyphsHa=t.glyphsHa,this.geometry.userData={type:"CharacterGeometry",parameters:{char:this.char,fontFamily:this.fontFamily,letterSpacing:this.letterSpacing,fontSize:this.fontSize,lod:this.LOD,resolution:this.resolution,charSize:this.charSize,localPosition:this.localPosition}},this.updateFontSize(this.fontSize)}updateLetterSpacing(e){this.letterSpacing!==e&&(this.letterSpacing=e,this.updateFontSize(this.fontSize))}updateLOD(e){if(this.LOD===e)return;this.LOD=e;let t=$13944958e23ae004$export$2e2bcd8739ae039.loadChar(this.char,this.fontFamily,this.LOD);this.geometry=t.geometry,this.resolution=t.resolution,this.glyphsHa=t.glyphsHa,this.geometry.userData={type:"CharacterGeometry",parameters:{char:this.char,fontFamily:this.fontFamily,letterSpacing:this.letterSpacing,fontSize:this.fontSize,lod:this.LOD,resolution:this.resolution,charSize:this.charSize,localPosition:this.localPosition}},this.updateFontSize(this.fontSize)}clone(){let e={char:this.char,originalChar:this.originalChar,fontFamily:this.fontFamily,letterSpacing:this.letterSpacing,fontSize:this.fontSize,LOD:this.LOD};return new $13944958e23ae004$export$2e2bcd8739ae039(e).copy(this)}static loadFont(e){return new Promise((function(t,r){$13944958e23ae004$export$2e2bcd8739ae039.fontCache[e]?t($13944958e23ae004$export$2e2bcd8739ae039.fontCache[e]):(new $ad6aefaf36d08024$export$812303d6cad736b3).load($13944958e23ae004$export$2e2bcd8739ae039.FONTS_PATH+e+".json",(r=>{$13944958e23ae004$export$2e2bcd8739ae039.fontCache[e]=r,t(r)}),void 0,r)}))}static loadChar(e,t,r){if($13944958e23ae004$export$2e2bcd8739ae039.charCache[e]){if($13944958e23ae004$export$2e2bcd8739ae039.charCache[e][r]&&$13944958e23ae004$export$2e2bcd8739ae039.charCache[e][r].fontFamily===t)return $13944958e23ae004$export$2e2bcd8739ae039.charCache[e][r]}else $13944958e23ae004$export$2e2bcd8739ae039.charCache[e]={};let n=$13944958e23ae004$export$2e2bcd8739ae039.fontCache[t],i=n.generateShapes(e,1);return $13944958e23ae004$export$2e2bcd8739ae039.charCache[e][r]={geometry:new ShapeGeometry(i,r),fontFamily:t,resolution:n.data.resolution,glyphsHa:n.data.glyphs[e].ha},$13944958e23ae004$export$2e2bcd8739ae039.charCache[e][r]}}let $13944958e23ae004$var$rn=$13944958e23ae004$export$2e2bcd8739ae039;$13944958e23ae004$var$rn.charCache={},$13944958e23ae004$var$rn.fontCache={},$13944958e23ae004$var$rn._fontPath="/_assets/_fonts/";class $1cd09141bcfe9516$export$78410ada03f6931b extends $3ede439791312b8b$export$2e2bcd8739ae039{constructor(e,t=new $815a6c8fba47e593$export$cff88634e3289b72({transparent:!0,opacity:1,visible:!1,side:$ilwiq.DoubleSide})){super(e,t),this.objectType="TextFrame",this.charContainer=new Object3D,this.add(this.charContainer),this.material.visible=!1,this._geometryUserData=e.userData,this.userData.textFrame={hexColor:null,opacity:1,visible:!0,text:"",fontSize:16,lineHeight:1.5,letterSpacing:1,fontFamily:"roboto_regular",textTransform:$cf00a5c94ce7c28c$export$99718561ff318ed4.None,horizontalAlignment:1,verticalAlignment:$cf00a5c94ce7c28c$export$226380a31b848c4b.Top,LOD:16,maxLineSize:this._geometryUserData.parameters.width,textOrigin:new(0,$ilwiq.Vector3)(-.5*this._geometryUserData.parameters.width,.5*this._geometryUserData.parameters.height,0),textLines:[]},this.createTextLine()}static createFromState(e,t,r){let n=$00de8bf802ff7529$export$10e30403edf292dd.create({parameters:{width:t.width,height:t.height}}),i=new $1cd09141bcfe9516$export$78410ada03f6931b(n).fromState(t,r);return i.uuid=e,i}async updateText(e){this.clearText();let t=this.userData.textFrame,r=t.fontFamily;await $13944958e23ae004$export$2e2bcd8739ae039.loadFont(r),t.text=e;let n=t.textOrigin,i=new(0,$ilwiq.MeshBasicMaterial)({visible:t.visible,transparent:!0,side:$ilwiq.DoubleSide}),a=e.split("\n"),o=0;this.userData.textFrame.textLines=a.map(((e,a)=>{let s=new $cd646123365b630e$export$2e2bcd8739ae039(o,t.lineHeight,t.fontSize);return s.message=e.split("").map((e=>{let a={char:e,fontFamily:r,letterSpacing:t.letterSpacing,fontSize:t.fontSize,LOD:16},o=i.clone();o.color=t.hexColor,o.opacity=t.opacity;let c=new $13944958e23ae004$export$2e2bcd8739ae039(a,o);return s.addChar3D(c,n),this.charContainer.add(c),c})),o+=s.maxCharSize*s.lineHeight,s})),this.textFullUpdate(),this.checkOverFlow()}clearText(){let e=this.userData.textFrame.textLines;for(;this.charContainer.children.length;){let e=this.charContainer.children[0];this.charContainer.remove(e)}for(;e.length;)e.pop()}raycast(e,t){let r=[];if(super.raycast(e,r),r.length>0)return void t.push(r[0]);let n=[];for(let r=0,i=this.charContainer.children.length;r<i;++r)if(this.charContainer.children[r]instanceof $13944958e23ae004$export$2e2bcd8739ae039&&(e.intersectObject(this.charContainer.children[r],!1,n),n.length>0))return n[0].object=this,void t.push(n[0])}updateGeometry(e){var t,r,n,i;let a=this.userData,o=this.geometry.userData,s=o.parameters.width,c=o.parameters.height,l=null!=(r=null==(t=e.parameters)?void 0:t.width)?r:s,d=null!=(i=null==(n=e.parameters)?void 0:n.height)?i:c,u=a.textFrame;super.updateGeometry(e),u.maxLineSize=l,u.textOrigin.set(-.5*l,.5*d,0),d!==c?(this.checkOverFlow(),this.checkCapacity()):l!==s&&(s<l?this.checkCapacity():s>l&&this.checkOverFlow())}checkOverFlow(e=0){let t=this.userData,r=t.textFrame.textOrigin,n=t.textFrame.textLines;for(let i=e;i<n.length;i++){n[i].updateYLinePos(this.getNewLinePosition(i)),n[i].fullUpdate(r);let e=[];for(;n[i].checkOverFlow(t.textFrame.maxLineSize);)n[i].containSpaceOverFlow()?e.unshift(n[i].getWord(n[i].message.length-1,-1)):e.unshift(n[i].popChar());if(e.length>0){void 0===n[i+1]?(n[i].isEndLine(!1),this.createTextLine()):n[i].endLine&&(this.createTextLine(i+1),n[i].isEndLine(!1),n[i+1].isEndLine(!0));let t=0;for(let a=0;a<e.length;a+=1)for(let o=0;o<e[a].length;o+=1)n[i+1].addChar3D(e[a][o],r,t),t+=1;n[i+1].fullUpdate(r)}n[i].fullUpdate(r)}this.textFullUpdate(e)}checkCapacity(e=0){let t=this.userData,r=t.textFrame.textOrigin,n=t.textFrame.maxLineSize,i=t.textFrame.textLines;for(let t=e;t<i.length;t+=1)if(i[t].updateYLinePos(this.getNewLinePosition(t)),i[t].fullUpdate(r),i[t-1])for(;!i[t-1].endLine;){let e,a=i[t-1].spaceLeft(n);if(!(i[t].wordSize(0,1)<=a)){i[t].isEmpty()?(i[t].endLine&&i[t-1].isEndLine(!0),i.splice(t,1),t-=1):(i[t].updateYLinePos(this.getNewLinePosition(t)),i[t].fullUpdate(r));break}e=i[t].containSpace()?i[t].getWord(0,1):i[t].popChar(0);for(let n=0;n<e.length;n+=1)e[n]&&i[t-1].addChar3D(e[n],r)}this.textFullUpdate(e)}createTextLine(e=this.userData.textFrame.textLines.length){let t=this.userData.textFrame;t.textLines.splice(e,0,new $cd646123365b630e$export$2e2bcd8739ae039(this.getNewLinePosition(e),t.lineHeight,t.fontSize))}textFullUpdate(e=0){let t=this.userData.textFrame,r=t.textLines,n=this.getVerticalAlignmentOffSet();for(let i=e;i<r.length;i++)r[i].updateYLinePos(this.getNewLinePosition(i)),r[i].fullUpdate(t.textOrigin),r[i].alignText(t.textOrigin,t.maxLineSize,t.horizontalAlignment,t.verticalAlignment,n)}getVerticalAlignmentOffSet(){switch(this.userData.textFrame.verticalAlignment){case $cf00a5c94ce7c28c$export$226380a31b848c4b.Top:return 0;case $cf00a5c94ce7c28c$export$226380a31b848c4b.Center:return this.getRemainingVerticalSpace()/2;case $cf00a5c94ce7c28c$export$226380a31b848c4b.Bottom:return this.getRemainingVerticalSpace();default:return 0}}getRemainingVerticalSpace(){let e=this.userData.textFrame.textLines;return this.geometry.userData.parameters.height-this.getNewLinePosition(e.length)}getNewLinePosition(e){let t=this.userData.textFrame.textLines,r=0;for(let n=0;n<e;n+=1)r+=t[n].maxCharSize*t[n].lineHeight;return r}updateColor(e){var t;let r=this.userData;r.textFrame.hexColor=e;let n=r.textFrame.textLines;for(let r=0;r<n.length;r++){let i=n[r].message;for(let r=0;r<i.length;r++){let n=i[r].material;(null==(t=n.color)?void 0:t.isColor)&&(n.color=e)}}}updateOpacity(e){let t=this.userData;t.textFrame.opacity=e;let r=t.textFrame.textLines;for(let t=0;t<r.length;t++){let n=r[t].message;for(let t=0;t<n.length;t++){n[t].material.opacity=e}}}updateVisible(e){let t=this.userData;t.textFrame.visible=e;let r=t.textFrame.textLines;for(let t=0;t<r.length;t++){let n=r[t].message;for(let t=0;t<n.length;t++){n[t].material.visible=e}}}async updateFontFamily(e){await $13944958e23ae004$export$2e2bcd8739ae039.loadFont(e);let t=this.userData.textFrame,r=t.textLines;t.fontFamily=e;for(let t=0;t<r.length;t++){let n=r[t].message;for(let t=0;t<n.length;t++)n[t].updateFontFamily(e)}this.textFullUpdate(),this.checkOverFlow(),this.checkCapacity()}updateFontSize(e){let t=this.userData.textFrame,r=t.textLines,n=t.fontSize;t.fontSize=e;for(let t=0;t<r.length;t++)r[t].updateFontSize(e);this.textFullUpdate(),e>n?this.checkOverFlow():e<n&&this.checkCapacity()}async updateTextTransform(e){let t=this.userData.textFrame;await $13944958e23ae004$export$2e2bcd8739ae039.loadFont(t.fontFamily);let r=t.textLines;switch(t.textTransform=e,e){case $cf00a5c94ce7c28c$export$99718561ff318ed4.Upper:for(let e=0;e<r.length;e++){let t=r[e].message;for(let n=0;n<t.length;n++)r[e].message[n].updateChar(t[n].char.toUpperCase())}break;case $cf00a5c94ce7c28c$export$99718561ff318ed4.Lower:for(let e=0;e<r.length;e++){let t=r[e].message;for(let n=0;n<t.length;n++)r[e].message[n].updateChar(t[n].char.toLowerCase())}break;default:for(let e=0;e<r.length;e++){let t=r[e].message;for(let n=0;n<t.length;n++)r[e].message[n].updateChar(t[n].originalChar)}}this.textFullUpdate(),this.checkOverFlow(),this.checkCapacity()}updateLetterSpacing(e){let t=this.userData,r=t.textFrame.textLines;t.textFrame.letterSpacing=e;for(let t=0;t<r.length;t++){let n=r[t].message;for(let t=0;t<n.length;t++)n[t].updateLetterSpacing(e)}this.textFullUpdate(),this.checkOverFlow(),this.checkCapacity()}updateLOD(e){let t=this.userData;t.textFrame.LOD=e;let r=t.textFrame.textLines;for(let e=0;e<r.length;e++);this.textFullUpdate(),this.checkOverFlow(),this.checkCapacity()}updateLineHeight(e){let t=this.userData,r=t.textFrame.textLines;t.textFrame.lineHeight=e;for(let t=0;t<r.length;t++)r[t].updatelineHeight(e);this.textFullUpdate()}updateVerticalAlignment(e){this.userData.textFrame.verticalAlignment=e,this.textFullUpdate()}updateHorizontalAlignment(e){this.userData.textFrame.horizontalAlignment=e,this.textFullUpdate()}fromTextFrameData(e,t){if(void 0!==e.color){let r=$f34097f475629eff$export$c0c1db43bb4f60f7(e.color,t);this.updateColor(r),this.updateOpacity(r.a)}void 0!==e.alpha&&this.updateOpacity(e.alpha),void 0!==e.font&&this.updateFontFamily(e.font),void 0!==e.horizontalAlign&&this.updateHorizontalAlignment(e.horizontalAlign),void 0!==e.verticalAlign&&this.updateVerticalAlignment(e.verticalAlign),void 0!==e.textTransform&&this.updateTextTransform(e.textTransform),void 0!==e.fontSize&&this.updateFontSize(e.fontSize),void 0!==e.lineHeight&&this.updateLineHeight(e.lineHeight),void 0!==e.letterSpacing&&this.updateLetterSpacing(e.letterSpacing),void 0!==e.text&&""!==e.text&&this.updateText(e.text),(void 0!==e.width||void 0!==e.height)&&this.updateGeometry({parameters:{width:e.width,height:e.height}})}fromState(e,t){return super.fromState(e),this.fromTextFrameData(e,t),this}convertToVector(){let{fontFamily:e,hexColor:t}=this.userData.textFrame,r=new $968392d653082a55$export$2441567ff18621e0;r.name="Text Shape";let n=$13944958e23ae004$export$2e2bcd8739ae039.fontCache[e];for(let e of this.charContainer.children)e instanceof $13944958e23ae004$export$2e2bcd8739ae039&&n.generateShapes(e.char,1).forEach((n=>{let i=(new $303979faefae2a64$export$2e2bcd8739ae039).fromShape(n);i.applyScale(e.scale.x,e.scale.y);let a=$62d72ba884266636$export$6a1b7c4373126e72.create({shape:i}),o=new $815a6c8fba47e593$export$cff88634e3289b72({side:$ilwiq.DoubleSide});o.color=t;let s=new VectorObject(a,o);s.name=e.char,s.position.copy(e.position),s.rotation.copy(e.rotation),r.attach(s)}));return r}}let $1cd09141bcfe9516$var$Bl=$1cd09141bcfe9516$export$78410ada03f6931b;$1cd09141bcfe9516$var$Bl.VerticalAlign=$cf00a5c94ce7c28c$export$226380a31b848c4b,$1cd09141bcfe9516$var$Bl.HorizontalAlign=$cf00a5c94ce7c28c$export$e1f83bbdbccc149a,$1cd09141bcfe9516$var$Bl.TextTransform=$cf00a5c94ce7c28c$export$99718561ff318ed4;var $ilwiq=parcelRequire("ilwiq");let $00dc84edb64790c1$var$nA=new(0,$ilwiq.Matrix3),$00dc84edb64790c1$var$tA=new(0,$ilwiq.Vector3),$00dc84edb64790c1$var$rA=new(0,$ilwiq.Vector3),$00dc84edb64790c1$var$UF=new(0,$ilwiq.Vector3)(0,0,1);class $00dc84edb64790c1$export$50a443c95ace765 extends $3ede439791312b8b$export$2e2bcd8739ae039{constructor(e=$62d72ba884266636$export$6a1b7c4373126e72.create({}),t=new $815a6c8fba47e593$export$cff88634e3289b72({side:$ilwiq.DoubleSide})){var r;super(e,t),this.recursiveSelection=!1,this.objectType="VectorObject",this.eventDispatcher=new(0,$ilwiq.EventDispatcher),this._onShapeUpdate=()=>{if(this.geometry instanceof $22f8397078a03bca$export$125740beb827f712){if(this.geometry.updateFromShape()){let e=this.geometry.drawCount,t=this.geometry.userData;this.updateGeometry(Object.assign(this.geometry.userData,{parameters:Object.assign(t.parameters,{surfaceMaxCount:e+1e3})}))}}else this.updateGeometry({});this.geometry.computeBoundingSphere(),this.geometry.computeBoundingBox()},this.castShadow=!0,this.receiveShadow=!0,this.forceComputeSize=!0,this.shape=e.userData.shape,null==(r=this.shape.eventDispatcher)||r.addEventListener("update",this._onShapeUpdate)}toJSON(e){let t=super.toJSON(e);return t.object.ObjectType="VectorObject",t}fromState(e){return super.fromState(e),this.shape.update(),this}setHelperVisibility(){}updateGeometry(e){if(super.updateGeometry(e),"userData"in this.geometry){let e=this.geometry.userData.parameters;this.eventDispatcher.dispatchEvent({type:"geometryUpdate",parameters:e})}}setShape(e){var t,r;this.shape&&(null==(t=this.shape.eventDispatcher)||t.removeEventListener("update",this._onShapeUpdate)),this.shape=e,null==(r=this.shape.eventDispatcher)||r.addEventListener("update",this._onShapeUpdate)}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),$00dc84edb64790c1$var$nA.getNormalMatrix(this.matrixWorld),$00dc84edb64790c1$var$tA.copy($00dc84edb64790c1$var$UF).applyMatrix3($00dc84edb64790c1$var$nA).normalize(),$00dc84edb64790c1$var$rA.setFromMatrixPosition(this.matrixWorld),this.shape.plane.setFromNormalAndCoplanarPoint($00dc84edb64790c1$var$tA,$00dc84edb64790c1$var$rA)}clone(e){let t=this.shape.clone(),r=this.material.clone(),n=this.geometry.userData,i=$62d72ba884266636$export$6a1b7c4373126e72.create(Object.assign({},n,{shape:t}));return o=new $00dc84edb64790c1$export$50a443c95ace765(i,r).copy(this,e),o.shape=t,t.update(),o}raycast(e,t){ir.prototype.raycast.call(this,e,t)}}parcelRequire("f1q41");var $ilwiq=parcelRequire("ilwiq");function $68c2bda7337c0a1a$export$1034f90255d403fd(e){let{alpha:t,mode:r}=e.data;return{type:e.data.type,alpha:t,mode:r}}function $68c2bda7337c0a1a$export$7b3aee69d02c5fd3(e,t){return{...$68c2bda7337c0a1a$export$1034f90255d403fd(e),color:$f34097f475629eff$export$c0c1db43bb4f60f7(e.data.color,t)}}function $68c2bda7337c0a1a$export$3416d9586ef7ad71(e,t){let{bias:r,scale:n,intensity:i,factor:a,color:o}=e.data;return{...$68c2bda7337c0a1a$export$1034f90255d403fd(e),color:$f34097f475629eff$export$c0c1db43bb4f60f7(o,t),bias:r,scale:n,intensity:i,factor:a}}function $68c2bda7337c0a1a$export$bc643007265b41f(e){let{gradientType:t,smooth:r,colors:n,steps:i,angle:a,offset:o,morph:s}=e.data;return{...$68c2bda7337c0a1a$export$1034f90255d403fd(e),gradientType:t,smooth:r,colors:n.map((e=>new(0,$ilwiq.Vector4)(e[0],e[1],e[2],e[3]))),num:n.length,steps:i,offset:new(0,$ilwiq.Vector2)(...o),morph:new(0,$ilwiq.Vector2)(...s),angle:a}}function $68c2bda7337c0a1a$export$3a0a2526a904af85(e){let{gradientType:t,near:r,far:n,isVector:i,isWorldSpace:a,origin:o,direction:s,colors:c,steps:l,smooth:d,num:u}=e.data;return{...$68c2bda7337c0a1a$export$1034f90255d403fd(e),gradientType:t,near:r,far:n,isVector:i,isWorldSpace:a,origin:new(0,$ilwiq.Vector3)(...o),direction:s?new(0,$ilwiq.Vector3)(...s):new(0,$ilwiq.Vector3)(1,0,0),num:u,colors:c.map((e=>new(0,$ilwiq.Vector4)(e[0],e[1],e[2],e[3]))),steps:l,smooth:d}}function $68c2bda7337c0a1a$export$748f11d516f4ad99(e){let{cnormal:t}=e.data;return{...$68c2bda7337c0a1a$export$1034f90255d403fd(e),cnormal:new(0,$ilwiq.Vector3)(t[0],t[1],t[2])}}function $68c2bda7337c0a1a$export$da205f2d9d216dd1(e,t){let{data:r}=e;return{...$68c2bda7337c0a1a$export$1034f90255d403fd(e),scale:r.scale,move:r.move,fA:new(0,$ilwiq.Vector2)(...r.fA),fB:new(0,$ilwiq.Vector2)(...r.fB),distortion:new(0,$ilwiq.Vector2)(...r.distortion),colorA:$f34097f475629eff$export$c0c1db43bb4f60f7(r.colorA,t),colorB:$f34097f475629eff$export$c0c1db43bb4f60f7(r.colorB,t),colorC:$f34097f475629eff$export$c0c1db43bb4f60f7(r.colorC,t),colorD:$f34097f475629eff$export$c0c1db43bb4f60f7(r.colorD,t),noiseType:r.noiseType}}function $68c2bda7337c0a1a$export$7511445fa416fc4d(e,t){let r,{projection:n,axis:i,crop:a,size:o}=e.data,{image:s,wrapping:c,repeat:l,offset:d}=e.data.texture,u=new(0,$ilwiq.Texture);if("string"==typeof s)r=null==t?void 0:t.getImage(s);else{let e=new Image;e.src=s.data,e.onload=()=>{(null==t?void 0:t.onImageLoad)&&(null==t||t.onImageLoad(s.data))},r=e}return u.image=r,u.wrapS=u.wrapT=c,{...$68c2bda7337c0a1a$export$1034f90255d403fd(e),texture:u,mat:(new(0,$ilwiq.Matrix3)).setUvTransform(d[0],d[1],l[0],l[1],0,0,0),crop:a,projection:n,axis:["x","y","z"].indexOf(i),size:o}}function $68c2bda7337c0a1a$export$96508db4c719884e(e){let{data:t}=e;return{...$68c2bda7337c0a1a$export$1034f90255d403fd(e),filmThickness:t.filmThickness,movement:t.movement,wavelengths:new(0,$ilwiq.Vector3)(...t.wavelengths),noiseStrength:t.noiseStrength,noiseScale:t.noiseScale,offset:new(0,$ilwiq.Vector3)(...t.offset)}}function $68c2bda7337c0a1a$export$3eb2066dc1141c89(e,t){let{data:r}=e;return{...$68c2bda7337c0a1a$export$1034f90255d403fd(e),thickness:r.thickness,ior:r.ior,roughness:r.roughness,transmissionSamplerMap:t.transmissionSamplerMap,transmissionDepthMap:t.transmissionDepthMap}}function $68c2bda7337c0a1a$export$ab448df68a97c4c9(e,t){let r,n=new(0,$ilwiq.Texture),{image:i}=e.data.texture;if("string"==typeof i)r=null==t?void 0:t.getImage(i);else{let e=new Image;e.src=i.data,e.onload=()=>{(null==t?void 0:t.onImageLoad)&&(null==t||t.onImageLoad(i.data))},r=e}n.image=r;return{...$68c2bda7337c0a1a$export$1034f90255d403fd(e),color:16777215,texture:n}}function $68c2bda7337c0a1a$export$9dbabfbe07cfdd5(e){let{data:t}=e,r={type:e.data.type,intensity:t.intensity};if("noise"===t.displacementType)return{...r,offset:new(0,$ilwiq.Vector3)(...t.offset),scale:t.scale,movement:t.movement,noiseType:t.noiseType};{let e=new(0,$ilwiq.Texture),n=(new(0,$ilwiq.Matrix3)).setUvTransform(0,0,1,1,0,0,0);return{...r,texture:e,mat:n,crop:t.crop}}}function $68c2bda7337c0a1a$export$965b88cb8b856f45(e,t){switch(e.data.type){case"light":return $68c2bda7337c0a1a$export$1034f90255d403fd(e);case"fresnel":return $68c2bda7337c0a1a$export$3416d9586ef7ad71(e,t);case"gradient":return $68c2bda7337c0a1a$export$bc643007265b41f(e);case"depth":return $68c2bda7337c0a1a$export$3a0a2526a904af85(e);case"normal":return $68c2bda7337c0a1a$export$748f11d516f4ad99(e);case"noise":return $68c2bda7337c0a1a$export$da205f2d9d216dd1(e,t);case"texture":return $68c2bda7337c0a1a$export$7511445fa416fc4d(e,t);case"rainbow":return $68c2bda7337c0a1a$export$96508db4c719884e(e);case"transmission":return $68c2bda7337c0a1a$export$3eb2066dc1141c89(e,t);case"matcap":return $68c2bda7337c0a1a$export$ab448df68a97c4c9(e,t);case"displace":return $68c2bda7337c0a1a$export$9dbabfbe07cfdd5(e);default:return $68c2bda7337c0a1a$export$7b3aee69d02c5fd3(e,t)}}parcelRequire("f1q41");var $cfae44f0dfdf62c0$exports={},$cfae44f0dfdf62c0$var$process=$cfae44f0dfdf62c0$exports={},$cfae44f0dfdf62c0$var$cachedSetTimeout,$cfae44f0dfdf62c0$var$cachedClearTimeout;function $cfae44f0dfdf62c0$var$defaultSetTimout(){throw new Error("setTimeout has not been defined")}function $cfae44f0dfdf62c0$var$defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function $cfae44f0dfdf62c0$var$runTimeout(e){if($cfae44f0dfdf62c0$var$cachedSetTimeout===setTimeout)return setTimeout(e,0);if(($cfae44f0dfdf62c0$var$cachedSetTimeout===$cfae44f0dfdf62c0$var$defaultSetTimout||!$cfae44f0dfdf62c0$var$cachedSetTimeout)&&setTimeout)return $cfae44f0dfdf62c0$var$cachedSetTimeout=setTimeout,setTimeout(e,0);try{return $cfae44f0dfdf62c0$var$cachedSetTimeout(e,0)}catch(t){try{return $cfae44f0dfdf62c0$var$cachedSetTimeout.call(null,e,0)}catch(t){return $cfae44f0dfdf62c0$var$cachedSetTimeout.call(this,e,0)}}}function $cfae44f0dfdf62c0$var$runClearTimeout(e){if($cfae44f0dfdf62c0$var$cachedClearTimeout===clearTimeout)return clearTimeout(e);if(($cfae44f0dfdf62c0$var$cachedClearTimeout===$cfae44f0dfdf62c0$var$defaultClearTimeout||!$cfae44f0dfdf62c0$var$cachedClearTimeout)&&clearTimeout)return $cfae44f0dfdf62c0$var$cachedClearTimeout=clearTimeout,clearTimeout(e);try{return $cfae44f0dfdf62c0$var$cachedClearTimeout(e)}catch(t){try{return $cfae44f0dfdf62c0$var$cachedClearTimeout.call(null,e)}catch(t){return $cfae44f0dfdf62c0$var$cachedClearTimeout.call(this,e)}}}!function(){try{$cfae44f0dfdf62c0$var$cachedSetTimeout="function"==typeof setTimeout?setTimeout:$cfae44f0dfdf62c0$var$defaultSetTimout}catch(e){$cfae44f0dfdf62c0$var$cachedSetTimeout=$cfae44f0dfdf62c0$var$defaultSetTimout}try{$cfae44f0dfdf62c0$var$cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:$cfae44f0dfdf62c0$var$defaultClearTimeout}catch(e){$cfae44f0dfdf62c0$var$cachedClearTimeout=$cfae44f0dfdf62c0$var$defaultClearTimeout}}();var $cfae44f0dfdf62c0$var$queue=[],$cfae44f0dfdf62c0$var$draining=!1,$cfae44f0dfdf62c0$var$currentQueue,$cfae44f0dfdf62c0$var$queueIndex=-1;function $cfae44f0dfdf62c0$var$cleanUpNextTick(){$cfae44f0dfdf62c0$var$draining&&$cfae44f0dfdf62c0$var$currentQueue&&($cfae44f0dfdf62c0$var$draining=!1,$cfae44f0dfdf62c0$var$currentQueue.length?$cfae44f0dfdf62c0$var$queue=$cfae44f0dfdf62c0$var$currentQueue.concat($cfae44f0dfdf62c0$var$queue):$cfae44f0dfdf62c0$var$queueIndex=-1,$cfae44f0dfdf62c0$var$queue.length&&$cfae44f0dfdf62c0$var$drainQueue())}function $cfae44f0dfdf62c0$var$drainQueue(){if(!$cfae44f0dfdf62c0$var$draining){var e=$cfae44f0dfdf62c0$var$runTimeout($cfae44f0dfdf62c0$var$cleanUpNextTick);$cfae44f0dfdf62c0$var$draining=!0;for(var t=$cfae44f0dfdf62c0$var$queue.length;t;){for($cfae44f0dfdf62c0$var$currentQueue=$cfae44f0dfdf62c0$var$queue,$cfae44f0dfdf62c0$var$queue=[];++$cfae44f0dfdf62c0$var$queueIndex<t;)$cfae44f0dfdf62c0$var$currentQueue&&$cfae44f0dfdf62c0$var$currentQueue[$cfae44f0dfdf62c0$var$queueIndex].run();$cfae44f0dfdf62c0$var$queueIndex=-1,t=$cfae44f0dfdf62c0$var$queue.length}$cfae44f0dfdf62c0$var$currentQueue=null,$cfae44f0dfdf62c0$var$draining=!1,$cfae44f0dfdf62c0$var$runClearTimeout(e)}}function $cfae44f0dfdf62c0$var$Item(e,t){this.fun=e,this.array=t}function $cfae44f0dfdf62c0$var$noop(){}function $801beee143e99c0a$var$Uc(e){if(void 0!==e.deepFreeze)return void e.deepFreeze(e);let t=Object.getOwnPropertyNames(e);for(let r of t){let t=e[r];t&&"object"==typeof t&&$801beee143e99c0a$var$Uc(t)}return Object.freeze(e)}function $801beee143e99c0a$var$RS(e,t){let r=0;for(;r<e.length&&r<t.length;){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1;r+=1}return r!==t.length?-1:r!==e.length?1:0}function $801beee143e99c0a$var$Fi(e,t,r){if(void 0===e?void 0===t?(e=0,t=10):e=t-10:void 0===t&&(t=e+10),e>t){let r=e;e=t,t=r}let n=[],i=1/(r+1);for(let a=0;a<r;a++){let r=e+(t-e)*(a+.75+.5*Math.random())*i;n.push(r)}return n}function $801beee143e99c0a$var$FS(e,t){for(let r of e)t(r.id,r.data),$801beee143e99c0a$var$FS(r.children,t)}function $801beee143e99c0a$var$US(e,t){t(e.id,e.data);for(let r of e.children)$801beee143e99c0a$var$US(r,t)}$cfae44f0dfdf62c0$var$process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];$cfae44f0dfdf62c0$var$queue.push(new $cfae44f0dfdf62c0$var$Item(e,t)),1!==$cfae44f0dfdf62c0$var$queue.length||$cfae44f0dfdf62c0$var$draining||$cfae44f0dfdf62c0$var$runTimeout($cfae44f0dfdf62c0$var$drainQueue)},$cfae44f0dfdf62c0$var$Item.prototype.run=function(){this.fun.apply(null,this.array)},$cfae44f0dfdf62c0$var$process.title="browser",$cfae44f0dfdf62c0$var$process.browser=!0,$cfae44f0dfdf62c0$var$process.env={},$cfae44f0dfdf62c0$var$process.argv=[],$cfae44f0dfdf62c0$var$process.version="",$cfae44f0dfdf62c0$var$process.versions={},$cfae44f0dfdf62c0$var$process.on=$cfae44f0dfdf62c0$var$noop,$cfae44f0dfdf62c0$var$process.addListener=$cfae44f0dfdf62c0$var$noop,$cfae44f0dfdf62c0$var$process.once=$cfae44f0dfdf62c0$var$noop,$cfae44f0dfdf62c0$var$process.off=$cfae44f0dfdf62c0$var$noop,$cfae44f0dfdf62c0$var$process.removeListener=$cfae44f0dfdf62c0$var$noop,$cfae44f0dfdf62c0$var$process.removeAllListeners=$cfae44f0dfdf62c0$var$noop,$cfae44f0dfdf62c0$var$process.emit=$cfae44f0dfdf62c0$var$noop,$cfae44f0dfdf62c0$var$process.prependListener=$cfae44f0dfdf62c0$var$noop,$cfae44f0dfdf62c0$var$process.prependOnceListener=$cfae44f0dfdf62c0$var$noop,$cfae44f0dfdf62c0$var$process.listeners=function(e){return[]},$cfae44f0dfdf62c0$var$process.binding=function(e){throw new Error("process.binding is not supported")},$cfae44f0dfdf62c0$var$process.cwd=function(){return"/"},$cfae44f0dfdf62c0$var$process.chdir=function(e){throw new Error("process.chdir is not supported")},$cfae44f0dfdf62c0$var$process.umask=function(){return 0};class $801beee143e99c0a$export$84f5edbdf448b3ab extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,$801beee143e99c0a$export$84f5edbdf448b3ab.prototype)}deepFreeze(){let e=0;for(;e<this.length;)$801beee143e99c0a$var$Uc(this[e]),e++}fillCaches0(e,t){var r;if(null==(r=this.objCaches)?void 0:r.has(e.id))throw new Error("duplicated item");this.objCaches.set(e.id,e),this.parentCaches.set(e.id,t);for(let t of e.children)this.fillCaches0(t,e.id)}fillCaches(){if(void 0===this.objCaches){this.objCaches=new Map,this.parentCaches=new Map;for(let e of this)this.fillCaches0(e,null)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(0!==e.length)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}isDescendantOf(e,t){for(;e;){let r=this.parent(e);if(r===t)return!0;e=r}return!1}data(e){var t;return null==(t=this.get(e))?void 0:t.data}has(e){return void 0!==this.childrenOf(e)}get(e){return this.fillCaches(),this.objCaches.get(e)}childrenOf(e){var t;return null===e?this:null==(t=this.get(e))?void 0:t.children}traverseFrom(e,t){if(null===e)this.traverse(t);else{let r=this.get(e);r&&$801beee143e99c0a$var$US(r,t)}}traverse(e){$801beee143e99c0a$var$FS(this,e)}totalSize(){return this.fillCaches(),this.objCaches.size}parent(e){return this.fillCaches(),this.parentCaches.get(e)}childrenArray(e){return null===e?this:this.get(e).children}modifyById(e,t){if(void 0===this.get(e))throw new Error("not expected");{let r=this.parent(e),n=this.childrenArray(r),i=n.findIndex((t=>t.id===e));if(i<0)throw new Error("not expected");let a=n[i];return n=[...n],n[i]={...a,data:t},this.modifyArrayBy(r,n)}}modifyArrayBy(e,t){let r=e,n=t;for(;null!==r;){let e=n,t=r;if(r=this.parent(r),void 0===r)throw new Error;n=this.childrenArray(r);let i=n.findIndex((e=>e.id===t));if(i<0)throw new Error;n=[...n],n[i]={...n[i],children:e}}Object.setPrototypeOf(n,$801beee143e99c0a$export$84f5edbdf448b3ab.prototype);let i=n;return i.fillCaches(),i}runOp(e){switch(e.type){case $cf00a5c94ce7c28c$export$7f81aa1ca6c4a976.Add:return this.addOp(e);case $cf00a5c94ce7c28c$export$7f81aa1ca6c4a976.Delete:return this.deleteOp(e);case $cf00a5c94ce7c28c$export$7f81aa1ca6c4a976.Move:return this.moveOp(e)}}addOp(e){let{parent:t,fi:r,id:n,data:i,children:a}=e;if(null!==t&&void 0===this.get(t))return null;if(void 0!==this.get(n))return null;{let o=t,s=this.childrenArray(o),c={fi:r,id:n,data:i,children:a};return s=[...s,c],s.sort(((e,t)=>e.fi-t.fi)),e.localIndex=s.indexOf(c),{data:this.modifyArrayBy(o,s),actual:e,reverse:{type:$cf00a5c94ce7c28c$export$7f81aa1ca6c4a976.Delete,id:n}}}}deleteOp(e){let{id:t}=e;if(null===this.get(t))return null;{let r=this.parent(t);if(void 0===r)return null;let n=this.childrenArray(r),i=n.findIndex((e=>e.id===t));e.localIndex=i,n=[...n];let a=n.splice(i,1)[0];return{data:this.modifyArrayBy(r,n),actual:e,reverse:{type:$cf00a5c94ce7c28c$export$7f81aa1ca6c4a976.Add,...a,parent:r}}}}moveOp(e){let{parent:t,fi:r,id:n}=e;if(null!==t&&void 0===this.get(t))return this.deleteOp({type:$cf00a5c94ce7c28c$export$7f81aa1ca6c4a976.Delete,id:n});if(null!==t){let e=t;for(;null!==e;){if(void 0===e)throw new Error;if(e===n)throw new Error("cyclic tree");e=this.parent(e)}}let i=this.parent(n);if(void 0===i)return null;let a=i,o=this.childrenArray(i),s=o.findIndex((e=>e.id===n));o=[...o];let c=o.splice(s,1)[0],l=this.modifyArrayBy(i,o);i=t,o=l.childrenArray(i);let d=c.fi;return c={...c,fi:r},o=[...o,c],o.sort(((e,t)=>e.fi-t.fi)),e.localIndex=o.indexOf(c),l=l.modifyArrayBy(i,o),{data:l,actual:e,reverse:{type:$cf00a5c94ce7c28c$export$7f81aa1ca6c4a976.Move,parent:a,fi:d,id:n}}}previous(e,t){if(null===t){let t=this.childrenArray(e);return 0===t.length?null:t[t.length-1].id}let r=null;for(let n of this.childrenArray(e)){if(n.id===t)return r;r=n.id}return null}traverseSortNext(e){let t=this.parent(e);if(void 0!==t){let r=this.childrenArray(t),n=r.findIndex((t=>t.id===e))+1;if(n<r.length)return r[n].id;if(t)return this.traverseSortNext(t)}}sortNext(e){let t=this.childrenArray(e);return t.length>0?t[0].id:this.traverseSortNext(e)}traverseSortPrevious(e){let t=this.childrenArray(e);return t.length>0?this.traverseSortPrevious(t[t.length-1].id):e}sortPrevious(e){let t=this.parent(e);if(void 0!==t){let r=this.childrenArray(t),n=r.findIndex((t=>t.id===e))-1;return n>=0?this.traverseSortPrevious(r[n].id):t}}getAllSorted(e){let t=[];for(let r of e){let e=this.getWithSortKey(r.id);void 0!==e&&t.push({...r,...e})}t.sort(((e,t)=>$801beee143e99c0a$var$RS(e.sortKey,t.sortKey)));for(let e of t)delete e.sortKey;return t}getWithSortKey(e){var t=e;let r=[],n=this.get(t),i=n;if(void 0!==n){for(;t;)r.splice(0,0,n.fi),null!==(t=this.parent(t))&&(n=this.get(t));return{...i,sortKey:r}}}insertBeforeHelper(e,t,r){return this.insertAfterHelper(e,this.previous(e,t),r)}insertAfterHelper(e,t,r){let n=this.childrenArray(e);if(null===t){if(0===n.length)return $801beee143e99c0a$var$Fi(0,r,r);{let e=n[0].fi;return $801beee143e99c0a$var$Fi(e-r,e,r)}}{let i=this.get(t);if(void 0===i||this.parent(t)!==e)throw new Error("illegal args");let a=n.find((e=>e.fi>i.fi));if(void 0===a){let e=n[n.length-1].fi;return $801beee143e99c0a$var$Fi(e,e+r,r)}return $801beee143e99c0a$var$Fi(i.fi,a.fi,r)}}}class $801beee143e99c0a$export$28d922e8fa3bd007 extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,$801beee143e99c0a$export$28d922e8fa3bd007.prototype)}deepFreeze(){let e=0;for(;e<this.length;)$801beee143e99c0a$var$Uc(this[e]),e++}fillCaches0(e){this.objCaches.set(e.id,e)}fillCaches(){if(void 0===this.objCaches){this.objCaches=new Map,Object.getOwnPropertyDescriptor(this,"objCaches").enumerable=!1;for(let e of this)this.fillCaches0(e)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(0!==e.length)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}data(e){var t;return null==(t=this.get(e))?void 0:t.data}get(e){return this.fillCaches(),this.objCaches.get(e)}modifyById(e,t){if(void 0===this.get(e))throw new Error("not expected");{let r=this,n=r.findIndex((t=>t.id===e));if(n<0)throw new Error("not expected");let i=r[n];return r=[...r],r[n]={...i,data:t},this.modifyArrayBy(r)}}modifyArrayBy(e){Object.setPrototypeOf(e,$801beee143e99c0a$export$28d922e8fa3bd007.prototype);let t=e;return void 0!==$cfae44f0dfdf62c0$exports||t.fillCaches(),t}runOp(e){switch(e.type){case $cf00a5c94ce7c28c$export$f394be85d9c3f0a2.Add:return this.addOp(e);case $cf00a5c94ce7c28c$export$f394be85d9c3f0a2.Delete:return this.deleteOp(e);case $cf00a5c94ce7c28c$export$f394be85d9c3f0a2.Move:return this.moveOp(e)}}addOp(e){let{fi:t,id:r,data:n}=e,i=this,a={fi:t,id:r,data:n};return i=[...i,a],i.sort(((e,t)=>e.fi-t.fi)),e.localIndex=i.indexOf(a),{data:this.modifyArrayBy(i),actual:e,reverse:{type:$cf00a5c94ce7c28c$export$f394be85d9c3f0a2.Delete,id:r}}}deleteOp(e){let{id:t}=e,r=this,n=r.findIndex((e=>e.id===t));if(-1===n)return null;e.localIndex=n,r=[...r];let i=r.splice(n,1)[0];return{data:this.modifyArrayBy(r),actual:e,reverse:{type:$cf00a5c94ce7c28c$export$f394be85d9c3f0a2.Add,...i}}}moveOp(e){let{fi:t,id:r}=e,n=this;n=[...n];let i=n.findIndex((e=>e.id===r));if(-1===i)return null;let a=n[i].fi,o={...n[i],fi:t};return n[i]=o,n.sort(((e,t)=>e.fi-t.fi)),e.localIndex=n.indexOf(o),{data:this.modifyArrayBy(n),actual:e,reverse:{type:$cf00a5c94ce7c28c$export$f394be85d9c3f0a2.Move,fi:a,id:r}}}previous(e){if(null===e)return 0===this.length?null:this[this.length-1].id;let t=null;for(let r of this){if(r.id===e)return t;t=r.id}return null}insertBeforeHelper(e,t){return this.insertAfterHelper(this.previous(e),t)}insertAfterHelper(e,t){let r=this;if(null===e){if(0===r.length)return $801beee143e99c0a$var$Fi(0,t,t);{let e=r[0].fi;return $801beee143e99c0a$var$Fi(e-t,e,t)}}{let n=this.get(e);if(void 0===n)throw new Error("illegal args");let i=r.find((e=>e.fi>n.fi));if(void 0===i){let e=r[r.length-1].fi;return $801beee143e99c0a$var$Fi(e,e+t,t)}return $801beee143e99c0a$var$Fi(n.fi,i.fi,t)}}}var $ilwiq=parcelRequire("ilwiq");const $d9b846eb5d0a0e26$export$e9f788a9a5089ca=new class{constructor(){this.all=["PerspectiveCamera","OrthographicCamera"]}is(e){return this.all.includes(e)}},$d9b846eb5d0a0e26$export$c9aa1438c29faa71=new class{constructor(){this.DefaultUp=[0,1,0],this.DefaultTargetOffset=1e3,this.defaultData={far:5e5,type:"OrthographicCamera",perspective:{near:5,fov:45,zoom:1},orthographic:{near:-5e5,zoom:1},up:this.DefaultUp,isUpVectorFlipped:!1,targetOffset:this.DefaultTargetOffset},this.getZoom=e=>"PerspectiveCamera"===e.type?e.perspective.zoom:e.orthographic.zoom}},$d9b846eb5d0a0e26$export$f3a89885166b0acd=new class{constructor(){}isEqual(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}add(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2]]}sub(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]}lerp(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r,e[2]+(t[2]-e[2])*r]}},$d9b846eb5d0a0e26$export$e851447d487efff2=new class{constructor(){this.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}isEqual(e,t){for(let r=0;r<16;r++)if(e[r]!==t[r])return!1;return!0}simplify(e){return null!=e?e:this.identity}applyMatrix4(e,t){let r=t.slice(0);for(var n=0,i=t.length;n<i;n+=3){let i=1/(e[3]*t[n]+e[7]*t[n+1]+e[11]*t[n+2]+e[15]);r[n]=(e[0]*t[n]+e[4]*t[n+1]+e[8]*t[n+2]+e[12])*i,r[n+1]=(e[1]*t[n]+e[5]*t[n+1]+e[9]*t[n+2]+e[13])*i,r[n+2]=(e[2]*t[n]+e[6]*t[n+1]+e[10]*t[n+2]+e[14])*i}return r}applyMatrix3Components(e,t){let r=t.slice(0);for(var n=0,i=t.length;n<i;n+=3)r[n]=e[0]*t[n]+e[4]*t[n+1]+e[8]*t[n+2],r[n+1]=e[1]*t[n]+e[5]*t[n+1]+e[9]*t[n+2],r[n+2]=e[2]*t[n]+e[6]*t[n+1]+e[10]*t[n+2];return r}},$d9b846eb5d0a0e26$export$ba9bbe5370f1bf2f=new class{constructor(){this.white={r:1,g:1,b:1},this.red={r:1,g:0,b:0},this.black={r:0,g:0,b:0}}getHex(e){return new(0,$ilwiq.Color)(e.x,e.y,e.z).getHex()}toRgb255a1(e){return{r:Math.round(255*e.r),g:Math.round(255*e.g),b:Math.round(255*e.b),a:1}}clone(e){return{r:e.r,g:e.g,b:e.b}}fromHex(e){return{r:((e=Math.floor(e))>>16&255)/255,g:(e>>8&255)/255,b:(255&e)/255}}equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b}lerp(e,t,r){return{r:e.r+(t.r-e.r)*r,g:e.g+(t.g-e.g)*r,b:e.b+(t.b-e.b)*r}}},$d9b846eb5d0a0e26$export$aa0dd3b0b4c2966d=new class{constructor(){this.white={...$d9b846eb5d0a0e26$export$ba9bbe5370f1bf2f.white,a:1}}from0to1(e){return{r:e[0],g:e[1],b:e[2],a:e[3]}}fromHexAndA(e,t){return{...$d9b846eb5d0a0e26$export$ba9bbe5370f1bf2f.fromHex(e),a:t}}toRgb255a1(e){return{r:Math.round(255*e.r),g:Math.round(255*e.g),b:Math.round(255*e.b),a:e.a}}equals(e,t){return $d9b846eb5d0a0e26$export$ba9bbe5370f1bf2f.equals(e,t)&&e.a===t.a}},$d9b846eb5d0a0e26$export$dc4008862fd90573=new class{constructor(){this.identity={position:[0,0,0],rotation:[0,0,0],scale:[1,1,1]}}},$d9b846eb5d0a0e26$export$1ade4ebc4d904630=new class{constructor(){this.defaultData={mass:1,stiffness:80,damping:10,velocity:0}}},$d9b846eb5d0a0e26$export$8941c55205d49f9c=new class{constructor(){this.defaultData={control1:[.5,.05],control2:[.1,.3]}}},$d9b846eb5d0a0e26$export$bd8640a971ca3043=new class{constructor(){this.defaultData=(e,t=.1)=>({type:"radial",hideBase:!1,count:3,radial:{radius:2*Math.max(e[0],e[1]),start:0,end:360,alignment:!1,axis:$cf00a5c94ce7c28c$export$3e154e318fdb9a71.y,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0]},linear:{scale:[0,0,0],rotation:[0,0,0],position:[e[0]+e[0]*t,0,0]},grid:{count:[2,2,2],size:e.map((e=>e*(1+t))),useCenter:!0}})}},$d9b846eb5d0a0e26$export$a03109723668c765=new class{constructor(){}defaultData(e){return function(e){if("PointLight"===e)return{type:e,color:$d9b846eb5d0a0e26$export$aa0dd3b0b4c2966d.white,intensity:1,distance:2e3,decay:1,shadows:!0,shadowResolution:1024,shadowRadius:1,depth:2500,helper:!0};if("SpotLight"===e)return{type:e,color:$d9b846eb5d0a0e26$export$aa0dd3b0b4c2966d.white,intensity:1,distance:2e3,decay:1,shadows:!0,penumbra:0,angle:30/180*Math.PI,depth:2500,helper:!0};if("DirectionalLight"===e)return{type:e,color:$d9b846eb5d0a0e26$export$aa0dd3b0b4c2966d.white,intensity:1,shadows:!0,size:2500,depth:2500,helper:!0};throw new Error("not implemented")}(e)}},$d9b846eb5d0a0e26$export$5dca3cb1d41fea4=new class{constructor(){this.defaultData={castShadow:!0,receiveShadow:!0}}equals(e,t){return e.castShadow===t.castShadow&&e.receiveShadow===t.receiveShadow}},$d9b846eb5d0a0e26$export$aa6e7868d72be45a=new class{constructor(){this.defaultData={flatShading:!1,wireframe:!1,side:0}}equals(e,t){return e.flatShading===t.flatShading&&e.side===t.side&&e.wireframe===t.wireframe}},$d9b846eb5d0a0e26$export$bf6102cace6b6e23=new class{constructor(){this.defaultData={...$d9b846eb5d0a0e26$export$aa6e7868d72be45a.defaultData,...$d9b846eb5d0a0e26$export$5dca3cb1d41fea4.defaultData,cloner:null}}},$d9b846eb5d0a0e26$export$f5371efb0827804f=new class{constructor(){this.defaultData={width:100,height:100,horizontalAlign:1,verticalAlign:1,fontSize:16,lineHeight:1.5,letterSpacing:1,text:"",textTransform:1,color:$d9b846eb5d0a0e26$export$aa0dd3b0b4c2966d.fromHexAndA(6974058,1),alpha:1,font:"roboto_regular"}}},$d9b846eb5d0a0e26$export$79aff0f37434772e=new class{constructor(){this.defaultData=(e,t)=>"light"===e&&t?function(e){switch(e){case"basic":return{type:"light",category:"basic",alpha:1,visible:!0,mode:0};case"phong":return{category:"phong",specular:{r:.2,g:.2,b:.2},shininess:10,type:"light",alpha:1,visible:!0,mode:0};case"toon":return{category:"toon",specular:{r:.2,g:.2,b:.2},shininess:10,type:"light",alpha:1,visible:!0,mode:0};case"lambert":return{category:"lambert",emissive:{r:.2,g:.2,b:.2,a:1},type:"light",alpha:1,visible:!0,mode:0};case"physical":return{category:"physical",roughness:.2,metalness:.2,reflectivity:.2,type:"light",alpha:1,visible:!0,mode:0}}}(t):function(e){switch(e){case"texture":return{alpha:1,visible:!0,size:[128,128],mode:0,axis:$cf00a5c94ce7c28c$export$3e154e318fdb9a71.x,type:"texture",projection:0,texture:{image:"image_0",wrapping:1001,repeat:[1,1],offset:[0,0]},crop:!0};case"color":return{type:"color",alpha:1,visible:!0,mode:0,color:$d9b846eb5d0a0e26$export$ba9bbe5370f1bf2f.fromHex(4737101)};case"depth":return{type:"depth",alpha:1,visible:!0,mode:0,gradientType:1,smooth:!1,isVector:!0,isWorldSpace:!1,origin:[0,0,0],direction:[1,0,0],colors:[[1,1,1,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],steps:[0,1,1,1,1,1,1,1,1,1],num:2,near:50,far:200};case"normal":return{type:"normal",alpha:1,visible:!0,mode:0,cnormal:[1,1,1]};case"gradient":return{type:"gradient",alpha:1,visible:!0,mode:0,gradientType:0,smooth:!1,colors:[[0,0,0,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,1,1,1,1,1,1,1,1,1],num:2,angle:0,offset:[0,0],morph:[0,0]};case"noise":return{type:"noise",alpha:1,visible:!0,mode:0,size:[100,100,100],noiseType:0,scale:1,move:1,colorA:{...$d9b846eb5d0a0e26$export$ba9bbe5370f1bf2f.fromHex(6710886),a:1},colorB:{...$d9b846eb5d0a0e26$export$ba9bbe5370f1bf2f.fromHex(6710886),a:1},colorC:{...$d9b846eb5d0a0e26$export$ba9bbe5370f1bf2f.fromHex(16777215),a:1},colorD:{...$d9b846eb5d0a0e26$export$ba9bbe5370f1bf2f.fromHex(16777215),a:1},distortion:[1,1],fA:[1.7,9.2],fB:[8.3,2.8]};case"fresnel":return{type:"fresnel",alpha:1,visible:!0,mode:0,color:Oi.fromHexAndA(16777215,1),bias:.1,scale:1,intensity:2,factor:1};case"rainbow":return{type:"rainbow",alpha:1,visible:!0,mode:0,filmThickness:30,movement:0,wavelengths:[0,0,0],noiseStrength:0,noiseScale:1,offset:[0,0,0]};case"matcap":return{type:"matcap",alpha:1,visible:!0,mode:0,texture:{image:"matcap_0",wrapping:1001,repeat:[1,1],offset:[0,0]}};case"transmission":return{type:"transmission",alpha:1,visible:!0,mode:0,thickness:10,ior:1.5,roughness:1};case"displace":return{type:"displace",displacementType:"noise",noiseType:0,scale:10,movement:1,offset:[0,0,0],intensity:8,visible:!0}}}(e)}},$d9b846eb5d0a0e26$export$5184c141f545a20=new class{constructor(){}isMergable(e){return!e.layers.some((e=>{if("texture"===e.data.type&&0!==e.data.projection||"depth"===e.data.type&&!e.data.isWorldSpace||"noise"===e.data.type||"displace"===e.data.type)return!0}))&&!this.isTransparent(e)}getHash(e){let t="";return e.layers.forEach((e=>{Object.entries(e.data).forEach((([e,r])=>{t+=`${e}${r}`,Array.isArray(r)?r.forEach((e=>t+=`${e}`)):"object"==typeof r?Object.values(r).forEach((e=>{t+="number"==typeof e?`${e.toFixed(4)}`:`${e}`})):t+=`${r}`}))})),t}isTransparent(e){let t=0;for(let r of e.layers)"alpha"in r.data&&"light"!==r.data.type&&"fresnel"!==r.data.type&&(t+=(1-t)*r.data.alpha);return t<1}defaultEmptyData(){return{layers:new $801beee143e99c0a$export$28d922e8fa3bd007}}defaultData(e="layer1",t="layer2"){return this.defaultTwoLayerData("phong",e,t)}defaultTwoLayerData(e,t="layer1",r="layer2"){let n=new $801beee143e99c0a$export$28d922e8fa3bd007;return n.push({fi:0,data:$d9b846eb5d0a0e26$export$79aff0f37434772e.defaultData("light",e),id:t}),n.push({fi:1,data:$d9b846eb5d0a0e26$export$79aff0f37434772e.defaultData("color"),id:r}),{layers:n}}defaultTwoLayerTextureData(e,t="basic",r="layer1",n="layer2"){let i=$d9b846eb5d0a0e26$export$79aff0f37434772e.defaultData("texture");Object.assign(i.texture,{image:e});let a=new $801beee143e99c0a$export$28d922e8fa3bd007;return a.push({fi:0,data:i,id:r}),a.push({fi:1,data:$d9b846eb5d0a0e26$export$79aff0f37434772e.defaultData("light",t),id:n}),{layers:a}}},$d9b846eb5d0a0e26$export$27550cc14d7ae85a=new class{constructor(){}defaultData(){return{points:new $801beee143e99c0a$export$28d922e8fa3bd007,roundness:0,shapeHoles:[],isClosed:!1}}isOverlappingExistingPoint(e,t){let{points:r}=t;if(r)for(let t of r)if(t.data.position[0]===e[0]&&t.data.position[1]===e[1])return!0;return!1}isStraightLine(e,t){let r=e.controlNext,n=t.controlPrevious;return e.position[0]===r.position[0]&&e.position[1]===r.position[1]&&t.position[0]===n.position[0]&&t.position[1]===n.position[1]}},$d9b846eb5d0a0e26$export$eaec2ccf5c40e55d=new class{constructor(){}is2DParametricMesh(e){return"PolygonGeometry"===e||"RectangleGeometry"===e||"StarGeometry"===e||"TriangleGeometry"===e||"EllipseGeometry"===e}},$d9b846eb5d0a0e26$export$9a18e6173a1034c2=new class{constructor(){this.identity={...$d9b846eb5d0a0e26$export$dc4008862fd90573.identity,hiddenMatrix:$d9b846eb5d0a0e26$export$e851447d487efff2.identity}}fromObject(e){return{position:e.position,rotation:e.rotation,scale:e.scale,hiddenMatrix:e.hiddenMatrix}}merge(e,t){return{position:(null==t?void 0:t.position)||e.position,rotation:(null==t?void 0:t.rotation)||e.rotation,scale:(null==t?void 0:t.scale)||e.scale,hiddenMatrix:(null==t?void 0:t.hiddenMatrix)||e.hiddenMatrix}}diff(e,t){return{position:$d9b846eb5d0a0e26$export$f3a89885166b0acd.isEqual(e.position,t.position)?null:t.position,rotation:$d9b846eb5d0a0e26$export$f3a89885166b0acd.isEqual(e.rotation,t.rotation)?null:t.rotation,scale:$d9b846eb5d0a0e26$export$f3a89885166b0acd.isEqual(e.scale,t.scale)?null:t.scale,hiddenMatrix:$d9b846eb5d0a0e26$export$e851447d487efff2.isEqual(e.hiddenMatrix,t.hiddenMatrix)?null:t.hiddenMatrix}}};let $f34097f475629eff$var$xs=e=>"objectHelper"in e,$f34097f475629eff$var$jf=new(0,$ilwiq.Vector3);function $f34097f475629eff$export$7a30ec5dea364ceb(e,t){if(!e)throw t||"Assertion Failed!"}function $f34097f475629eff$export$c0c1db43bb4f60f7(e,t){let r;if("string"!=typeof e)return new $879988fab1d83fef$export$2e2bcd8739ae039(e.r,e.g,e.b,"a"in e?e.a:1);{let n=null==t?void 0:t.getColor(e);n?r=n:(console.warn("Tried to create color layer params with a color key that does not exist in the assets manager"),r=new $879988fab1d83fef$export$2e2bcd8739ae039(0,0,0,0))}return r}function $f34097f475629eff$export$4a0d5e6e59c435e(e,t){return t&&t.enabled&&e.push(t.effect),e}function $f34097f475629eff$export$3de32e4eb777462f(e,t){var r;let n=!1;t.position&&(e.position.fromArray(t.position),n=!0),t.rotation&&(e.rotation.fromArray(t.rotation),n=!0),t.scale&&(n=!0,e.scale.fromArray(t.scale)),void 0!==t.hiddenMatrix&&"hiddenMatrix"in e&&(n=!0,e.hiddenMatrix.fromArray(null!=(r=t.hiddenMatrix)?r:$d9b846eb5d0a0e26$export$e851447d487efff2.identity)),n&&e.updateMatrix(),t.position&&t.rotation&&t.scale&&void 0!==t.hiddenMatrix&&e.updateWorldMatrix(!1,!0),"CombinedCamera"===e.ObjectType&&(void 0!==t.isUpVectorFlipped&&(e.isUpVectorFlipped=t.isUpVectorFlipped),e.updateUp())}function $f34097f475629eff$export$8f8aaa7c2e8d2b2a(e,t,r){$f34097f475629eff$export$3de32e4eb777462f(e,t),void 0!==t.name&&(e.name=t.name),void 0!==t.visible&&(e.isEntity?e.visibility=t.visible:e.visible=t.visible),void 0!==t.color&&(e.color=$f34097f475629eff$export$c0c1db43bb4f60f7(t.color,r)),void 0!==t.intensity&&(e.intensity=t.intensity),void 0!==t.shadows&&!(e instanceof $ilwiq.HemisphereLight)&&(e.castShadow=t.shadows),e.shadow&&!(e instanceof $ilwiq.HemisphereLight)&&void 0!==t.depth&&(e.shadow.camera.far=t.depth,e.shadow.needsUpdate=!0),void 0!==t.helper&&$f34097f475629eff$var$xs(e)&&(e.enableHelper=t.helper,e.gizmos.shadowmap.visible=t.helper)}function $f34097f475629eff$export$2ae44cf3c91b090d(e,t,r){if("displace"===r.type&&("intensity"===e||"visible"===e)){let e=t.uniforms[`f${t.id}_intensity`];return e?(e.value=r.intensity*(r.visible?1:0),e):void 0}if("displace"!==r.type&&("alpha"===e||"visible"===e)){let e=t.uniforms[`f${t.id}_alpha`];return e?(e.value=r.alpha*(r.visible?1:0),e):void 0}}function $f34097f475629eff$export$1d8e94f016fdf584(e,t){var r;let n,i=null!=(r=e.layers)?r:$d9b846eb5d0a0e26$export$5184c141f545a20.defaultTwoLayerData("phong").layers,a=$f34097f475629eff$export$639e8b2433546c64(i);switch(a.category){case"basic":n=new $815a6c8fba47e593$export$cff88634e3289b72;break;case"lambert":n=new $815a6c8fba47e593$export$cf4eeafedd196920;break;case"toon":n=new $815a6c8fba47e593$export$2040417bf76f9c66;break;case"physical":n=new $815a6c8fba47e593$export$3ddcd94b699ad478;break;default:n=new $815a6c8fba47e593$export$325981b1716882d4}let o=n.userData.layers;$f34097f475629eff$export$ba1ca7b2d5cb4239(o);for(let e=i.length-1;e>=0;e--)$f34097f475629eff$export$3d69b1aba6d2f3d7(o,i[e],t);switch(a.category){case"basic":break;case"lambert":{let e=n,r=$f34097f475629eff$export$c0c1db43bb4f60f7(a.emissive,t);r instanceof $ilwiq.Color?e.emissive.value=r:e.emissive.value.setHex($d9b846eb5d0a0e26$export$ba9bbe5370f1bf2f.getHex(r));break}case"toon":{let e=n,r=a;e.shininess.value=r.shininess;let i=$f34097f475629eff$export$c0c1db43bb4f60f7(r.specular,t);i instanceof $ilwiq.Color?e.specular.value=i:e.specular.value.setHex($d9b846eb5d0a0e26$export$ba9bbe5370f1bf2f.getHex(i));break}case"physical":let e=n,r=a;e.metalness.value=r.metalness,e.roughness.value=r.roughness,e.reflectivity.value=r.reflectivity;break;default:{let e=n,r=a;e.shininess.value=r.shininess;let i=$f34097f475629eff$export$c0c1db43bb4f60f7(r.specular,t);i instanceof $ilwiq.Color?e.specular.value=i:e.specular.value.setHex($d9b846eb5d0a0e26$export$ba9bbe5370f1bf2f.getHex(i));break}}return o.blendColors(),o.blendAfterColors(),o.blendPositions(),n}function $f34097f475629eff$export$639e8b2433546c64(e){for(let t of e)if("light"===t.data.type)return t.data;return{type:"light",category:"basic",visible:!0,alpha:1,mode:$cf00a5c94ce7c28c$export$3a0476685a68e185.Normal}}function $f34097f475629eff$export$ba1ca7b2d5cb4239(e){for(let t of e.getLayers())e.removeLayer(t.id)}function $f34097f475629eff$export$3d69b1aba6d2f3d7(e,t,r){let n=$68c2bda7337c0a1a$export$965b88cb8b856f45(t,r);"transmission"===n.type&&(n.transmissionSamplerMap=null==r?void 0:r.transmissionSamplerMap,n.transmissionDepthMap=null==r?void 0:r.transmissionDepthMap);let i=e.addLayer(n);i.uuid=t.id;for(let e in t.data)$f34097f475629eff$export$2ae44cf3c91b090d(e,i,t.data)}const $f34097f475629eff$export$93fe4e5bfaa9f793=(e,t,r,n,i=!1)=>{let a=t,o=e.matrixWorld;if(null===a.boundingSphere&&a.computeBoundingSphere(),_y.copy(a.boundingSphere),_y.applyMatrix4(o),!1===r.ray.intersectsSphere(_y)||(iA.copy(o).invert(),Hf.copy(r.ray).applyMatrix4(iA),null!==a.boundingBox&&!1===Hf.intersectsBox(a.boundingBox)))return;let s,c,l,d,u,h,f=a.index,p=a.attributes.position,m=a.drawRange;if(!1===i){for(u=Math.max(0,m.start),h=Math.min(f.count,m.start+m.count);u<h;u+=3)if(c=f.getX(u),l=f.getX(u+1),d=f.getX(u+2),s=v(e,r,Hf,p,c,l,d),s)return s.faceIndex=Math.floor(u/3),void n.push(s)}else{let t=a.attributes.position,i=new(0,$ilwiq.Vector3);w=new(0,$ilwiq.Vector3),b=new(0,$ilwiq.Vector3),T=new(0,$ilwiq.Vector3),_=2,N=1/((e.scale.x+e.scale.y+e.scale.z)/3),C=N*N,M=Math.max(0,m.start),E=Math.min(t.count,m.start+m.count);for(let a=M,o=E-1;a<o;a+=_){if(i.fromBufferAttribute(t,a),w.fromBufferAttribute(t,a+1),Hf.distanceSqToSegment(i,w,T,b)>C)continue;T.applyMatrix4(e.matrixWorld);let o=r.ray.origin.distanceTo(T);o<r.near||o>r.far||n.push({distance:o,point:b.clone().applyMatrix4(e.matrixWorld),object:e})}}function v(e,t,r,n,i,a,o){let s=new(0,$ilwiq.Vector3);if(N=new(0,$ilwiq.Vector3),C=new(0,$ilwiq.Vector3),M=new(0,$ilwiq.Vector3),E=new(0,$ilwiq.Vector3),s.fromBufferAttribute(n,i),N.fromBufferAttribute(n,a),C.fromBufferAttribute(n,o),null===r.intersectTriangle(s,N,C,!1,M))return null;E.copy(M),E.applyMatrix4(e.matrixWorld);let c=t.ray.origin.distanceTo(E);return c<t.near||c>t.far?null:{faceIndex:1,distance:c,point:E.clone(),object:e}}};function $f34097f475629eff$export$f9b088a47202d605(e,t,r,n,i,a,o){$f34097f475629eff$var$jf.set(i,a,o).unproject(n);let s=t[e];if(void 0!==s){let e=r.getAttribute("position");for(let t=0,r=s.length;t<r;t++)e.setXYZ(s[t],$f34097f475629eff$var$jf.x,$f34097f475629eff$var$jf.y,$f34097f475629eff$var$jf.z)}}function $f34097f475629eff$export$322c9678d8c47bf(e){let t,r={parameters:e,type:e.type};if("VectorGeometry"===e.type){let t=$303979faefae2a64$export$2e2bcd8739ae039.createFromState(e.shape,e.width,e.height);r.shape=t}else"NonParametricGeometry"===e.type&&(e.data.groups&&e.data.groups.forEach((e=>{var t;return e.materialIndex=Math.max(null!=(t=e.materialIndex)?t:0,0)})),r.geometry=(new(0,$ilwiq.BufferGeometryLoader)).parse(e));try{t=$68ccae5ba91d7a1b$export$2e2bcd8739ae039(r)}catch(e){console.error(e)}if(!t){let e=$303979faefae2a64$export$2e2bcd8739ae039.createFromState($d9b846eb5d0a0e26$export$27550cc14d7ae85a.defaultData(),100,100);r.shape=e,t=$68ccae5ba91d7a1b$export$2e2bcd8739ae039(r)}return t}function $f34097f475629eff$export$c55a18a51453de72(e,t){return"string"==typeof e?t.getMaterialOrDeletedPlaceholder(e):$f34097f475629eff$export$1d8e94f016fdf584(e,t)}function $f34097f475629eff$export$7a7741c3246e5796(e,t){return e.map((e=>$f34097f475629eff$export$c55a18a51453de72(e,t)))}function $f34097f475629eff$export$91665fba5ee42e28(e,t){void 0!==t.flatShading&&(e.flatShading=t.flatShading,e.needsUpdate=!0),void 0!==t.wireframe&&(e.wireframe=t.wireframe),void 0!==t.side&&(t.side===$cf00a5c94ce7c28c$export$f2f48813c8ff1b8e.Front?e.side=$ilwiq.FrontSide:t.side===$cf00a5c94ce7c28c$export$f2f48813c8ff1b8e.Back?e.side=$ilwiq.BackSide:e.side=$ilwiq.DoubleSide)}function $f34097f475629eff$export$c49194865750b093(e,t){if(Array.isArray(e.material))for(let r of e.material)$f34097f475629eff$export$91665fba5ee42e28(r,t);else{$f34097f475629eff$export$91665fba5ee42e28(e.material,t)}"SubdivObject"===e.ObjectType&&void 0!==t.flatShading&&(e.material.flatShading=!1,e.smoothShading=!t.flatShading,e.updateMesh())}function $f34097f475629eff$export$5fca9b0c51fbdd7f(e,t,r){let n;if("SubdivGeometry"===t.geometry.type)n=$adf1c903040a0f39$export$2247a786f49daed0.createFromState(e,t,r);else{let i=$f34097f475629eff$export$322c9678d8c47bf(t.geometry),a="materials"in t?$f34097f475629eff$export$7a7741c3246e5796(t.materials,r):$f34097f475629eff$export$c55a18a51453de72(t.material,r);n=$d9b846eb5d0a0e26$export$eaec2ccf5c40e55d.is2DParametricMesh(i.userData.type)?new $2a5dfe021abfff6d$export$73aa659f2322b537(i,a):"VectorGeometry"===(null==i?void 0:i.userData.type)?new $00dc84edb64790c1$export$50a443c95ace765(i,a):"NonParametricGeometry"===t.geometry.type?new $c315a9f981145089$export$2e2bcd8739ae039(i,a):new $32c3f2378c78bb95$export$331bd465e97f4635(i,a),n.uuid=e,n.fromState(t)}return $f34097f475629eff$export$c49194865750b093(n,t),n}function $f34097f475629eff$export$1fe0dcec7c33c489(e,t,r){return"Mesh"===t.type?$f34097f475629eff$export$5fca9b0c51fbdd7f(e,t,r):"TextFrame"===t.type?$1cd09141bcfe9516$export$78410ada03f6931b.createFromState(e,t,r):"Empty"===t.type?$968392d653082a55$export$2441567ff18621e0.createFromState(e,t):"PointLight"===t.type?$8c486ecc2cb78803$export$47be783d49a2437d.createFromState(e,t,r):"SpotLight"===t.type?$7dd456bc3f538a94$export$48da824e64463b73.createFromState(e,t,r):"DirectionalLight"===t.type?$09c78a2677413127$export$2adbfde06217b77c.createFromState(e,t,r):$d9b846eb5d0a0e26$export$e9f788a9a5089ca.is(t.type)?$b07028dea129e572$export$80f4cb0e32a77892.createFromState(e,t):(console.error(t),new $968392d653082a55$export$2441567ff18621e0)}function $f34097f475629eff$export$e397b5c64fe95ed5(e,t){t.uniforms[`f${t.id}_transmissionSamplerMap`].value=e.texture,t.uniforms[`f${t.id}_transmissionDepthMap`].value=e.depthTexture}function $f34097f475629eff$export$6b79adc9327b3cd5(e,t,r){if(!r.userData.layers)return!1;let n=!1,i=r.userData.layers.getLayersOfType($cf00a5c94ce7c28c$export$76bf88ec17fef043.TRANSMISSION);return i.length>0?(t.layers.set(3),n=!0,void 0!==e&&i.forEach((t=>$f34097f475629eff$export$e397b5c64fe95ed5(e,t)))):t.layers.set(0),n}function $f34097f475629eff$export$dc14d0b12e7f6dbf(e,t){let r=!1;return t.traverseEntity((t=>{if(t instanceof $3ede439791312b8b$export$2e2bcd8739ae039)if(Array.isArray(t.material))for(let n=0;n<t.material.length;n++)$f34097f475629eff$export$6b79adc9327b3cd5(e,t,t.material[n])&&(r=!0);else $f34097f475629eff$export$6b79adc9327b3cd5(e,t,t.material)&&(r=!0)})),r}function $f34097f475629eff$export$c1ef8019ca5d89d9(e,t){"material"in e&&$f34097f475629eff$export$2a75fffcab954ef3(e.material,t),"geometry"in e&&e.geometry.dispose()}function $f34097f475629eff$export$75093a47a9fa838d(e){return Array.isArray(e)?e:[e]}function $f34097f475629eff$export$2a75fffcab954ef3(e,t){$f34097f475629eff$export$75093a47a9fa838d(e).forEach((e=>{t.isSharedMaterial(e)||e.dispose()}))}function $f34097f475629eff$export$6d3e35acb4d4875f(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function $f34097f475629eff$export$5af3315b022d94f6(e,t,r){switch(e){case $cf00a5c94ce7c28c$export$849cfb4829f6d74a.LINEAR:return"cubicBezier( 0, 0, 1, 1 )";case $cf00a5c94ce7c28c$export$849cfb4829f6d74a.EASE:return"cubicBezier( .25, .1, .25, 1 )";case $cf00a5c94ce7c28c$export$849cfb4829f6d74a.EASE_IN:return"cubicBezier( .42, 0, 1, 1 )";case $cf00a5c94ce7c28c$export$849cfb4829f6d74a.EASE_OUT:return"cubicBezier( 0, 0, .58, 1 )";case $cf00a5c94ce7c28c$export$849cfb4829f6d74a.EASE_IN_OUT:return"cubicBezier( .42, 0, .58, 1 )";case $cf00a5c94ce7c28c$export$849cfb4829f6d74a.CUBIC:let{control1:e,control2:n}=t;return`cubicBezier( ${e[0]}, ${e[1]}, ${n[0]}, ${n[1]} )`;case $cf00a5c94ce7c28c$export$849cfb4829f6d74a.SPRING:let{mass:i,stiffness:a,damping:o,velocity:s}=r;return`spring( ${i}, ${a}, ${o}, ${s} )`}}parcelRequire("f1q41");var $ilwiq=parcelRequire("ilwiq");function $a3cbe5520e684c06$var$g1(e,t){let r=t.x-e.x,n=t.y-e.y,i=Math.sqrt(r*r+n*n),a=r/i,o=n/i;return{x:r,y:n,len:i,nx:a,ny:o,ang:Math.atan2(o,a)}}const $a3cbe5520e684c06$export$c991a758e345bcaf=(e,t,r)=>{let n,i,a,o,s,c,l,d,u,h,f,p,m,v,$=t.length;for(o=t[$-2],e.curves=[],n=1;n<$-1;n++){s=t[n%$],c=t[(n+1)%$];let g=$a3cbe5520e684c06$var$g1(s,o),b=$a3cbe5520e684c06$var$g1(s,c);l=g.nx*b.ny-g.ny*b.nx,d=g.nx*b.nx-g.ny*-b.ny,f=Math.asin(l),u=1,h=!1,d<0?f<0?f=Math.PI+f:(f=Math.PI-f,u=-1,h=!0):f>0&&(u=-1,h=!0),p=f/2,v=Math.abs(Math.cos(p)*r/Math.sin(p)),v>Math.min(g.len/2,b.len/2)?(v=Math.min(g.len/2,b.len/2),m=Math.abs(v*Math.sin(p)/Math.cos(p))):m=r,i=s.x+b.nx*v,a=s.y+b.ny*v,i+=-b.ny*m*u,a+=b.nx*m*u,e.absarc(i,a,m,g.ang+Math.PI/2*u,b.ang-Math.PI/2*u,h),o=s,s=c}e.closePath()},$a3cbe5520e684c06$export$b2b9b55ca8d9d522=(e,{width:t,height:r,depth:n})=>{t=Math.abs(t),r=Math.abs(r),n=Math.abs(n);let i,a,o,s=e.userData.parameters;0===t?(t=s.width,i=1):i=t/s.width,0===r?(r=s.height,a=1):a=r/s.height,0===n?(n=s.depth,o=1):o=n/s.depth,e.scale(i,a,o),s.width=t,s.height=r,s.depth=n},$a3cbe5520e684c06$export$fb06914856b63378=(e,t)=>{let r=[new(0,$ilwiq.Vector3)(1,0,0),new(0,$ilwiq.Vector3)(0,1,0),new(0,$ilwiq.Vector3)(0,0,1)],n=e.attributes.position,i=new Float32Array(3*n.count);for(let e=0,t=n.count;e<t;e++)r[e%3].toArray(i,3*e);e.setAttribute(t,new(0,$ilwiq.Float32BufferAttribute)(i,3))},$a3cbe5520e684c06$export$e7bf1778e8674a3f=e=>new Promise((t=>{(new(0,$ilwiq.BufferGeometryLoader)).load(e,(e=>t(e)))})),$a3cbe5520e684c06$export$b639038907904070=(e,t,r)=>{let n=e.getAttribute("uv");if(n)for(let e=0;e<n.count;e++){let i=n.getX(e),a=n.getY(e);n.setXY(e,(i+t/2)/t,1-(a-r/2)/r*-1)}},$a3cbe5520e684c06$export$8eb52fc15066e6b0={addBarycentricAttribute:$a3cbe5520e684c06$export$fb06914856b63378,fixUvs:$a3cbe5520e684c06$export$b639038907904070,loadFromUrl:$a3cbe5520e684c06$export$e7bf1778e8674a3f,resizeGeometry:$a3cbe5520e684c06$export$b2b9b55ca8d9d522,roundShapePolygon:$a3cbe5520e684c06$export$c991a758e345bcaf};parcelRequire("f1q41");var $ilwiq=parcelRequire("ilwiq"),$ilwiq=parcelRequire("ilwiq");function $5451ea62abbe5f68$export$15356c20484a5e31(e){e.computeTangents(),console.warn("THREE.BufferGeometryUtils: .computeTangents() has been removed. Use BufferGeometry.computeTangents() instead.")}function $5451ea62abbe5f68$export$728c051ccdf8a702(e,t=!1){const r=null!==e[0].index,n=new Set(Object.keys(e[0].attributes)),i=new Set(Object.keys(e[0].morphAttributes)),a={},o={},s=e[0].morphTargetsRelative,c=new(0,$ilwiq.BufferGeometry);let l=0;for(let d=0;d<e.length;++d){const u=e[d];let h=0;if(r!==(null!==u.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const e in u.attributes){if(!n.has(e))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+'. All geometries must have compatible attributes; make sure "'+e+'" attribute exists among all geometries, or in none of them.'),null;void 0===a[e]&&(a[e]=[]),a[e].push(u.attributes[e]),h++}if(h!==n.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". Make sure all geometries have the same number of attributes."),null;if(s!==u.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const e in u.morphAttributes){if(!i.has(e))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===o[e]&&(o[e]=[]),o[e].push(u.morphAttributes[e])}if(c.userData.mergedUserData=c.userData.mergedUserData||[],c.userData.mergedUserData.push(u.userData),t){let e;if(r)e=u.index.count;else{if(void 0===u.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". The geometry must have either an index or a position attribute"),null;e=u.attributes.position.count}c.addGroup(l,e,d),l+=e}}if(r){let t=0;const r=[];for(let n=0;n<e.length;++n){const i=e[n].index;for(let e=0;e<i.count;++e)r.push(i.getX(e)+t);t+=e[n].attributes.position.count}c.setIndex(r)}for(const e in a){const t=$5451ea62abbe5f68$export$c4eef4c1c9d34ea9(a[e]);if(!t)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+e+" attribute."),null;c.setAttribute(e,t)}for(const e in o){const t=o[e][0].length;if(0===t)break;c.morphAttributes=c.morphAttributes||{},c.morphAttributes[e]=[];for(let r=0;r<t;++r){const t=[];for(let n=0;n<o[e].length;++n)t.push(o[e][n][r]);const n=$5451ea62abbe5f68$export$c4eef4c1c9d34ea9(t);if(!n)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+e+" morphAttribute."),null;c.morphAttributes[e].push(n)}}return c}function $5451ea62abbe5f68$export$c4eef4c1c9d34ea9(e){let t,r,n,i=0;for(let a=0;a<e.length;++a){const o=e[a];if(o.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=o.array.constructor),t!==o.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===r&&(r=o.itemSize),r!==o.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===n&&(n=o.normalized),n!==o.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;i+=o.array.length}const a=new t(i);let o=0;for(let t=0;t<e.length;++t)a.set(e[t].array,o),o+=e[t].array.length;return new(0,$ilwiq.BufferAttribute)(a,r,n)}function $5451ea62abbe5f68$export$308f9509e428a845(e){let t,r=0,n=0;for(let i=0,a=e.length;i<a;++i){const a=e[i];if(void 0===t&&(t=a.array.constructor),t!==a.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;r+=a.array.length,n+=a.itemSize}const i=new(0,$ilwiq.InterleavedBuffer)(new t(r),n);let a=0;const o=[],s=["getX","getY","getZ","getW"],c=["setX","setY","setZ","setW"];for(let t=0,r=e.length;t<r;t++){const r=e[t],n=r.itemSize,l=r.count,d=new(0,$ilwiq.InterleavedBufferAttribute)(i,n,a,r.normalized);o.push(d),a+=n;for(let e=0;e<l;e++)for(let t=0;t<n;t++)d[c[t]](e,r[s[t]](e))}return o}function $5451ea62abbe5f68$export$35bee7999e19754d(e){let t=0;for(const r in e.attributes){const n=e.getAttribute(r);t+=n.count*n.itemSize*n.array.BYTES_PER_ELEMENT}const r=e.getIndex();return t+=r?r.count*r.itemSize*r.array.BYTES_PER_ELEMENT:0,t}function $5451ea62abbe5f68$export$e36bb98c4c944f9(e,t=1e-4){t=Math.max(t,Number.EPSILON);const r={},n=e.getIndex(),i=e.getAttribute("position"),a=n?n.count:i.count;let o=0;const s=Object.keys(e.attributes),c={},l={},d=[],u=["getX","getY","getZ","getW"];for(let t=0,r=s.length;t<r;t++){const r=s[t];c[r]=[];const n=e.morphAttributes[r];n&&(l[r]=new Array(n.length).fill().map((()=>[])))}const h=Math.log10(1/t),f=Math.pow(10,h);for(let t=0;t<a;t++){const i=n?n.getX(t):t;let a="";for(let t=0,r=s.length;t<r;t++){const r=s[t],n=e.getAttribute(r),o=n.itemSize;for(let e=0;e<o;e++)a+=~~(n[u[e]](i)*f)+","}if(a in r)d.push(r[a]);else{for(let t=0,r=s.length;t<r;t++){const r=s[t],n=e.getAttribute(r),a=e.morphAttributes[r],o=n.itemSize,d=c[r],h=l[r];for(let e=0;e<o;e++){const t=u[e];if(d.push(n[t](i)),a)for(let e=0,r=a.length;e<r;e++)h[e].push(a[e][t](i))}}r[a]=o,d.push(o),o++}}const p=e.clone();for(let t=0,r=s.length;t<r;t++){const r=s[t],n=e.getAttribute(r),i=new n.array.constructor(c[r]),a=new(0,$ilwiq.BufferAttribute)(i,n.itemSize,n.normalized);if(p.setAttribute(r,a),r in l)for(let t=0;t<l[r].length;t++){const n=e.morphAttributes[r][t],i=new n.array.constructor(l[r][t]),a=new(0,$ilwiq.BufferAttribute)(i,n.itemSize,n.normalized);p.morphAttributes[r][t]=a}}return p.setIndex(d),p}function $5451ea62abbe5f68$export$5492ca6e5c0c7aa0(e,t){if(t===$ilwiq.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===$ilwiq.TriangleFanDrawMode||t===$ilwiq.TriangleStripDrawMode){let r=e.getIndex();if(null===r){const t=[],n=e.getAttribute("position");if(void 0===n)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<n.count;e++)t.push(e);e.setIndex(t),r=e.getIndex()}const n=r.count-2,i=[];if(t===$ilwiq.TriangleFanDrawMode)for(let e=1;e<=n;e++)i.push(r.getX(0)),i.push(r.getX(e)),i.push(r.getX(e+1));else for(let e=0;e<n;e++)e%2==0?(i.push(r.getX(e)),i.push(r.getX(e+1)),i.push(r.getX(e+2))):(i.push(r.getX(e+2)),i.push(r.getX(e+1)),i.push(r.getX(e)));i.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=e.clone();return a.setIndex(i),a.clearGroups(),a}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}function $5451ea62abbe5f68$export$29e54e2e4ab904e7(e){if(!0!==e.geometry.isBufferGeometry)return console.error("THREE.BufferGeometryUtils: Geometry is not of type BufferGeometry."),null;const t=new(0,$ilwiq.Vector3),r=new(0,$ilwiq.Vector3),n=new(0,$ilwiq.Vector3),i=new(0,$ilwiq.Vector3),a=new(0,$ilwiq.Vector3),o=new(0,$ilwiq.Vector3),s=new(0,$ilwiq.Vector3),c=new(0,$ilwiq.Vector3),l=new(0,$ilwiq.Vector3);function d(e,d,u,h,f,p,m,v,$){t.fromBufferAttribute(u,p),r.fromBufferAttribute(u,m),n.fromBufferAttribute(u,v);const g=e.morphTargetInfluences;if(d.morphTargets&&h&&g){s.set(0,0,0),c.set(0,0,0),l.set(0,0,0);for(let e=0,d=h.length;e<d;e++){const d=g[e],u=h[e];0!==d&&(i.fromBufferAttribute(u,p),a.fromBufferAttribute(u,m),o.fromBufferAttribute(u,v),f?(s.addScaledVector(i,d),c.addScaledVector(a,d),l.addScaledVector(o,d)):(s.addScaledVector(i.sub(t),d),c.addScaledVector(a.sub(r),d),l.addScaledVector(o.sub(n),d)))}t.add(s),r.add(c),n.add(l)}e.isSkinnedMesh&&(e.boneTransform(p,t),e.boneTransform(m,r),e.boneTransform(v,n)),$[3*p+0]=t.x,$[3*p+1]=t.y,$[3*p+2]=t.z,$[3*m+0]=r.x,$[3*m+1]=r.y,$[3*m+2]=r.z,$[3*v+0]=n.x,$[3*v+1]=n.y,$[3*v+2]=n.z}const u=e.geometry,h=e.material;let f,p,m;const v=u.index,$=u.attributes.position,g=u.morphAttributes.position,b=u.morphTargetsRelative,x=u.attributes.normal,y=u.morphAttributes.position,w=u.groups,_=u.drawRange;let S,T,M,E,A,C,L,R;const P=new Float32Array($.count*$.itemSize),D=new Float32Array(x.count*x.itemSize);if(null!==v)if(Array.isArray(h))for(S=0,M=w.length;S<M;S++)for(A=w[S],C=h[A.materialIndex],L=Math.max(A.start,_.start),R=Math.min(A.start+A.count,_.start+_.count),T=L,E=R;T<E;T+=3)f=v.getX(T),p=v.getX(T+1),m=v.getX(T+2),d(e,C,$,g,b,f,p,m,P),d(e,C,x,y,b,f,p,m,D);else for(L=Math.max(0,_.start),R=Math.min(v.count,_.start+_.count),S=L,M=R;S<M;S+=3)f=v.getX(S),p=v.getX(S+1),m=v.getX(S+2),d(e,h,$,g,b,f,p,m,P),d(e,h,x,y,b,f,p,m,D);else if(void 0!==$)if(Array.isArray(h))for(S=0,M=w.length;S<M;S++)for(A=w[S],C=h[A.materialIndex],L=Math.max(A.start,_.start),R=Math.min(A.start+A.count,_.start+_.count),T=L,E=R;T<E;T+=3)f=T,p=T+1,m=T+2,d(e,C,$,g,b,f,p,m,P),d(e,C,x,y,b,f,p,m,D);else for(L=Math.max(0,_.start),R=Math.min($.count,_.start+_.count),S=L,M=R;S<M;S+=3)f=S,p=S+1,m=S+2,d(e,h,$,g,b,f,p,m,P),d(e,h,x,y,b,f,p,m,D);return{positionAttribute:$,normalAttribute:x,morphedPositionAttribute:new(0,$ilwiq.Float32BufferAttribute)(P,3),morphedNormalAttribute:new(0,$ilwiq.Float32BufferAttribute)(D,3)}}function $6399c1eaff223b2f$var$YG(e){let t;if(e.index)for(let r=0;r<e.index.array.length;r+=3)t=e.index.array[r],e.index.array[r]=e.index.array[r+2],e.index.array[r+2]=t}function $6399c1eaff223b2f$export$6c0b75310f599a5c(e){return"SubdivObject"===e||"NonParametric"===e?e:"Mesh"}function $6399c1eaff223b2f$export$765f7c6d3c2a9edc(e,t){let r={};return e.traverseEntity((e=>{var n;if("Mesh"!==e.type||!("material"in e)||!e.visible||!(e instanceof $3ede439791312b8b$export$2e2bcd8739ae039)||Array.isArray(e.material)||e&&e.interaction&&e.interaction.states.length>0)return;let i=e.parent;for(;i;){if(i instanceof $3ede439791312b8b$export$2e2bcd8739ae039&&i.interaction&&i.interaction.states.length>1)return;i=i.parent}let a=e.material.uuid,o=t.shared.materials[a];if(o){if(!$d9b846eb5d0a0e26$export$5184c141f545a20.isMergable(o))return}else{let r=null==(n=t.scene.objects.get(e.uuid))?void 0:n.data;if(r&&"material"in r&&"string"!=typeof r.material){if(!$d9b846eb5d0a0e26$export$5184c141f545a20.isMergable(r.material))return;a=$d9b846eb5d0a0e26$export$5184c141f545a20.getHash(r.material)}}r[a]||(r[a]={});let s=r[a][$6399c1eaff223b2f$export$6c0b75310f599a5c(e.ObjectType)];if(s){if(s.push(e),e.cloner)for(let t of e.cloner.children)s.push(t)}else if(r[a][$6399c1eaff223b2f$export$6c0b75310f599a5c(e.ObjectType)]=[e],e.cloner)for(let t of e.cloner.children)r[a][$6399c1eaff223b2f$export$6c0b75310f599a5c(e.ObjectType)].push(t)})),r}function $6399c1eaff223b2f$export$fc24a53cb286c3f8(e){let t=0;return Object.values(e).forEach((e=>{Object.values(e).forEach((e=>{let r=e.length;r>t&&(t=r)}))})),t}function $6399c1eaff223b2f$export$f06f69b3bf41d25c(e,t){let r=$6399c1eaff223b2f$export$765f7c6d3c2a9edc(t,e),n=$6399c1eaff223b2f$export$fc24a53cb286c3f8(r),i=new Array(n),a=0,o=new Array(n),s=0,c=new Array(n),l=0,d=new Array(n),u=0;for(let e of Object.values(r))for(let n of Object.values(e)){if(s=0,l=0,n.forEach((e=>{e instanceof $3ede439791312b8b$export$2e2bcd8739ae039&&(o[s++]=e.geometry.clone(),c[l++]=e)})),l<2)continue;for(let e=0;e<l;e++)c[e].updateWorldMatrix(!0,!1),o[e].applyMatrix4(c[e].matrixWorld),c[e].matrixWorld.determinant()<0&&$6399c1eaff223b2f$var$YG(o[e]);let e=$5451ea62abbe5f68$export$728c051ccdf8a702(o.slice(0,s),!1);if(e){let o;if("SubdivObject"===n[0].ObjectType)console.warn("Turning subdiv object into mesh"),o=new(0,$ilwiq.Mesh)(e,c[0].material);else o=new(0,$ilwiq.Mesh)(e,c[0].material);o.castShadow=c[0].castShadow,o.receiveShadow=c[0].receiveShadow,t.add(o);let s=e=>{u=0;for(let t of e)t.children&&s(t.children),t instanceof $3ede439791312b8b$export$2e2bcd8739ae039&&(Array.isArray(t.material)||r[t.material.uuid]&&r[t.material.uuid][t.ObjectType]&&r[t.material.uuid][t.ObjectType].length>1||(d[u++]=t));for(let e=0;e<u;e++)t.attach(d[e])};for(let e=0;e<l;e++){let t=c[e];s(t.children),i[a++]=t}}}for(let e=0;e<a;e++)i[e].removeFromParent()}var $ilwiq=parcelRequire("ilwiq"),$ilwiq=parcelRequire("ilwiq");let $9c0899df451ef0cd$var$ri=new(0,$ilwiq.Camera);class $9c0899df451ef0cd$export$2e2bcd8739ae039 extends $ilwiq.LineSegments{constructor(e){let t=new(0,$ilwiq.BufferGeometry),r=new(0,$ilwiq.LineBasicMaterial)({color:16777215,vertexColors:!0,toneMapped:!1}),n=[],i=[],a={},o=new(0,$ilwiq.Color)(15711266),s=new(0,$ilwiq.Color)(15711266),c=new(0,$ilwiq.Color)(2857471);function l(e,t,r){d(e,r),d(t,r)}function d(e,t){n.push(0,0,0),i.push(t.r,t.g,t.b),void 0===a[e]&&(a[e]=[]),a[e].push(n.length/3-1)}super(t,r),l("n1","n2",o),l("n2","n4",o),l("n4","n3",o),l("n3","n1",o),l("f1","f2",o),l("f2","f4",o),l("f4","f3",o),l("f3","f1",o),l("n1","f1",o),l("n2","f2",o),l("n3","f3",o),l("n4","f4",o),l("p","n1",s),l("p","n2",s),l("p","n3",s),l("p","n4",s),l("u1","u2",c),l("u2","u3",c),l("u3","u1",c),t.setAttribute("position",new(0,$ilwiq.Float32BufferAttribute)(n,3)),t.setAttribute("color",new(0,$ilwiq.Float32BufferAttribute)(i,3)),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}update(){let e=this.geometry,t=this.pointMap;$9c0899df451ef0cd$var$ri.projectionMatrixInverse.elements=[.5112609807824982,-0,-0,-0,-0,.41421356237309503,-0,-0,-0,-0,-0,-.099999,-0,-0,-1.0000000000000002,.100001];let r=.8;$f34097f475629eff$export$f9b088a47202d605("n1",t,e,$9c0899df451ef0cd$var$ri,-1,-1,r),$f34097f475629eff$export$f9b088a47202d605("n2",t,e,$9c0899df451ef0cd$var$ri,1,-1,r),$f34097f475629eff$export$f9b088a47202d605("n3",t,e,$9c0899df451ef0cd$var$ri,-1,1,r),$f34097f475629eff$export$f9b088a47202d605("n4",t,e,$9c0899df451ef0cd$var$ri,1,1,r);let n=r;$f34097f475629eff$export$f9b088a47202d605("f1",t,e,$9c0899df451ef0cd$var$ri,-1,-1,n),$f34097f475629eff$export$f9b088a47202d605("f2",t,e,$9c0899df451ef0cd$var$ri,1,-1,n),$f34097f475629eff$export$f9b088a47202d605("f3",t,e,$9c0899df451ef0cd$var$ri,-1,1,n),$f34097f475629eff$export$f9b088a47202d605("f4",t,e,$9c0899df451ef0cd$var$ri,1,1,n);$f34097f475629eff$export$f9b088a47202d605("u1",t,e,$9c0899df451ef0cd$var$ri,.35,1.1,.8),$f34097f475629eff$export$f9b088a47202d605("u2",t,e,$9c0899df451ef0cd$var$ri,-.35,1.1,.8),$f34097f475629eff$export$f9b088a47202d605("u3",t,e,$9c0899df451ef0cd$var$ri,0,1.55,.8),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}class $15c576fe78df120d$export$a8cd7cb6e6b10dec extends($037f39954857b10b$export$e2c68b3cfb6ef7cb($9c0899df451ef0cd$export$2e2bcd8739ae039)){constructor(e){super(e),this.object=e,this.object=e,this.name=`CombinedCameraHelper: ${e.uuid}`}updateMatrixWorld(e){super.updateMatrixWorld(e),this.updateTarget()}updateTarget(){let e=this.object.getTarget();this.updateWorldMatrix(!0,!1),this.worldToLocal(e)}raycast(e,t){$f34097f475629eff$export$93fe4e5bfaa9f793(this.object,this.geometry,e,t,!0)}}class $15c576fe78df120d$export$1289147c444debb9 extends($037f39954857b10b$export$e2c68b3cfb6ef7cb($ilwiq.DirectionalLightHelper)){constructor(e,t=15,r=10066329){super(e,t,r),this.object=e,this.name=`DirectionalLightHelper: ${e.uuid}`}raycast(e,t){$f34097f475629eff$export$93fe4e5bfaa9f793(this.object,$ilwiq.DirectionalLightHelper.geometryHelper,e,t)}}class $15c576fe78df120d$export$1b40682d15cf5152 extends($037f39954857b10b$export$e2c68b3cfb6ef7cb($ilwiq.AxesHelper)){constructor(e,t=15){super(t),this.object=e,this.object.updateMatrixWorld(),this.name=`EmptyObjectHelper: ${e.uuid}`,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}raycast(e,t){$f34097f475629eff$export$93fe4e5bfaa9f793(this.object,$15c576fe78df120d$export$1b40682d15cf5152.geometryHelper,e,t)}update(){}}class $15c576fe78df120d$export$e051ba465f9e5596 extends($037f39954857b10b$export$e2c68b3cfb6ef7cb($ilwiq.PointLightHelper)){constructor(e,t=15,r=6710886){super(e,t,r),this.object=e,this.name=`PointLightHelper: ${e.uuid}`}raycast(e,t){$f34097f475629eff$export$93fe4e5bfaa9f793(this.object,$ilwiq.PointLightHelper.geometryHelper,e,t)}}class $15c576fe78df120d$export$2a8bb1eb60b97a3c extends($037f39954857b10b$export$e2c68b3cfb6ef7cb($ilwiq.SpotLightHelper)){constructor(e,t=6710886){super(e,t),this.object=e,this.name=`SpotLightHelper: ${e.uuid}`}raycast(e,t){$f34097f475629eff$export$93fe4e5bfaa9f793(this.object,$ilwiq.SpotLightHelper.geometryHelper,e,t)}update(){if(void 0!==this.object){let e=$ilwiq.SpotLightHelper._vector,t=this.object.distance?this.object.distance:1e3,r=t*Math.tan(this.object.angle);this.cone.scale.set(r,r,t),e.setFromMatrixPosition(this.object.target.matrixWorld),this.cone.lookAt(e);let n=void 0!==this.color?this.color:this.light.color;if(this.cone.material instanceof Array)for(let e=0,t=this.cone.material.length;e<t;e++)this.cone.material[e].color.set(n);else this.cone.material.color.set(n)}}}$15c576fe78df120d$export$2a8bb1eb60b97a3c._vector=new(0,$ilwiq.Vector3);let $b07028dea129e572$var$Ey=new(0,$ilwiq.Vector3);class $b07028dea129e572$export$80f4cb0e32a77892 extends($e1e8fbc274910ad0$export$165a27c7d02dd2c5($7447aa2841984708$export$82769c919fcdc8d5($ilwiq.Camera),$15c576fe78df120d$export$a8cd7cb6e6b10dec)){constructor(e=window.innerWidth,t=window.innerHeight,r=45,n,i=1e5){super(),this.objectType="CombinedCamera",this._cameraType="OrthographicCamera",this.targetOffset=$d9b846eb5d0a0e26$export$c9aa1438c29faa71.DefaultTargetOffset,this.isUpVectorFlipped=!1,this.angleOffsetFromUp=0,this.width=e,this.height=t,this.orthoCamera=new(0,$ilwiq.OrthographicCamera)(-.5*e,.5*e,.5*t,-.5*t,null!=n?n:-5e4,i),this.perspCamera=new(0,$ilwiq.PerspectiveCamera)(r,e/t,null!=n?n:50,i),this.left=this.orthoCamera.left,this.right=this.orthoCamera.right,this.top=this.orthoCamera.top,this.bottom=this.orthoCamera.bottom,this.far=this.orthoCamera.far,this.view=this.orthoCamera.view,this.aspect=this.perspCamera.aspect,this.fov=this.perspCamera.fov,this.focus=this.perspCamera.focus,this.filmGauge=this.perspCamera.filmGauge,this.filmOffset=this.perspCamera.filmOffset,this.toOrthographic(!0)}static createFromState(e,t){let r=(new $b07028dea129e572$export$80f4cb0e32a77892).fromState(t);return r.enableHelper=!0,r.objectHelper.update(),r.uuid=e,r}get isPerspectiveCamera(){return"PerspectiveCamera"===this.cameraType}get isOrthographicCamera(){return!this.isPerspectiveCamera}get cameraType(){return this._cameraType}setNear(e,t){"PerspectiveCamera"===e?this.perspCamera.near=t:this.orthoCamera.near=t}setZoom(e,t){t>=0&&("PerspectiveCamera"===e?this.perspCamera.zoom=t:this.orthoCamera.zoom=t)}set cameraType(e){"PerspectiveCamera"===e?this.toPerspective():"OrthographicCamera"===e&&this.toOrthographic()}get near(){return"PerspectiveCamera"===this._cameraType?this.perspCamera.near:this.orthoCamera.near}set near(e){"PerspectiveCamera"===this._cameraType?this.perspCamera.near=e:this.orthoCamera.near=e}get zoom(){return"PerspectiveCamera"===this._cameraType?this.perspCamera.zoom:this.orthoCamera.zoom}set zoom(e){e>=0&&("PerspectiveCamera"===this._cameraType?this.perspCamera.zoom=e:this.orthoCamera.zoom=e)}lookAt(e){super.lookAt(e),this.getWorldPosition($b07028dea129e572$var$Ey),this.targetOffset=$b07028dea129e572$var$Ey.distanceTo(e)}getTarget(e=new(0,$ilwiq.Vector3)){return this.getWorldDirection($b07028dea129e572$var$Ey),this.getWorldPosition($b07028dea129e572$var$Ey),$b07028dea129e572$var$Ey.multiplyScalar(this.targetOffset),e.copy($b07028dea129e572$var$Ey).add($b07028dea129e572$var$Ey),e}getDistanceToTarget(){let e=this.getTarget();return this.getWorldPosition($b07028dea129e572$var$Ey),$b07028dea129e572$var$Ey.distanceTo(e)}updateUp(){let e=this.getWorldQuaternion(new(0,$ilwiq.Quaternion)),t=new(0,$ilwiq.Vector3)(0,0,1).applyQuaternion(e),r=(new(0,$ilwiq.Vector3)).copy($ilwiq.Object3D.DefaultUp);this.isUpVectorFlipped&&r.negate(),r.applyQuaternion(e);let n=(new(0,$ilwiq.Vector3)).copy($ilwiq.Object3D.DefaultUp).projectOnPlane(t),i=(new(0,$ilwiq.Vector3)).crossVectors(n,r).dot(t)>=0?1:-1;this.angleOffsetFromUp=n.angleTo(r)*i}getViewFrontToObject(e){let t=e.getWorldPosition(new(0,$ilwiq.Vector3)),r=e.getWorldDirection(new(0,$ilwiq.Vector3)).multiplyScalar(this.targetOffset);return{position:t.clone().add(r),target:t}}getViewToObject(e){let t=e.getWorldPosition(new(0,$ilwiq.Vector3)),r=this.getWorldDirection(new(0,$ilwiq.Vector3)).multiplyScalar(this.targetOffset);return{position:t.clone().sub(r),target:t}}setViewplaneSize(e,t){this.left=.5*-e,this.right=.5*e,this.top=.5*t,this.bottom=.5*-t,this.aspect=e/t,this.updateProjectionMatrix()}toOrthographic(e){this.orthoCamera.left=this.left,this.orthoCamera.right=this.right,this.orthoCamera.top=this.top,this.orthoCamera.bottom=this.bottom,this.orthoCamera.view=this.view,this.orthoCamera.far=this.far,this.orthoCamera.updateProjectionMatrix(),this.projectionMatrix=this.orthoCamera.projectionMatrix,this.projectionMatrixInverse=this.orthoCamera.projectionMatrixInverse,this._cameraType="OrthographicCamera",(!0===this.enableHelper||!0===e)&&this.objectHelper.update()}toPerspective(e){this.perspCamera.aspect=this.aspect,this.perspCamera.fov=this.fov,this.perspCamera.view=this.view,this.perspCamera.far=this.far,this.perspCamera.updateProjectionMatrix(),this.projectionMatrix=this.perspCamera.projectionMatrix,this.projectionMatrixInverse=this.perspCamera.projectionMatrixInverse,this._cameraType="PerspectiveCamera",(!0===this.enableHelper||!0===e)&&this.objectHelper.update()}setFocalLength(e){this.perspCamera.setFocalLength(e),this.toPerspective()}getFocalLength(){return this.perspCamera.getFocalLength()}getEffectiveFOV(){return this.perspCamera.getEffectiveFOV()}getFilmWidth(){return this.perspCamera.getFilmWidth()}getFilmHeight(){return this.perspCamera.getFilmHeight()}setViewOffset(e,t,r,n,i,a){"PerspectiveCamera"===this._cameraType?this.perspCamera.setViewOffset(e,t,r,n,i,a):this.orthoCamera.setViewOffset(e,t,r,n,i,a)}clearViewOffset(){"PerspectiveCamera"===this._cameraType?(this.perspCamera.clearViewOffset(),this.toPerspective()):(this.orthoCamera.clearViewOffset(),this.toOrthographic())}updateProjectionMatrix(e){"PerspectiveCamera"===this._cameraType?this.toPerspective(e):"OrthographicCamera"===this._cameraType&&this.toOrthographic(e)}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}copy(e,t){return super.copy(e,t),this.orthoCamera.copy(e.orthoCamera),this.perspCamera.copy(e.perspCamera),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.far=e.far,this.view=null===e.view?null:Object.assign({},e.view),this._cameraType=e._cameraType,this.aspect=e.aspect,this.fov=e.fov,this.focus=e.focus,this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this.targetOffset=e.targetOffset,this.updateProjectionMatrix(),this}fromCameraRender(e){let t={near:this.orthoCamera.near,far:this.orthoCamera.far},r={near:this.perspCamera.near,far:this.perspCamera.far};return this.copy(e),this.name="",this.enableHelper=!0,this.objectHelper.visible=!0,this.orthoCamera.near=t.near,this.orthoCamera.far=t.far,this.perspCamera.near=r.near,this.perspCamera.far=r.far,this.updateProjectionMatrix(),this}toJSON(e){let t=super.toJSON(e),r=t.object;return r.ObjectType="CombinedCamera",r.cameraType=this.cameraType,r.targetOffset=this.targetOffset,r.isUpVectorFlipped=this.isUpVectorFlipped,r.angleOffsetFromUp=this.angleOffsetFromUp,r.left=this.left,r.right=this.right,r.top=this.top,r.bottom=this.bottom,null!==this.view&&(r.view=Object.assign({},this.view)),r.zoomOrtho=this.orthoCamera.zoom,r.nearOrtho=this.orthoCamera.near,r.far=this.far,r.aspect=this.aspect,r.fov=this.fov,r.focus=this.focus,r.filmGauge=this.filmGauge,r.filmOffset=this.filmOffset,r.zoomPersp=this.perspCamera.zoom,r.nearPersp=this.perspCamera.near,t}fromJSON(e){var t;if(super.fromJSON(e),this.cameraType=e.cameraType,void 0!==e.targetOffset&&(this.targetOffset=e.targetOffset),void 0!==e.orbitControlsTarget){let t=this.getWorldPosition(new(0,$ilwiq.Vector3)),r=(new(0,$ilwiq.Vector3)).fromArray(e.orbitControlsTarget);this.targetOffset=r.distanceTo(t)}else void 0!==e.targetOffset&&(this.targetOffset=e.targetOffset);return this.isUpVectorFlipped=!1,this.angleOffsetFromUp=null!=(t=e.angleOffsetFromUp)?t:0,void 0!==e.left&&(this.left=e.left),void 0!==e.right&&(this.right=e.right),void 0!==e.top&&(this.top=e.top),void 0!==e.bottom&&(this.bottom=e.bottom),void 0!==e.view&&(this.view=Object.assign({},e.view)),void 0!==e.zoomOrtho&&(this.orthoCamera.zoom=e.zoomOrtho),void 0!==e.nearOrtho&&(this.orthoCamera.near=e.nearOrtho),void 0!==e.far&&(this.far=e.far),void 0!==e.aspect&&(this.aspect=e.aspect),void 0!==e.fov&&(this.fov=e.fov),void 0!==e.focus&&(this.focus=e.focus),void 0!==e.filmGauge&&(this.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(this.filmOffset=e.filmOffset),void 0!==e.zoomPersp&&(this.perspCamera.zoom=e.zoomPersp),void 0!==e.nearPersp&&(this.perspCamera.near=e.nearPersp),this.updateProjectionMatrix(),this}toCameraState(e=[]){let t={type:this.cameraType,far:this.far,orthographic:{near:this.orthoCamera.near,zoom:this.orthoCamera.zoom},perspective:{near:this.perspCamera.near,fov:this.perspCamera.fov,zoom:this.perspCamera.zoom},up:this.up.toArray(),targetOffset:this.targetOffset,isUpVectorFlipped:this.isUpVectorFlipped};return cl(t,e)}fromCameraState(e){let{orthographic:t,perspective:r}=e;return void 0!==e.type&&(this.cameraType=e.type),void 0!==e.far&&(this.far=e.far),void 0!==t&&(void 0!==t.near&&(this.orthoCamera.near=t.near),void 0!==t.zoom&&(this.orthoCamera.zoom=t.zoom)),void 0!==r&&(void 0!==r.near&&(this.perspCamera.near=r.near),void 0!==r.fov&&(this.perspCamera.fov=r.fov),void 0!==r.zoom&&(this.perspCamera.zoom=r.zoom)),void 0!==e.up&&this.up.fromArray(e.up),void 0!==e.targetOffset&&(this.targetOffset=e.targetOffset),void 0!==e.isUpVectorFlipped&&(this.isUpVectorFlipped=e.isUpVectorFlipped),this.updateProjectionMatrix(),this}toState(e){return{...super.toState(e),...this.toCameraState(e),type:this.cameraType}}fromState(e){return super.fromState(e),this.fromCameraState(e),this}}var $ilwiq=parcelRequire("ilwiq");class $968392d653082a55$export$2441567ff18621e0 extends($e1e8fbc274910ad0$export$165a27c7d02dd2c5($7447aa2841984708$export$82769c919fcdc8d5($ilwiq.Group),$15c576fe78df120d$export$1b40682d15cf5152)){constructor(){super(...arguments),this.objectType="EmptyObject"}static createFromState(e,t){let r=(new $968392d653082a55$export$2441567ff18621e0).fromState(t);return r.uuid=e,r.enableHelper=!0,r.objectHelper.update(),r}toJSON(e){let t=super.toJSON(e);return t.object.ObjectType="EmptyObject",t}}var $ilwiq=parcelRequire("ilwiq");function $09c78a2677413127$var$M1(e,t){e.shadow.camera.right=t/2,e.shadow.camera.left=-t/2,e.shadow.camera.top=t/2,e.shadow.camera.bottom=-t/2,e.shadow.needsUpdate=!0}class $09c78a2677413127$export$2adbfde06217b77c extends($e1e8fbc274910ad0$export$165a27c7d02dd2c5($7447aa2841984708$export$82769c919fcdc8d5($ilwiq.DirectionalLight),$15c576fe78df120d$export$1289147c444debb9)){constructor(...e){super(...e),this.objectType="LightDirectional",this._gizmos={},this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024;let t=this.shadow.camera;t.top=1250,t.bottom=-1250,t.right=1250,t.left=-1250,t.near=1,t.far=2500;let r=new(0,$ilwiq.CameraHelper)(this.shadow.camera);r.visible=!1,this._gizmos.shadowmap=r,this.update()}static createFromState(e,t,r){let n=(new $09c78a2677413127$export$2adbfde06217b77c).fromState(t,r);return n.uuid=e,n}get gizmos(){return this._gizmos}showGizmos(){for(let e in this._gizmos){let t=this._gizmos[e];t instanceof $ilwiq.CameraHelper&&(t.visible=!0)}}hideGizmos(){for(let e in this._gizmos){let t=this._gizmos[e];t instanceof $ilwiq.CameraHelper&&(t.visible=!1)}}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this._gizmos){let t=this._gizmos[e];t instanceof $ilwiq.CameraHelper&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),!0===this.enableHelper&&!0===this.objectHelper.visible&&this.objectHelper.update()}copy(e,t=!0){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){let t=super.toJSON(e),r=t.object;return r.ObjectType="LightDirectional",r.color=this.color.getHex(),r.intensity=this.intensity,r.shadow=this.shadow.toJSON(),t}fromJSON(e){var t;super.fromJSON(e),this.color.set(e.color),this.intensity=e.intensity,this.shadow.normalBias=null!=(t=e.shadow.normalBias)?t:0,this.shadow.radius=e.shadow.radius,this.shadow.mapSize.fromArray(e.shadow.mapSize);let r=this.shadow.camera,n=e.shadow.camera;return r.near=n.near,r.far=n.far,r.zoom=n.zoom,r.left=n.left,r.right=n.right,r.top=n.top,r.bottom=n.bottom,void 0!==n.view&&(r.view=Object.assign({},n.view)),this}fromDirectionalLightState(e,t){let r=void 0!==e.depth&&e.depth!==this.shadow.camera.far||void 0!==e.size&&e.size/2!==this.shadow.camera.right;return super.fromLightState(e,t),void 0!==e.size&&$09c78a2677413127$var$M1(this,e.size),r&&this.update(),this}fromState(e,t){return super.fromState(e),this.fromDirectionalLightState(e,t),this}}var $ilwiq=parcelRequire("ilwiq");class $8c486ecc2cb78803$export$47be783d49a2437d extends($e1e8fbc274910ad0$export$165a27c7d02dd2c5($7447aa2841984708$export$82769c919fcdc8d5($ilwiq.PointLight),$15c576fe78df120d$export$e051ba465f9e5596)){constructor(...e){super(...e),this.objectType="LightPoint",this._gizmos={},this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024;let t=this.shadow.camera;t.fov=90,t.aspect=1,t.near=100,t.far=2500;let r=new(0,$ilwiq.Vector3)(-t.far+this.position.x,-t.far+this.position.y,-t.far+this.position.z),n=new(0,$ilwiq.Vector3)(t.far+this.position.x,t.far+this.position.y,t.far+this.position.z),i=new(0,$ilwiq.Box3)(r,n),a=new(0,$ilwiq.Box3Helper)(i,new(0,$ilwiq.Color)(16755200));a.visible=!1,this._gizmos.shadowmap=a,this.update()}static createFromState(e,t,r){let n=(new $8c486ecc2cb78803$export$47be783d49a2437d).fromState(t,r);return n.uuid=e,n}get gizmos(){return this._gizmos}showGizmos(){for(let e in this._gizmos){let t=this._gizmos[e];t instanceof $ilwiq.Box3Helper&&(t.visible=!0)}}hideGizmos(){for(let e in this._gizmos){let t=this._gizmos[e];t instanceof $ilwiq.Box3Helper&&(t.visible=!1)}}update(){if(this.shadow&&(this.shadow.camera.updateProjectionMatrix(),this._gizmos))for(let e in this._gizmos){let t=this._gizmos[e];if(t instanceof $ilwiq.Box3Helper){let e=this.shadow.camera,r=new(0,$ilwiq.Vector3)(-e.far+this.position.x,-e.far+this.position.y,-e.far+this.position.z),n=new(0,$ilwiq.Vector3)(e.far+this.position.x,e.far+this.position.y,e.far+this.position.z);t.box.set(r,n),t.updateMatrixWorld(!0)}}}updateMatrixWorld(e){super.updateMatrixWorld(e),!0===this.enableHelper&&!0===this.objectHelper.visible&&this.objectHelper.update()}copy(e,t=!0){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){let t=super.toJSON(e),r=t.object;return r.ObjectType="LightPoint",r.color=this.color.getHex(),r.intensity=this.intensity,r.distance=this.distance,r.decay=this.decay,r.shadow=this.shadow.toJSON(),t}fromJSON(e){var t,r;super.fromJSON(e),this.color.set(e.color),this.intensity=e.intensity,this.distance=e.distance,this.decay=e.decay,this.shadow.normalBias=null!=(t=e.shadow.normalBias)?t:0,this.shadow.radius=e.shadow.radius,this.shadow.mapSize.fromArray(null!=(r=e.shadow.mapSize)?r:[512,512]),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null);let n=this.shadow.camera,i=e.shadow.camera;return n.near=i.near,n.far=i.far,n.zoom=i.zoom,n.fov=i.fov,n.focus=i.focus,n.aspect=i.aspect,n.filmGauge=i.filmGauge,n.filmOffset=i.filmOffset,void 0!==i.view&&(n.view=Object.assign({},i.view)),this}fromPointLightState(e,t){return super.fromLightState(e,t),void 0!==e.distance&&(this.distance=e.distance),void 0!==e.decay&&(this.decay=e.decay),void 0!==e.shadowRadius&&(this.shadow.radius=e.shadowRadius),void 0!==e.shadowResolution&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null)),this}fromState(e,t){return super.fromState(e),this.fromPointLightState(e,t),this}}var $ilwiq=parcelRequire("ilwiq");let $7dd456bc3f538a94$var$oA=new(0,$ilwiq.Vector3),$7dd456bc3f538a94$var$aA=new(0,$ilwiq.Vector3),$7dd456bc3f538a94$var$lA=new(0,$ilwiq.Quaternion);class $7dd456bc3f538a94$export$48da824e64463b73 extends($e1e8fbc274910ad0$export$165a27c7d02dd2c5($7447aa2841984708$export$82769c919fcdc8d5($ilwiq.SpotLight),$15c576fe78df120d$export$2a8bb1eb60b97a3c)){constructor(...e){super(...e),this.objectType="LightSpot",this._gizmos={},this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024;let t=this.shadow.camera;t.fov=2*$ilwiq.MathUtils.RAD2DEG*this.angle,t.aspect=1,t.near=100,t.far=2500;let r=new(0,$ilwiq.CameraHelper)(this.shadow.camera);r.visible=!1,this._gizmos.shadowmap=r,this.update()}static createFromState(e,t,r){let n=(new $7dd456bc3f538a94$export$48da824e64463b73).fromState(t,r);return n.uuid=e,n}get gizmos(){return this._gizmos}showGizmos(){for(let e in this._gizmos){let t=this._gizmos[e];t instanceof $ilwiq.CameraHelper&&(t.visible=!0)}}hideGizmos(){for(let e in this._gizmos){let t=this._gizmos[e];t instanceof $ilwiq.CameraHelper&&(t.visible=!1)}}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this._gizmos){let t=this._gizmos[e];t instanceof $ilwiq.CameraHelper&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),$7dd456bc3f538a94$var$aA.setFromMatrixPosition(this.matrixWorld),$7dd456bc3f538a94$var$lA.setFromRotationMatrix(this.matrixWorld),$7dd456bc3f538a94$var$oA.copy(this.up).applyQuaternion($7dd456bc3f538a94$var$lA).negate().multiplyScalar(this.distance),this.target.position.copy($7dd456bc3f538a94$var$aA).add($7dd456bc3f538a94$var$oA),this.target.updateMatrixWorld(),!0===this.enableHelper&&!0===this.objectHelper.visible&&this.objectHelper.update()}copy(e,t=!0){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){let t=super.toJSON(e),r=t.object;return r.ObjectType="LightSpot",r.color=this.color.getHex(),r.intensity=this.intensity,r.distance=this.distance,r.angle=this.angle,r.decay=this.decay,r.penumbra=this.penumbra,r.shadow=this.shadow.toJSON(),t}fromJSON(e){var t;super.fromJSON(e),this.color.set(e.color),this.intensity=e.intensity,this.distance=e.distance,this.angle=e.angle,this.decay=e.decay,this.penumbra=e.penumbra,this.shadow.normalBias=null!=(t=e.shadow.normalBias)?t:0,this.shadow.radius=e.shadow.radius,this.shadow.mapSize.fromArray(e.shadow.mapSize);let r=this.shadow.camera,n=e.shadow.camera;return r.near=n.near,r.far=n.far,r.zoom=n.zoom,r.fov=n.fov,r.focus=n.focus,r.aspect=n.aspect,r.filmGauge=n.filmGauge,r.filmOffset=n.filmOffset,void 0!==n.view&&(r.view=Object.assign({},n.view)),this}fromSpotLightState(e,t){return super.fromLightState(e,t),void 0!==e.distance&&(this.distance=e.distance),void 0!==e.decay&&(this.decay=e.decay),void 0!==e.angle&&(this.angle=e.angle),void 0!==e.penumbra&&(this.penumbra=e.penumbra),this}fromState(e,t){return super.fromState(e),this.fromSpotLightState(e,t),this}}const $468f52cdc7df949a$export$44f46a255c0a0012={defaultData:{states:new $801beee143e99c0a$export$28d922e8fa3bd007,events:new $801beee143e99c0a$export$28d922e8fa3bd007,visible:!0,raycastLock:!1,...$d9b846eb5d0a0e26$export$9a18e6173a1034c2.identity}},$468f52cdc7df949a$export$3ce6eb1b322ed47a={defaultData:{type:"Empty",...$468f52cdc7df949a$export$44f46a255c0a0012.defaultData}},$468f52cdc7df949a$export$d33b31cbde52c8b8={defaultData:{type:"Mesh",...$468f52cdc7df949a$export$44f46a255c0a0012.defaultData,...$d9b846eb5d0a0e26$export$bf6102cace6b6e23.defaultData}},$468f52cdc7df949a$export$388fd824c368a277={defaultData:{type:"TextFrame",...$468f52cdc7df949a$export$44f46a255c0a0012.defaultData,...$d9b846eb5d0a0e26$export$f5371efb0827804f.defaultData}},$468f52cdc7df949a$export$8f88dcfa9512ad8b={defaultData:{...$468f52cdc7df949a$export$44f46a255c0a0012.defaultData,...$d9b846eb5d0a0e26$export$9a18e6173a1034c2.identity,...$d9b846eb5d0a0e26$export$c9aa1438c29faa71.defaultData}};class $b1a51a1f766746c2$export$bd0bf19f25da8474 extends $17493c0898b58cb5$export$2e2bcd8739ae039{constructor(e){super(),this.spaces={},this.allowRender=new Set,this.universe=new $ilwiq.Scene,this.resolution=new $ilwiq.Vector2,this.cameras=new $6a5e69733f237d8f$export$299284521f98aac5,e.useCombinedCamera&&(this.combinedCamera=this.createCombinedCamera()),this.time=new $19dd8ab808926e6e$export$2e2bcd8739ae039,this.work=!1,this.postProcessingPipeline=null,this.info={aspectSetting:{mainAspect:16/9,wideAspect:10,portraitAspect:.5},size:{windowSize:new $ilwiq.Vector2,windowAspectRatio:1,canvasSize:new $ilwiq.Vector2,canvasPixelSize:new $ilwiq.Vector2,canvasAspectRatio:1,pixelRatio:window.devicePixelRatio,portraitWeight:0,wideWeight:0}},this.info.canvas=e.canvas||null,this.info.wrapperElement=e.wrapperElement,this.info.wrapperElementRect=e.wrapperElement&&e.wrapperElement.getBoundingClientRect(),this.info.aspectSetting=e.aspectSetting||this.info.aspectSetting,this.info.alpha=e.alpha,this.info.size.pixelRatio=e.pixelRatio||this.info.size.pixelRatio,this.renderer=new(e.compatible?$ilwiq.WebGL1Renderer:$ilwiq.WebGLRenderer)({...this.info,antialias:!1}),this.renderer.setPixelRatio(this.info.size.pixelRatio),this.renderer.debug.checkShaderErrors=!0,this.branchRenderingMergeTarget=new $c413ee0b245ec835$export$2e2bcd8739ae039(0,0,{stencilBuffer:!0,generateMipmaps:!1,depthBuffer:!0,minFilter:$ilwiq.LinearFilter,magFilter:$ilwiq.LinearFilter}),e.debugFBO&&(this.helper=new($parcel$interopDefault($kQrTP))(this.renderer)),e.control&&this.setControl(e.useCombinedCamera?this.combinedCamera:this.cameras.perspective);let t=this.onOrientationDevice.bind(this),r=this.onWindowResize.bind(this);window.addEventListener("orientationchange",t),window.addEventListener("resize",r),this.on("dispose",(()=>{window.removeEventListener("orientationchange",t),window.removeEventListener("resize",r)})),this._oldClearColor=new $ilwiq.Color,this.onWindowResize(),this.time.on("tick",(()=>{if(this.work&&this.allowRender.size){let e=this.renderer.getRenderTarget();for(const e of Array.from(this.allowRender)){let t=this.spaces[e];t&&(t.tick(this.time.delta),this.renderer.setRenderTarget(t.output),this.renderer.getClearColor(this._oldClearColor),this.renderer.setClearColor(t.specialColor),t.renderSpace(),this.renderer.setClearColor(this._oldClearColor))}this.finalRender(),this.renderer.setRenderTarget(e),this.controls.update(),this.helper&&this.helper.update()}}))}createCombinedCamera(){let e=$b07028dea129e572$export$80f4cb0e32a77892.createFromState($ilwiq.MathUtils.generateUUID,{...$468f52cdc7df949a$export$8f88dcfa9512ad8b.defaultData,name:"Main CombinedCamera"});return e.enableHelper=!1,e.objectHelper.visible=!1,delete e.isEntity,e}initTransmission(e){e.scene.needsTransmission(void 0)&&(e.transmissionRenderTarget=new $ilwiq.WebGLRenderTarget(this.resolution.x,this.resolution.y,{generateMipmaps:!0,minFilter:$ilwiq.LinearMipMapLinearFilter,magFilter:$ilwiq.LinearFilter,wrapS:$ilwiq.ClampToEdgeWrapping,wrapT:$ilwiq.ClampToEdgeWrapping}),e.transmissionRenderTarget.depthTexture=new $ilwiq.DepthTexture(this.resolution.x,this.resolution.y),e.scene.needsTransmission(e.transmissionRenderTarget))}setSpaceCameraAsMainCamera(e){this.combinedCamera=e.scene.activeCamera,this.setControl(this.combinedCamera)}finalRender(){this.renderer.setRenderTarget(null);let e=this.postProcessingPipeline;e?(this.renderer.setRenderTarget(this.branchRenderingMergeTarget),this.renderer.render(this.universe,this.cameras.orthographic),e()):this.renderer.render(this.universe,this.cameras.orthographic)}setControl(e){this.controls?this.controls.object=e:(this.controls=new $443c013b983d0324$export$8ff7788029dfdf52(e,this.renderer.domElement),this.combinedCamera||this.cameras.setInitPosition(e))}onWindowResize(){if(null==this.renderer)return;const e=new $ilwiq.Vector2(window.innerWidth,window.innerHeight),t=new $ilwiq.Vector2;this.info.wrapperElement?t.set(this.info.wrapperElement.clientWidth,this.info.wrapperElement.clientHeight):t.copy(e);let r=1-(t.x/t.y-this.info.aspectSetting.portraitAspect)/(this.info.aspectSetting.mainAspect-this.info.aspectSetting.portraitAspect);r=Math.min(1,Math.max(0,r));let n=1-(t.x/t.y-this.info.aspectSetting.wideAspect)/(this.info.aspectSetting.mainAspect-this.info.aspectSetting.wideAspect);n=Math.min(1,Math.max(0,n)),this.info.size.windowSize.copy(e),this.info.size.windowAspectRatio=e.x/e.y,this.info.size.canvasSize.copy(t),this.info.size.canvasPixelSize.copy(t.clone().multiplyScalar(this.renderer.getPixelRatio())),this.info.size.canvasAspectRatio=t.x/t.y,this.info.size.portraitWeight=r,this.info.size.wideWeight=n,this.renderer.setPixelRatio(this.info.size.pixelRatio);let i=this.info.size.canvasSize.x,a=this.info.size.canvasSize.y;if(this.renderer.setSize(i,a),this.renderer.getDrawingBufferSize(this.resolution),this.branchRenderingMergeTarget.setSize(this.resolution.x,this.resolution.y),this.helper)for(let e of this.helper.fbos)setTimeout((()=>{this.helper.refreshFBO(e.fbo)}),10);this.helper&&this.helper.setSize(i,a),this.cameras.perspective.aspect=this.info.size.canvasAspectRatio,this.cameras.perspective.updateProjectionMatrix(),this.combinedCamera&&this.resizeCombineCamera(this.combinedCamera);for(const e of Array.from(this.allowRender)){let t=this.spaces[e];t&&(t.transmissionRenderTarget&&(t.transmissionRenderTarget.setSize(this.resolution.x,this.resolution.y),t.transmissionRenderTarget.depthTexture=new $ilwiq.DepthTexture(this.resolution.x,this.resolution.y)),t.setOutputSize(this.resolution),this.resizeCombineCamera(t.scene.activeCamera))}this.info.wrapperElement&&(this.info.wrapperElementRect=this.info.wrapperElement.getBoundingClientRect()),setTimeout((()=>{this.trigger("windowResize",[this.info.size.canvasSize])}),0)}resizeCombineCamera(e){e.aspect=this.info.size.canvasAspectRatio,e.updateProjectionMatrix()}get canvasSize(){return this.info.size.canvasSize}onOrientationDevice(){this.trigger("orientationDevice")}addSpace(e){if(this.getSpace(e.name))throw Error("space already exists");this.spaces[e.name]=e,e.setOutputSize(this.resolution),this.universe.add(e.meta),e.onAdd()}removeSpace(e){let t=this.getSpace(e);t?(t.onRemove(),delete this.spaces[e]):console.warn("space does not exist")}getSpace(e){return this.spaces[e]}setFBODebug(e,t){this.helper&&this.helper.attach(e,t)}dispose(){this.spaces=null,this.trigger("dispose")}}var $ilwiq=parcelRequire("ilwiq"),$7062354561614e2d$export$2e2bcd8739ae039="\nprecision highp float;\n  uniform sampler2D utexture;\n  uniform vec3 uColor;\n  uniform vec2 uResolution;\n  void main() {\n    vec2 uv = gl_FragCoord.xy / uResolution.xy;\n    vec3 color = vec3(uv, 1.0);\n    color = texture2D(utexture, uv).rgb;\n    // color.r += sin(uv.x * 50.0);\n    if(distance(color,uColor)<0.005){\n        discard;\n    }\n    gl_FragColor = vec4(color, 1.0);\n  }\n",$ilwiq=parcelRequire("ilwiq");let $1445f6cd2b182f48$export$6643083551874bf5;($1445f6cd2b182f48$export$6643083551874bf5||($1445f6cd2b182f48$export$6643083551874bf5={})).mergeUniforms=function(...e){let t={};for(let r=0;r<e.length;r++)null!=e[r]&&Object.assign(t,e[r]);return t};var $4bab0c2ae2c17960$export$2e2bcd8739ae039="\nprecision highp float;\nvarying vec2 vUv;\nvoid main() {\n    vUv = uv;\n    gl_Position =projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}     \n";class $4f29b45d374eda22$export$2e2bcd8739ae039{constructor(e){this.uniforms=e.uniforms,this.fragmentShader=e.fragmentShader,this.resolution=new $ilwiq.Vector2(innerWidth,innerHeight),this.geometry=new $ilwiq.BufferGeometry;const t=new Float32Array([-1,-1,3,-1,-1,3]);this.geometry.setAttribute("position",new $ilwiq.BufferAttribute(t,2)),this.material=new $ilwiq.ShaderMaterial({fragmentShader:this.fragmentShader,vertexShader:$4bab0c2ae2c17960$export$2e2bcd8739ae039,uniforms:$1445f6cd2b182f48$export$6643083551874bf5.mergeUniforms(this.uniforms,{})}),this.triangle=new $ilwiq.Mesh(this.geometry,this.material),this.triangle.frustumCulled=!1}}var $ilwiq=parcelRequire("ilwiq"),$f1q41=parcelRequire("f1q41");let $a927bd023df16ce5$var$Tn=e=>"isEntity"in e,$a927bd023df16ce5$var$SA=new(0,$ilwiq.Vector3);class $a927bd023df16ce5$export$2e2bcd8739ae039 extends($b00c79fae392a566$export$c7f6ab2975ab589f($ilwiq.Scene)){constructor(e,t){super(),this.objectType="Scene",this.alpha=1,this.backupFog=new(0,$ilwiq.Fog)(16777215,.1,2e3),this.fogUseBGColor=!1,this.wireframeState=!1,this.needsTransmissionDirty=!0,this._needsTransmission=!1,this._color=new(0,$ilwiq.Color)(1,0,0),this.bgColor=new(0,$ilwiq.Color)(1,1,1),this.entityByUuid={},this.ambientLight=new(0,$ilwiq.HemisphereLight)(13882323,8553090,.75),this.ambientLight.name="Default Ambient Light",this.personalCamera=this.createPersonalCamera(),this.activeCamera=this.personalCamera,this.sharedAssetManager=t,$parcel$interopDefault($f1q41).isBoolean(e.useProto)&&e.useProto||this.init(e,t)}needsTransmission(e){return this.needsTransmissionDirty&&(this._needsTransmission=$f34097f475629eff$export$dc14d0b12e7f6dbf(e,this),void 0!==e&&(this.needsTransmissionDirty=!1)),this._needsTransmission}find(e){if(""===e||void 0===e)return;let t=this.entityByUuid[e];return void 0===t?this.getObjectByProperty("uuid",e):t}get color(){return this._color}set color(e){!0===this.fogUseBGColor&&this.backupFog.color.copy(e),this._color.copy(e)}get enableFog(){return null!==this.fog}set enableFog(e){this.fog=!0===e?this.backupFog:null}init(e,t){if(this.createChildrenObjects(e.objects,this,t),this.personalCamera.removeFromParent(),this.add(this.personalCamera),this.ambientLight.removeFromParent(),this.add(this.ambientLight),this.setBackgroundColor($f34097f475629eff$export$c0c1db43bb4f60f7(e.backgroundColor,t)),this.updateFog(e.fog,t),this.updateAmbientLight(e.environment.ambientLight,t),this.activeCamera=this.personalCamera,null!==e.publish.playCamera){let t=this.find(e.publish.playCamera);t instanceof $b07028dea129e572$export$80f4cb0e32a77892&&this.switchActiveCamera(t)}}clearScene(e){this.traverseEntity((t=>{$f34097f475629eff$export$c1ef8019ca5d89d9(t,e)}));for(let e of this.children)$a927bd023df16ce5$var$Tn(e)&&e.removeFromParent()}resetAfterClear(e,t){this.init(e,t)}createPersonalCamera(){let e=$b07028dea129e572$export$80f4cb0e32a77892.createFromState($a927bd023df16ce5$export$2e2bcd8739ae039.PERSONAL_CAMERA_ID,{...$468f52cdc7df949a$export$8f88dcfa9512ad8b.defaultData,name:"Personal Camera"});return e.enableHelper=!1,e.objectHelper.visible=!1,delete e.isEntity,this.registerObjectCreatedInLegacy(e),e}traverseEntity(e){for(let t of this.children)$a927bd023df16ce5$var$Tn(t)&&t.traverseEntity(e)}updateFog(e,t){this.enableFog=e.enabled,this.fogUseBGColor=e.useBackgroundColor,e.useBackgroundColor?this.backupFog.color.set(this.bgColor):this.backupFog.color=$f34097f475629eff$export$c0c1db43bb4f60f7(e.color,t),this.backupFog.near=e.near,this.backupFog.far=e.far}updateAmbientLight(e,t){$f34097f475629eff$export$8f8aaa7c2e8d2b2a(this.ambientLight,e,t),void 0!==e.groundColor&&(this.ambientLight.groundColor=$f34097f475629eff$export$c0c1db43bb4f60f7(e.groundColor,t)),void 0!==e.enabled&&(this.ambientLight.visible=e.enabled)}switchActiveCamera(e){this.activeCamera!==this.personalCamera&&(this.activeCamera.enableHelper=!0),this.activeCamera=e,e.enableHelper=!1}setBackgroundColor(e){this.bgColor=e,this.alpha=e.a}createChildrenObjects(e,t,r){for(let n of e)this.createChildObject(n.id,n.data,n.children,t,r)}registerObjectCreatedInLegacy(e){this.entityByUuid[e.uuid]=e}unregisterObject(e){delete this.entityByUuid[e.uuid];for(let t of e.children)this.unregisterObject(t)}createChildObject(e,t,r,n,i){let a=$f34097f475629eff$export$1fe0dcec7c33c489(e,t,i);return a&&(this.entityByUuid[e]=a,n.add(a),this.createChildrenObjects(r,a,i)),a}getCenter(e){let t=[];for(let r=0,n=e.length;r<n;++r){let{id:n,recursive:i}=e[r],a=this.find(n),o=i?a.recursiveBBox:a.singleBBox;t.push(...o.vertices)}let r=new(0,$ilwiq.Box3);return r.setFromPoints(t),r.getCenter($a927bd023df16ce5$var$SA),$a927bd023df16ce5$var$SA}copyMatrixWorld(e,t){if(null===e)return void t.identity();let r=this.find(e);r?t.copy(r.matrixWorld):t.identity()}copyParentMatrixWorld(e,t){var r;if(null===e)return void t.identity();let n=null==(r=this.find(e))?void 0:r.parent;n?t.copy(n.matrixWorld):t.identity()}traverseMaterial(e){this.traverseEntity((t=>{if(t instanceof $3ede439791312b8b$export$2e2bcd8739ae039)if(Array.isArray(t.material))for(let r=0;r<t.material.length;r++)e(t.material[r]);else e(t.material)}))}updateCanvasSize(e,t){let r,n;this.activeCamera.setViewplaneSize(e,t),e>=t?(r=t/e,n=1):(r=1,n=e/t),this.traverseMaterial((e=>{e.layersList.getLayersOfType($cf00a5c94ce7c28c$export$76bf88ec17fef043.TRANSMISSION).forEach((e=>{e.uniforms[`f${e.id}_aspectRatio`].value.x=r,e.uniforms[`f${e.id}_aspectRatio`].value.y=n}))}))}}$a927bd023df16ce5$export$2e2bcd8739ae039.PERSONAL_CAMERA_ID="f23858d0-4a3b-4bd8-8173-66ed0af7f6fb-personalCamera";class $a6f5caf5f547dba6$export$eef1e68107c58ef2 extends $17493c0898b58cb5$export$2e2bcd8739ae039{constructor(e){super(),this.name=e.name||(console.warn("created unnamed space"),$ilwiq.MathUtils.generateUUID()),this.deep=e.deep||0,this.specialColor=e.specialColor||new $ilwiq.Color(.131242,.51613,.12314),this.time=0,this.resolution=new $ilwiq.Vector2,this.output=new $ilwiq.WebGLRenderTarget(this.resolution.x,this.resolution.y,{depthBuffer:!0,stencilBuffer:!0,format:$ilwiq.RGBAFormat,minFilter:$ilwiq.NearestFilter,magFilter:$ilwiq.NearestFilter}),this.renderTargetDepth=new $ilwiq.WebGLRenderTarget(innerWidth,innerHeight,{minFilter:$ilwiq.NearestFilter,magFilter:$ilwiq.NearestFilter}),this.meta=new $4f29b45d374eda22$export$2e2bcd8739ae039({fragmentShader:$7062354561614e2d$export$2e2bcd8739ae039,uniforms:{uColor:{value:this.specialColor},uResolution:{value:this.resolution},utexture:{value:this.output.texture}}}).triangle,this.meta.position.set(0,0,this.deep+1),this.commonUniforms={time:{value:0}},this.scene=new $a927bd023df16ce5$export$2e2bcd8739ae039({useProto:!0},{}),this.materialDepth=new $ilwiq.MeshDepthMaterial,this.materialDepth.depthPacking=$ilwiq.RGBADepthPacking,this.materialDepth.blending=$ilwiq.NoBlending}tick(e){this.time+=e,this.commonUniforms.time.value=this.time,this.animate(e)}renderSpace(e){}animate(e){}onAdd(e){}onRemove(e){this.removeChildrens(this.scene)}removeChildrens(e){for(let t=e.children.length-1;t>=0;t--){let r,n;this.removeChildrens(e.children[t]),e.children[t].isMesh&&(r=e.children[t].geometry,n=e.children[t].material),e.remove(e.children[t]),r&&r.dispose(),n&&n.dispose()}}setOutputSize(e){this.output.setSize(e.x,e.y),this.resolution.copy(e)}}var $ilwiq=parcelRequire("ilwiq"),$c337bee7cdcab3d6$export$2e2bcd8739ae039="varying vec2 vUv;\nvoid main() {\n    vUv = uv;\n    gl_Position = vec4( position, 1.0 );\n}   \n";class $73a83cd027637425$export$6eafee11db0bd883{constructor(e,t,r){this.renderer=e,this.scene=new $ilwiq.Scene,this.camera=new $ilwiq.OrthographicCamera(-1,1,1,-1),this.screen=new $ilwiq.Mesh(r||new $ilwiq.PlaneBufferGeometry(2,2)),this.scene.add(this.screen),t.vertexShader=t.vertexShader||$c337bee7cdcab3d6$export$2e2bcd8739ae039,t.uniforms=t.uniforms||{},t.uniforms.resolution={value:new $ilwiq.Vector2},this.effect={material:new $ilwiq.ShaderMaterial(t)}}render(e,t=null){let r=this.renderer.getRenderTarget(),n=this.effect,i=n.material,a=i.uniforms;if(e){let t=Object.keys(e);for(let r=0;r<t.length;r++)a[t[r]]?a[t[r]].value=e[t[r]]:(a[t[r]]={value:e[t[r]]},n.material.needsUpdate=!0,n.material.uniforms=a)}t?a.resolution.value.set(t.width,t.height):this.renderer.getSize(a.resolution.value),this.screen.material=i,this.renderer.setRenderTarget(t),this.renderer.render(this.scene,this.camera),this.renderer.setRenderTarget(r)}}var $ilwiq=parcelRequire("ilwiq"),$f0ca0e84c718dae9$export$2e2bcd8739ae039="\n\nvarying vec2 vUv;\nvarying vec4 vOffset[3];\nuniform vec4 SMAA_RT_METRICS;\n\nvoid SMAAEdgeDetectionVS(vec2 texcoord) {\n    vOffset[0] = mad(SMAA_RT_METRICS.xyxy, vec4(-1.0, 0.0, 0.0, -1.0), texcoord.xyxy);\n    vOffset[1] = mad(SMAA_RT_METRICS.xyxy, vec4(1.0, 0.0, 0.0, 1.0), texcoord.xyxy);\n    vOffset[2] = mad(SMAA_RT_METRICS.xyxy, vec4(-2.0, 0.0, 0.0, -2.0), texcoord.xyxy);\n}\n\nvoid main(void) {\n\n    vec3 pos = position;\n\n    gl_Position = vec4(position, 1.0);\n\n    SMAAEdgeDetectionVS(uv);\n\n    vUv = uv;\n}\n",$dcb54a1e1ff953e5$export$2e2bcd8739ae039="\n\nvarying vec2 vUv;\nvarying vec4 vOffset[3];\n\nuniform sampler2D sceneTex;\n\nvec2 SMAAColorEdgeDetectionPS(vec2 texcoord, vec4 offset[3], sampler2D colorTex) {\n    // Calculate the threshold:\n    vec2 threshold = vec2(SMAA_THRESHOLD, SMAA_THRESHOLD);\n\n    // Calculate color deltas:\n    vec4 delta;\n    vec3 C = texture2D(colorTex, texcoord).rgb;\n\n    vec3 Cleft = texture2D(colorTex, offset[0].xy).rgb;\n    vec3 t     = abs(C - Cleft);\n    delta.x    = max(max(t.r, t.g), t.b);\n\n    vec3 Ctop = texture2D(colorTex, offset[0].zw).rgb;\n    t         = abs(C - Ctop);\n    delta.y   = max(max(t.r, t.g), t.b);\n\n    // We do the usual threshold:\n    vec2 edges = step(threshold, delta.xy);\n\n    // Then discard if there is no edge:\n    if (dot(edges, vec2(1.0, 1.0)) == 0.0)\n        return vec2(0.0);\n\n    // Calculate right and bottom deltas:\n    vec3 Cright = texture2D(colorTex, offset[1].xy).rgb;\n    t           = abs(C - Cright);\n    delta.z     = max(max(t.r, t.g), t.b);\n\n    vec3 Cbottom = texture2D(colorTex, offset[1].zw).rgb;\n    t            = abs(C - Cbottom);\n    delta.w      = max(max(t.r, t.g), t.b);\n\n    // Calculate the maximum delta in the direct neighborhood:\n    vec2 maxDelta = max(delta.xy, delta.zw);\n\n    // Calculate left-left and top-top deltas:\n    vec3 Cleftleft = texture2D(colorTex, offset[2].xy).rgb;\n    t              = abs(C - Cleftleft);\n    delta.z        = max(max(t.r, t.g), t.b);\n\n    vec3 Ctoptop = texture2D(colorTex, offset[2].zw).rgb;\n    t            = abs(C - Ctoptop);\n    delta.w      = max(max(t.r, t.g), t.b);\n\n    // Calculate the final maximum delta:\n    maxDelta         = max(maxDelta.xy, delta.zw);\n    float finalDelta = max(maxDelta.x, maxDelta.y);\n\n    // Local contrast adaptation:\n    edges.xy *= step(finalDelta, SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR * delta.xy);\n\n    return edges;\n}\n\nvoid main(void) {\n    gl_FragColor = vec4(SMAAColorEdgeDetectionPS(vUv, vOffset, sceneTex), 0.0, 1.0);\n}\n",$0ac8c667ab5737ab$export$2e2bcd8739ae039="\n\nvarying vec2 vUv;\nvarying vec4 vOffset[3];\nvarying vec2 vPixcoord;\n\nuniform vec4 SMAA_RT_METRICS;\n\nvoid SMAABlendingWeightCalculationVS(vec2 texcoord) {\n    vPixcoord = texcoord * SMAA_RT_METRICS.zw;\n\n    // We will use these offsets for the searches later on (see @PSEUDO_GATHER4):\n    vOffset[0] = mad(SMAA_RT_METRICS.xyxy, vec4(-0.25, -0.125, 1.25, -0.125), texcoord.xyxy);\n    vOffset[1] = mad(SMAA_RT_METRICS.xyxy, vec4(-0.125, -0.25, -0.125, 1.25), texcoord.xyxy);\n\n    // And these for the searches, they indicate the ends of the loops:\n    vOffset[2] = mad(SMAA_RT_METRICS.xxyy, vec4(-2.0, 2.0, -2.0, 2.0) * float(SMAA_MAX_SEARCH_STEPS), vec4(vOffset[0].xz, vOffset[1].yw));\n}\n\nvoid main(void) {\n\n    vec3 pos = position;\n\n    gl_Position = vec4(position, 1.0);\n\n    SMAABlendingWeightCalculationVS(uv);\n\n    vUv = uv;\n}\n",$d2d92259671166c7$export$2e2bcd8739ae039="\nprecision highp float;\n\nvarying vec2 vUv;\nvarying vec4 vOffset[3];\nvarying vec2 vPixcoord;\n\nuniform vec4 SMAA_RT_METRICS;\n\nuniform sampler2D backbuffer;\nuniform sampler2D areaTex;\nuniform sampler2D searchTex;\n\n\nfloat round(float x) {\n    return sign(x) * floor(abs(x) + 0.5);\n}\n\nvec2 round(vec2 value) {\n    return vec2(round(value.x), round(value.y));\n}\n\nvec4 texture2DOffset(sampler2D tex, vec2 uv, vec2 offset) {\n    return texture2D(tex, uv + offset * SMAA_RT_METRICS.xy);\n}\n\nfloat SMAASearchLength(sampler2D searchTex, vec2 e, float bias, float scale) {\n\n    e.r = mad(scale, e.r, bias);\n    return SMAA_SEARCHTEX_SELECT(texture2D(searchTex, e, 0.0));\n}\n\nfloat SMAASearchXLeft(sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end) {\n    /**\n     * @PSEUDO_GATHER4\n     * This texcoord has been offset by (-0.25, -0.125) in the vertex shader to\n     * sample between edge, thus fetching four edges in a row.\n     * Sampling with different offsets in each direction allows to disambiguate\n     * which edges are active from the four fetched ones.\n     */\n    vec2 e = vec2(0.0, 1.0);\n\n    for (int i = 0; i < SMAA_MAX_SEARCH_STEPS; i++) {\n\n        e        = texture2D(edgesTex, texcoord, 0.0).rg;\n        texcoord = mad(-vec2(2.0, 0.0), SMAA_RT_METRICS.xy, texcoord);\n\n        if (!(texcoord.x > end && e.g > 0.8281 && e.r == 0.0))\n            break;\n    }\n\n    float offset = mad(-255.0, SMAASearchLength(searchTex, e, 0.0, 0.5), 3.25);\n    return mad(SMAA_RT_METRICS.x, offset, texcoord.x);\n}\n\nfloat SMAASearchXRight(sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end) {\n    vec2 e = vec2(0.0, 1.0);\n\n    for (int i = 0; i < SMAA_MAX_SEARCH_STEPS; i++) {\n\n        e        = texture2D(edgesTex, texcoord, 0.0).rg;\n        texcoord = mad(vec2(2.0, 0.0), SMAA_RT_METRICS.xy, texcoord);\n\n        if (!(texcoord.x < end && e.g > 0.8281 && e.r == 0.0))\n            break;\n    }\n\n    float offset = mad(-255.0, SMAASearchLength(searchTex, e, 0.5, 0.5), 3.25);\n    return mad(-SMAA_RT_METRICS.x, offset, texcoord.x);\n}\n\nfloat SMAASearchYUp(sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end) {\n    vec2 e = vec2(1.0, 0.0);\n\n    for (int i = 0; i < SMAA_MAX_SEARCH_STEPS; i++) {\n\n        e        = texture2D(edgesTex, texcoord, 0.0).rg;\n        texcoord = mad(-vec2(0.0, 2.0), SMAA_RT_METRICS.xy, texcoord);\n\n        if (!(texcoord.y > end && e.r > 0.8281 && e.g == 0.0))\n            break;\n    }\n\n    float offset = mad(-255.0, SMAASearchLength(searchTex, e.gr, 0.0, 0.5), 3.25);\n    return mad(SMAA_RT_METRICS.y, offset, texcoord.y);\n}\n\nfloat SMAASearchYDown(sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end) {\n    vec2 e = vec2(1.0, 0.0);\n\n    for (int i = 0; i < SMAA_MAX_SEARCH_STEPS; i++) {\n        e        = texture2D(edgesTex, texcoord, 0.0).rg;\n        texcoord = mad(vec2(0.0, 2.0), SMAA_RT_METRICS.xy, texcoord);\n\n        if (!(texcoord.y < end && e.r > 0.8281 && e.g == 0.0))\n            break;\n    }\n\n    float offset = mad(-255.0, SMAASearchLength(searchTex, e.gr, 0.5, 0.5), 3.25);\n    return mad(-SMAA_RT_METRICS.y, offset, texcoord.y);\n}\n\nvec2 SMAAArea(sampler2D areaTex, vec2 dist, float e1, float e2, float offset) {\n    // Rounding prevents precision errors of bilinear filtering:\n    vec2 texcoord = mad(vec2(SMAA_AREATEX_MAX_DISTANCE, SMAA_AREATEX_MAX_DISTANCE), round(4.0 * vec2(e1, e2)), dist);\n\n    // We do a scale and bias for mapping to texel space:\n    texcoord = mad(SMAA_AREATEX_PIXEL_SIZE, texcoord, 0.5 * SMAA_AREATEX_PIXEL_SIZE);\n\n    // Move to proper place, according to the subpixel offset:\n    texcoord.y = mad(SMAA_AREATEX_SUBTEX_SIZE, offset, texcoord.y);\n\n    // Do it!\n    return SMAA_AREATEX_SELECT(texture2D(areaTex, texcoord));\n}\n\nvec4 SMAABlendingWeightCalculationPS(vec2 texcoord, vec2 pixcoord, vec4 offset[3], sampler2D edgesTex, sampler2D areaTex, sampler2D searchTex, ivec4 subsampleIndices) { // Just pass zero for SMAA 1x, see @SUBSAMPLE_INDICES.\n    vec4 weights = vec4(0.0, 0.0, 0.0, 0.0);\n    vec2 e       = texture2D(edgesTex, texcoord).rg;\n\n    if (e.g > 0.0) { // Edge at north\n\n        vec2 d;\n\n        // Find the distance to the left:\n        vec3 coords;\n        coords.x = SMAASearchXLeft(edgesTex, searchTex, offset[0].xy, offset[2].x);\n        coords.y = offset[1].y; // offset[1].y = texcoord.y - 0.25 * SMAA_RT_METRICS.y (@CROSSING_OFFSET)\n        d.x      = coords.x;\n\n        // Now fetch the left crossing edges, two at a time using bilinear\n        // filtering. Sampling at -0.25 (see @CROSSING_OFFSET) enables to\n        // discern what value each edge has:\n        float e1 = texture2D(edgesTex, coords.xy, 0.0).r;\n\n        // Find the distance to the right:\n        coords.z = SMAASearchXRight(edgesTex, searchTex, offset[0].zw, offset[2].y);\n        d.y      = coords.z;\n\n        // We want the distances to be in pixel units (doing this here allow to\n        // better interleave arithmetic and memory accesses):\n        d = abs(round(mad(SMAA_RT_METRICS.zz, d, -pixcoord.xx)));\n\n        // SMAAArea below needs a sqrt, as the areas texture is compressed\n        // quadratically:\n        vec2 sqrt_d = sqrt(d);\n\n        // Fetch the right crossing edges:\n        float e2 = texture2DOffset(edgesTex, coords.zy, vec2(1, 0)).r;\n\n        // Ok, we know how this pattern looks like, now it is time for getting\n        // the actual area:\n        weights.rg = SMAAArea(areaTex, sqrt_d, e1, e2, float(subsampleIndices.y));\n\n        // Fix corners:\n        // coords.y = texcoord.y;\n        // SMAADetectHorizontalCornerPattern(edgesTex, weights.rg, coords.xyzy, d);\n    }\n\n    if (e.r > 0.0) { // Edge at west\n        vec2 d;\n\n        // Find the distance to the top:\n        vec3 coords;\n        coords.y = SMAASearchYUp(edgesTex, searchTex, offset[1].xy, offset[2].z);\n        coords.x = offset[0].x; // offset[1].x = texcoord.x - 0.25 * SMAA_RT_METRICS.x;\n        d.x      = coords.y;\n\n        // Fetch the top crossing edges:\n        float e1 = texture2D(edgesTex, coords.xy).g;\n\n        // Find the distance to the bottom:\n        coords.z = SMAASearchYDown(edgesTex, searchTex, offset[1].zw, offset[2].w);\n        d.y      = coords.z;\n\n        // We want the distances to be in pixel units:\n        d = abs(round(mad(SMAA_RT_METRICS.ww, d, -pixcoord.yy)));\n\n        // SMAAArea below needs a sqrt, as the areas texture is compressed\n        // quadratically:\n        vec2 sqrt_d = sqrt(d);\n\n        // Fetch the bottom crossing edges:\n        float e2 = texture2DOffset(edgesTex, coords.xz, vec2(0, 1)).g;\n\n        // Get the area for this direction:\n        weights.ba = SMAAArea(areaTex, sqrt_d, e1, e2, float(subsampleIndices.x));\n    }\n\n    return 1. * weights;//!  Increase this value when pixelRatio is low\n}\n\nvoid main(void) {\n    // gl_FragColor = vec4(1.);\n    // gl_FragColor = texture2D(areaTex, vUv);\n    gl_FragColor = SMAABlendingWeightCalculationPS(vUv, vPixcoord, vOffset, backbuffer, areaTex, searchTex, ivec4(0.0));\n}\n",$4f9e3a88c78cd13e$export$2e2bcd8739ae039="\nvarying vec2 vUv;\nvarying vec4 vOffset;\n\nuniform sampler2D backbuffer;\nuniform vec2 resolution;\nuniform vec4 SMAA_RT_METRICS;\n\nvoid SMAANeighborhoodBlendingVS(vec2 texcoord) {\n    vOffset = mad(SMAA_RT_METRICS.xyxy, vec4(1.0, 0.0, 0.0, 1.0), texcoord.xyxy);\n}\n\nvoid main(void) {\n\n    vec3 pos = position;\n\n    gl_Position = vec4(position, 1.0);\n\n    SMAANeighborhoodBlendingVS(uv);\n\n    vUv = uv;\n}\n\n",$7688ce240b3bbc3d$export$2e2bcd8739ae039="\n\nvarying vec2 vUv;\nvarying vec4 vOffset;\n\nuniform sampler2D backbuffer;\nuniform sampler2D sceneTex;\n\nuniform vec2 resolution;\nuniform vec4 SMAA_RT_METRICS;\n\nvoid SMAAMovc(vec2 cond, inout vec2 variable, vec2 value) {\n    if (cond.x > 0.0)\n        variable.x = value.x;\n    if (cond.y > 0.0)\n        variable.y = value.y;\n}\n\nvoid SMAAMovc(vec4 cond, inout vec4 variable, vec4 value) {\n    SMAAMovc(cond.xy, variable.xy, value.xy);\n    SMAAMovc(cond.zw, variable.zw, value.zw);\n}\n\nvec4 SMAANeighborhoodBlendingPS(vec2 texcoord, vec4 offset, sampler2D colorTex, sampler2D blendTex) {\n    // Fetch the blending weights for current pixel:\n    vec4 a;\n    a.x  = texture2D(blendTex, offset.xy).a; // Right\n    a.y  = texture2D(blendTex, offset.zw).g; // Top\n    a.wz = texture2D(blendTex, texcoord).xz; // Bottom / Left\n\n    // Is there any blending weight with a value greater than 0.0?\n    if (dot(a, vec4(1.0, 1.0, 1.0, 1.0)) < 1e-5) {\n\n        vec4 color = texture2D(colorTex, texcoord);\n        return color;\n\n    } else {\n\n        float h = max(a.x, a.z) > max(a.y, a.w) ? 1.0 : 0.0; // max(horizontal) > max(vertical)\n\n        // Calculate the blending offsets:\n        vec4 blendingOffset = vec4(0.0, a.y, 0.0, a.w);\n        vec2 blendingWeight = a.yw;\n        SMAAMovc(vec4(h, h, h, h), blendingOffset, vec4(a.x, 0.0, a.z, 0.0));\n        SMAAMovc(vec2(h, h), blendingWeight, a.xz);\n        blendingWeight /= dot(blendingWeight, vec2(1.0, 1.0));\n\n        // Calculate the texture coordinates:\n        vec4 blendingCoord = mad(blendingOffset, vec4(SMAA_RT_METRICS.xy, -SMAA_RT_METRICS.xy), texcoord.xyxy);\n\n        // We exploit bilinear filtering to mix current pixel with the chosen\n        // neighbor:\n        vec4 color;\n        color += blendingWeight.x * texture2D(colorTex, blendingCoord.xy);\n        color += blendingWeight.y * texture2D(colorTex, blendingCoord.zw);\n\n        return color;\n    }\n}\n\nvoid main(void) {\n    gl_FragColor = SMAANeighborhoodBlendingPS(vUv, vOffset, sceneTex, backbuffer);\n}\n",$7653468f680ce5f5$export$2e2bcd8739ae039="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAIAAACOVPcQAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAACAAElEQVR42u39W6wkSXrnB/7M3CPOyZOZlVm3riL7Vs1udXOanGITJEWCPbxgRhAlLFc7uy8rLSSsqBcBiwVnXvZxIGCFXYHAYl6oy0jQXghhRpoXYUTNiBqIQ4KX5vRQLQ7JZrOnu8XqqmJVZXdW5fVcI9zNbB/MPvPP3SPihLvHyazkOR8OTkWe8vCwsL9/Zp99l/9nGCqfhLcGv+lDc3t+9qcwYCCAkT/q11o6f7c/jXsbc0qoMDV4CISACRDkDfLOznt/+6/wid/gGsygAAuWNBLav+kNpvyrmN8YOeZy8Ay9Bu/DyUUBcMG3Xz0pW8on/i7vH1DNqYuETzBgMIZAD6X26/oN7t7gYMmeZxYoA0VEOmB6YHdezH5j/JiHA/w5AH4X3OTJfgq3nyTX3+f4Omd72Bm+JBQEi7dgMSYBEhQ+LeCvszzFWHxN7SgDhaeAIgIcGozzD6HBeLQMB/gGfBw+D3+iVqTdyQXfPi1042RWsX9K8FDjS1xBKDCWYMEStCZGzQaTIZ/h96hd+ov3FIYiYIPSY0HUhPTe/M/RYx4O8Byeg4/CMbyxewAu+PaTHprCMaupDD7gPKbAx7W6IBiCJRiMFUQzzFEHC/wMP8MFDARHMPhAEfABG7ABYxTG7ABdxgBsYQ+eh1dhAe/uGIALvv20sQVKx8zi4zrgMR4KgifYBDCmeYFety2U+BnOYwADDusJgm5cpb1PuquRniKjAC7hAG7DCVRwd6eTeLG3nyQGikDhKIxoVSAEQdcmPcZjDF4v10C8oCAU+JAWYQx4QiD4+MBgbVqrA08LYKCAPbgBt+AMHNzb5Txe8O3Hi4lbZqDwBNOsnD4QAj6AwQSCIRisQBSQvbloAdxIAJIqB7DxqGOazXiKDAc4PlQl7MMNOIMKHDzc0SRe7O3TR4x+Y1pLvSixIQg8RFWOMFtcaExrE8GOtlhB8HgbtTe9N4ANEDCBkC3qgJEtfPSYR2lwRGAO1+A6LCCe+h/vDICLvP2kgVlR4uCxJu2+OIIF8AEjO7S1GIM3rRNUs5gXeJLuWo+3CW0D1uA89qkt0UYexhnsCQgV1BDgcAeTeJG3nybZ0BU9zhun91jACvBGdl4LJmlqAs0mRU8/EeWQ8Dbx0bF4cYCEaYfFsRpsRcv24RosRcsCHE2dxgu+/aSBGdmJQxtmBGMvT6jxYkNFmGnQNZbgk0JHXK26Axldg/NyyhorowDug7AULXMQ4HgHU3mRt586MEs6vMb90geMFz22eDA+nYl93Il9s0obIxjHpyTC7FsYh7xQ26nunrEabNIBnxnMZTHNCIRJ3uQLvv20gYXG/IkA+2gwI+jKAmstwWEtIS+z+YuZ5sTsA9YknY42tPdY09znaRyTUAiUsltWYu96WUxPJ03lRd5+0sDyKu3jCzGJDbJ9eqxN+hd8Mqqb0zCYtLsSAsYSSKASz9C2je7TXKILBUJUtKhlWdHOPpy3nyQChDrJiEFE1LwCFwHzCZ7g5J1GvNYmwZyOVeIhwTYrQdp9py7Rn4TX4HNwA+ayw7Aq+IV83rfgVdiD63BzTUgzy/992IB+5ZO8NWQ8n/yVYdfzm5PmS7uIrSHEzZhkKuud2KnV1XSmyIJv3JkpIEFaqLMGBz9VfYGSt+B9AD4Oz8EelFB0Alfqk74FH4CDF9TFG64fKK+9xfvvc7L1eIZeP1HSzfJOjKyi2u61EBESjJujjo70ZoUOKfQU9+O4f3u5w0QpACp4B7wsf3kd9O2fuCzG/fB/hgqW4obYcP3vDBvQz8FexTvvELYbz8/9zrDrP/V2a547yK1DNMon38YZvMGT/JHpR5xWgdapJsaD4xPwL34kDcPEn+ytDHJlEKeVvM5/efVs/JiL9N8A7wvGtfpx8sc8RzMwUME/VwBvuP73hgH8M1CCD7y/3Xh+5veGXf+pd8ZP1ifeTtu/jzFdeYYTur0kGqMw/vqPyoTkt+l4UcQytD40YzwFYGVkBXgDFnACt+AGXIM9mKt1uIDrsAcvwEfhG/C9510/UJp4cOCNLcYz9Po3X+P96yxn+BKvTB5y8GDdkm6g4Gsvc3ydeo6TjI4U7acdH+zPdIyD7onraoi8+fb4Mfes6HehgjM4g+twDfZhDjOZppsSz3sBvhfeO+/6gdKNB583nqHXH3zAwQlmnzrOVwbJpN+IyaP374jfy3/KRz7C/VucHlDt4yPMJb6AQpC2yZuhz7sYwo3BU5FlyphXHZPugoMKFqvmyEAB19oB2w3XDwe4Gw/eeP+h18+X7MVDyAw3S2k3OQaQnU1JS2TK4kp7cMJzD6hq7CmLfao93Bxf4iPMNt0KQTofioKdBPCUMa9B4J5sZtGSWqblhRmwJmC74fqBsuL2G+8/6HrrmVXUcXuTtBuv5isdSZHkG5qFd15xcMppnOsau6Se42IiToEtCZYQV9FC8jpsuo8fj++kMa9XsYfgxVSp4BpUMN8YsF15/UBZe/s19x96vQ3MPFWdbJ0YwDEeb9vzpdyKeVilZ7/i2kLm2mEddY2rMLJWB4spUtzXq/DRFJk05k03fixWX56mPXnnuoDtyuuHY7z69mvuP+h6W2IDpcc5cS8EsJgCHyS7SqbJiDsiroFFYO6YV8wtLprNHuMwM6zD1ZiYZxkX6gIja7WfdgqPQehxYz5vkzyEIMfKuOidG7DtXD8c3U23791/8PW3KDzWUBiCa6Lu8UU81Obfzd0BkzRp7pjXOJtW3XiidWrljAAHqV8IBjPc2OzMyegxb2EFHcm5zUs2+rkB2871w7/Pptv37j/oenMLG3PnQkpOTiI5NykrQ8IAkiKVMm+KwMwziytzijAAGA8lxmM9tYMC7xLS3mCm7MDZMz9qzNuZucc9wM4N2E4A+Pzb9+4/4PocqNfheppst+iysMqDGOQDLBSewjPzVI6Zbdwdca6dx3vKAu+hgBhomhzTnTLmrc8xJ6IHbB2wHXGk3/726v6Drs9WSJ6yGHi3XpIros6R0qlyEl1wmEAJpadwlBbn8Ebtr3EwIW2QNuAMtoACN60OZ8qYhxxUTxVgWwZsxz65W91e3X/Q9X1tyMuaR+IEkloVZ8q7lMcaM+7KQOmpHYWhbD/5dQEBCkJIHi7nKKbtwVPGPNATkQOwH5J48Nng6xsrJK57JG1IJpNN89XYKTSJGSlfJyZWekqD83iDF9MkBEqoAwacpyhxccWeiO6EMQ93NQ2M71707ccNJ+XckLIymvCfpFI0yRUhBWhzJrqNxZ8Cs7d4TzAUNZTUNWVJHShLXEVR4MFORHjCmKedwJ9NyRH7/GPVbxNzkj02gMMG8Ol/xVkuSNZyNLiKOr2wHltTBkz8XVGIM8RODuuOHvOlA1jH2nOqTZqIDKSXf8ofCRif8lsjxlb2YwvWYx2Fp4joAnV6HYE31VMb86UDOE2ZLHE264RPs9ZMnP7tdQqGVCghZSxeXruEbgm4RoMn21jjx3wZAW48tXknU/9cMVOIBuvjik8/UYnTog3kVRrB2GOGe/R2NeZLCXC/yFpNXJ4jo37H+Ypi+z8uKTGOAoxTa7VL5tjTGvNlBJg102RkY2vl1OkZzOdRObTEZTme0ExNEffjkH5njHdjRY8a8+UFGGWRdmctNHsbSktaq2JIVmtEF5esreivJhpcARM34B0BPG7Ml0v+PTiQBOpC5VDrrCbtfNQakJNxvfr7Or4q337v/wP+CrwA11WWmMSLVfadult+8RX4JIljq2ynfveHHdTfGV/Z8MzK3etcr9h3lIEZYiIJnZFpzzUKJDNtss5+lq9+nZePuVVx4NkPzEMag5VzV9E5CMmPe42773O9Yu6YB0oZbabn0T9Bhfy5hABXB5ydEWoKxzykGJwNWNPsrK3JUmRVB1PCQi9z/AFlSXXK9Yp9z55jHph5ChIvWnKCmtZJ1wAHLK9jT6lrnFN+tFXDRj0lEx/KZ1L8PlXAGEqbTNy4WZahmVDNO2el9AimRf2uU9/itMZawoK6YumYe2aemU8BDBsolSMl23Fmjt+jljo27xqAi96wiS9k2JcO4DDD1zjZqbzHe6n0DS2/QTRq0mTJP8fLHHdAdcrCpxw5V+MctadylNm/LT6TQj7aBkJBmOFqTKAWHrVIweR7wyZrs7mcAJeEEudTbDjmLmm+qjinXla5JgIuseeRUhL28ftUdfqUYPE1zjGzOE/tKQKFEYDlkGNj2FGGbWVA3iSXZGfY8aHMVtilA5gCX2ALvG8OLzElIytEw1EVC0+ClJZM+9www+3hltSuwSkYgse7xGyYfsdkAdJhLBpUiYLJN+uwk7ihHjYkiqc47MsHsE2T5T1eZjnW8gaVLBGrQzMrcFzuJhGkWsKMMMfP08qcHiADDm8oPT5GlwNOrdVGPOANwCqvJvSGbdrDLoeWB//KJ3ntrQHXD43X/i1VfmyV4bCr8XzJJopYWySATfZDRCIjk6jqculm5+A0GmBKfImfpZXZ0kAVIBi8xdcpflxImntMpqQ37OaQ3h62TmMyUL41sDz4rdd4/304uahy3KHlx0PHEwlQGoLJkHhSjBDepJRjsVNirX7Hwhrz7WIibaSrrDAzCQrlgTnwhJIgPCwx16eAwqwaNhjX8PTkYWew47ALBpYH/87PUe3xzjv4sN31A+fhXxlafjxwPO98D0b+rec3wqnBM7rwN2AML6olWmO8Eu+Oh+s3fxKzwCwxdfJUE3qGm0nanKvCI6XS/GVMnYbdBBhCM87WE5yJ9QwhSKRy+/Lg3/sZKAme99/f7vqBAP8MmEHlxwPHc+d7Ma7l0dWSJyvlouoUVMNLKuo3GOAvYpZYATjVgOdVOj9PGWaDMSkRZ+9ljMM45Ytuf25n2Khhl3pA25QH54LccMwbb2xx/UCxQ8uPh48nl1winBhIBmRDhWRSTpNDrK2JIb8ImxjDoSS4dJyNZnJM46prSkNwlAWVoyibQEWwyuDyScvNecPuWtHnlgd3CnLffXe35cFNOei25cdDx5PTMoTGOfIBI0RGHbqrgrRJ24lWlhhKFCkb3hQYT+0pQ6ptSQl7NWVJ5SgLnFePo5FiVCMsTLbhX2q4eWzihYnDXnFMOqfct1eQe/fuDsuDk10woPx46HhMW31zca2iuslUSKZhQsJN1uDIfZfze0NBiEUumdEhojujqikLakdhtaulO2xWDdv7WFORhr0agnPKfXsFuffu7bA8eHj58dDxqE2u0QaTCCY1yU32KuzA0YE6zmbih1jkYrEFAVxMtq0pItJRg33zdv0sGmWI6WGbTIzIRkfHw3XlvjlI0S7IffhwJ+XB626/u/Go81OwQvBqAYLHG7WZBTVZRk306ENgLv6XIkQcpoBIJu4pSuqKssA5wTiXnmp9tU3ZmekNO7SHvWkRXVvua1YX5D5+vJPy4HW338149trzlX88aTMLTgjJUJMVMNOTX9QyS16rfeJVsTFRPmqwxlg/U1sMm/awz9klV5T75iGuKsg9PJxYHrz59jsYzx6KSTDrhEnsZUHqA7KS6snKEkYosXxWMoalMt/ZVLlUxyIXh5XfCWOXPiyoMSMUXSuHnVgALN5vYQatKPc1mwpyj44mlgdvvv3U8bzQCounw6LR2kBz/DXtydIjHP3FMu97rASM/qnotPIIcW1I/Vwi0s2Dr4ZtOkqshq0x3srOXVHu25nTdkHu8fHE8uDNt580Hj/HzKGlpWs1svP3N/6cD3qt7cKa1naBll1WfolPSF5Vt3ehxey3nhvTGwZzzHzMmLc9yLTKffOquL4g9+RkdHnwNrcfP54ptvD19zkZ29qu/ix3Pxjbu3DCCW3ASbVV7psndH1B7unp+AyILW7/RMcTZT6ltd0z0buwKfc1zYF9Q0Hu2UXXBw8fjxm7rjCxtd2z0rvwk79ysfHgoXzRQz9gihJPam33rPQuvOh48BPmfx4kZlpru2ekd+HnOIHf/V0+7/goPA8HgkLZNg7HDe5zwAm/+7u4z3MhHzBBJrW2e2Z6F96Aj+M+z5/8CceBV+E23Gg79HXl3ajb83nHn/wJ4Zjdf8AEMbngbFxru2ejd+EFx4OH8j+Pw2mcNACPam2XHdEf7t6FFx8PHsT//ERF7CArNFV5XT2/td0z07vwguPBvdufw//8JCWbtSNb20mFyYe+d+GTjwfvlI96iuRQ0ODWdjTofrh7Fz6tePDD3fBRT5HGBTGitZ3OMngGehc+lXjw2oDwkxO9Sg9rbYcytT7UvQufbjx4Mh/1dDEq9jqgtZ24O1KUySYnyYeyd+HTjQdP5qOeItqDOKa1nYSEeXK9C0d/0acYD57MRz1aElLjWttlmO2T7F047ls+9XjwBD7q0WLav/M443brIyu3kZq2zAuKwqnzZq3EF9O78AL7B194PHgsH/WksL8K5DXUaCYR+sYiieY56BhKOe8VFWUiWWHeJa01tlWpkFNwxo35YvsHX3g8+Ik3EG4pcRCkabAMBktyRAfN9Svv15HEZG2hciLjWq2zX6et0sPffQseXeAM/hD80QXenp/9KTnSDM9v+sxf5c53qY/wC3wNjuDleBNS2bVKemu9ePmLfP0bzI8pVPEZqOKz3luy/Ns/zT/8BvUxvsZ7CUCpK8P69w7X4NviQrwY+QK8eZGP0BR9+Jn/jH9+k/tzTkuWBc7ibWrbEGS9bcKIKp4YDF/5B9g5taW0FCYV72bC7m7lavvFG/8NLxxwWlIXOIPLvU/jJ8pHsOK5GgHwSwC8fVEGzk8C8Pcu8BEaLx95n48fUu5zOOd0xjLOuMVJ+5ycuJN+kBgDhBN8RV2m4jNrUripSc0xyRxrdgF5XRxyzcGcqqQqmqdq5YOlXzAyXHgLXoa7FzKJL8IPws/Ab+yG4bErU3KyrgdeWLDw2IpyxqJkWTQYx3kP+ndO2QE8wRHA+Sbr3ShVzt2hUWCnMdfMKhzgMfHjJLPaq4cp/87PSBgDcAwFPAcVPNg9AHvwEvwleAB/cAHLxJQbzuGG57kaFzCeMlbxWuqC2sqKbfGixF5pczy4Jw9NaJh7QsQ44xqT12XFTnocKOvU4SWms5si1ZnF0KRX0CaY+wXg24qBQkIBNRzuGIASrsOr8Bk4hn+x49tPkvi9DxxL6YxhHUVB5SkszlJnxbI4kyIN5I6gIWXneCPxKANSXmbVwSm6xshPRsB6ylxpGATmkNBFQevVSWyUBmdP8T5cBw/HO57EOdyG74FHsIBvPzVAV49tH6556mi7FsL+XuAshUnrpzcUeqeMbrnQMAXEEv1IqBMDxjlumHNCWozQIXWGyJylNZgghWvxg6LVFk9rkvcz6hycvYh74iM+3dkkxgXiAJ6HV+BYOGI+DGLE67IXqALeE2joo2tLZRNJnbMp3pAU2osqpRQQghHPc2g8zynFR1FohbwNS6pQ4dNtSnAGE4uDDdYkf4t3aTHA4McToWWMs/9wRz4HI7v8TXgBDiXmf2enOE0ZW/S6zD21TRij9KyKJHUhaZXLO6W274JQcfkmPhjDxjbXO+nMy9yCQ56AwuDivuBTtNEF2c5tyvIE7EgN7niKnTgPF7sBIO4A1wTjE1iAuyizffD3zp61OuBIVYfZ6I18odGTFY9DPuD6cSHh1AlZjwNYnGTAB0nsMuI5SUuFT2l7haWOGAOxl6KYb4XkioQxGpydQNpZnDFe7mASsxJfh5vwPCzEEX3vQwBwfLBnMAviNJWMHAO1wVispzaS+GFXuBtzgCFZ1xYXOwJEHQ0prTqv0kZyOjWnTtTgInar9hRKfTPMk6NJHYDZDcaFMuNuwqnkdQS4/yEAuPneoWkFHiQNwMmBJ3mdeuwAceeOe6QVl3WyuWRZ9pJIi2nQzSGN+Drh7ZINHxM9rcGZROxiJpGRdjDWdHKTG33FlTBGCW8IwDma9PBpY1zK9y5hFvCGMjQRBeOpTYoRmZX0PCElXCauq4i0S0cmK7yEOWmk+XRJHXGeokjqG/lqC/A24VrElOyRS3T+ovp5jl83A8x4jCWzpVHimLVzJmH/uCpeZLzjHHQLwTjBHBdqIwEAubKOIWGTsgAacIWwJ+pxkJU8IHocWfp9c7RFbPXoGzGSUxADUEWBIzFcIp1IrbBvTtPgnERa9jghw/iEqbwN54yOAwF4qXaDx08JY/1gx91pFlrPdpZaClGaJTrHp0JjzaTVuI9xSGl4zXtzxi7JHHPRqLbUSHOnTE/qKEbuwfqLZoyzHgflRJ6AsbZXI8YLSc7K+Vm7dqMNAzh/aS9PeNlWYgy17/J7ZLCM2owbbUbOx9Jto3l2xP9l5MkwkgFisjmtMQY8JbfgNrwEc1Wlqb9QR74H3oVbgt+yjWL/+t8aNoN/6zpfucHiZTiQOjPTu7N6/XNf5sv7PHoFbsJsFcd05y0TIhh6zdKPtFMLdRkSfsjy6PqpVUp9yQDrKHUHY5XpB+kAXRRJiVMpVEgxxIixsSlfreQRnABwC/YUQQi9sHiUd+EQargm67DbeP1A+dFjPjjlWxX+RWlhlXuQmBWf8hMLzhb83gnVK716Ytt+C1PHRnvl0kocYBaSx78IzQZVGkzYtJDlZbmlzQrj/lNqxRMeLbW4B5MNLlLDs6jTJUAFb8PL8Bzst0s0TVsbDNyCGv5MGLuDPMbrrh8oXwA81X3uLDiNh6S9VUOSn8/Gt1V89R3uR4rLA3lLodQtD6yY/hC2ylfzKp2QDsmJ0eIPaW/OnfU5/inkY3Eb46AxlpU5vt9Krm5MriafiUnM0moPDnAXKlWJW6oJ0nMKXIMX4C2Z/XOvHyK34TPwL8M/O+ae4+gMfwD7vRpw2f5vwsfhdQDeOOU7p1TXpUZtrozdbC5MKEjs51PGu5ayipUhRe4KehivgFf9IVtbJMMqSPPBJiqMOL9y8qWsz0WgFj9aYWTBiDHN1jd4ADVclzLcmTyWakKTuyE6i+/CzfOuHyhzeB6+Dx7Dn55Reo49izPBeNaFeZbriQHYg/ePeXQsGO8pmC0UPL7HsUrbQ4r7WglaGhj1z9+Z8Qf7vDfjqODMUsXYkWTPpFBeDs2uTc9qZ29lWZ/j/ablTslhwdJQ5wgVTZC/uSfgWjfuWdGHqvhHa0BWgmUb43OvHyglXIOX4RNwBm8ssYHSs3DUS8F41py/i3Y9MRLweXzM2aks16qeuJwzc+DFOA1NgB1BqCXqn5+seFSzX3Cv5Ljg1FJZKksdnUeSXxHx1lkWwGLCgfS2Z7GktJzahHH+OI/KDaJ5QdvQa8uxauAwU6XWVjTYSew7x4M3XD9QYkjuJrwMR7CEdypsoChZBKoaP1NPUplWyFhPfCz+lRi4PfQcH1GfqXriGeY2BcnfG7NcdUpif3vW2nAAHwlUNaXnoeXUdjFuMuIUzH7UVqVlBtdJXbEKQ22oYqhKLR6d5ymjvua5OlW1IU40phTAVsaDN1w/RKw8PM/Bi5LA+d06OWOLgipQ1c2TZIQU4AbclrhTHuMMTmpOjwjzhLF9MVFTEVKQwGQqhc46HdL/zRI/5XlS86JZYO45M1SWpcXJ+ulIGR1xSoLtrQoDpZBayxhFWJq00XYyLBuYsypvCheeCWZeneSzhbIyHrzh+uHf5zrcgmPxXn1QN6F1W1AHXA2zxiXSqSfOz0pU9bMlyyXsYYrUxtlIbYjPhfTZ6lH1JnrjtHANDmAZ3Ume0lAaFoGZp7LU4Cx1bIlo08R4nxg8RotRFR7RIsuLaeyRlgCO1nu2BsJmgIGFquPzCrAN8eCV1w/8MkYiDdelyD/mQN13YrsKxrWoYNGuJ65EKXU05AzOFhibojHxLBHTXLKyevEkIErc6LRJ3/haDm2FdFYpDEtL6agMLsaDSWFgT2pmNkX0kzqXpy1OVEwucJLLF5G2So/P2/qX6XYJtnK7eLC+ftQDqwF7TpWPPnCQgyohcV/k8KKuJ3bKt6FjIinIE+PnFuPFb2CEP0VDq2xU09ak/BFxMLGXZGGpA4VpCpg9KZ12ouTJzv7+OKqoxzEeZcQHEkKzH2+BwFLFD5r8lI3x4M71wwHuFICfqTDDI6eqN0NrLDNVT5xji6gzawJYiJqN7xL4B7lnMlJy/ackO+qCx+b+Qny0jA0HLQ5qTwHOtLpgjpNOhKNUONQB5BTusk8bWa63DRdW6XlpjfTceHDn+q2/DD3ArosSR6V57NO0NoU9vVrTqv3UZYwbgE1T40XGWDJVI8xe3ExZA3UxnC5nzSpeG4xPvUPjacOFHZQxa8eZbyuOyemVIWVS+gzzgDW06t/1vHjw2I1HPzk5lJRrwFMcyTeT3llQ9mAJ+6rzmV53Ii1ZDNMmSvzY3SJjTLI/ET6UoGDWj3ReufI6kVeUGmzAxRwrKKYt0aa9CPmV62MAOf4ZMeDNsE2y4zK/sHhwxjhveJrIIWN25LvXa/XaV93tOk+aMQrmGFg1+IwxkvJoG1UOapXOGR2dranZFw02JFU2JDqHibIyPNvxlK1U5YFWUL3xA3cUDzZrANNEDnFaj333LdnUrFQ9sTZMch1ARDrRoAiNc4JTGGODxPAatgb1RfuLVxqMIopNpA5T8U3fUQc5vLBaFuqCvIp4ceAMN3MHxneHyl+94Ot/Kk+H5MjFtdTkBncheSeijerzzHlo74Xa9vD9dUIIeKzUiE6RToQja/DapUHCU5evA7jsxOm4l9U3wqkxNopFBbDdWc4aPFMHw5n6lJhCtZP1mXaIzra9DGHVW+Kx+PIBLLuvkdhqECWOcfLQxhhJdetY4531WZ9eWp8mnB67GHULXav8ESvzNhlsZP1FElGKmKCKw4oJSh9jk5brletk/vGr7NuE7GQlznczCtT8Y+VD2gl6l1ODEfUl6WUDrcTM44LcYExK0khvXwVz2UO3c6jcwbDbn27a6qvRRVScywmwVt/QU+LGtuphzBp0vfg0gsDcUZ3pAG9AN7+mDbMfGbB91kVwQtEkGJINBWlK9GvbfnfnuKLXats+RJVyctvJLJs1P7b3uvP7MkpAcWIopK3MZaNzazDOJ3WzCuZSIW13vU6uxNj2XuTfl0v+DrwGNyUrpJMkiHpBe3bMtAYC/z78W/BJSSLSDwfqozu/o/wa/GW4Jckypj3glUPNcun24D80HAZehpuSeNlPFTQ91OOsHUz43Ldm/EHFI/iI9BeZKUXPm+XKp+2R5Y5PTSvmKr1/3aOpx3zpAL6/z8GC2nMCB5J4qXM1i95Cl+duCsB+n/dq9gOV9IK61stgK9qfm39CyeEyGer78i59fX+oyO9LB/Bin0NPWeM8i8BCMvLmyjIq2lua3cVmFmYcFdyrE05LWLQTPnWiYmctCQVLy4lEt5wY7f2Fx/R0+tIBXM85qzgJWAgeF1JYojPR+Ufr0yQpOCs59jz0ybGdmxLMVZZiX5VjDLu2VIEzKXzyMlS/6oHQqnzpAPYzljPOvGQfBbxPzQFmCuNSGcbZIJoiwVIVnFpOA7PQ0sVa5Xp3duUMsDNUhlIcakF5vzvGvG/r8eUDuMSVVI5FpDsRDhQfmpTfWiW5OVVqNkWMwVkqy2lg7psixJxq7CRuUfQwRvKr69iRVu4ZxA0eZIS+t1xfOoBDQV1QF1SOosCCEeapmFtTix47hbRRMe6Rn2sTwJXnTOkiKg21UHELvVZHgGMWdMwVMeq92R2df+u1uvwh+AL8JLzYa+XKqhPh37rOjx7zBbgthknnMEd7NRsar/0v4KvwGjwH16UWbsN4fmmPn1jwWSkPLtpWBr2l9T+y+II6EkwGqqgQEWNJVItalVfLDPMUiaxKtaUyVIaFSb2/jXJwlhJw9CqAEec2F6p4tajQdn3nH+3FLP8I3gTgB+ElOWkVbRNcT+5XbvDBKXg+A8+LrV/0ZrZ/Wt9Svgp3wMPHJH/dbxzPl/c5W0C73bBdczFApP4tcJ7apxXPICzbMdU0NKvfTDa2iYlzMekn8lkuAzPDktZ6i4pH6dLyQp7TIGUTtq3E8rVaAGeYS+AR/D34GfhL0s1VV9h2DPHFy3yrorrPvwzfR/IY9AtIR1uer4GHfwKfh0/Ay+eN59Er/N4JVLzeazfcfyxiuNcXeJs4gGupEiCu1VLGmfPIvfpeU8RIuVhkOawsZSzFV3qss9X1oo1ka8cc+ghz7jybJ3nlcp0Wngp+Ax7AZ+B74Hlx9Oz1HC4c4F/kzoJ/dsxjweC59TWkQ+U5+Bh8Hn4Tvh8+ce54blK9wlffAVjZbrjzTKSOgTaxhtY2McsZybBEmDxnkkHud7FEx3hUrBirLbWjggKWPU3watFu8ttMU8qWnzzXBphe6LBlZHn4AziGR/AKvCClv5263FjLd3qde44/PeMMjuBFuKUqcvWBcqhcBwefgO+HfwYPzh3PDJ7j/jXeOAVYwLFgfK1XbZoNlsjH7QyFZLZWYm01UyV6UwQ10WPFSLFhrGdxcbn2FFC3+9fN5PPzs6X/mSwySX427b3Dqt+hH+cI8C9kjg7VnOqGrliYw02Ozig9byxZwgkcK4yndH+9AUh98AP4xjbj2YPbfOc0dTKMfWg77Ybz6RabNDj9BFxIJVx15CJU05GKSzuUDKMk61/aiQN1oEAY35VRnbFoJYfkdofR1Aqp3MaEtVvhWlflt6Ul84msjTfUTKUD1x7+gGOPDbxTpaavZ7JWX1N6NlT2wbf5ot/cPB6bFpXqOu8fp0/stBveU0rfdIU0BGFrjeTdNVif3p5sVNHjUhWUjhMjdpYXk9jJfuygNkJiqACml3Qdsqmfc9wZDjDwDjhYwAJO4RSuQ6TKAKkc2mdxRumxge/WOCEqO1MXj2svu5Iveu145IHjOo+OE09Qxjg+eTFpfi4PaOqbIdTsIeBCIgKthRiyzrMjhVzlNBVu9M/ifLOJ1iZZxXXvgNeYSCbdIZjEgpZX7KzEtA/reRteu4jeUXqwkB7rBygHyR7ss3AUJQY+qJN/dSk/1/IDMRzglXzRq8cT3zNLNUyPj5nns6OCeR/2Y82UaQyW2LjXC3GoleB/nC+NMTnDchrGQay86FRxXoqXZKFee+4wCba8ShvpvRVyMz11uRWwN+2Sd3tttxf5w2zCuF6Kzy9w38lTqd4yQux6vugV48mpFXO4xtkph77JktH+3lraDWcjyxsKgxca/EigHpkS4mzVedZ2lBYZctm/8lpEVmAT9+OwQo/1C71KpzU/Fzf3pvH8rMp7MkddwFTlUFVTFGlkDxTG9ShGUtNadFfwRa8Yj3rgOOD4qOHIArUYRqUUDc5IO0/R7l1S21RWFEzL5toBukZZwmIMRzPemlQl5dp6nFsBZKs+KJi92Oc+11AppLfKFrqvHOK1BkEw9jOqyKwAwCPX+NDHlZ+Z8/iiu+PJX2UOe9RnnNSNz5W2T7+1PptmwYyH4Ki7Bpxt/B677EJtwBJ82oy9T0GOpMTSLV7H+2rtTjDNfqGVWC/U0NqktzrIPJSr6/wZCmDmVDW2SAu1CTz2zZyOnYRz+KKb8aBWaak3PT1qQn7aZ+vho3e4XTMLFKFx+KUqh7IZQEdfI9ZvPmrxVTnTLLm0yYtavEwAvHDID8LteCgX7hiNpf76fXF25GRue1J91PaqNOFHKcKqA7ZoNo9D31orBqHLqgLwPl90ntn+AxfmnC2bhTpPmYdwgK3Yq5n5hHERmsIFaPWM7PjVb3nOlpSWE4kZeKGsCtqGUhjn5+RhyR2fTm7ardtJKFgZU5niJR3ginisH2vT1psZrqYOjRIbOPIjt628DZ/LF71iPILxcslZ20kZp9vOOQMM3qczXuGFt0agbfWNzZ8QEl+V99jAmaHUnGQkmH3e3dXGiWnyqlw7466fPtcHe4Q7YQzAaH7mjgZHJfZY22JWOB7r32uDdR5ftNb6QpyTe5wtVlDuXSupPRXgCY5Cihus8H40gRqNN2CaB07z69Q0eqwJyTL3VpAHdmk5lbyqPeXNtWtgRr14QgADP/flYfHXofHgX9obyP/8W2tv5eBxjxj+Xy1SECnptCeY1H4sMu6kLidC2JA310jhkJkbgvgXbQzQhkaPc6/3ZARJCD4GCgsxd+cqEqpzbswqbX5yAA+Ovw6Ui+Z/DhZXpMNu9keWJnWpiTAbaVDlRYMtadG2HeYGeQ7i8SYdfsT55U3rVBNzbuqQIkgowrhO7px9igAPjb8OlcH8z0MBjsgVyV8PmCAdpoQbPwiRnVWH16zTeV/Kz1j2TuhYXlTxbHYZscgqlVfVKQHNP76nME8O4KHx1+G3H8j/PFRi+1ehGjRQe8rowAJbUHtpTFdIIzE5ehq10ZedOmCJ3BnRdZ/5toLkikjMP+dVNY+dSsjSxd1PA+Ch8dcxtx/A/zxU0mop3eRSSFg0OLaMi83Dcou5WjgyUUeHDqlQvnsTwpN2hOIvaXJunHKC6mO6FaR1atUTB3ho/HWgDOV/HizZkxWbyNnUadlJbynEc5lWbHlLTp8wai3VTCjxfzlB1wgvqGlvwxHjQjyU2k2mb6VTJJ84wEPir8Pnfxj/85gPEHStTe2aDViLcxQGH1s/RvXNK3br3SvQ7X6C9DND7cHasxip8GrlTgltLl+txE8W4KHx1+G3t0P4n0dIUErsDKXFO4wB0eMUgYjbpF6xZSTa0LVtbNTHAAnmxumRmdpD2rBdT0fzco06LjxBgBkYfx0F8Pb8z2PQVSlwhUktmp2ntAQajOuQOGSRFZv2AUErcV+Vk10dhDyyjV92htiw1qEbns4ePDz+OuITtud/HuOCzzF/2RetRNxsPCMJrs6mvo/pXW0Hk1UWb2hrHjq5IqSZ0Xu/FzPbiZJ2DGatxE8WYJSWbRN/HQvwlvzPj4ffvwkJWIKX5p8xYBdST0cE45jTU6hTzQZ0130cbWs5h3KtaTJzOwDrzMgpMjbbd/v460DRq982/M+DAdZGFglmL5FgFyjoYhxMsyVv+LFr8EjPgei+DuX6fG4OrWVcT/PEdN0JGrxd/HWcZCU+n/95tEicvOngK1laBRDb9wqPaNyS9fDoQdtBV/8zBxDzi/R4SaA+thVYuRo/DSt6SPx11My3HqHN/M/jPkDHGSPhrJcoYeqwDlgcFJkr1qD/20HXqEW1s4bTXr0bizovzup1nuD8z6dhRWsQzou/jr69tqc28z8PvbXuJEVuKJepR+OpifTa9TZg1q/P/WOrby+zQSV+tJKcezDTfkRGy9glmm3jr2NRaJ6fzfzP4z8A6acuRpbP9N95oUYOxz0jS6vp5v24C5JRTTMUuj6mDclmnE8N00tmBsoPwR9N+8yNcuuC27f/7E8lDLQXcJ1HsPP3d3+A69+lXGAdNkBoZTe0NtHe01f+L3zte7h5wF5JWVAYrElhCaOSsY06jEUx8Jd/h9//HOUBtsQWIA0n8qWdTaT1uYNn6Avw5gWCcFu6nV2QTFlaqt/npKS0FFbKitrYrMx6iK9/85cwf8jhA/YXzGtmnlIlheU6Ul1QiqwHv/pvc/2QWUXpKXzKi4pXIskn6RN7u8lwgH8SgL93USC8BMDbO0s136mc4GaphDzY1NnDtBURwKxSx9cIRyzu4A+pTplVlDWFS4A1sElLqCbMHKifZ1kQzvA1hUvrR+rfJtckaPXDEWAMwC/CD8LPwG9M3h9WyRxuwctw92IwmuTddensREGIsYp2k55GlU2KDzbyHLyMr6lLwhy/wFUUNbam8Nj4E9Lv3MQvvggz6j0MUBFqrKPwKSXB5G1Cg02y4swYgPfgJfhL8AD+YPeKFgMZz0EFD3Z87/TFJ73ZSy60bOMaYEgFThlaI66MWHPLCd6lxJ8gGDtHUTcAG6XNgA2EAj+TBlti2hlPkCaMLT32qN15BMAlXIdX4TNwDP9ixwAY6T56A2qdx/lhkACB4MXqpgtwYwwLrkE6baXGyAeERbomWIqCUGNrQomJa69P5E42I+cJllDgS2n/YAguuWVMzmT1kiBmhbt8RQfwbSTGAW6rAt5v73IOc2Kbbk/84ZEgZnMI4CWoHLAGpC+7Vbg2PRusxE8WBEeIDY4soSJkmAu8TzB7j5FiEaRaLhSqz6XFOGnm5TBF0mCnmgAFOzoe3C/g3Z0oP3fTnvhDISGdYuNBNcLmc0tL0SonVm4CBiGVzy6bKgWsvMoOCZbgsI4QfeMOE/AuOckjd0zcblMIssYW+LiklwSP8anVV8wCiyOcEPDvF/BeAMa6PfGuZJITJiqQB0uA4NNabQMm0n241DUtEuFYJ1tyDoJKZ8vYnjpvq/FxCUVaq1M6fkFw7VCjpSjxNbbEu7TlO4+1Utbmk3kf/znKk7WhgHdHAFgVbNDtiT88Evc5awgeY/EmcQRE/5R1YFMmV15mm/DMHGqCeOOSC9pAhXFYi7cYh/EpEGJNo+UEvMcWeCe/LcbgHSbGszPMYEcu0SprZ0UB72R0g8J4ZXvipwZq9rFLMUuKQQnGyfTVkajcPLjzlWbgCA4T0n5sY5yjhlq63zrpfpj9nzEMVRDiA+SgwDksaZVOXnQrftCRGmxUtHZlAe9kjNcBzNPGOKFrgIRr/Gd6HUMXvjkpmexTpue9d+CS1dbkC8Q2mbXgGpr28KnMKSqxSem91mMKvIOQzuXBJQd7HMPkjI51BbyTpYOxTkK+OEfmuUPquqdzYx6Twg5BtmQkdmRREQndkWUGdapja9wvtXySrLppzZBa9dQKqBAjCwoPGWMDJd6lOitGGllsV8A7bSo7qTn99sRPV4JE6WPYMeJroyckY5yX6/ytdGVEnZ7c0Ole6iTtxGLrxmcSZPK9oQhprzWFpKMUeC9ZKEXKQrHbdgBfOf3bFPBOkIyx3X174unwprlOBUjSlrmLMaLW+svYth43TcSbVTp+NxMDmmKHp17WBmPV7hD9XK7Z+xPGccMeuQfTjfafV8A7Hl2dfrWj9sS7wzc0NmE6KRk59WqMO7UPRjVXcunhjRa10Xx6slZ7WSFyhkJ+pEJunVoQarHpMsYGCkp+aCBh9P/aJnT+Xvi+jdcPLBD+yhc5/lG2J6Te+yUWP8GAguX/YFfwKnzlWBwdGsnbpTHOI8lPq5VVWoihgwQMQhAPcq0gz9/CghdETVquMfgC65Td7hAitD8aSBg9lNB5oNz4Cqcf4GFLQur9L7OITpALKljeDHNzckrlh2lNVnrsJCWoMV+iEjtlVMveE8+vAXmy67ZJJ0GqputitLaQ3FAv57eC4HJ53gL+VJbWpdQm1CoJyqk9MP7ff6IqVTZf/3eHzdunHNUDTu8Ki07du7NrbcWf/C95/B4+Pmo56d71hiFv+dRv68ejkXUPgP77w8Pmr0b9hjUv5OIAH/wf1wwpm1cekM6oekkPzGP0wgNNJgmaxFCyyZqAv7xXamo8vNlmkevApmethAp+U6oKN1//94cB/BqYwOKM6pEitqvkhR6GA89r/zV4Hh+KVrk1D4T8fOpL4wF+cNgO6StEO6H+FsYBDB/8mzKY0P6d4VS4NmlABgx7QeJFCJOXVC2mYWhc2xgrI2tLwujBhM7DJJYWXj/F3ePsTzmXkDrWE1+7z+kbwPkFy1/793n/FULeidZxn/ThNcx+h+qTo7oPombvPOkXSTx6E39rVOfCFVVxH8iDVint0ar5Ihihla3hG+dd/w+HAfxJedgWFcHgTlQljOuppuMT/106Mh2dqizkXD/j2o1rPK/+IadL/Bkh8pkuFH1qZ/Cu+3P9v6fKzMlL9V69xug9olYDmMCFNPs6zrUnobM4ufaCr7akVRXUD+WKujezNXwckJU8/q835QNWXv/rgwFOC23ARcq/Mxmua0+cA8cnfy0BvPRUrl381YHZg+N7vslZwLv249jfXOoVs3njf6Aqkz+htWvUCl236uHwo5h3ReZfTyVSreW9Z150X3hY6+jYQNC8Lh68iWB6mOSA/9kCXxIs9XdZR0itAx/Hjzi3YLk8Y35IFT31S/w1QqexnTbC22x0xRHlPXzEeFD3wWk2vFliTwgR40GdCze5KtcRNG+IB68ldB7yZUipYnuwD25BWYCh/kAWiR4htWnKlTl+zOaC5WLJ7JTZDG/SDUOFn7dpITqUQTKD9oziGPuQYAh+SPfBiQDXmApzRkBUc8vOhef4otcRRm+IB68mmB6McY5lLGvCInG0u/tqP5aPyP7dmA9zeoY/VG3VewXL1lEuKc9wElPzHlsTasJMfHMaJ6UlpsKeYk8JM1kz8803dx+cVn9iHKbClClg1djevm3rraqzOM/M7RM0nxsP7lw/SrIbdA/qiqJI7lz3oF19XHUfiAM4OmZDwbLxFDXFMlUJFKQQegrezWQB7C+5BdZhK+wpfo4plT45tXKu7D44rfFhSp2sMUVymZE/enPnwq0C/n2C5nPjwSsInYd8n7are+YJFUH0wD1S0yr312lcZzX1ifK5tmEwnsJR1BQVvmiy43z0BjvCjJA7F5bKiVZgPKbCVpgzpU8ow3Vd98GJTvOYVueEPNqo75XrVvNvvVZvG2x4KN8hA3xuPFhfPxDdXnUqdUVhpZmGwT9WmLUjxzHwcXSqzCU9FzFFzWEdRY2rUpA8ig8pdS2psm+bMx4ctsZW2IqwwBQSKcqG67rugxNLBGNCnYwN/WC1ihXV3IUtl+gsWW+2jwePrQDXsbUcGg81hXp4/aEAtuqBmAeWZ6wsWI5ZNYXD1hRShNLcNjShAkpCqZ6kmNToMDV2iZ9hl3i9ZqIOLZ3ugxP3YOTLOoLF2CZjJMm6zoXDAv6P2z7SYYTOIzFuch8coW6UGIM/au5vehgv44GqV7AcnbpW9Dhuq0FS1W2QnFPBNeSnxIsmOYzDVriyvedpNep0H5yoweKqjD/BqVXaNNesXK4H+hKVt/2i48Fag1PWTi1pR3lRPW6+Y69cmcVZ+7QT5ZqUDnhsjSmwhlCkT/VqskIpfv+CIGZ5AjjaaxW2wC97+qSdStkUmihB7fR5H9EAo5br7D0dk7IzML47VH5r85dcdI9em65fRRhtfi6t0qkWyBFieYFJqW764yLGIdaPlFLp5dJGHhyhhgJTSzQ+Sr/74MQKrqBqkLwkCBiMIWieG6t+hxFL9F8MkcmyYnD5QnZWA06yXPPlhWyB2UwL4DB1OrfYGGA3yqiWD2odWCcPOw0+ois52N2oQxZZwC8fwDSVmdZhLNbh5bcxSR2TxLU6iIWlHg6vjr/xABPsqgUzW9fTBhx/G20fGFHiDQCPSXx/xsXQWu5sSMUBaYmOAd18GiQd7pNPQ/I0jMNGTXL4OtUcpIXatJ+Ppq/VtGHn9cOm10GU2EiuluJ6aRbqSwcwkhFhY+FlnDKp3Er1ekZy2MrmXaFs3hu9dSZ7rxzWyUJtpqO5fuTIKi12uwmpxqm1eGTulkuowUiCS7PeaiV2CSQLPuau5hmq5b3tsKtxUKSji5Ga/64eT8c8tE2BvFxLok/obPOC8aUDuPHUevntm/oiEwgOYwGswTtJpYsSpIReTqVxM46VQjYSbFk5p2Ypd+CqjL/zHtyga5ISR5qtlkFnt3dV/kWSrAFibUXG91jWl/xZMdfcp/24U63S+EN8OrTgMKLE6bic90UjPu3J0pjM2fRbaahb9Re7+2zSD7v80Kc5kT4K6ySsOXpMWWi//X3M3mLfMwvdQDO9JLDOpz9+nuIhZWilDq/MG+v/89Jp8NxSe+rQOJqiaPAu5Kn/t6j+gPo9iiPKM4oqUTUYJ3QceYNXZDkpvfIHcXfwh9glthaTMLSuby5WL7iEABczCqnpy7S+fd3cvSX8SXhE2Ke+hz/GnqaolK2xTmHmFWy5q95tWBBK/ClhiamldNgL90p+GrItJjBfOoBNSSHR3xg76nuZQo/Zdwd4H8BHoIIS/5BwSjjFV5iMcfwJ4BMBVg6Xpa6YjmAhFq1UyR3d+C/VY5FGPJIn6xkXU2BjV4acSq7xCwSEBjL/PRfpTvng2GfkealtmeHnmDNMRVjiHbYGn7Q5VQsKbEXOSIoVK0tC0eRuhgywF8+57D3hEjo6jE3HIetTPU8meA2hORTFdTuXCDRZMqPFJp4slsLhUhJKzAIzw1a4GuMItYQTRJtNoDAqgylXkNpUu2ac0H3kCjbfGNuXD2CDtdjofRSeGyNk0cnfJyUhHQ2eJIVkKubcJhKtDkt8CRU2Apxz5X1arltx03kckZA0xFRwJy4tn/yU+bh86QBGMw9KO0IvCS4hN6RErczaJzXhcxstzHkv8UMle8vXKbUPh3cp7uszy0eh8giCnOUsoZYHMxaJtytRy1twG16SUp0NNS9RvvJFbnyFlxcctHOe1r1rU7x2lfyb8C7cAiQJWnuB+uP58s+x/2VeebRtu2Fn00QYIQGPoMb2Vbls3vRhngBug9Cs4cnSHUZCrAYqMNEdVkt9qYR+mwQX1fk0Bkgg2V/GJZI2o5br8hGcAHBLqgKsygjoH/mPf5TTD6i+xYueA1XBpXNIwoSj5LtwCHUyKZIlsWE8i59gccbJ7/FKtW27YSPh22ibWCu8cwhljknmq0HCw7tapZs8whZ5Q1LlqItCkZToknJXsJzjotw0ea3Gy+Nokucy7solUMHb8DI8B/uS+G17sKXfX8DD/YrFHa6fclNV+62sohgqt6CGP4MXkkmRpmXteD5L/ArvfJVr989vN1x0yGGlOWXwqYt38uuKwy/9dzq8nRyzWbPLZoBjtNHUSR0jL60tlAZnjEPzcLQeei/RjpCSAppkoeNu3k+X9CT+/Pm/m3aC6hHOs6ioA22zoJWTNJTFMjaIruEtydLcajzxXZ6jU5Z+dW1wVJjyY9JMMCjVRrhDBUtD81DklDo/YZl++H+STH3f1t308d2Sk/g6hqf2bq368u336gGn9xronIMfQA3X2+U2Oi/RAnN4Hr4PHnP2p/gSf8zZolsVPLpiIxqYsfTprpQcbxpPr+Hw8fscP1rbbnhfvnni7BYT2pJ6y1rhgk40r7IATkyMlAWkXd6i+aHyZVmVhWOl+V+6FsbLEb4QlPXK6dO5oGtFHyrqBN1wu0lNjLzHL8Mn4IzlGwSLL3ELlnW33npEMuGyjfH541nTcPj4MadnK9oNR/MtrdIhmZ15KhMDMyl6T6Yos0y2sno0SrP2utR5Gow67yrgVyzUIl0DJaxhujtWpSezdi1WIhOZwU14GY5gSfUOwVIWhAV1xcxPahBdS5aE5os+ZzxrGg77Q46OOavXtBsWPc6UREao6ozYXFEVmtjfFOkgVKgs37w1ztTFyDGX3uptRIOzAmmbK9/Br48Hn6qEfqfK5hLDVpz+5+DF1CKl/m6amqIgVNRVg8QI0YVGmS967Xjit13fcLg+4eiUeZB2w5JYEymPjMTME9IkPsgGY5tMremJkSvQLVUtU1h1vVmPbq5Psav0WIzztRCctQ2uUj8x0TV6HW7BcapmqD9o+BQLS6ip3Xjagoyx5otePZ6cgr+x4fDyjOVS2t0apb5tJUbxdGs9DtOPSSvXWF345HsGlNl4E21w6VzoiLHkdG7SsUXPri7yZ5RSPnpLilY87r4c2wVjX4/ZuvKBos8XvWI88Q3bNRyOjFpGjOSGMs40zo0m5bizVu9EVsJc9tBdGZ3uq7JW39CyaWMGEucuokt5bxC9WTGhz4lp5HEPgGR5Bou1g2vAjVp41vFFrx7Plg2HxUOJsMQacRlGpLHCL9fB+ILQzTWMOpevbL9rM7r5dRvmiPH5u+Syf/oyUuS/1y4tdOBxjwTgqAfDi/zNeoBXjMe0Vf7chsMyD4bGdIq62yhxUIqb/74rgG3vp1ArUifLRCfsmd4Pq2DO2/P2lP6VfFyzWPXLR5fNhukfA60qsXGz0T9QxK/fGk++eruGw3e/yGFBbZsW73kyobsUB31/sG/ibitGTKvestmDD/wa9hFl6DaaXvmO1j9zxdEoi2ZbO7fqfNtOxfWBKI3UFfrDSfuW6a2sfb7osPLq8xoOX/8u/hrLGa7E5XY1BmiSmdM/UU6GOFl38AshUSvVYXy1E7X94i/j77DMeVWuScyORq/+3bwvpt04RsuAg0wrtzfbrjPhw7mmlDhifDR+WLTXs/P5ojv6vr7hcHnKDILDFNgSbwkWryidg8SRTAcnQ3GYep2Ea73zuF2zfubf0Rot8SeEKuXcGMm56STc5LSb9PlPBuAGY7NmQpeKTjJiPLaplVGKoc8Ua/mijXrmNjYctjXlEg+U+ICzqWY+HvCQznXxnrGeLDmuwSyxpykOEfY2cmN1zq9IXlXM5TgjlCl3rqFnyBlYKudmehRrsCti75eGxV9/a+D9v/xzA/mfB9Yrm/8dRU2ReRdiwymPtxCSkWFElTMHSLK2aswSU8jhaq64OOx6VTYy01ENdC5HLTwCKj/SCKlwSnB/wgCPiL8Okovmf46FgUWuAy4g4G1KtUz9pAzeS0hR6LTIXEY1ZiluL+1z0QCvhDlHCeUgGGyK/uaq3xSot03y7EQZ7kwcGH8dKq884uT3qIDX4aPwvHxAJ8hgRn5GsmscRbanAobUbzLEhAqTVDyIMhmbYEicZMK9YnQJST/U0z+2zlbY9glmaSiaj/lB7cpPEOCb8HF4HeD0DU6/w/Uqxebm7V0pnyOG3v6Vine+CsAxvCrcwPtrQoZDRTr1Rh21depDY6VrSVHgoxVGCuYEmny2lGteN59uJAWzIcnSjuIOwLbteZb/FUxjRsa1Ove2DE8a4IHx13G3357/eahkDc49Qk1Et8YWSYNjj8lISBkLiCPMyHsTJ1nukoHocQ7QBuWQQz3v2lbsxICdKj2VnJsweZUe1V52SPx1qMTI0G04/Q4pOFAJu+l1ISCdEo+ksWVSfbBp+gASsIU0bLWpqwa5PFz84MalLpIpqVHrcVbNoPS44zTtnPmapy+d1lIab1CL+ZMD2IyNv24NcCJ9rzh+X26ReWzzQrE3Nh7ZQRd8zDZ12ALnUyWBF/VNrwW85r1OUs+RtToIHRMq2tMxPjuO6HbSXdMSS6p+MU9+DzYD46/Dbz+I/3nE/aFxIcXcSmtwyFodEtgJV5eItHISvM7yMrK05ps3eqxTQXVWxpp8jOYWEWOfxvnE9+DsT9g+/jr8E7bnfx4s+fghrHcxX8eWqS0zEeO8Jce31BgrZpOq2wxeDjlq8EF9VtdL0DlEqaSqlRMR/JPXYAbGXwe62fI+tSX/8xhRK23DWxOr9HPNEqkeJDaAhLabNB9pDMapQEXHrtZKDF2LWme/rsrJSmVq00KV09rLbhN/fTzm9nZr/ucR6Gb1xUuX9JgXbfA2FTqQzavYhjt7p7OzKajjkGa+yZjqAG0n7tSJ63USM2gTIk2TsQ2it4+/DgeYdlrWZv7nEdIsszKb6cjkm1NKg3G0qAvVQ1BZW02iuRGM1aekdEzf+ew16K6UpwBwHuh28ddx9+5EIzfwP4+RHJvLjZ19Wp+NlzW5jXHckp1OqZH+n+n1qszLFsZm449ta3CWyUy1E9rLbhd/HXHvoFbpc/mfR6DbehGSm8KGRomjPRU1m0xBK6uFDvU0i3N+nb+DRIdCBzm9UBulx7Y9SNsb8CiZ1l52i/jr6Nt3MF7H/zzm5u3oel6oTdHg6uJfXbMBN9Mtz0TjSsxKrKnnSLobV4jmi9FD1ygTsrOGj/2OWSYAvF38ddy9UYbaOfzP46S/SmcljufgslHc5kycv7o6a2VCssb+0P8UjJsvtm597vvufW8LHzuZQ+QV+O60yd0on4NvXODt+dmfSrMa1JcPayai8/eX/iqP3sEdESqoVUV931bqvTj4K3zrD9hfUPqUlmVz/oZc2xlD/uf//qf5x3+AW6RYU8snep4M1+BX4eHIhkjbyPfDe+OZ4s+XKZr/Q/8l37rB0ZxlgSvwkbZUpXTFDXhl/t4/+V1u1lwLTTqXDqKvy/OJL/7nX2V/j9riTCtXcGUadUeGAxx7F351V7nCXfkCAP/o6bVv3yDP3+WlI4p9TucsS1yE2abELiRdPkj+XqqKAAzsUwWsTyVITc8doZEwprWE6xd2QUmq/4/Pk9dJq/K7g3f8PRzgyPf0Gnx7J7nCXbkNn4Efhd+/mEfITBj1fs3NUyqPqShKqpK6IBQ4KzBnhTZgkhGeMfYpxphygwrwBivLdd6mbXSHGQW5p6jTyhwCTu6ckM5frVMlbFJi9UCJnSlfglO4s3sAYijy0/AYvn4Bj9CUG84D1xzXlviQGmxVBXVk9S8IJq3bIauyKFlshOMtLmBDMxLrsSZFtKyYbz6zHQPKprMewAUKizeJHKiIS4XKDNTf0Iyh9LcwhxvwAlTwwY4BKOAavJTKj3ljx7efOrY9z77DZY4Ej/XUNnXCjS0+vMFbhbRWKZNMbBea/Nx0uIo81eLNzhhHjbeS7hk5JwqDsYmpDxJPbjBdU48xNEq5fPSmUD493OUk2m758WASiIsTC7PA3LN0yvUesJbap4U62ETFFUzCOCddR0S96ssezfRgEj+xFZ69uNi2dmU5mFnhn4jbdlTlTAtutEID4z1ZuXFh5G0b5XBed+/4/NyS8uMavvM0YW0kOV4CM4+TScyBKRuofcI4+IQ0AnAENSB5fYq/JzYRMBm2IAkkNk1IEmG3LqI57VNyoMk7saBqxTr3k+LBe6qawcO0OgYtMVZ4ALfgRD5hh1vB6JOSyR7yiKV254RECOECThwmTf6NMrVC/r+ao8mkYnZPqkY3YJzQbtCob2x7bC3OpOCptRjb9h+GlBxiR7bV6WCcY4Vj6xg69zaSTxBLU09lmbi/I4CnjK2AIlAayoALlKonhpHl2sSCiSDVEjSerAStlfwvkzC2AQ827rImLQzxBZLakVU8PgSFEe94TDMSy6uRMG4PjmJ7XmgnZAs7msfZivLj3W73YwaWDq+BEuogPIO03BMzgw04izOY0O60Ja/TMh5fGzxp+bU2WWEYXGhOTfGtiVjWpsBGvBjSP5Pl1T4pTIsmaSqNHAyehnG+90wC/telKWJua/q0xPSUOJLjFT5lCiDVTSlL3siZVU15ag+f7WeTdDf+dhLCyqrsxRbL5eo5Y8R6yecl6WvL8hoPMKsiDZqb72zqPFqVM6K7Xsan6OIcmedKkxIZUvNYHyhI6NY+WVVxQ43JQN4mBrUgHvDk4rYE32itNam6IvIqGtOocksCNkiwK1CEZO4l8elwnFV5lJGVQx8a404caZqz2vbyCRZqoQ67NOmGfXWjIpZxrS6C5M15SdMRvGOHHue7DOPxn95gjdCfZm9XxjiksHQOeBh5ZXJkE2VwZWmr8oQluh8Sdu2A/wSMO0q8qvx4Jybd+IFF52IZIZEjUynFgB6sTxZvYbDtcGEw0p3JSGFqaBzLXmhwjSzX6aP14hwaUGPydjd5SQ5RE/iidXJdauLcVuIgpCnDb9x5ePak/LhuY3zyxNFFLV4N0movDBImycFcQ2OLZXVsOLlMusDK0h3UQ+OVaxOdn9kOZLYMriwBHCWvwKvwcTjokQn3vxxwE96EFyVlVSfarbz+V4ZN4t9+ia+9THgNrksBcieQ1v6IH/5V/vgF3KfhhmRQ2zXXx79Mc37mhy9GCIqoxKRzLe1mwcngDaLBnbuIezIVNvq0cdoexs37Mq6+OWJFLJts37aUfFcOHx+hIYA2vWnKt35TSEtvyrcxG68fKD/wAXcfctfD9wpmiv6o/xGvP+DBA96s2/XEHZIUHdmfJqatwel1PsWGZJbkLKvMh6hxTSEm1T40gS0gtTDWmqpm1XYOYDkjpQswsICvwmvwkhRqriOABl6EGr4K3wM3xMLacP1QgIGa/+mb3H8Ir8ItVZlq20gbMIl+OLzFW/d79cRlGwd5MsY+e60lWu8jiaPbJ03NvU6cxriFRbqRkQ4bsaQxLcidtXrdc9knWPSpW7W+XBFHPWxzK3u1oWaCriArcw1fh6U4mTZc/7Vhk/jXpWT+wTFnpyrBvV79EX/9a2k2F0se3W9f73oDC3zqqAVVB7x1oEb5ibebOzllabRi+zQPd0M9DX/8Cfk/YlXlpDBISpx+y3vyi08fi0eMxlBPuLXHnUk3sygjK8CdXhHfSgLoAm7AS/A2vLjF9UNkBrfgE3AI33zM4xp/KrTR+ysohVvlyp5336M+gVuqnrhdsHwncH9GpcJ52Z2kZ2Kl/PrH+MpN7u1zOqMq8SZxuPicsmOaRSLj3dzNEArc8JraPzvlvTknJXUhWTvavy0f1x2/6QAc5QPphbGUtbEzp07OzzfgxS2uHygxlPQifBTO4O0Tjjz1AhZwIBirvKZ+ufLdh5yeST1xr2B5v+bAc1ZQ66itxlgpX2viDB+7w/uHzK/xeI+zGcuSOiZ1WJxK52gAoAnTLq8Pnooszx1yPKeYsSioYwKJkQSSTiRDQRtWA4ys1bUU8e21MYuG/7wdD95w/UCxQjj0opQf3znjJLCMhaMdjMsUmeiUK9874yguRQtVMz6DWYr3Rf4GF32NGebQHEybiVKo33S8eMrCUyw5nnNWpsysWmft2CYTL0f7JwI8DxzUuIApqGzSY9/+oJwIBq2FZM05+HG7wKtSSsCaePCG64dItFxiPsHzcAo1vL/ABBa5dnSv4XIwa8qVC8ejh1JPvGzeYveZkRIwjMFZOaQqzYtR96apgxg+e3Cz5lbk4PEUJWWZsnacbRLwtHr5KYQ0ImVgz7OMvusiBZpSfoFXe03W48wtscmTddSr1YyYbYgHr7x+FMAxlBQxjmGG+0tMYBnwTlzf8wbgdeXKh8fU8YG7lh47u9/YvZA8PvEwSm6XlBMwaFQwLhXXPdcdixyz8ywLlgKws2r9zAuD7ZpCQyVnkrjsybLYgAvJ39nCWC/X57gqj5XJmJGjh7GOB6+8fvj3yXTUNwUzDw+rhLHLN5+n4ZTtcuVanTyPFizzurKHeSk5KJoAgE8Pu89MK6HRAL2xpW/suWZwkuYYQ3V1gfPUNqVbeEso8OAk+24iwDG2UQa89EeKXFrxYYrWdZBWE3m5Duf7omPsL/TKNTfHg/vXDxHTDiXdaKiKeVwDVIFaMO6EF3O5cqYiN3DsODtK44kRVhvEL5GdSiENPGiYVZJUyJ8S2HfU4KUPsbUUgcpiLc6m9TMuntau7mA7YkKS9UBDK+CkvZeRM5tR+/F6I6uPcVCnT7aIB3euH/hlUEqcN/qmxLxOp8kqNFSD25Qrn54SXHIvZLaywqfjnPcpPGDib93XLqayGvnGgT1YStZOvswEao8t0gPkPc5QFHjXjvaMAthKHDo7VdJfpTDV+GQwBvFnhbCNBkc569XjnhsP7lw/8PvkZ3ZPsRXnTziq05xWoXnLNuXKp0vJVgxKiTXGIbmOUxNAIzlQpBs1Fa0xW1aSOozOpQJb4khBIUzPFz1cokO0MGlzSee6qMqkqHMMWoQMM4QB0aR4xsyG5Zbx4AkFhp1Q0kE7jhSZ6JDirU54MZ7J9bKSL4sPu5XUiNQ9KSbHWEmf8BLkCSlDMZaBNyQzgTnUMb+u/dwbMBZfgyUxUdpJLdP0F4ybcc6KLYKqMvUp0SBA8HhS2eqQc8xCqcOW8eBRX0zvAFkp97tUxRy71ls64cVKlLjTAjLd36SAbjz+xpBcTp2JG7AXVQ4u5Tnrx2gGZUhH6iAVwMZiHEZKVJwEiKaLUUrsJY0kR5ZSllZUbouPl3kYfFBd9j7zAuLB6zCuWpzyBDhxrbF0nreV5cp5Fc35TdYm/jObMZZGwplz1vvGOEit6aJZ63EW5ylzlbdNhD21pHNEqpfdAExKnLaSeJsOcjEMFdM0JbQc04aGeyIGxneHyr93wdd/XOYrKnGqEjCpDMQaXGjR7YS8K8sbdVl6zMmKVk+wjVHnHER0wRa4CZTttFfMLv1SSOl5SCJfdMb5kGpbJmR0PKMihSE5wTiXijSJqxljqdFO3B1qzbJi01ooDKVgHNSmiMFYnJO86Emjlp8gRmIOGOdHLzRpJNYkYqjLB3AUMZJNaGYtZPKsjLHkoMftLc+ybiA6A+/FMyzbYZ7z2mGKpMoTRa/SmZQnHeU7GJt0rvNSlXq5JG/DKRabkbPyQs5FMTcxbr9xpmzboIttcpIdEuSo6tPfracE43agRjrLwUoJkxXLKyu3FWaIPP5LB7CK/imkZXbIBX3i4kgY2+Zdtr0jJrC9oBsowfqEd8Z4+rCNetFCWmC2GmNPkb/UpZNsSItrInusbFbWkDQDmcToUkCB2lFiK6psIqhtjKeNN0nn2eo8naat2dE/cxkBNpKzF5dlOvqRizb7GKs92K7KgM9lSx2MzY72YKNOSq1lWQZJZ3Ge3rj8WRVJekrnJTU16YgcLwvNiw7GVq/SorvWNxgnxRWMdz5829bjrLsdjKd5wZ9B+Q/gZThYkwjKqt/5xeh2yMD/Bf638DG42cv5pI2E6X3ur8Nn4ZbkEK8bMz04zfjis2dWvlnyyHErpEyemTrwdIir6M3gFIC/+zG+cof3HS9KCqFOUdSw6d/xo4+e484hJyHlretHs5NGTO/5uHQAH1/n4Rmu5sCzH1oZfNqJsYsU77bc5N4h81MWNbd8q0lN5yErOtstMOdkjq2pPfuhaTtTrnosaI/50gFc7XMS/cyO2jOP8xW6DZn6PxMxDvucXuOxpzB4x8JzLbAfmhTFDsz6wE1JPWMRkmfDBeqwonGiUWt+xvjSAeznVBWL6LpyOI8POEMVKENra7TtFXuqOTqj2uNsyXFMwDA4lxKOcwOTQqqxcvFNorkvUu7mMoCXdIqQOoevxPgSA1ziSiqvwoWeWazmNtSh8Un1zdRJUuJnLOecRRdEnQrLap9SFOPjNVMn7LxlYFPGfB2NeQ9S2OLF/2x7NoS9nACHAl/iHLVvgpkxlBQnKyaTFSqWsIvMVzC4krpkWcrBqSb4RH/nQlqiXWgB3DQjkbxrJw7zJjVH3Fi+rcf+8gJcUBeUXnUgDOClObEE1Z3KhNrBgdISSmpZP5aShBAfrBBzuASkWUif7iSsGzuVZ4AjxqgyxpTsIa991uDPwffDF+C2NKGy7bNB54v97Zf4gQ/4AbjVpthfdxQbGq/9f8HX4WPtopMN4/nl53n9wdp2w31U/q7FF3hpclYFNVmBEJmRJGPLopCeWHoa+SwLatlNk19CquiCTZUWucdlIbsskvDs5Sdm4+bKpEzLFa2w3PDDQPkNeA+Az8DzcE1tA/1DgoGvvczdh1DzKbglR8mOqblucreRr8NdcPCK1I/NN47nj1/gwQPYvt2wTdrgYpZrEAZYkv0SoDSJ4yhI9C0q06TyYgM2MRC7nEQtzbmQ/KlgKD3epFXag8v1xDbxuXiV3RclCAOEhjmImcYS/kzSl6pe9aWukwzw3/8Yx4Y791M5Uq1Sn3RpZ86S+YcD5+HfgCX8rupjV20cz6/+GA9rHj4ClWy/bjABvvYqxqWYWiGuZmQlRJJgjHqIcmnaJyYA/Pdfo6goagqHVWGABiflp4h8PJkX2t1Ofa1NUMHBlYqki950bVINvw+P4RPwMtySKq9OK1cLXIfv5f5D/pfvcggfJblmdPXolMYKB/AKfAb+KXwKXj13PDfg47x1Hw7PbzeczGYLJhV/xpRKJ675uCjXeWokLyJMj7tJGUveIGqLDdSZNljRbIWcO6dqQXOxQl6uuwBLjimS098ysjx8Hc7gCF6EW+2i3zxTzOAGvMrDU775mDM4hueV+y07WstRR4u9dHs+BX8Mj88dzzwVCL/1TfBbtBuOE1QQnBRvWUygjuSfvtnb4hJdWBVymAZw3h28xcUil5jAa1KuAbJWkyktTSIPxrR24lxPZWgROeQHMecytKzoAG/AEk7hBJ5bVWGLhTncgpd5XPP2CRWcCsYHUkA6G9v9NZYY3YZX4TF8e5vxSIHwu+/BmnbDTT9jK8VCcvCIWeOA9Yl+LEtF4sCyk3sItvZRwdgWYivkvK120o8PlDYFo1rVwHk98C1KipT3lyktV+ZkvQM1LOC0PacRtrRxX4Pn8Kccee6cJY/MGdyQSvy9kcWFKeP1huKLfnfzeGxTIFyfcPchnNtuWC90NlUzBENtwMhhSearDgRDEZlyJiRmGFqrazaGLYkBqXapnBXpHBw8paEKzGn220wp7k1KWAi0VDmRs8hWvVrHvqPK9nUV9V4GOPL93qRecBJ4f5HmdKmqtPfGtPdNt+/zRZ8znriy3+L0jHtnCeO63W64eUAz5b7Fe6nwDKmZbMwXVymwICRnU0WOs81PwJe42EO8oNa1fZ7SUnlKZfoFtVbHy6IGF5nOVGFshPJntXwgZft5WuOcpi+d6zsXLCtM4P4yHRmrNsYjZB1f9DnjkQLho4rCgaIdUOXBjbETpGTUx0LCOFlSr+eVuyDWF41oVdxF17RNLZ+cGzYWueREeckQihjXvjGaA83jGMthUmWNFzpTsb1zXu2mXfK+Kttfyk/j6Jw3dWELhwk8rLpl/iMmxSi8+nzRq8djVbHydVjw6KF4+NTZqcoPnFqiY3lZIa9DTGM2ydvQ1Dr4htZ3IsxINm4koi0sXopcnNRE1YHSNBgj38XkrgyKSkdnR2d2rfz3c8yghzJH+XCcRql7gx5AlVwzj+vunI6bhA180SvGg8L4IDWsPjxOq6suSa9RS5y88LITxyY3IVayKM66TBA6UXI3lmaPKEQR5f5WEuVr32CsH47WcVnRiHuVCq8xPt/OfaTmqJnQDsYV3rGM81E39d8jCvzzArGBL7o7nqzE84ZYoq45WjQ7aKseXac+iNli5YNj4baTVQ6F8VTRHXfiMutwRmgmfSpyMQXOUQpNrcsOETVBqQjSSBlLkCa5RjioZfBbHWQO1Ry1QCiF8GYPKpxLrt0jwXjcQ58D3Rv4ojeNZz85wJY1x07588DDSyfsxe6BBjtLhn7OrNPieu7Jb93lTuarss1SuYJzqUdRduPbfBaeU6R91mDm5ydVpSdshh+VMbTtSfWoU8+dQWgX+dcutY8IrinaHCEZ4A180a3x5MHo99ScHTUOtXj9Yg8cpcd6cfsJ/UpuY7MKboBbh5zMsZqvqk2MlZsYZnAy6kcv8d4hx4GDkOx57WIz7R/aLvcpSZkDXBHHebhBAayntQZRYgPHbjzAHSVexxcd+u/pFQifnrYwdkXaiQtp99vw9bbx7i/Jka+qDtiCZUGtSJO8NpJpXjQ+7Tknc4oa51kG5qtybtYhPUWG+ZpO8lSathLPuhjHuT8Z5Rno33sTX3T/gZspPXYEJ8wNEUSbAvuQwoKRAtSI0yAvrS7XpckjW8Dcs0/DveKs4iRbpcqNNktelYHgcfLVirAC4/xETo9DD3Ym/vCvDou/Do0H//LzA/mff+X8ezo4lE4Pn7Gt8tngk5cAFavJN9d4R7/BLDALOC9Vh2LReNXnDNOlMwLJuSnSCpcSSIR2o5M9YttK9EQBHhx/HSgXzv9sEruR88k1nV+EqLV+dc1WEJadWaBWJO6REtHYhvw5HVil40Lj4ihwlrqQnJvMRhSk2STSO3p3uWCDAXaf5s2a8Bavb6Rn7kTmt5cR/M+DJGpVIogLFCYdfG0OtBUptcP0CnuMpHaUwmWUqfCijZb5l6I32Oe1OkikoUgNSFN0kia1yksSoGmXDU48fg+P9wyMvw6Vm/BxeB045K1vtj9Aw1yMfbxl8SS2oIrh3gInndfjNSkqEMFQZE1WKgqdSSt8HIPJbB553w3NZ3ntVDE4i41UdYJeiI+axPtyRMFOjlQOB3ho/HWgDOV/HgFwEG7ZpHMh+X6d5NLqRyGGH/L23BRAZDojvU3I1p67L0Q9LuTpyGk3TqjqkIgk0nDWiwZnhZ6SKjSqveyg+OtAGcr/PFIE4NhGsJCvlsyu3leO27PA1KQw6rN+3JK8RPqi6qXwbmgFcZOFlVMMJKCrNTgnVT1xDR4Rfx0288P4n8dAS1LNmODhrdpuO1ty+43asm1+goLZpFc+dotULZWM3DxxWMrn6oU650daGef0Ev1RhM6D4q/Db2+H8D+PFHE7x8XZy2E3YdzZknvDy9BGj2PuqZMxNoqvyktjBp2M4aW5IYgeSyg33iFmO+da9ScIMAPjr6MA3p7/ecQHZG3zssZHrW0h2t+SZXjaD+OhCNKUUEmmuiEzX9IKU+ZogYleF4VxYgAiZd5MpPeY3CB6m/jr8E/Ynv953AcE6U4SpKS/eZ2ltyVn71JzSA0NQ6SVVL3Ia+TFSop0efnWzU6MpPx5sct8c1lskTQ9m3Na/+Bt4q/D0dXhwnP5n8dJsylmUC2OHqmFbMkrMW5SceUsq/kQU2Jzm6tM+6u9bNnxEclXxjN0Duu6aalC0zqAbxl/HXX7bfmfx31AnvH235tTUwdjOQ0bhXFfiZMoNrLMSdZ8NApp25RQBEnotD2Mp8guGkRvjL+OE9MLF67jfx4DsdqGWyuzODeK/vWmYasz7Z04H4R0a/aIsVE4kSuJ9E4sFniwyihrY/w0NJgB8ddx6HbChRv4n6c2i+5svdm9tfIrq8/toBtygwAxm9NyLTjpd0rNmGzGXpymWfXbGE+Rye1lz4u/Trn3NvzPYwDWK7PttnBdvVDLx7WRUj+hx5snVJFe2dihs0TnKjEBVefcFO33jpNpHcC3iL+Ok8ZhdB7/8+gPaK3MnSihdm+tGtvKn6jKDZVtJicWXzRyGs52O0K8n7mmUwKs6vXup2nw8Hd/Dr4x6SM3yyvw3Qu8PT/7U2mqVcFH67WWzt8f/jjzP8eeYWvwGO2r7Ccotf9Z/lO++f3c2GNuKU0qSdVVoB2V0GbZj/8OX/ph7B7WQq583A664Rr8/fDe9K1vrbwKDyd1hz9HpujD9X9ItY8vCRasahyaC/1M7yPkH7/5f2P2TY5O2K+Ye0qfmEubRA6VJ9QJq/+P/wbzBYVPoa1W/9LzAvDDAf4CAP9oZNOrcyUysn91chz0IqS8jzsgCH1ZsJhcIaEWYaN/Z3fjy9SPOX2IP6GqKWtKT+Eb2DINcLOpy2u3jzOJ0yNISkK8BpolpLMSxN/DAb4Nn4Efhd+/EBAO4CPwGnx7qnmxWqZYLbaiOMN7giPUUCRVjk2ejdqQg7Kn0q8Dwi2cY2kJC3yFqyk8haPIscggaUA5TSyerwp8KXkgHmvT7qAfAiRTLNCCfDjAMZj3aXgMX989CAUcwEtwCnd2fG+YNl7jMbUYup7gMVay2A3Bir7aZEa1wJ7DNfxBSmdvypMczlF4jE8WWWYFzvil0FMB8bXDWDmeheR9M7QcounLjunZEGtHX4JPwBm8sWMArJSPvgAVfLDj208SE7Ce4BrPVJxfI/k1KY1SsjtyflYOz4Q9fI2LoaIloSYY6SAQqR1ycoFpAJ7Fm8cyVw8FwTefEk96+K5CA4zp2RDdxDdVAe87u5xEK+Wjuj3xh0TSmumxThp6RO6c3J1dwRyjzlY6XGb3eqjwTrZPCxXBiasyJIxjn72M8UxXfEf9LlIXPptbwksqGWovZ3w8uF/Au8N5XNWe+EMhMRPPpgBR0z/QpkNtjAwaiShEnwmybifP7iy5rtJXjdaTIxisFCubQPAYn+wplM/LFPhIImOTA9WqbIV01A6SHjrSk7WugHcX0olG6vbEu5JJnoOQEjCM4kDJ3C5xd8z5szl7JNK+RK9NmGEcYZbCDB452maMQyrzNQXWq4ZISGumguBSPJFC2ni1fTVIbtAoDc4B/34B744A0Bjr9sRPV0xobNcg7e/wskgK8yWmUeKUy+EE4AJmhArK1GEw3TmaZnX6lCBWdDyJoe6fvN8W70RxLcGkZb/rQh/ZNynHelYW8O5CrPJQ9tsTP0XJ0AZZGFOPNIk8RCqIxGIkuRwma7CFglBiHKFMWLYqzS2mxgYh4PHidMv59OKEC4XCWNK5Y4NkvUSN1eDNBbyTJ7ETce60J37qGBvJnIordtodbbKoY2KGB+PE7MpxbCnXCzV4iXMECUvklT9SDod0HGomJT49TrzZOa1MLoihMK3KEwL+mwt4J0+i3die+CmiG8QFESSol+gTPMamVqWpuE36EzeGtJUvViSvRSjTt/KZjK2U2LDDhiYeHEx6sLwR4kwJhelwZ9omfLOXjpJtCnhHz6Cajc3tiZ+06EJTybVLdnUcvE+V9lZaDueUzfTdpOgjlKlJaQiYiHEtt4+Jt9ED6lT1Q/5wHf4q8K5NlCqWVzxEjQW4o8TrCnjH3lvH/De0J37ykhz9kvWY9sVodslBNmOcba6gv5JVkVYvR9tSAZj35Fiek3NWsp6qrpnxn81mjLrG4Eb25OpP/6YC3rFT2Ssx31174skiReJJiQHpTJmCAcKYEf+CAiP/hAIiwV10UKzBOBjZnPLuSzsloWNw6RksKBlKGH2/Teh88zxC54EFwv/oB/ngB9iekPr5X+bB6wwoWP7/ToY2+i4k+yIpsThAgk3rthGwY+VLa13KD69tnoC4u1NJyFA4DY1tK7Hsvo15Rc/gUlIylDB6KKHzQHn5azy8Sw1bElK/8MepXvmiCpbbEu+XuclSknqGU0hEOxg3IXqjxpZz572YSwUEQq0yvkyqJE5Pl2lW5qYfNQnyrsEFpMz+QYTRZiCh80DC6B8Dc8z9O1IocR4h9Y/9KvVDHj0EtiKM/tQfd56Qcx5F/ffiTtpQc6F3jhdZ05xW6QeDA3/+vxEL1KvzgAQJCC2laNIHAhhu1k3WWJM+ZsTHojAOoaVfNOV5Ht5TE1qvgs3JM1VABf9Uqgo3X/9rwwD+ApRwcsrxA4Vx3XvsBLYf+jVKePCI5aJHktZHOvCpP5kKcP5TtrAwqsW0wlinefz5z6uR1M0Dl73NBPVxofFvEHhOA6y1dpXrqjNmZWRtSRg9mNB5mAgdNacPefxNziWklnJlvvkWHs4tWP7mv8bd56n3CSsbAa40JuTFx36dOx/Djeg+aNbWQnZyuVamed/9Foe31gx41Tj1P3sIPGgTydXtFw5uAcIe7ODb513/W8MA/iFV4LRYUp3JzX1vBXbgef03m+sPj2XOdP2Mbynx936LxRkhrj35d6V+6vZK5prfH/1vWZwSjghHhMhhfQqnUte6kMpHfZ+8vO0Pftaz3PwarrMhVqsWy/6utPqYtJkwejCh8zAxDR01px5/xNkdoR9dRUitypU5qXl4VxRhTcHy/Ij9Al/DNdw+fp5yrIJuKlf01NoA7N/j2hy/wNzCXcdfI+wRtuk+OM3EK0+YWUIN+4QZYUbYsnPh2mDDBoLmdfHgtYTOYwAWOmoWNeGExfuKqbhNSG1a5cqcnXJ2TzBeVbBcLJmfUhmCxzjcEj8jzDElIZ5NtS+iPYOzU/YesyzwHhaYazgZRtjcfXAawEVNsaAQektqKAnbdC7cFE3aQNA8mNB5MMaKjppqSTAsM5lwj5A6Ry9TPfERLu48qwqWC0e5pCzEh+wwDl8TSigxZcI49DmrCsqK2RnzY7wBT+2gJizxc4nkr+s+OK0G1DqKmmKZEup8dDU7QtF+Is0Kk2KjJ2slQfPmePAKQufB6BrJzBI6atyCYKgetjf7Cqpu8Dg+Ew8fyZz2CpaNp3SUFa4Qd3EASZQMbX7BoDF2GE+5pDyjLNJht/b4Glur985ktdfdByeewmPGVp3cn5AKl42coYOmHTKtF+e5Kh/2zh6cFw/uXz8c4x4dNWFJMNSPe5jFZ7xbrszxoUxru2DZelGISqpCIsAl3mM83hEsplTY2ORMto6yplxSlvhCKHbiw+EIM3yZGx8SdPfBaRpsJFfLuoajyeeTtE1ekdaq47cEmB5B8zbx4BUE05MwrsB5whLiLUPr/p3gcYp61CyOBGNVsGzAxozzuuGKRRjyY3QvFAQvMNvGaLIhdbYqKoqlMEAEvE/NB60T5qxZ6ogX3G4ANvHE7CRfM5P3SNZHKMQtmosetwWYHkHzNvFgff1wdDVmQkeNc4QKDPWROgv1rt/Pp4kl7lgtj9FtdJC0ofA4tehF8UViejcWn9WiwBSJDidhLAtAZGIgF/U6iHlxHhNv5SQ/fjLAcdjBNyGH/L1ScEl7v8MggOkRNG8TD55QAa6DVTqpw9UpI9WFlo9gTbkyR2fKBRHHc4CVySqieWUaRiob8x0LCKndTnyMkiKCcViXdsQiWt1yJolRPx+gxHqI5QgRj2JqgUDSYJ+o+TCq6lAVNDQwh7StDAkXaoLmLePBw7+WDvivoqNOSozBte+flbhTT3x62sI41Xh5UQuX6hIakFDGV2aui0ZNSA9H4Sgc3mGrRHoVxQs/scnJkU7ivlPgVSUtRmXVp6+dr7LNmIMkaQ+MB5/ITS8yHrwy4N/BOM6XO1nxQLTLlXGB5ak6+8tMFQ5nsdEMNsICCr7GBoJMTMg8SLYBONo70ay1tbw3PiIIxiGlMZswtaGHoak20zDHaIderrMJFtP8RqXNDozvDpVf2eai0JzBtrpeEUabzxA5zEwu6/MpkQrFVZU0OPNt5ur9jLHDFlhHIeZMbGNG5o2VNSB4bLGDOr2uBvvU7yfoMVtQdW9mZNrsMy1BrXgeY9JCGgxmlv6YRJqQhqASYNVeGBsORl2J+6KTtSQg7eY8pmwTlo4SnZKdv0KO8Kf4lU17gZEOlwP34L8okpc761PhV96MLU0tV5IgITcjZT95lfbpXak/WU1hcC69y2azq8LsYpoNSoM9CFNTyg0SaNML6d9z6QDO+5lFUohDKtuyDpd34pwvIRW6pmjtgrlq23uI+VAGV2P1UaPEV9gSP61YXpd75/EHUsDfxlOZbWNskh5fOoBhlVEaXzusST7q3K4ZC06qVPIqHZKbMC7U1kpqY0x0JaV5GBK6difTHNJCjRSWpR1XcvzIVWtGkrbsRBfLsynZXGoVWccXrmkAn5gSfFMymt+bqnjjYRpMVGKPcelF9IniUh3K5M6WKcfDhNawQcqCZVduEoDiC3cpAW7RWeQSzdyOwyeVNXlaBWPaD0Ssw4+BHStvLIL81hhPHvKKbJH8CMbnL6Orv85UJ+mzKRE5q80WYbsxgJTZmzxrtDOnQvPGhK4ocQE4bOi+NjsirEnPpV6lc8Ke/t3G+HLJv3KtcUw2U3bx0/CPX+Vj3+Em7IeUGaCjt+hEjF7i3LdvcOso9aooFE+Dvr7zlvyXS2dkVTcJlazMNOrYTIrOblyf0TZYfp47X+HwHtdO2auYxbB0oPBCvKIXlTyMqJGf5fA95ifMasXKk7laaLZknZTJ5QQ4XMNbqDEurb2050jTENFW9GKKv+JjuPc5neMfszxjvqSsKWuKQOGaQ5fNHErKEuQ5wjF1QVhQ1Fhh5Wld3GNHi3+5dAAzF1IEOS/mc3BnguKrBuswDeCb8CL1AlPgj/FnlEtKlwLMNjOiZZadfFgPMCcc4B0YQkVRExxGGqj6nmmtX1w+gGNWTXwd/Ysyp5AOu8Y0C3UyZJi8Ru/BTfyt1Mc9pnz4SgB2FOIdy07yxgwuYY+wxIv5EGxKLgjKlm5OfdnyuoyuSqnbBFUq7xOne1Zcp05EUabuwSVch+v4BcZTR4yX+ApfS/DRKYB9iknHHmnMCHNwifIhZm5EjI1tLs4+HESPLx/AOSVW4uRGWlmlJik0QfUcM9iBlS15geEazkFIsYzYPDHE4GOBdQ3AJtLwRAKQQggyfUMHkKq8vdBK50OdOstdSoALTGx3Iv2OYiVgzH2JzBiN20h4/s2UDRhFhLafaEV9LgQtoMLbFHw0LmV4GU8RwDA3TWA8SAG8N41vNYYf4gJucwZPIED5CrwKH4eDdg7vqjoXgH/0g7z8NV4LXJcU4M6ZsvOWreK1Sv6v8Ca8KEU1uhHHyvH86g/zwh/zabdtu+FvZ4pY29R4RYxBNbSKGmBaME8FOOcfLfF1osSKPFkYbC1pkZYy+j6LlJ2f8xlizAPfxB+lOWbi2MrZllZY78rvCvXRR+BAan1Nb5pyVPmDH+DhXfxdvldaOHdqg/tvGSRvwgOo4aaso2bjeB68zoMH1G9u3W44306edCOJc8nnp/tYxYCxBAqniiQfhbmw28VFWOYucrVYS+2El4mUiaCJH4Jyq8W3WwM+rdiJ0kVgLoEFfBVeg5ekj+tsQzPgH6CGb/5PPLzPq3BLSsDbCabttwyRF6GGr8L3wI2G/W/9eD4L8Fbg/lvbtRs2yUIxPkVMEfpXMhWSSQ2tbGxL6YVycoqofZQMsCLJAqzBmfwPfIY5P5Q5PTYqaJEmIbEBSD6llZhS00EmwENVlNYvVhNnO1/768T+yMcPOD1rpbivfMvXBs7DjwBQw9clLWer8cBywf1HrfH0q+4CHH80ZcQZSYRuvH3RRyieQiONjIx0optPcCn/2f+hnVzslBtZeyhjObmV4mCDh2sfaX2HTsE4OVNR3SEHGRojK8CdXk3erK0KFpjBLfgEHPL4m9SPOfWpdndf9fYd3T8YKOAGvARvw4vbjOe51HDYw3vvclJvbDesNhIjhI6GRGBmNNNFkPCwGNVTJStxVmVHcFCqbE4wMXHA4B1AkRefTg1SaA4C8f/nsL8Rwj3bPyZ9oAqLrkneucYslRa+CB+FM07exh+xqFlIPVh+y6j67/Rkl3ADXtxyPO2Gww/vcnZ6XrthxReapjY2OnHYjLFJXNvB7sKKJvk3cuJnEKWMGtlkGMROn7EIw+JcO880rtJiQAShtIy3D9nx5pPBuOKY9FCV5e23laBAzP3r8GJq8Ht2h3BCtWxq/jQMQyXuOPM2X/Sm8ZgVDYfP7lEdrW43HHUxp6WZzLkhz37aen1KIs9co1OtaJ3Z237hy+SbTOmY6i3OUXSCTRrsTNykzgJBKbFZl5P1uFfGl5Ug3Toydj8Pp1CzeJ9gcIuUbq6LxcdNRZ8v+pzx9BoOu4KHj1a0G75JKz5n5ByZ+HKAPsa7Ul8jSizrT5ilvJ948jGSjhkzvEKNzVl8tFbpxCltpZRBHy4yxmZjTtZRu4yvljlNHxNLCyPGS3As7xMMYYnziV9gPqFB9Eq+6E3jWdNw+PiQum61G76ZLRGjrCpJfI+O6EwumjCOl03HWJeEyx4ckfbq5Gpy8ZjO5zLdhVqrb0Q4JdoJxpG6a9MietwuvWyKBTMC1+GmzKmneigYu3TxiP7NfYw1X/Tq8ZhNDYcXR9TLdrthzedssR5nEo9oXKijbZVqQDLG040so855ttlQKZvSGHKybcY4F/z11+psaokSp+cy+m2KNXuwlsjdq6ov5TN0aeENqR311I8BQoWrp1SPNlVGK/miW+MxalFZ03DYHXN01h6/ab1IS3Q+dAq0LYyno0vLX5E02ElxWyEw52TbiLF+ttTzkdZnzS4vtkWD8TZ50aeqVNPrgZZSknRdNfgN1KQPC9X4/sFZiVfyRbfGg1r3NjYcPj3Fae+aPi+RuJqbhRpZqIOkoO5qG9Y8L1b4+YtUZ2xLQtUsztmobs2L9n5kJ05I5ch5KYoYb2XnnjWxivZAM8YH6ggfqI+SUzBUYwoMUQCv44tujQe1qGxsOLw85eg1zixerOKObdzEiVf98bn/lcPnCHOp3l/piF/nNP91njtqDpB9QhyQkuL5itusPHGG3ou+bHuQWXRupOIbDcaqrjDqSmAwTYfYs2kCN/NF67h9q5x1fcPh+QmhxBV4I91SkDr/8/bZ+XvMj6kP8HvCZbSSSq29/if5LId3unlVVoXoW49Km9lwNqFybcBJddGfUF1xva8ULWIcacnG8rBoe3MdX3TrgeuUs65pOGzrxLtgbKqSburIe3h3J+uEWUFwEJl15DCeo0BrkQZuEU6obcqrimk6TVKVTsbIbxWYnxDALbBWYpwZ3iSm4Z4YX7RR9svGhsMxhpoQze17LYHGSWnkCzZtnA1kvirhXwpl0mOjmZc0MQ/qxRwO8DVYwpJQqwQd1WyylXNjzllRdg8w8PwvD4u//srA+//qDw/kfx5Yr2y+X7LsolfSptA6sjFn7LuRAINxFDW2ojANX1VyWQjMaRmw7YWItLmGfZVz41LuXOgkVbXzqiZiPBjgwfHXgXLR/M9NnVkkrAtSne3FfxSR7rxN0p0iBVN6DqRvUqasCgYKqf2ybYCtckEHFQOODUVzHRS9tJsnDPDg+OtA+bSjfpO3ArzOpg8YHXAOyVVrvPTEiH1SxNdnnORJGTp7X8NlZFNEz9LwVYWc92NACsPJtdiynQVxwsQzZ2q9I4TE8WibVRmmFo8PB/gmfBxe5xC++RavCnXvfhsFrdOD5AZ8HO6/xSFwTOsD5i1i4NH8U0YKeKxJ5d7GURRKcYOkxeftWd6o675T2lt+bgrxNdqEd5wCY9RTX6TEOd0SC5OSMVKGUMz4lI15Gn3LCICHxl8HylD+58ESVJqV8F0EIOqxbc2naW/PRpQ40noEkyrPfCAUAkaQUl0rtDf65JfDwLnrJM1qFFsQBvW1gqaUeEIAj4u/bi1W3f69dwFJQjiTuP/+tA/IMEuhty3E4xbnt0+Y4hO1Q6Zw8MLUYaWZoJfbNoQeoXElJoBVoDB4dXjLYqSvqZeWhX7CdxwJ8MD46wiAB/E/j4GWlFwXbStjms5WdLbkNsxkG03SzdMSbRrvYYMxEoK0zSm8OcsJwNq1EBOhESXOm/oTB3hI/HXE7QfxP48AOAOWMbbtA1J3S1bvNQrjhIqckhPGNn1IcmKvDAHZ5txsQsuMShGhTLsRnryRNTD+OkLMEP7ncffPaCU04qlJI7pyS6bFwhTLw73B+qSQjR6TPCSpa0c/ryrDHJr8++Zjcl6Vb2j0nhTAGYHt468D762DwefyP4+RvAHnJilBTk36spyQ1R5ec4bJEQ/T1L/kDTeIchvdfVT7YH3KrpJByUf4pidSJFJ8sgCPiL8Ol4zxufzP4wDOGS65C05zatJXxsJDbXZlpgTFo+Z9w2oTIQ+o0KyTMzHtc7zOyogLu+h6xLihzHmiADMw/jr29lvyP48TIyW/rdnTpyaNqOuyDjfxn9BQFkakDQm5Fsa6/GbVEt2co7ykSIrn5Invwfkrbhd/HYFBJ+C/mf95jKjd12glXrlQI36PomVk5bTkfHBq8GjTkiUNzl+MNUos36mVGfnUNHjr+Ou4ZtH9sNBa/ueJos/BrFmoo8hFOZCXkU6gFo3DUituo8Gobbi3RGcC4ISx6b13lEzuH3xe/HV0N3AdjdzA/zxG9MosDv3mTisX6oyOxGtpL9GR+BWb+CNTP9IiEQkbq2/RQhd5RBrPhmmZZs17R8k0gLeIv464cVDPz/n8z+OkbV4ZfRzquLfWvLcBW5Zo8ilWaXDsOZv+X/9M3P7RxRatzfuJyriTydby40/+G/2FluH6vz+2pmw7+Ql44elNx188GY5VbDl3YfLX4N8Z6wK7kr4MB7iQXOiLkY/Aj8C/frHLxCWS4dNoJRowoV/qBjmAV+AL8JOTs1WuhJF6kn0QF7CSlpIz8nl4/QrjyTLBFx0xDrtgu1YSV4cX4GNwH87gG097jp5pmeaLjqfUMKHKbNW9Y335y/BROIQlfPtpT9OzK5M9WV7usTvOaysdwF+GR9KC+s+f9kw9o7ILgLPnfXR0sH3jQpT4FrwExxJxvvO0J+tZlAkAm7bDMvr6doTxTEgibsORtBn38N2nPV/PnIzdg0MP3ezMnYaxESWeC0nEbVHiCjy8/7Sn7NmSaWSkRuIhGubJUbycMLIvJBG34ayhEeDe0561Z0gmL9FGwawzeCdg3In2R4xPRYlj+teDpz1xz4pMphPWAOsfJmGskwli1tcNUeJKDLuHT3vungmZAPDKoKZt78fDMTZqG9ZpWdfhrM32GODR056+D7+YhoBBM0dskE/CPbgGHpaSF71B3ho2oJ8v+dKMh/uEuXQX0rH93th+4W1+2/LmHHcgBNYrC5bz64HjedalTDsbsC8YmzVTE+WeuB4UC9Cm6wfKF2vuOf7Uc1jh52swUx/x0wHvqE9594z6mipY7jCkhO4bL4mUAB4eQb2m2rozNTH77TtwHaw4sDZcP1B+DAgsFtzxPHacLXCFwqxHbPNZeeNXA++c8PCEZSFVLbrKdHop9bMpyvCtVhlK/d8H4rT6QDgFN1//eNiA/gbMwMP9yHceE9scvm6zRcvP3zxq7Ij4JNhAqKgX7QSx/DOBNuRZlHZtYq2w0SChXs+l1q+Gwy2uH5hV+YsyEAePvZhukbncC8GygvkXT0Bl6+ogiPGEGl+1YV487Sl/stIrPnVtzPrIWSnxq4XoZvP1R8MG9IsSgYzHoeOYWW6a1n4WCA3Mf2ORolka4wxz4pT2+LqXtn05ZNUxKa7VZdtFlbfYSuZIx4M3XD9QrBT5vwKPYQFveywUlgJKQ2WoDc7gHc434cXnxfhDPJ17cAyn+QDtqfxOnOXPkqw5B8d5CoKW7ZmyK+PB664fIvEEfA1uw0cEs/e8LNQWaygE48wEMlflytnsK1VOdXaSDDQJnnlZ7+jQ1lP2M+vzaD8evOH6rUUXgN+GlwSzuz6lm1tDZSniiisdHGdST3wqcSfaafkzEgHBFcBK8nIW1MIbZXM8uH/9EMkF4DHMkDF7P9YcWKzHGqyhNun6HH26oTjEaZNvj2sx8KzLeV85YpbtppU1Nv14cP/6rcW068tvwokqMb8XpHbINixKpue4XnZLWRuYL5ts8ZVd7yx0bjy4c/1A0avugXDKZ718EKu+pESsX+l4re2vpj3SyybbPdNRF1bR/myKB08DOIcLI6f8QlUgP9KUrPKWTnBiVbnyZUym33rR6rL6XVQ8uK+R+4rIIevl417rrz67cd3D+BI6K4fsSisxu5h4cJ8kYtHmiQhwGLpDKFRC/r5qcDeNBOHZloFmR5dwZvfx4HzvTl+OTASi9fKoh7HuArCLcuUruZIruZIruZIruZIruZIruZIruZIruZIruZIruZIruZIruZIruZIruZIruZIPpZgfh5+AvwYfgQPVK7ZdwydXwy+WfLHmx+B5VYzYvzi/+L6BA/p78IfwL8HzcBuehxsbx/MfGn46rG03TC9NZ+h4nnUp/xl8C4AfgVfgppRe2vZk5cn90ox7DgLfDy/AAcylyMH0rh8hfwjvQoBPSUEMG8fz2xbvAD7eHrw9D+lLIgVwCv9c6r1iY7qFNJ5y6icmvvztmzz23HGtNmSVJED5diVfgP944ID+XVjC/6DuuXk8/9E+94Vkz0mOTt2+Rifn//LTnvEnLEWemm/JbJ7JnC5VGlROYPvPb1E5QuC+T2WknZ+6DcPfGTig/7NkVP2PcCY/G8bzd25xfNa0zOpj3KkQ/k+f9ow/YWmS7jx8CQ7hPnwUXoZbcLPX0JUSP+exYxb4o5oTeAwfgdu9i4tRlQS3IcBn4HX4bbh/7nhm1Nd45yRRlC/gpNduuFQUAZdNWhAE+GM4g0N4BC8JbNelwfecRDR4tuCooAx8y6U5zRcfyMXj2ss+DyV8DP4luA9fPXc8FvZ4eMJ3pF9IDQs4bfesnl2VrkQJ8A1Ywgkcw5Ga0zhZMT3VFZx5jgts4G3fzOmJwnh/FGH4DQBeVHzR39w8Hgsly4IHjgN5pGpZz68rjOdXAGf5tujBiTRYz3Oa84+XNWeGssDCe76xhs7gBhzIWjpUVvJFv7l5PAXscXzCQ9gTs8IrmDXGl03WPtN/TguzuOKlVhwGCmpDZVkECouBu76Z0wVNN/ChsoEveu14LMw4hWN4DHPZa7PNVcmKslNu+mdDNi1ad8DL2WkhBm0SCyVVxdJSgA0Yw/uhdXaK2jNUNvNFrxiPad5zWnGk3C+0+9DWF97U68Mo5+xK35U5ytOqKwPE3UYAAAmESURBVIFcTWUoTVJi47kXWnozTmM280V3x0OzayyqpMczZTMHpcq76zzwzMj5Zsf7qrV6o5GxRafBGSqT6u2tBc+D0NKbobINX/SK8VgoqQ2LwKnYzEW7TemUhtXPrmxlV94TL0ECTCtxoDYUhspihUbjUWjmdIRswxfdHY/UFi4rztS5SLcp3Uk32mdOtj04POg3ZYjnJXCG2lCANRiL8QCPw/gJ3ZIvOo1H0w1EswDOlBJrrp8rgDfJQ12BqQg6vMMZarAGS0OrcBjGV2xuyRfdGo+FgmCpfNqeyzbzJpeygnTY0b/FzywAO09BWqszwFGOhs/oGL7oNntX5akUwB0lvmwy+Iv/wgXHX3/BXPE/71IGO+8uOv56xf+8WxkM8Jtz6lOA1+GjcBuuq/BR0UZ6xPxf8T/vVgYzR4ULjr/+TfXQXfE/T5fh8ZULjr/O4CZ8VGiI9+AAHkbe2IpFRW0ud4B3oAwH+ILjr3E9vg2viicyHpYew1E8DQeWFVVFuJzUdQNlFMAXGX+94n/erYxqEH2R8dcr/ufdyqgch4uMv17xP+9WxrZ4v8j46xX/8w5lQov3C4u/XvE/71DGTtGFxV+v+J93KxM0+CLjr1f8z7uSUXvwxcdfr/ifdyUTGkRfWPz1iv95hzJ2ieZi469X/M9PT378Ym9/CTNbL1SGmyk/AS9c4ID2r0ynncrwyfxr8O9cYBFI7KNzJbuS4QB/BH4E/vWLUrRCMimvZCcyHKUDeAW+AD95IccUKxHDEYVrV9KX4QCXcBM+Dp+H1y8K4/KyFgPuXIYfk6J+vaAKeL+xywHpA1JuT3wlo2WUJ6tfwPvtXY5pXXviKxkhowBeV8C7O1nZnvhKRsjYjI51Bbw7ks3tia9kexnrqtxQwLsL2dye+Eq2lwkZHRsKeKfJue2Jr2R7mRAP3lzAuwvZ3J74SraRSSk75xTwTpALa0986WRCys42BbyT5WLaE18iGbsHDyvgHSMX2Z74EolhKGH0lwcSOg8sEC5/nvqLbE9Ibf5Dwk9zRRi9TkqGEkb/4UBC54Ey+xLuHgG2JKS2v42LinxFGL1KChhIGH08kND5Pxk2oJsL/GPcHVqkausJqff/n9T35c1XhNE9Ect0e8Los4GEzv/FsAHdAlcRAv6+MJ5tJKS+9Z9xdizaeUUY3RN19AhCCFkrPa4EswxbLEWq4Qx+W/6+4fr/37AB3YYQ8AHAPxY9ruWGlXp0avDc+n/jPZVTRXBu1U8GeOAD96xLrzbgbpuJcNnTnlegFIAr+KoCYOX1/82wAd0CoPJpEw3H7UqYzo/juf+KAGeVKpAKG2H+/zztKX+ysqr4416viKxSLz4NRlby+MdvqhnsX/8Phg3oVowPBoIBQzCE03bBk1NK7Lj19wmwcFIPrjHOPxldB//V057yJytrqnseSvimrzSfg6B23DjRb67Xs388bEC3gXizQLCYqMdnPbTyHvwP0kiroFhakLt0YPaDV5RnXdY7OtYRNI8hdB4m0YliamxFWGALMPi7qsi8TUgd/eJXhNErZaMnayVB82BC5zESXd1VhV2mAhljCO+3z05LWOpyZapTrgijO3Keq3IlQfNgQucBoguTaoepMKUosSHca+tlld6SHogFV4TRHdnCF90haB5J6DxMImbGYyLGFmOxFg/hQVsvAQHY1ISI8RVhtMh2wYYOQfNgQudhopU4OEyNKbAV3mKiaf1IYdYuRayWXBFGa9k6mqQJo4cROo+U+CE4jMPUUGAs1uANQHicAGuXK1NVXBFGaxkSLnyoAnWDCZ2HiU7Ich7joMZYECXGEA6b+2cltgGft/8rwujB8eBHTzQeHKHxDoq0VjcAAxCO0pUojH00vq4Io6/kSq7kSq7kSq7kSq7kSq7kSq7kSq7kSq7kSq7kSq7kSq7kSq7kSq7kSq7kL7CYyAp5oLIQN4fG3/15Zl9i/yHzQLlFhebQ9r4/DffgGnjJvdmcy/z2L2B/m/mbHLirdsMrpFzIDO73uvR2piZK/UXcPfyfUh0y96vndEr2xD1JpC9VxcmG8YSfxnlOa87e5Vp91W64KyXg4ZGkhZe94unu1PwYARYL/B3cYxZnFK6Z05XF+IPkGtTwHbguVYxsHo80HA5f5eQdTh5SLK/aDTfS1CZVq4hO+r8f/w2YgcfHsmtLMLhA7VcUWwfpEru9vCrZmB9Ipvo54/mb3YbDwVIFFvVVu+E0JY3Uau70JKJeH/6iXOrwjyXB0UIhueWhBfPQCX1R6iJqONx+PLkxmqIx9YY6pA6lGeDhtRbPtnSzKpcQkorie0ucie+InOCvwQnuWwRLURIW2CWmwjiCAzeycdWZVCwYmG8znvMaDocF1ZKqwobL2CltRdpsJeQqmmKumdDY/PU5eAUewwL/NlhsAQWmxFSYGuNwHj+8yVElqqj5ojeNZ+uGw77CV5euemV1XnScpSCzqfUmZURfg9vwkTSn/r20UNsCYzFFwphiZP3ZSr7oteO5aji8XtYmvmvrJvNENgDvyYS+lObU300p6cZiq1gcSHAjN72VfNFrx3PVcHi9bKpsyItZUAsjgIFSlY/KnIb38QZr8TbVA5qx5Zqb+aJXjOeq4fAaOecbxznNFqxFtr5SlY+eyMLoCffwYAx2WnvQzXzRrfFw1XB4k5z/jV3vrNJaFWMjq7NGb8KDVKxtDGaUc+FcvujWeK4aDm+UrR7pqAldgHP56AHckNpRB57wSC6b5j3azBetUb9qOLxOtl2zmsLavsZEjBeKhi4QHk9CdzBf9FXD4TUyYFNqzanGeB+uSeGo0ptwuIPxbcUXfdVweL0Mszpac6o1Zl92vqqlN2GoJ1rJML7oq4bD66dx4BsuOP5qfuGK/3mXMvjccNHx1yv+593K8IPhBcdf529yGt0jr8NH4TZcF9acov0oXUqjaagMPxj+zYuNv94KV/zPu5ThGjyDm/BRCeXvwQE8hGOqU6oFpm6Rn4y4/bWak3eE53IBJ3AbbsA1WbGnfMAlk7HtZW9fVPzVwh6cPITvCLVkDQthN40YzxXMV7JRJrSXvZj4azzpFEvcAziIPLKKVP66wnh+BfD5Mra97IXFX3M08uQYHsKe4urPMGuMr2SjjAX4IuOvV/zPO5SxvQsvLP56xf+8W5kA8IXFX6/4n3coY1XsguOvV/zPu5KxZuhFxl+v+J93KBMAvpj46xX/825l7CZ5wfHXK/7nXckEDb6w+OsV//MO5f8PhoXNW2OCpCkAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDctMjNUMDY6MDM6NTcrMDA6MDB9w524AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTA3LTIzVDA2OjAzOjU4KzAwOjAw+tZV7QAAAABJRU5ErkJggg==",$57beadcca532d794$export$2e2bcd8739ae039="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAAAAABIXyLAAAAAOElEQVRIx2NgGAWjYBSMglEwEICREYRgFBZBqDCSLA2MGPUIVQETE9iNUAqLR5gIeoQKRgwXjwAAGn4AtaFeYLEAAAAASUVORK5CYII=";class $6e97adbbaeeb8831$export$2e2bcd8739ae039{constructor(e){this.renderer=e.renderer,this.renderToScreen=void 0===e.renderToScreen||e.renderToScreen,this.commonUniforms={},this.renderTargets={rt1:new $ilwiq.WebGLRenderTarget(0,0,{depthBuffer:!1,stencilBuffer:!1,generateMipmaps:!1,minFilter:$ilwiq.LinearFilter,magFilter:$ilwiq.LinearFilter}),rt2:new $ilwiq.WebGLRenderTarget(0,0,{depthBuffer:!1,stencilBuffer:!1,generateMipmaps:!1,minFilter:$ilwiq.LinearFilter,magFilter:$ilwiq.LinearFilter})},this.inputTextures={areaTex:{value:null},searchTex:{value:null},envMap:{value:null}};let t=new $ilwiq.TextureLoader;t.load($7653468f680ce5f5$export$2e2bcd8739ae039,(e=>{e.minFilter=$ilwiq.LinearFilter,e.generateMipmaps=!1,e.format=$ilwiq.RGBAFormat,e.flipY=!1,this.inputTextures.areaTex.value=e})),t.load($57beadcca532d794$export$2e2bcd8739ae039,(e=>{e.minFilter=$ilwiq.NearestFilter,e.magFilter=$ilwiq.NearestFilter,e.generateMipmaps=!1,e.flipY=!1,this.inputTextures.searchTex.value=e}));let r={"mad(a, b, c)":"(a * b + c)",SMAA_THRESHOLD:"0.1",SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",SMAA_MAX_SEARCH_STEPS:"8",SMAA_AREATEX_MAX_DISTANCE:"16",SMAA_SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SMAA_AREATEX_PIXEL_SIZE:"( 1.0 / vec2( 160.0, 560.0 ) )",SMAA_AREATEX_SUBTEX_SIZE:"( 1.0 / 7.0 )","SMAA_SEARCHTEX_SELECT(sample)":"sample.g","SMAA_AREATEX_SELECT(sample)":"sample.rg"};this.smaaCommonUni=$1445f6cd2b182f48$export$6643083551874bf5.mergeUniforms({SMAA_RT_METRICS:{value:new $ilwiq.Vector4}},this.commonUniforms),this.smaaEdgePP=new $73a83cd027637425$export$6eafee11db0bd883(this.renderer,{vertexShader:$f0ca0e84c718dae9$export$2e2bcd8739ae039,fragmentShader:$dcb54a1e1ff953e5$export$2e2bcd8739ae039,uniforms:$1445f6cd2b182f48$export$6643083551874bf5.mergeUniforms({},this.smaaCommonUni),defines:r}),this.smaaCalcWeighttPP=new $73a83cd027637425$export$6eafee11db0bd883(this.renderer,{vertexShader:$0ac8c667ab5737ab$export$2e2bcd8739ae039,fragmentShader:$d2d92259671166c7$export$2e2bcd8739ae039,uniforms:$1445f6cd2b182f48$export$6643083551874bf5.mergeUniforms({areaTex:this.inputTextures.areaTex,searchTex:this.inputTextures.searchTex},this.smaaCommonUni),defines:r}),this.smaaBlendingPP=new $73a83cd027637425$export$6eafee11db0bd883(this.renderer,{vertexShader:$4f9e3a88c78cd13e$export$2e2bcd8739ae039,fragmentShader:$7688ce240b3bbc3d$export$2e2bcd8739ae039,uniforms:$1445f6cd2b182f48$export$6643083551874bf5.mergeUniforms({},this.smaaCommonUni),defines:r})}render(e,t){this.renderToScreen||t||console.log("%c dreamfield: No output renderer specified","padding: 5px 10px ;background-color: #eb285f; color: white;font-size:11px"),this.smaaEdgePP.render({sceneTex:e.texture},this.renderTargets.rt1),this.smaaCalcWeighttPP.render({backbuffer:this.renderTargets.rt1.texture},this.renderTargets.rt2),this.smaaBlendingPP.render({sceneTex:e.texture,backbuffer:this.renderTargets.rt2.texture},this.renderToScreen?null:t)}resize(e){this.smaaCommonUni.SMAA_RT_METRICS.value.set(1/e.x,1/e.y,e.x,e.y),this.renderTargets.rt1.setSize(e.x,e.y),this.renderTargets.rt2.setSize(e.x,e.y)}}var $ilwiq=parcelRequire("ilwiq"),$fb44001dfc502d98$export$2e2bcd8739ae039={isLightSource:Symbol(),hasLightSource:Symbol(),isShadingObject:Symbol(),originalVisible:Symbol(),originalMaterial:Symbol(),darkMaterial:new(0,$ilwiq.MeshBasicMaterial)({color:0})},$ilwiq=parcelRequire("ilwiq");class $78d1f74a6f4fb1d3$export$2e2bcd8739ae039{constructor(e){this.renderer=e}get quad(){return $78d1f74a6f4fb1d3$export$2e2bcd8739ae039.quad}}const $78d1f74a6f4fb1d3$var$ocamera=new(0,$ilwiq.OrthographicCamera)(-1,1,1,-1,0,1),$78d1f74a6f4fb1d3$var$geo=new(0,$ilwiq.BufferGeometry);$78d1f74a6f4fb1d3$var$geo.setAttribute("position",new(0,$ilwiq.Float32BufferAttribute)([-1,3,0,-1,-1,0,3,-1,0],3)),$78d1f74a6f4fb1d3$var$geo.setAttribute("uv",new(0,$ilwiq.Float32BufferAttribute)([0,2,0,0,2,0],2)),$78d1f74a6f4fb1d3$export$2e2bcd8739ae039.quad=new class{constructor(e){this._mesh=new(0,$ilwiq.Mesh)($78d1f74a6f4fb1d3$var$geo,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,$78d1f74a6f4fb1d3$var$ocamera)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}};var $ilwiq=parcelRequire("ilwiq");class $ffce460c26a55d20$export$2e2bcd8739ae039 extends $78d1f74a6f4fb1d3$export$2e2bcd8739ae039{constructor(e,t,r,n){super(e),this.i8=new(0,$ilwiq.RawShaderMaterial)({vertexShader:"\n            uniform mat4 projectionMatrix;\n            uniform mat4 modelViewMatrix;\n            attribute vec3 position;\n            attribute vec2 uv;\n            varying vec2 vUv;\n            void main(){vUv=uv;\n                vec4 A;\n                A.w=1.;\n                A.xyz=position;\n                gl_Position=((projectionMatrix*modelViewMatrix)*A);\n            }\n            ",fragmentShader:"\n            precision highp float;\n            uniform float elapsedTime;\n            uniform sampler2D texture0;\n            uniform sampler2D texture1;\n            uniform float noi;\n            uniform float noise;\n            uniform vec2 resolution;\n            uniform sampler2D texture2;\n            uniform sampler2D texture3;\n            uniform vec2 size;\n            varying vec2 vUv;\n            void main(){lowp vec2 L;\n                vec2 B;\n                B=(1./(resolution));\n                lowp float C;\n                C=dot(texture2D(texture0,(vUv-B)).xyz,vec3(.299,.587,.114));\n                lowp float E;\n                E=dot(texture2D(texture0,(vUv+(vec2(1.,-1.)*B))).xyz,vec3(.299,.587,.114));\n                lowp float M;\n                M=dot(texture2D(texture0,(vUv+(vec2(-1.,1.)*B))).xyz,vec3(.299,.587,.114));\n                lowp float K;\n                K=dot(texture2D(texture0,(vUv+B)).xyz,vec3(.299,.587,.114));\n                lowp float N;\n                N=dot(texture2D(texture0,vUv).xyz,vec3(.299,.587,.114));\n                lowp vec2 O;\n                O.x=((M+K)-(C+E));\n                O.y=((C+M)-(E+K));\n                L=(min(vec2(8.,8.),max(vec2(-8.,-8.),(O*(1./((min(abs(O.x),abs(O.y))+max((((C+E)+(M+K))*.03125),.0078125)))))))*B);\n                lowp vec3 P;\n                P=(.5*(texture2D(texture0,(vUv+(L*-.1666667))).xyz+texture2D(texture0,(vUv+(L*.1666667))).xyz));\n                lowp vec3 Q;\n                Q=((P*.5)+(.25*(texture2D(texture0,(vUv+(L*-.5))).xyz+texture2D(texture0,(vUv+(L*.5))).xyz)));\n                lowp float R;\n                R=dot(Q,vec3(.299,.587,.114));\n                lowp vec4 S;\n                S.w=1.;\n                S.xyz=Q;\n                lowp vec4 T;\n                T.w=1.;\n                T.xyz=P;\n                lowp vec4 U;\n                U=mix(S,T,(max(sign((R-min(min(N,C),min(min(E,M),K)))),0.)*max(sign((R-max(max(N,C),max(max(E,M),K)))),0.)));\n                lowp vec4 V;\n                V=texture2D(texture1,vUv);\n                lowp vec4 W;\n                W=texture2D(texture2,vUv);\n                gl_FragColor=U;\n                gl_FragColor.xyz=min((gl_FragColor.xyz+V.xyz),vec3(1.,1.,1.));\n                gl_FragColor.xyz=min((gl_FragColor.xyz+W.xyz),vec3(1.,1.,1.));\n                float X;\n                X=(resolution.x/resolution.y);\n                float Y;\n                Y=(size.x/size.y);\n                vec2 Z;\n                if((X<Y)){vec2 a;\n                    a.x=((size.x*resolution.y)/size.y);\n                    a.y=resolution.y;\n                    Z=a;\n                }else{vec2 b;\n                    b.x=resolution.x;\n                    b.y=((size.y*resolution.x)/size.x);\n                    Z=b;\n                };\n                vec2 c;\n                if((X<Y)){vec2 d;\n                    d.y=0.;\n                    d.x=((Z.x-resolution.x)/2.);\n                    c=d;\n                }else{vec2 e;\n                    e.x=0.;\n                    e.y=((Z.y-resolution.y)/2.);\n                    c=e;\n                };\n                lowp vec3 f;\n                f=((texture2D(texture3,(((vUv*resolution)/Z)+(c/Z))).xyz*V.xyz)*.8);\n                gl_FragColor.xyz=min((gl_FragColor.xyz+f),vec3(1.,1.,1.));\n                highp float g;\n                g=fract((sin((float(mod(dot((vUv+((float(mod(elapsedTime,300.)))*noi)),vec2(12.9898,78.233)),3.141593))))*43758.55));\n                gl_FragColor.xyz=(gl_FragColor.xyz+(g*noise));\n            }\n            ",uniforms:{elapsedTime:{value:0},texture0:{value:null},texture1:{value:null},noi:{value:1},noise:{value:.05},resolution:{value:new(0,$ilwiq.Vector2)(t,r)},texture2:{value:null},texture3:{value:n},size:{value:new(0,$ilwiq.Vector2)}}}),this.i8.uniforms.size.value.set(n.image.width,n.image.height)}render(e,t,r){this.i8.uniforms.texture0.value=e,this.i8.uniforms.texture1.value=t,this.i8.uniforms.texture2.value=r,this.quad.material=this.i8,this.quad.render(this.renderer)}}var $ilwiq=parcelRequire("ilwiq");class $70b1be387e93016a$export$2e2bcd8739ae039 extends $78d1f74a6f4fb1d3$export$2e2bcd8739ae039{constructor(e,t,r,n,i){super(e),this.scene=t,this.n7=r,this.d8=new(0,$ilwiq.Vector3),this.ck6=new(0,$ilwiq.RawShaderMaterial)({vertexShader:"\n            uniform mat4 projectionMatrix;\n            uniform mat4 modelViewMatrix;\n            attribute vec3 position;\n            attribute vec2 uv;\n            varying vec2 vUv;\n            void main(){\n                vUv=uv;\n                vec4 A;\n                A.w=1.;\n                A.xyz=position;\n                gl_Position=((projectionMatrix*modelViewMatrix)*A);\n            }\n            ",fragmentShader:"\n            precision highp float;\n            uniform sampler2D inputTexture;\n            uniform vec2 resolution;\n            uniform vec2 vecMask;\n            varying vec2 vUv;\n            void main(){\n                lowp vec4 D;\n                vec2 B;\n                B=(vec2(1.411765,1.411765)*vecMask);\n                vec2 C;\n                C=(vec2(3.294118,3.294118)*vecMask);\n                vec2 E;\n                E=(vec2(5.176471,5.176471)*vecMask);\n                D=(texture2D(inputTexture,vUv)*.1964826);\n                D=(D+(texture2D(inputTexture,(vUv+(B/resolution)))*.296907));\n                D=(D+(texture2D(inputTexture,(vUv-(B/resolution)))*.296907));\n                D=(D+(texture2D(inputTexture,(vUv+(C/resolution)))*.0944704));\n                D=(D+(texture2D(inputTexture,(vUv-(C/resolution)))*.0944704));\n                D=(D+(texture2D(inputTexture,(vUv+(E/resolution)))*.01038136));\n                D=(D+(texture2D(inputTexture,(vUv-(E/resolution)))*.01038136));\n                gl_FragColor=D;\n            }\n            ",uniforms:{inputTexture:{value:null},resolution:{value:new(0,$ilwiq.Vector2)(n,i)},vecMask:{value:new(0,$ilwiq.Vector2)}}}),this.mo0=new(0,$ilwiq.RawShaderMaterial)({vertexShader:"\n            uniform mat4 projectionMatrix;\n            uniform mat4 modelViewMatrix;\n            attribute vec3 position;\n            attribute vec2 uv;\n            varying vec2 vUv;\n            void main(){vUv=uv;\n                vec4 A;\n                A.w=1.;\n                A.xyz=position;\n                gl_Position=((projectionMatrix*modelViewMatrix)*A);\n            }\n            ",fragmentShader:"\n            precision highp float;\n            uniform sampler2D inputTexture;\n            uniform vec2 uvOffset;\n            uniform float exposureIntensity;\n            uniform float exposureRadius;\n            uniform float fade;\n            uniform float sample;\n            uniform float maxVal;\n            varying vec2 vUv;\n            void main(){\n                lowp vec4 F;\n                float G;\n                vec2 H;\n                vec2 I;\n                I=((vUv-uvOffset)*(.05*exposureRadius));\n                H=vUv;\n                G=1.;\n                F=vec4(0.,0.,0.,0.);\n                for(int J=0;J<20;J++){\n                    H=(H-I);\n                    F=(F+(texture2D(inputTexture,H)*(G*sample)));\n                    G=(G*fade);\n                };\n                F=(F*exposureIntensity);\n                lowp vec4 K;\n                K=clamp(F,0.,maxVal);\n                F=K;\n                gl_FragColor=K;\n            }\n            ",uniforms:{inputTexture:{value:null},uvOffset:{value:new(0,$ilwiq.Vector2)(.5,.5)},exposureIntensity:{value:.6},exposureRadius:{value:.66},fade:{value:.93},sample:{value:.21},maxVal:{value:1}}}),this.pa=new(0,$ilwiq.WebGLRenderTarget)(n,i,{generateMipmaps:!1}),this.pb7=new(0,$ilwiq.WebGLRenderTarget)(n,i,{generateMipmaps:!1})}setSize(e,t){this.pa.setSize(e,t),this.pb7.setSize(e,t)}render(e=this.pb7){if(!this._lightSource)return null;if(this.scene.traverse((e=>{e.userData[$fb44001dfc502d98$export$2e2bcd8739ae039.hasLightSource]||(e.isPoints?(e.userData[$fb44001dfc502d98$export$2e2bcd8739ae039.originalVisible]=e.visible,e.visible=!1):e.isMesh&&(e.userData[$fb44001dfc502d98$export$2e2bcd8739ae039.isShadingObject]?(e.userData[$fb44001dfc502d98$export$2e2bcd8739ae039.originalMaterial]=e.material,e.material=$fb44001dfc502d98$export$2e2bcd8739ae039.darkMaterial):(e.userData[$fb44001dfc502d98$export$2e2bcd8739ae039.originalVisible]=e.visible,e.visible=!1)))})),this.renderer.setRenderTarget(this.pa),this.renderer.clear(!0,!0,!1),this.renderer.render(this.scene,this.n7),this.scene.traverse((e=>{e.userData[$fb44001dfc502d98$export$2e2bcd8739ae039.hasLightSource]||(e.isPoints?e.visible=e.userData[$fb44001dfc502d98$export$2e2bcd8739ae039.originalVisible]:e.isMesh&&(e.userData[$fb44001dfc502d98$export$2e2bcd8739ae039.isShadingObject]?e.material=e.userData[$fb44001dfc502d98$export$2e2bcd8739ae039.originalMaterial]:e.visible=e.userData[$fb44001dfc502d98$export$2e2bcd8739ae039.originalVisible]))})),this.quad.material=this.ck6,this.ck6.uniforms.inputTexture.value=this.pa.texture,this.ck6.uniforms.vecMask.value.set(1,0),this.renderer.setRenderTarget(this.pb7),this.quad.render(this.renderer),this.ck6.uniforms.inputTexture.value=this.pb7.texture,this.ck6.uniforms.vecMask.value.set(0,1),this.renderer.setRenderTarget(this.pa),this.quad.render(this.renderer),this.quad.material=this.mo0,this._lightSource){this._lightSource.getWorldPosition(this.d8),this.d8.project(this.n7);const e=(this.d8.x+1)/2,t=(this.d8.y+1)/2;this.mo0.uniforms.uvOffset.value.set(e,t)}return this.mo0.uniforms.inputTexture.value=this.pa.texture,this.renderer.setRenderTarget(e),this.quad.render(this.renderer),e.texture}set lightSource(e){this._lightSource&&delete this._lightSource.userData[$fb44001dfc502d98$export$2e2bcd8739ae039.hasLightSource],e.userData[$fb44001dfc502d98$export$2e2bcd8739ae039.hasLightSource]=!0,this._lightSource=e}}var $ilwiq=parcelRequire("ilwiq");class $f23b4bbf0e1eaac8$export$2e2bcd8739ae039 extends $78d1f74a6f4fb1d3$export$2e2bcd8739ae039{constructor(e,t,r){super(e),this.oa=new(0,$ilwiq.WebGLMultipleRenderTargets)(t,r,2),this.oa.texture[0].generateMipmaps=!1,this.oa.texture[1].generateMipmaps=!1,this.la8=new(0,$ilwiq.WebGLMultipleRenderTargets)(t,r,2),this.la8.texture[0].generateMipmaps=!1,this.la8.texture[1].generateMipmaps=!1,this.ki7=new(0,$ilwiq.RawShaderMaterial)({vertexShader:"#version 300 es\n                uniform mat4 projectionMatrix;\n                uniform mat4 modelViewMatrix;\n                in vec3 position;\n                in vec2 uv;\n                out vec2 vUv;\n                void main(){vUv=uv;\n                    vec4 A;\n                    A.w=1.;\n                    A.xyz=position;\n                    gl_Position=((projectionMatrix*modelViewMatrix)*A);\n                }\n                ",fragmentShader:"#version 300 es\n                    precision highp float;\n                    uniform sampler2D inputTexture;\n                    uniform sampler2D depthTexture;\n                    uniform float near;\n                    uniform float far;\n                    uniform float focus;\n                    uniform float weaken;\n                    in vec2 vUv;\n                    layout(location=0)out lowp vec4 As;\n                    layout(location=1)out lowp vec4 At;\n                    void main(){lowp float A;\n                        A=(((near*far)/(((far-near)*texture(depthTexture,vUv).x)-far))-focus);\n                        lowp float B;\n                        lowp float C;\n                        C=clamp((abs(A)/weaken),0.,1.);\n                        B=(C*(C*(3.-(2.*C))));\n                        lowp float E;\n                        E=(float((0.>=A))*B);\n                        lowp vec4 M;\n                        M=texture(inputTexture,vUv);\n                        lowp vec4 K;\n                        K.xyz=M.xyz;\n                        K.w=(float((A>=0.))*B);\n                        As=K;\n                        lowp vec4 N;\n                        N.xyz=(M.xyz*E);\n                        N.w=E;\n                        At=N;\n                    }\n                 ",uniforms:{inputTexture:{value:null},depthTexture:{value:null},near:{value:0},far:{value:0},focus:{value:-2.7},weaken:{value:2.6}}}),this.cu7=new(0,$ilwiq.RawShaderMaterial)({vertexShader:"#version 300 es\n            uniform mat4 projectionMatrix;\n            uniform mat4 modelViewMatrix;\n            in vec3 position;\n            in vec2 uv;\n            out vec2 vUv;\n            void main(){vUv=uv;\n                vec4 A;\n                A.w=1.;\n                A.xyz=position;\n                gl_Position=((projectionMatrix*modelViewMatrix)*A);\n            }\n            ",fragmentShader:"#version 300 es\n            precision highp float;\n            uniform sampler2D texture0;\n            uniform sampler2D texture1;\n            uniform float offset;\n            uniform float weaken;\n            uniform float offsetStrength;\n            in vec2 vUv;\n            layout(location=0)out lowp vec4 As;\n            layout(location=1)out lowp vec4 At;\n            void main(){lowp vec4 Au;\n                lowp float Av;\n                lowp float Aw;\n                lowp vec4 M;\n                M=texture(texture0,vUv);\n                Aw=M.w;\n                Av=0.;\n                Au=M;\n                for(highp int Ax=-3;\n                    Ax<=3;\n                Ax++){highp int Ay;\n                    Ay=-3;\n                    while(true){if((Ay>3)){break;\n                        };\n                        vec2 N;\n                        N.x=float(Ax);\n                        N.y=float(Ay);\n                        float O;\n                        O=sqrt(dot(N,N));\n                        if((O>3.)){Ay++;\n                            continue;\n                        };\n                        vec2 P;\n                        P.x=float(Ax);\n                        P.y=float(Ay);\n                        lowp vec4 Q;\n                        Q=texture(texture0,(vUv+((P*offsetStrength)*Aw)));\n                        lowp float R;\n                        R=dot(Q.xyz,vec3(.3,.59,.11));\n                        if((R>Av)){Av=R;\n                            Au=Q;\n                        };\n                        Ay++;\n                    };\n                };\n                lowp float S;\n                S=clamp(((Av-offset)/(weaken-offset)),0.,1.);\n                As=mix(M,Au,(S*(S*(3.-(2.*S)))));\n                lowp vec4 Az;\n                lowp float BA;\n                lowp float BB;\n                lowp vec4 X;\n                X=texture(texture1,vUv);\n                BB=X.w;\n                BA=0.;\n                Az=X;\n                for(highp int BC=-3;\n                    BC<=3;\n                BC++){highp int BD;\n                    BD=-3;\n                    while(true){if((BD>3)){break;\n                        };\n                        vec2 Z;\n                        Z.x=float(BC);\n                        Z.y=float(BD);\n                        float a;\n                        a=sqrt(dot(Z,Z));\n                        if((a>3.)){BD++;\n                            continue;\n                        };\n                        vec2 b;\n                        b.x=float(BC);\n                        b.y=float(BD);\n                        lowp vec4 c;\n                        c=texture(texture1,(vUv+((b*offsetStrength)*BB)));\n                        lowp float d;\n                        d=dot(c.xyz,vec3(.3,.59,.11));\n                        if((d>BA)){BA=d;\n                            Az=c;\n                        };\n                        BD++;\n                    };\n                };\n                lowp float e;\n                e=clamp(((BA-offset)/(weaken-offset)),0.,1.);\n                At=mix(X,Az,(e*(e*(3.-(2.*e)))));\n            }\n            ",uniforms:{texture0:{value:null},texture1:{value:null},offset:{value:.16},weaken:{value:.35},offsetStrength:{value:.003}}}),this.do0=new(0,$ilwiq.RawShaderMaterial)({vertexShader:"#version 300 es\n            uniform mat4 projectionMatrix;\n            uniform mat4 modelViewMatrix;\n            in vec3 position;\n            in vec2 uv;\n            out vec2 vUv;\n            void main(){vUv=uv;\n                vec4 A;\n                A.w=1.;\n                A.xyz=position;\n                gl_Position=((projectionMatrix*modelViewMatrix)*A);\n            }\n            ",fragmentShader:"#version 300 es\n            precision highp float;\n            uniform sampler2D texture0;\n            uniform sampler2D texture1;\n            uniform vec2 resolution;\n            uniform vec2 vecMask;\n            uniform float strength;\n            in vec2 vUv;\n            layout(location=0)out lowp vec4 As;\n            layout(location=1)out lowp vec4 At;\n            void main(){\n                lowp vec4 BE;\n                vec2 B;\n                B=(1./(resolution));\n                BE=(texture(texture0,vUv)*.099735);\n                vec2 C;\n                vec2 E;\n                E=(vecMask*strength);\n                C=(E*B);\n                BE=(BE+((texture(texture0,(vUv+C))+texture(texture0,(vUv-C)))*.09666648));\n                vec2 M;\n                M=(E*(B*2.));\n                BE=(BE+((texture(texture0,(vUv+M))+texture(texture0,(vUv-M)))*.08801582));\n                vec2 K;\n                K=(E*(B*3.));\n                BE=(BE+((texture(texture0,(vUv+K))+texture(texture0,(vUv-K)))*.07528393));\n                As=(BE/.6196675);\n                lowp vec4 BF;\n                lowp float BG;\n                BF=(texture(texture1,vUv)*.099735);\n                vec2 P;\n                P=(E*B);\n                lowp vec4 Q;\n                Q=texture(texture1,(vUv+P));\n                lowp vec4 R;\n                R=texture(texture1,(vUv-P));\n                lowp float S;\n                S=(.09666648*(Q.w*R.w));\n                BF=(BF+((Q+R)*S));\n                BG=(.099735+(2.*S));\n                vec2 T;\n                T=(E*(B*2.));\n                lowp vec4 U;\n                U=texture(texture1,(vUv+T));\n                lowp vec4 V;\n                V=texture(texture1,(vUv-T));\n                lowp float W;\n                W=(.08801582*(U.w*V.w));\n                BF=(BF+((U+V)*W));\n                BG=(BG+(2.*W));\n                vec2 X;\n                X=(E*(B*3.));\n                lowp vec4 Y;\n                Y=texture(texture1,(vUv+X));\n                lowp vec4 Z;\n                Z=texture(texture1,(vUv-X));\n                lowp float a;\n                a=(.07528393*(Y.w*Z.w));\n                BF=(BF+((Y+Z)*a));\n                BG=(BG+(2.*a));\n                At=(BF/BG);\n            }\n            ",uniforms:{texture0:{value:null},texture1:{value:null},resolution:{value:new(0,$ilwiq.Vector2)(t,r)},vecMask:{value:new(0,$ilwiq.Vector2)},strength:{value:1}}}),this.s8=new(0,$ilwiq.RawShaderMaterial)({vertexShader:"#version 300 es\n            uniform mat4 projectionMatrix;\n            uniform mat4 modelViewMatrix;\n            in vec3 position;\n            in vec2 uv;\n            out vec2 vUv;\n            void main(){vUv=uv;\n                vec4 A;\n                A.w=1.;\n                A.xyz=position;\n                gl_Position=((projectionMatrix*modelViewMatrix)*A);\n            }\n            ",fragmentShader:"#version 300 es\n            precision highp float;\n            uniform sampler2D texturew;\n            uniform sampler2D texture0;\n            uniform sampler2D texture1;\n            in vec2 vUv;\n            out lowp vec4 BH;\n            void main(){\n                lowp vec4 A;\n                A=texture(texturew,vUv);\n                lowp vec4 B;\n                B=texture(texture0,vUv);\n                lowp vec4 C;\n                C=texture(texture1,vUv);\n                BH.w=A.w;\n                BH.xyz=mix(A.xyz,C.xyz,C.w);\n                BH.xyz=mix(BH.xyz,B.xyz,B.w);\n            }\n            ",uniforms:{resolution:{value:new(0,$ilwiq.Vector2)},texturew:{value:null},texture0:{value:null},texture1:{value:null}}})}setSize(e,t){this.oa.setSize(e,t),this.la8.setSize(e,t)}render(e,t,r=null){this.quad.material=this.ki7,this.ki7.uniforms.inputTexture.value=e,this.ki7.uniforms.depthTexture.value=t,this.renderer.setRenderTarget(this.la8),this.quad.render(this.renderer),this.quad.material=this.cu7,this.cu7.uniforms.texture0.value=this.la8.texture[0],this.cu7.uniforms.texture1.value=this.la8.texture[1],this.renderer.setRenderTarget(this.oa),this.quad.render(this.renderer),this.quad.material=this.do0,this.do0.uniforms.texture0.value=this.oa.texture[0],this.do0.uniforms.texture1.value=this.oa.texture[1],this.do0.uniforms.vecMask.value.set(1,0),this.renderer.setRenderTarget(this.la8),this.quad.render(this.renderer),this.do0.uniforms.texture0.value=this.la8.texture[0],this.do0.uniforms.texture1.value=this.la8.texture[1],this.do0.uniforms.vecMask.value.set(0,1),this.renderer.setRenderTarget(this.oa),this.quad.render(this.renderer),this.quad.material=this.s8,this.s8.uniforms.texturew.value=e,this.s8.uniforms.texture0.value=this.oa.texture[0],this.s8.uniforms.texture1.value=this.oa.texture[1],this.renderer.setRenderTarget(r),this.quad.render(this.renderer)}}class $a525edbe2fa7e694$export$2e2bcd8739ae039 extends $78d1f74a6f4fb1d3$export$2e2bcd8739ae039{constructor(e,t,r){super(e),this.oz=t,this.g9=r}render(e=null){this.renderer.setRenderTarget(e),this.renderer.render(this.oz,this.g9)}}var $ilwiq=parcelRequire("ilwiq");class $0fbb78e194f0e9a6$export$2e2bcd8739ae039 extends $ilwiq.Mesh{constructor(e){if($0fbb78e194f0e9a6$export$2e2bcd8739ae039.geometry||($0fbb78e194f0e9a6$export$2e2bcd8739ae039.geometry=new(0,$ilwiq.PlaneGeometry)(2,2)),!$0fbb78e194f0e9a6$export$2e2bcd8739ae039.apl){let t,r;e?(t="#version 300 es\n                in vec3 position;\n                in vec2 uv;\n                out vec2 vUv;\n                void main(){vUv=uv;\n                    highp vec4 A;\n                    A.w=1.;\n                    A.xyz=position;\n                    gl_Position=A;\n                }\n            ",r="#version 300 es\n                precision highp float;\n                uniform vec2 resolution;\n                uniform float elapsedTime;\n                uniform sampler2D inputTexture;\n                uniform sampler2D depthTexture;\n                uniform float pixelSize;\n                uniform vec2 scale;\n                uniform float weaken;\n                uniform float xStrength;\n                uniform vec2 channelOffset;\n                uniform vec4 maxVal;\n                uniform float noise;\n                uniform float glitch;\n                in vec2 vUv;\n                out lowp vec4 BH;\n                void main(){lowp float CY;\n                    lowp vec4 F;\n                    vec2 CZ;\n                    vec2 Ca;\n                    Ca=vUv;\n                    float M;\n                    float K;\n                    K=fract(((vUv.y*mix(glitch,fract((sin(dot(vUv,vec2(12.9898,78.233)))*43758.55)),noise))+elapsedTime));\n                    M=(pixelSize+((K*K)*10.));\n                    if((M>0.)){float N;\n                        N=((M*scale.x)/resolution.x);\n                        float O;\n                        O=((M*scale.y)/resolution.y);\n                        vec2 P;\n                        P.x=(N*(floor((vUv.x/N))+.5));\n                        P.y=(O*(floor((vUv.y/O))+.5));\n                        Ca=P;\n                    };\n                    Ca.x=clamp(Ca.x,maxVal.w,maxVal.y);\n                    Ca.y=clamp(Ca.y,maxVal.z,maxVal.x);\n                    CZ=Ca;\n                    if((weaken>0.)){float Cb;\n                        highp int R;\n                        R=int((float(mod(gl_FragCoord.x,4.))));\n                        highp int S;\n                        S=(R+(int((float(mod(gl_FragCoord.y,4.))))*4));\n                        Cb=0.;\n                        if((R<8)){if((S==0)){Cb=.0625;\n                            };\n                            if((S==1)){Cb=.5625;\n                            };\n                            if((S==2)){Cb=.1875;\n                            };\n                            if((S==3)){Cb=.6875;\n                            };\n                            if((S==4)){Cb=.8125;\n                            };\n                            if((S==5)){Cb=.3125;\n                            };\n                            if((S==6)){Cb=.9375;\n                            };\n                            if((S==7)){Cb=.4375;\n                            };\n                            if((S==8)){Cb=.25;\n                            };\n                            if((S==9)){Cb=.75;\n                            };\n                            if((S==10)){Cb=.125;\n                            };\n                            if((S==11)){Cb=.625;\n                            };\n                            if((S==12)){Cb=1.;\n                            };\n                            if((S==13)){Cb=.5;\n                            };\n                            if((S==14)){Cb=.875;\n                            };\n                            if((S==15)){Cb=.375;\n                            };\n                        };\n                        float T;\n                        if((weaken<Cb)){T=0.;\n                        }else{T=1.;\n                        };\n                        CZ.x=(Ca.x+(T*xStrength));\n                    };\n                    F=vec4(0.,0.,0.,0.);\n                    CY=0.;\n                    float U;\n                    U=sqrt(dot(channelOffset,channelOffset));\n                    if((U>0.)){vec2 V;\n                        V=((vec2(1.333333,1.333333)*channelOffset)/resolution);\n                        lowp vec4 W;\n                        W=texture(inputTexture,CZ);\n                        lowp vec4 X;\n                        X=texture(inputTexture,(CZ-V));\n                        lowp vec4 Y;\n                        Y=texture(inputTexture,(CZ-(2.*V)));\n                        F.x=W.x;\n                        F.y=X.y;\n                        F.z=Y.z;\n                        F.w=((W.w+X.w)+Y.w);\n                        CY=min(texture(depthTexture,Ca).x,min(texture(depthTexture,(Ca-V)).x,texture(depthTexture,(Ca-(2.*V))).x));\n                    }else{F=texture(inputTexture,Ca);\n                        CY=texture(depthTexture,Ca).x;\n                    };\n                    BH=F;\n                    gl_FragDepth=CY;\n                }\n                "):(t="\n                attribute vec3 position;\n                attribute vec2 uv;\n                varying vec2 vUv;\n                void main(){vUv=uv;\n                    highp vec4 A;\n                    A.w=1.;\n                    A.xyz=position;\n                    gl_Position=A;\n                }\n                ",r="\n                precision highp float;\n                uniform vec2 resolution;\n                uniform float elapsedTime;\n                uniform sampler2D inputTexture;\n                uniform float pixelSize;\n                uniform vec2 scale;\n                uniform float weaken;\n                uniform float xStrength;\n                uniform vec2 channelOffset;\n                uniform vec4 maxVal;\n                uniform float noise;\n                uniform float glitch;\n                varying vec2 vUv;\n                void main(){lowp vec4 D;\n                    vec2 CW;\n                    CW=vUv;\n                    float C;\n                    float E;\n                    E=fract(((vUv.y*mix(glitch,fract((sin(dot(vUv,vec2(12.9898,78.233)))*43758.55)),noise))+elapsedTime));\n                    C=(pixelSize+((E*E)*10.));\n                    if((C>0.)){float M;\n                        M=((C*scale.x)/resolution.x);\n                        float K;\n                        K=((C*scale.y)/resolution.y);\n                        vec2 N;\n                        N.x=(M*(floor((vUv.x/M))+.5));\n                        N.y=(K*(floor((vUv.y/K))+.5));\n                        CW=N;\n                    };\n                    CW.x=clamp(CW.x,maxVal.w,maxVal.y);\n                    CW.y=clamp(CW.y,maxVal.z,maxVal.x);\n                    if((weaken>0.)){float CX;\n                        highp int P;\n                        P=int((float(mod(gl_FragCoord.x,4.))));\n                        highp int Q;\n                        Q=(P+(int((float(mod(gl_FragCoord.y,4.))))*4));\n                        CX=0.;\n                        if((P<8)){if((Q==0)){CX=.0625;\n                            };\n                            if((Q==1)){CX=.5625;\n                            };\n                            if((Q==2)){CX=.1875;\n                            };\n                            if((Q==3)){CX=.6875;\n                            };\n                            if((Q==4)){CX=.8125;\n                            };\n                            if((Q==5)){CX=.3125;\n                            };\n                            if((Q==6)){CX=.9375;\n                            };\n                            if((Q==7)){CX=.4375;\n                            };\n                            if((Q==8)){CX=.25;\n                            };\n                            if((Q==9)){CX=.75;\n                            };\n                            if((Q==10)){CX=.125;\n                            };\n                            if((Q==11)){CX=.625;\n                            };\n                            if((Q==12)){CX=1.;\n                            };\n                            if((Q==13)){CX=.5;\n                            };\n                            if((Q==14)){CX=.875;\n                            };\n                            if((Q==15)){CX=.375;\n                            };\n                        };\n                        float R;\n                        if((weaken<CX)){R=0.;\n                        }else{R=1.;\n                        };\n                        CW.x=(CW.x+(R*xStrength));\n                    };\n                    D=vec4(0.,0.,0.,0.);\n                    float S;\n                    S=sqrt(dot(channelOffset,channelOffset));\n                    if((S>0.)){vec2 T;\n                        T=((vec2(1.333333,1.333333)*channelOffset)/resolution);\n                        lowp vec4 U;\n                        U=texture2D(inputTexture,CW);\n                        lowp vec4 V;\n                        V=texture2D(inputTexture,(CW-T));\n                        lowp vec4 W;\n                        W=texture2D(inputTexture,(CW-(2.*T)));\n                        D.x=U.x;\n                        D.y=V.y;\n                        D.z=W.z;\n                        D.w=((U.w+V.w)+W.w);\n                    }else{D=texture2D(inputTexture,CW);\n                    };\n                    gl_FragColor=D;\n                }\n                "),$0fbb78e194f0e9a6$export$2e2bcd8739ae039.apl=new(0,$ilwiq.RawShaderMaterial)({vertexShader:t,fragmentShader:r,uniforms:{resolution:{value:new(0,$ilwiq.Vector2)},elapsedTime:{value:0},inputTexture:{value:null},depthTexture:{value:null},pixelSize:{value:6},scale:{value:new(0,$ilwiq.Vector2)(1,1)},weaken:{value:.2},xStrength:{value:1},channelOffset:{value:new(0,$ilwiq.Vector2)(2,2)},maxVal:{value:new(0,$ilwiq.Vector4)(1,1,0,0)},noise:{value:.05},glitch:{value:.5}},depthWrite:!0})}super($0fbb78e194f0e9a6$export$2e2bcd8739ae039.geometry,$0fbb78e194f0e9a6$export$2e2bcd8739ae039.k2++?$0fbb78e194f0e9a6$export$2e2bcd8739ae039.apl.clone():$0fbb78e194f0e9a6$export$2e2bcd8739ae039.apl)}}$0fbb78e194f0e9a6$export$2e2bcd8739ae039.k2=0;var $ilwiq=parcelRequire("ilwiq");class $6cc70b0d79866c6f$export$2e2bcd8739ae039 extends $78d1f74a6f4fb1d3$export$2e2bcd8739ae039{constructor(e,t,r){super(e),this.nny=5,this.ao2=[3,5,7,9,11];let n=Math.round(t/2),i=Math.round(r/2);const a={minFilter:$ilwiq.LinearFilter,magFilter:$ilwiq.LinearFilter,generateMipmaps:!1,depthBuffer:!1};this.oo9=new(0,$ilwiq.WebGLRenderTarget)(n,i,a),this.oo9.texture.generateMipmaps=!1,this.n1=new Array(this.nny),this.h=new Array(this.nny),this.m=new Array(this.nny);for(let e=0;e<this.nny;++e)this.n1[e]=new(0,$ilwiq.WebGLRenderTarget)(n,i,a),this.h[e]=new(0,$ilwiq.WebGLRenderTarget)(n,i,a),this.m[e]=new(0,$ilwiq.RawShaderMaterial)({vertexShader:"\n                uniform mat4 projectionMatrix;\n                uniform mat4 modelViewMatrix;\n                attribute vec3 position;\n                attribute vec2 uv;\n                varying vec2 vUv;\n                void main(){vUv=uv;\n                    vec4 A;\n                    A.w=1.;\n                    A.xyz=position;\n                    gl_Position=((projectionMatrix*modelViewMatrix)*A);\n                }\n                ",fragmentShader:"\n                precision highp float;\n                uniform sampler2D inputTexture;\n                uniform vec2 resolution;\n                uniform vec2 vecMask;\n                varying vec2 vUv;\n                void main(){\n                    lowp vec3 Cc;\n                    float Cd;\n                    vec2 Ce;\n                    Ce=(1./(resolution));\n                    Cd=.000599009;\n                    Cc=(texture2D(inputTexture,vUv).xyz*.000599009);\n                    float Cf=float(ua28bdfd7b4c);\n                    for(highp int J=1;\n                        J<ua28bdfd7b4c;\n                    J++){float M;\n                        M=float(J);\n                        float K;\n                        K=((.39894*exp((((-.5*M)*M)/443556.)))/Cf);\n                        vec2 N;\n                        N=((vecMask*Ce)*M);\n                        Cc=(Cc+((texture2D(inputTexture,(vUv+N)).xyz+texture2D(inputTexture,(vUv-N)).xyz)*K));\n                        Cd=(Cd+(2.*K));\n                    };\n                    lowp vec4 O;\n                    O.w=1.;\n                    O.xyz=(Cc/Cd);\n                    gl_FragColor=O;\n                }                \n                ",uniforms:{inputTexture:{value:null},resolution:{value:new(0,$ilwiq.Vector2)(n,i)},vecMask:{value:new(0,$ilwiq.Vector2)}},defines:{ua28bdfd7b4c:this.ao2[e]}}),n=Math.round(n/2),i=Math.round(i/2);this.s8=new(0,$ilwiq.RawShaderMaterial)({vertexShader:"\n            uniform mat4 projectionMatrix;\n            uniform mat4 modelViewMatrix;\n            attribute vec3 position;\n            attribute vec2 uv;\n            varying vec2 vUv;\n            void main(){vUv=uv;\n                vec4 A;\n                A.w=1.;\n                A.xyz=position;\n                gl_Position=((projectionMatrix*modelViewMatrix)*A);\n            }\n            ",fragmentShader:"\n            precision highp float;\n            uniform sampler2D inputTexture;\n            uniform float offset;\n            uniform float weaken;\n            varying vec2 vUv;\n            void main(){lowp vec4 A;\n                A=texture2D(inputTexture,vUv);\n                lowp float B;\n                B=clamp(((dot(A.xyz,vec3(.299,.587,.114))-offset)/((offset+weaken)-offset)),0.,1.);\n                lowp vec4 C;\n                C=(A*(B*(B*(3.-(2.*B)))));\n                gl_FragColor=C;\n            }\n             ",uniforms:{inputTexture:{value:null},offset:{value:.5},weaken:{value:.01}}}),this.ii7=new(0,$ilwiq.RawShaderMaterial)({vertexShader:"\n            uniform mat4 projectionMatrix;\n            uniform mat4 modelViewMatrix;\n            attribute vec3 position;\n            attribute vec2 uv;\n            varying vec2 vUv;\n            void main(){vUv=uv;\n                vec4 A;\n                A.w=1.;\n                A.xyz=position;\n                gl_Position=((projectionMatrix*modelViewMatrix)*A);\n            }\n            ",fragmentShader:"     \n            precision highp float;\n            uniform sampler2D texture0;\n            uniform sampler2D texture1;\n            uniform sampler2D texture2;\n            uniform sampler2D texture3;\n            uniform sampler2D texture4;\n            uniform float strength;\n            uniform float contrast;\n            uniform float table[5];\n            uniform vec3 vecTable[5];\n            varying vec2 vUv;\n            void main(){float Cg;\n                Cg=table[0];\n                vec4 B;\n                B.w=1.;\n                B.xyz=vecTable[0];\n                lowp vec4 C;\n                C=texture2D(texture0,vUv);\n                float Ch;\n                Ch=table[1];\n                vec4 M;\n                M.w=1.;\n                M.xyz=vecTable[1];\n                lowp vec4 K;\n                K=texture2D(texture1,vUv);\n                float Ci;\n                Ci=table[2];\n                vec4 O;\n                O.w=1.;\n                O.xyz=vecTable[2];\n                lowp vec4 P;\n                P=texture2D(texture2,vUv);\n                float Cj;\n                Cj=table[3];\n                vec4 R;\n                R.w=1.;\n                R.xyz=vecTable[3];\n                lowp vec4 S;\n                S=texture2D(texture3,vUv);\n                float Ck;\n                Ck=table[4];\n                vec4 U;\n                U.w=1.;\n                U.xyz=vecTable[4];\n                lowp vec4 V;\n                V=texture2D(texture4,vUv);\n                gl_FragColor=(strength*((((((mix(Cg,(1.2-Cg),contrast)*B)*C)+((mix(Ch,(1.2-Ch),contrast)*M)*K))+((mix(Ci,(1.2-Ci),contrast)*O)*P))+((mix(Cj,(1.2-Cj),contrast)*R)*S))+((mix(Ck,(1.2-Ck),contrast)*U)*V)));\n                highp vec3 W;\n                W=(gl_FragColor.xyz+mix(vec3(.001960784,-.001960784,.001960784),vec3(-.001960784,.001960784,-.001960784),fract((sin((float(mod(dot(gl_FragCoord.xy,vec2(12.9898,78.233)),3.141593))))*43758.55))));\n                gl_FragColor.xyz=W;\n            }\n            ",uniforms:{texture0:{value:this.h[0].texture},texture1:{value:this.h[1].texture},texture2:{value:this.h[2].texture},texture3:{value:this.h[3].texture},texture4:{value:this.h[4].texture},strength:{value:1},table:{value:[1,.8,.6,.4,.2]},contrast:{value:.5},vecTable:{value:[new(0,$ilwiq.Vector3)(1,1,1),new(0,$ilwiq.Vector3)(1,1,1),new(0,$ilwiq.Vector3)(1,1,1),new(0,$ilwiq.Vector3)(1,1,1),new(0,$ilwiq.Vector3)(1,1,1)]}}})}setSize(e,t){let r=Math.round(e/2),n=Math.round(t/2);this.oo9.setSize(r,n);for(let e=0;e<this.nny;++e)this.n1[e].setSize(r,n),this.h[e].setSize(r,n),this.m[e].uniforms.resolution.value.set(r,n),r=Math.round(r/2),n=Math.round(n/2)}render(e,t=null){this.renderer.setRenderTarget(this.oo9),this.s8.uniforms.inputTexture.value=e,this.quad.material=this.s8,this.quad.render(this.renderer);let r=this.oo9;for(let e=0;e<this.nny;++e){const t=this.m[e];this.quad.material=t,t.uniforms.vecMask.value.set(1,0),t.uniforms.inputTexture.value=r.texture,this.renderer.setRenderTarget(this.n1[e]),this.quad.render(this.renderer),t.uniforms.vecMask.value.set(0,1),t.uniforms.inputTexture.value=this.n1[e].texture,this.renderer.setRenderTarget(this.h[e]),this.quad.render(this.renderer),r=this.h[e]}this.quad.material=this.ii7,this.renderer.setRenderTarget(t),this.quad.render(this.renderer)}get output(){return this.n1[0]}}var $ilwiq=parcelRequire("ilwiq"),$ilwiq=parcelRequire("ilwiq");class $6e4cdf76216f8c5b$export$2e2bcd8739ae039 extends $ilwiq.InstancedMesh{constructor({noiseTexture:e,maskTexture:t}){$6e4cdf76216f8c5b$export$2e2bcd8739ae039.ols||($6e4cdf76216f8c5b$export$2e2bcd8739ae039.ols=new(0,$ilwiq.PlaneGeometry)(1,1)),$6e4cdf76216f8c5b$export$2e2bcd8739ae039.nn7||($6e4cdf76216f8c5b$export$2e2bcd8739ae039.nn7=new(0,$ilwiq.MeshStandardMaterial)({emissive:16380216,color:16380216,emissiveIntensity:0,transparent:!0,depthWrite:!1,opacity:.4}),e.wrapS=e.wrapT=$ilwiq.RepeatWrapping,$6e4cdf76216f8c5b$export$2e2bcd8739ae039.nn7.uniforms={elapsedTime:{value:0},texture0:{value:e},texture1:{value:t}},$6e4cdf76216f8c5b$export$2e2bcd8739ae039.nn7.onBeforeCompile=e=>{Object.assign(e.uniforms,$6e4cdf76216f8c5b$export$2e2bcd8739ae039.nn7.uniforms),e.defines=e.defines||{},e.defines.USE_UV=!0,e.vertexShader=e.vertexShader.replace("void main() {","\n          attribute float offset;\n\n          varying float ea27a2f64701;\n\n          mat4 faceCamera(mat4 matrix) {\n            mat4 transformed = matrix;\n            transformed[0][0] = 1.0;\n            transformed[0][1] = 0.0;\n            transformed[0][2] = 0.0;\n            transformed[1][0] = 0.0;\n            transformed[1][1] = 1.0;\n            transformed[1][2] = 0.0;\n            transformed[2][0] = 0.0;\n            transformed[2][1] = 0.0;\n            transformed[2][2] = 1.0;\n            return transformed;\n          }\n\n          void main() {\n            ea27a2f64701 = offset;\n          ").replace("#include <project_vertex>","\n          vec4 pos = vec4(transformed, 1.0);\n\n          #ifdef USE_INSTANCING\n            pos = instanceMatrix * pos;\n          #endif\n\n          vec4 worldPos = modelMatrix * pos;\n          vec4 viewPos = faceCamera(viewMatrix) * worldPos;\n\n          vec4 mvPosition = viewPos;\n\n          gl_Position = projectionMatrix * mvPosition;\n          "),e.fragmentShader=e.fragmentShader.replace("void main() {","\n          uniform float elapsedTime;\n          uniform sampler2D texture0;\n          uniform sampler2D texture1;\n\n          varying float ea27a2f64701;\n\n          void main() {\n          ").replace("#include <map_fragment>","\n          float offsetTime = elapsedTime + ea27a2f64701;\n          vec2 uv = vUv + vec2(0.0, offsetTime * 0.1);\n\n          vec2 uv1 = (uv + vec2(0, offsetTime * 0.05)) * 0.6;\n          float noise1 = texture2D(texture0, uv1).r;\n\n          vec2 uv2 = (uv + vec2(0, 0.01 * offsetTime * 0.07)) * 1.0;\n          float noise2 = texture2D(texture0, uv2).r;\n\n          float alpha = noise1 * noise2 * 2.0;\n\n          float mask = texture2D(texture1, vUv).r;\n\n          diffuseColor.a = alpha * mask * opacity;\n          ")});const r=$6e4cdf76216f8c5b$export$2e2bcd8739ae039.ols;super(r,$6e4cdf76216f8c5b$export$2e2bcd8739ae039.byd6++?$6e4cdf76216f8c5b$export$2e2bcd8739ae039.nn7.clone():$6e4cdf76216f8c5b$export$2e2bcd8739ae039.nn7,10),r.setAttribute("offset",new(0,$ilwiq.BufferAttribute)(new Float32Array([.5403538942337036,.2747417390346527,.066726915538311,.894899308681488,.6451240181922913,.3741391897201538,.9849647283554077,.7901292443275452,.9493773579597473,.21765336394309998]),1)),this.instanceMatrix.set(new Float32Array([2.35282826423645,0,0,0,0,2.35282826423645,0,0,0,0,2.35282826423645,0,.48208409547805786,2.2863407135009766,-.7214564085006714,1,1.7359005212783813,0,0,0,0,1.7359005212783813,0,0,0,0,1.7359005212783813,0,-.12064891308546066,1.5696557760238647,.30413880944252014,1,2.5502378940582275,0,0,0,0,2.5502378940582275,0,0,0,0,2.5502378940582275,0,-.04095301404595375,1.0634905099868774,-.3391093909740448,1,1.2931549549102783,0,0,0,0,1.2931549549102783,0,0,0,0,1.2931549549102783,0,-.00698836287483573,2.382979393005371,.9485023617744446,1,2.603717565536499,0,0,0,0,2.603717565536499,0,0,0,0,2.603717565536499,0,-.09988857805728912,1.4259425401687622,.236659437417984,1,1.98235023021698,0,0,0,0,1.98235023021698,0,0,0,0,1.98235023021698,0,.035125624388456345,1.6991735696792603,.14415201544761658,1,2.0626096725463867,0,0,0,0,2.0626096725463867,0,0,0,0,2.0626096725463867,0,.04818452149629593,1.6497795581817627,.7086437344551086,1,1.5676499605178833,0,0,0,0,1.5676499605178833,0,0,0,0,1.5676499605178833,0,.34234482049942017,2.9581985473632812,.7499079704284668,1,2.778796672821045,0,0,0,0,2.778796672821045,0,0,0,0,2.778796672821045,0,.276539146900177,2.448643207550049,-.8678989410400391,1,1.3993651866912842,0,0,0,0,1.3993651866912842,0,0,0,0,1.3993651866912842,0,.3211113214492798,2.394041061401367,-.5475131869316101,1]))}}$6e4cdf76216f8c5b$export$2e2bcd8739ae039.byd6=0;var $ilwiq=parcelRequire("ilwiq");class $3a7986dd1d38fda7$export$2e2bcd8739ae039{constructor(e){this.resources=e.resources,this.texture=e.texture,this.color=e.color??"#ffffff",this.iridescentColor=new $ilwiq.Color(e.iridescentColor??"#ffffff"),this.metalness=e.metalness??1,this.roughness=e.roughness??.2,this.bumpScale=e.bumpScale??2e-4,this.fesnelFrequency=e.fesnelFrequency??2,this.positionFrequency=e.positionFrequency??4.5,this.brightnessFrequency=e.brightnessFrequency??.6,this.brightnessOffset=e.brightnessOffset??.3,this.intensity=e.intensity??1,this.setGradient(),this.setBumpTexture(),this.setMaterial()}setGradient(){this.gradient={},this.gradient.canvas=document.createElement("canvas"),this.gradient.canvas.width=1,this.gradient.canvas.height=32,this.gradient.context=this.gradient.canvas.getContext("2d"),this.gradient.colors=["#db4848","#fff71a","#00ffee"],this.gradient.update=()=>{const e=this.gradient.context.createLinearGradient(0,0,0,this.gradient.canvas.height);e.addColorStop(0,this.gradient.colors[0]),e.addColorStop(.33,this.gradient.colors[1]),e.addColorStop(.66,this.gradient.colors[2]),e.addColorStop(1,this.gradient.colors[0]),this.gradient.context.fillStyle=e,this.gradient.context.fillRect(0,0,this.gradient.canvas.width,this.gradient.canvas.height),this.gradient.texture?this.gradient.texture.needsUpdate=!0:(this.gradient.texture=new $ilwiq.CanvasTexture(this.gradient.canvas,$ilwiq.UVMapping,$ilwiq.RepeatWrapping,$ilwiq.RepeatWrapping),this.gradient.texture.minFilter=$ilwiq.LinearFilter,this.gradient.texture.magFilter=$ilwiq.LinearFilter)},this.gradient.update()}setBumpTexture(){this.bumpTexture=this.resources.items.blueNoise32x32Texture,this.bumpTexture.wrapS=$ilwiq.RepeatWrapping,this.bumpTexture.wrapT=$ilwiq.RepeatWrapping,this.bumpTexture.needsUpdate=!0}setMaterial(){this.material=new $ilwiq.MeshStandardMaterial({color:this.color,metalness:this.metalness,roughness:this.roughness,bumpMap:this.bumpTexture,bumpScale:this.bumpScale}),this.material.userData.encodeColor=!1,this.uniforms={},this.uniforms.uIridescentFresnelFrequency={value:this.fesnelFrequency},this.uniforms.uIridescentPositionFrequency={value:this.positionFrequency},this.uniforms.uIridescentBrightnessFrequency={value:this.brightnessFrequency},this.uniforms.uIridescentBrightnessOffset={value:this.brightnessOffset},this.uniforms.uIridescentIntensity={value:this.intensity},this.uniforms.uIridescentGradientTexture={value:this.gradient.texture},this.uniforms.uIridescentMapTexture={value:this.texture},this.material.customProgramCacheKey=()=>Math.random(),this.material.onBeforeCompile=e=>{for(const t in this.uniforms)e.uniforms[t]=this.uniforms[t];e.vertexShader=e.vertexShader.replace("#include <common>","\n                    #include <common>\n\n                    varying vec3 vWorldPosition;\n                "),e.vertexShader=e.vertexShader.replace("#include <worldpos_vertex>","\n                    #include <worldpos_vertex>\n\n                    vWorldPosition = worldPosition.xyz;\n                "),e.fragmentShader=e.fragmentShader.replace("#include <common>","\n                    #include <common>\n\n                    uniform float uIridescentFresnelFrequency;\n                    uniform float uIridescentPositionFrequency;\n                    uniform float uIridescentIntensity;\n                    uniform float uIridescentBrightnessFrequency;\n                    uniform float uIridescentBrightnessOffset;\n                    uniform sampler2D uIridescentGradientTexture;\n                    uniform sampler2D uIridescentMapTexture;\n\n                    varying vec3 vWorldPosition;\n                "),e.fragmentShader=e.fragmentShader.replace("vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;","\n                    // Base\n                    vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n                    vec3 grayOutgoingLight = vec3((outgoingLight.r + outgoingLight.g + outgoingLight.b) / 3.0);\n\n                    // Iridescent color\n                    vec3 viewDirection = normalize(vWorldPosition.xyz - cameraPosition);\n                    float fresnel = (1.0 + dot(viewDirection, normal));\n                    float brightness = length(outgoingLight) / 3.0;\n\n                    float iridescentPicker = fresnel * uIridescentFresnelFrequency + distance(vec3(-20.0, 6.0, 0.0), vWorldPosition) * uIridescentPositionFrequency + brightness * uIridescentBrightnessFrequency;\n                    iridescentPicker = fract(iridescentPicker);\n\n                    vec3 iridescentGradientColor = texture2D(uIridescentGradientTexture, vec2(0.5, iridescentPicker)).rgb;\n\n                    vec3 iridescentColor = mix(outgoingLight, grayOutgoingLight, 0.0) * (1.0 + (iridescentGradientColor - 0.5) * uIridescentIntensity * (brightness + uIridescentBrightnessOffset));\n\n                    // Map\n                    float iridescentIntensity = 1.0 - texture2D(uIridescentMapTexture, vUv).r;\n                    // float iridescentIntensity = 1.0;\n\n                    // Final color\n                    outgoingLight = mix(outgoingLight * 0.3, iridescentColor, iridescentIntensity);\n                    // outgoingLight = vec3(iridescentPicker);\n                ")}}}var $ilwiq=parcelRequire("ilwiq");class $3b0d3e60d7134e5a$export$2e2bcd8739ae039{constructor(e,t,r){this.renderer=e,this.resources=t,this.scene=r,this.intensity=.7,this.mode="sceneTexture",this.asBackground=!1,this.pmremGenerator=new $ilwiq.PMREMGenerator(this.renderer),this.setSceneTexture(),this.updateScene()}setSceneTexture(){this.sceneTexture={},this.sceneTexture.blur=.0064,this.sceneTexture.lightColor=new $ilwiq.Color(9482458),this.sceneTexture.lightMultiplier=.3,this.sceneTexture.initialised=!1,this.sceneTexture.update=()=>{this.sceneTexture.scene.traverse((e=>{e.isPointLight&&(e.intensity=e.userData.intensity*this.sceneTexture.lightMultiplier)})),this.sceneTexture.renderTarget=this.pmremGenerator.fromScene(this.sceneTexture.scene,this.sceneTexture.blur),this.sceneTexture.texture=this.sceneTexture.renderTarget.texture},this.sceneTexture.initialise=()=>{this.sceneTexture.initialised||(this.sceneTexture.initialised=!0,this.sceneTexture.scene=new $ilwiq.Scene,this.sceneTexture.scene.add(this.resources.items.environmentModel.scene),this.sceneTexture.scene.traverse((e=>{if(e.isPointLight&&(e.color=this.sceneTexture.lightColor,e.userData.intensity=e.intensity),e.name.match(/^areaLight/)){const t=new $ilwiq.RectAreaLight(16777215,200*this.sceneTexture.lightMultiplier,e.scale.x,e.scale.z);t.color=this.sceneTexture.lightColor,t.rotation.x=.5*-Math.PI,e.add(t)}})),this.sceneTexture.update())}}updateScene(){this[this.mode].initialise(),this.scene.traverse((e=>{e.isMesh&&e.material.isMeshStandardMaterial&&(e.material.envMap=this.texture,e.material.envMapIntensity=this.intensity)})),this.scene.background=this.asBackground?this[this.mode].texture:null,this.scene.environment=this[this.mode].texture}}var $ilwiq=parcelRequire("ilwiq"),$d9fdaf8c0b7623cf$var$h=["#define GLSLIFY 1\n#ifdef INSTANCING\n\n\tattribute vec4 offset;\n\n#endif\n\nuniform float timer;\n\nuniform float mirror;\n\nvarying vec2 vUv;\n\nvarying float vWorldPosition;\n\nvarying float vScanSize;\n\n \nvarying float nShiftPower; \n\n#define rgb_shift_power 6.0\n\n// #pragma glslify: import('../../../shaders/offsetposition.glsl')\n\nfloat rand(float n){return fract(sin(n) * 43758.5453123);}\n\nvec3 when_gt(vec3 x, vec3 y) {\n  return max(sign(x - y), 0.0);\n}\n\nfloat when_gt(float x, float y) {\n  return max(sign(x - y), 0.0);\n}\n\n#define max_flat 8.0\n\nvarying vec2 vPosUv;\n\nvoid main() {\n\n\tvUv = uv;\n\n\tvec3 position \t\t=   position;\n\n\tvec3 tempPosition  \t=   (modelMatrix * vec4(position, 1.0)).xyz;\n\n\tvPosUv \t\t\t\t= \tvec2( tempPosition.x + tempPosition.z, tempPosition.y );\n\n\tvWorldPosition  \t= \tdistance( (modelMatrix * vec4(position, 1.0)).xz, cameraPosition.xz);\n\t\n\n\tfloat midZ \t\t\t=  -(modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0)).z;\n\n\tvScanSize \t\t\t= \tsmoothstep( max_flat, max_flat - 0.001, midZ);\n\n\tfloat mdlMidZ   \t=   (modelMatrix * vec4(0.0, 0.0, 0.0, 1.0)).z;\n\n\tnShiftPower \t\t= \tmix( rgb_shift_power, 0.0, when_gt(0.955, rand( floor( mdlMidZ + timer * 10.0 + modelMatrix[3].x)) ));\n\n\tgl_Position \t\t= \tprojectionMatrix * modelViewMatrix * vec4(position , 1.0);\n}\n"].join(""),$d9fdaf8c0b7623cf$var$f="#define GLSLIFY 1\nuniform sampler2D \ttInput;\n\nuniform float \t\ttimer;\n\nvarying float \t\tvWorldPosition;\n\nvarying float \t\tnShiftPower;\n\nvarying float \t\tvScanSize;\n\nuniform float \t\tmirror;\n\nvarying vec2 vUv;\n\nvarying vec2 vPosUv;\n\n#define GRID_SIZE 1000.0\n\nvec3 when_gt(vec3 x, vec3 y) {\n  return max(sign(x - y), 0.0);\n}\n\nfloat when_gt(float x, float y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec3 rgbShift(vec2 uv){\n\n\tfloat timer = timer;\n\n\tfloat d1 = nShiftPower * 0.001;\n\tfloat d2 = nShiftPower * 0.002;\n\n\tvec2 q   = uv * TEXTURE_RATIO;\n\n\tlowp vec3 col;\t\n\n\tfloat x =  nShiftPower * sin(0.3*timer+q.y*21.0)*sin(0.7*timer+q.y*29.0)*sin(0.3+0.33*timer+q.y*31.0)*0.0017;\n\n\tcol.r = texture2D(tInput,vec2(x + uv.x+ d1 ,uv.y+ d1)).x+0.05;\n\tcol.g = texture2D(tInput,vec2(x + uv.x  ,uv.y- d2)).y+0.05;\n\tcol.b = texture2D(tInput,vec2(x + uv.x- d2 ,uv.y    )).z+0.05;\n\n\tfloat nshiftQuater = nShiftPower * 0.75;\n\t\n\tcol.r += 0.08*texture2D(tInput,nshiftQuater*vec2(x+0.025, -0.027)+ nShiftPower * vec2(uv.x+0.001,uv.y+0.001)).x;\n\tcol.g += 0.05*texture2D(tInput,nshiftQuater*vec2(x-0.022, -0.02) + nShiftPower * vec2(uv.x+0.000,uv.y-0.002)).y;\n\tcol.b += 0.08*texture2D(tInput,nshiftQuater*vec2(x-0.02, -0.018) + nShiftPower * vec2(uv.x-0.002,uv.y+0.000)).z;\n\n\t\t\n\treturn col;\n}\n\nfloat scan(vec2 uv){\n\n\tvec2 q = uv * TEXTURE_RATIO;\n\n\t\n\t#ifdef SPECIAL\n\n\t\tfloat tt = 0.35+0.35*sin(3.5 * timer * 5.0 + vPosUv.y * GRID_SIZE );\n\n\t#else\n\n\t\tfloat tt = 0.35+0.35*sin(3.5 * timer * 5.0 + vPosUv.y * GRID_SIZE );\n\n\t#endif\n\n\treturn  max(when_gt(tt, 0.1), 0.6);\n}\n\nvec3 grid(vec2 uv){\n\n\tfloat scanSize = vScanSize * GRID_SIZE;\n\n\treturn when_gt(\n\n\t\t1.0-0.65*vec3(clamp((mod(vPosUv.x * scanSize , 2.0)-1.0)*2.0,0.0,1.0))\n\n\t, vec3(0.5));\n\t\n}\n\nvoid main() {\n\n\t// float fogg \t\t= getFogRatio(vWorldPosition);\n\n\tlowp vec4 final;\n\n\t#ifdef SPECIAL\n\n\t\tfinal = texture2D(tInput, vUv);\n\n\t#else \n\n\t\tif(nShiftPower > 0.0){\n\n\t\t\tfinal = vec4(rgbShift(vUv), 1.0);\n\n\t\t}\n\n\t\telse {\n\t\t\t\n\t\t\tfinal = texture2D(tInput, vUv);\n\t\t}\n\n\t#endif\n\n\tfinal.rgb \t   *= scan(vUv);\n\n\t#ifndef OCCLUSION\n\n\t\t// #ifndef MIRROR \n\n\t\t\t// #ifndef NO_GRID\n\n\t\t\t\t// final.rgb \t\t*= grid(vUv * TEXTURE_RATIO);\n\n\t\t\t// #endif\n\n\t\t// #endif\n\n\t#endif\n\n\t#ifndef D3\n\n\t#endif\n\n\tfinal.a \t\t*=  min(final.r + final.g + final.b, 1.0);\n\t\n\t// final.rgb \t= mix( vec3(1.0), final.rgb , fogg);\n\n\t// final.rgb  *= fogg;\n\n\t// vec4 occlusion \t= final;\n\n\tfloat mult = 0.6;\n\n\t#ifdef SPECIAL\n\n\t\tmult = 0.0;\n\n\t\tfinal.a = 1.0;\n\n\t#endif\n\n\t#ifdef VIDEO\n\n\t\tmult = 0.0;\n\n\t#endif\n\n\t#ifdef OCCLUSION \n\n\t\t// occlusion.rgb \t*= vec3(vUv, 1.0) ;\n\n\t\t\n\t\t#ifdef VIDEO\n\n\t\t\tfinal.rgb *= 0.5;\n\n\t\t#else \n\n\t\t\tfinal.rgb = mix( final.rgb, vec3(vUv, 1.0), mult);\n\n\t\t#endif\n\n\t#else\n\n\t\t#ifdef MIRROR \n\n\t\t\tfinal.rgb = mix( final.rgb, vec3(vUv, 1.0), mult) * 2.0;\n\n\t\t#else\n\n\t\t\t// final.rgb = mix( final.rgb, vec3(0.,100.,100.), mult);\n\n\t\t#endif\n\n\t#endif\n\n\t// final.rgb *= vec3(0.9568627450980393,0.9607843137254902,0.21176470588235294);\n\tfinal = 1.5*pow(final, vec4(1.2));\n\tif(final.a<.4){\n\t\tdiscard;\n\t}\n\tgl_FragColor = final;\n\n}\n";class $d9fdaf8c0b7623cf$export$2e2bcd8739ae039 extends $ilwiq.ShaderMaterial{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.image.width,n=t.image.height;t.isVideoTexture&&(r=1,n=1);var i={vertexShader:$d9fdaf8c0b7623cf$var$h,fragmentShader:$d9fdaf8c0b7623cf$var$f,uniforms:{tInput:{value:t},timer:{value:0},fog:{value:new $ilwiq.Vector2(0,0)}},transparent:!0,side:2,defines:{TEXTURE_RATIO:""+parseFloat(r/n).toFixed(1)}};1==t.isVideoTexture&&(i.defines.VIDEO="1.0"),e.special&&(i.defines.SPECIAL="1.0"),e.D3&&(i.defines.D3="1.0"),super(i),this.occlusionMaterial=new $ilwiq.ShaderMaterial(i),i.defines=Object.assign({},i.defines),i.defines.MIRROR="",i.defines.NO_GRID="1.0",this.mirrorMaterial=new $ilwiq.ShaderMaterial(i)}}var $ca25cbc5d24b662f$require$o=$d9fdaf8c0b7623cf$export$2e2bcd8739ae039,$ilwiq=parcelRequire("ilwiq");class $f787f976c9f4b80d$export$2e2bcd8739ae039 extends $ilwiq.Mesh{constructor(e,t,r){var n;super(e,t),n=t.occlusionMaterial,this.originalmaterial=t,this.finalOcclusionMat=n,this.finalOcclusionMat.defines=Object.assign({},this.originalmaterial.defines),this.finalOcclusionMat.defines.OCCLUSION="1",this.occlusionEvent=this._onOcclusion.bind(this),this._diffusePreviousVisibility=null,this._occlusionPreviousVisibility=null,this.ruleOptions={visibleOnDiffuse:!0,visibleOnOcclusion:!0}}_onOcclusion(e){this.material=e?this.finalOcclusionMat:this.originalmaterial}}var $4fd94a2f4870b83f$require$r=$f787f976c9f4b80d$export$2e2bcd8739ae039;class $4fd94a2f4870b83f$export$2e2bcd8739ae039 extends $4fd94a2f4870b83f$require$r{constructor(e,t,r){super(e,t),r.texture.image.width,r.texture.image.height,this.originalMaterial=this.material,this.previousMaterial=null,this.texture=r.texture}onMirror(e){1==e?(this.previousMaterial=this.material,this.material=this.originalMaterial.mirrorMaterial):this.material=this.previousMaterial}}var $ca25cbc5d24b662f$require$s=$4fd94a2f4870b83f$export$2e2bcd8739ae039,$ca25cbc5d24b662f$var$l={visibleOnOcclusion:!0,visibleOnDiffuse:!0,scale:4,scanned:!0},$ca25cbc5d24b662f$export$2e2bcd8739ae039=new class{constructor(){}getHolo(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object.assign({},$ca25cbc5d24b662f$var$l);return(n=Object.assign(n,r)).texture=t,this.material=new $ca25cbc5d24b662f$require$o(n,t),this.material.customProgramCacheKey=function(){return"1"},new $ca25cbc5d24b662f$require$s(e,this.material,n)}};const $5ba8325ee1ac8528$var$vConsole=new($parcel$interopDefault($h7TnM))({theme:"dark"});class $5ba8325ee1ac8528$export$c3d83ca6855fa0d0{constructor(){this.resources=new $c2bea90aa2a2f8c7$export$e9a269813a6315a4,this.controller=new $b1a51a1f766746c2$export$bd0bf19f25da8474({canvas:document.querySelector("#canvas"),pixelRatio:window.devicePixelRatio,control:!0,debugFBO:0}),this.renderer=this.controller.renderer,this.renderer.physicallyCorrectLights=!0,this.renderer.shadowMap.enabled=!0,this.renderer.toneMapping=$ilwiq.ACESFilmicToneMapping,this.renderer.toneMappingExposure=1;let e=this.controller.controls;e.enablePan=!1,e.minPolarAngle=Math.PI/4,e.zoomSpeed=.1,this.promiseList=[],this.point=0,this.raycaster=new $ilwiq.Raycaster,this.mouse=new $ilwiq.Vector2,this.bufferSize=new(0,$ilwiq.Vector2),this.controller.renderer.getDrawingBufferSize(this.bufferSize),this.holographicScene=new(0,$ilwiq.Scene),this.baseScene=new(0,$ilwiq.Scene),this.viewSize=new(0,$ilwiq.Vector2)(window.innerWidth,window.innerHeight),this.loadingManager=new(0,$ilwiq.LoadingManager),this.gltfLoader=new $559434fcc6e6401d$export$aa93f11e7884f0f4(this.loadingManager),this.tanksModelsUrls=["./resources/tankBinance.glb","./resources/tankChainlink.glb","./resources/tankPolkadot.glb","./resources/tankPolygon.glb","./resources/tankSolana.glb","./resources/tankFileCoin.glb"],this.tanksModelsSize=[1,.85,.95,1,1,1],this.loadSource(),this.smaa=new $6e97adbbaeeb8831$export$2e2bcd8739ae039({renderer:this.controller.renderer}),this.smaa.resize(this.controller.resolution),this.controller.postProcessingPipeline=()=>{this.smaa.render(this.controller.branchRenderingMergeTarget)},this.controller.setFBODebug(this.controller.branchRenderingMergeTarget,""),this.controller.setFBODebug(this.smaa.renderTargets.rt1,""),this.controller.setFBODebug(this.smaa.renderTargets.rt2,"")}init(){this.initRenderTarget(),this.setTextures(),this.initSpace(),this.initEffect(),this.controller.on("windowResize",(e=>{this.handleResize()})),this.handleResize(),this.initAnimate(),this.glitchAnimate(),this.initEvent(),new $3b0d3e60d7134e5a$export$2e2bcd8739ae039(this.controller.renderer,this.resources,this.baseScene)}initEvent(){window.addEventListener("click",this.raycasterEvent.bind(this),!1),window.addEventListener("touchstart",this.raycasterEvent.bind(this),!1)}raycasterEvent(e){e.preventDefault(),e.touches?(this.mouse.x=e.touches[0].pageX/window.innerWidth*2-1,this.mouse.y=-e.touches[0].pageY/window.innerHeight*2+1):(this.mouse.x=e.clientX/window.innerWidth*2-1,this.mouse.y=-e.clientY/window.innerHeight*2+1),this.raycaster.setFromCamera(this.mouse,this.controller.cameras.perspective),this.raycaster.intersectObjects(this.tankContainer.children,!0).length>0&&this.nextTank()}handleClickTank(e){this.updateMousePosition(e);let t=this.controller.cameras.perspective,r=new $ilwiq.Vector3(this.mouse.x,this.mouse.y,.5).unproject(t);new $ilwiq.Raycaster(t.position,r.sub(t.position).normalize()).intersectObjects(this.tankContainer.children).length>0&&this.nextTank()}updateMousePosition(e){this.mouse.x=e.clientX/window.innerWidth*2-1,this.mouse.y=-e.clientY/window.innerHeight*2+1}switchAnimate(){this.promiseList[this.point]||(this.promiseList[this.point]=this.gltfLoader.loadAsync(this.tanksModelsUrls[this.point]).then((e=>{let t=e.scene;return t.traverse((e=>{e.isMesh&&(e.material=this.tankMaterial)})),t.scale.multiplyScalar(this.tanksModelsSize[this.point]),t})));const e=this.point;this.promiseList[this.point].then((t=>{if(e!==this.point)return;const r=new $21bb7f0d2894673a$export$e6a97ba2cae5bb94,n=new $21bb7f0d2894673a$export$e6a97ba2cae5bb94;n.timeScale(this.tankContainer.children.length?1:100),r.add(n),n.to(this.holographic.material.uniforms.pixelSize,{value:30,duration:.5,ease:$21bb7f0d2894673a$export$f7a11c7543d81853.config(5)},"in"),n.to(this.holographic.material.uniforms.channelOffset.value,{y:1,duration:.5},"in"),n.to(this.holographic.material.uniforms.scale.value,{y:2,duration:.5},"in"),n.to(this.holographic.material.uniforms.weaken,{value:0,duration:.5},"in");const i=new $21bb7f0d2894673a$export$e6a97ba2cae5bb94;i.timeScale(this.tankContainer.children.length?1:.5),r.add(i),i.call((()=>{this.tankContainer.clear().add(t)}),[],"out"),i.to(this.holographic.material.uniforms.pixelSize,{value:2,ease:$21bb7f0d2894673a$export$f7a11c7543d81853.config(5)},"out"),i.to(this.holographic.material.uniforms.channelOffset.value,{y:2},"out"),i.to(this.holographic.material.uniforms.scale.value,{y:1},"out"),i.to(this.holographic.material.uniforms.weaken,{value:.2,duration:.5},"out")}))}previousTank(){this.point--,this.point<0&&(this.point=this.tanksModelsUrls.length-1),this.switchAnimate()}nextTank(){this.point=(this.point+1)%this.tanksModelsUrls.length,this.switchAnimate()}glitchAnimate(){this.glitchTimeline=new $21bb7f0d2894673a$export$e6a97ba2cae5bb94({repeat:-1,delay:1,repeatRefresh:!0}),this.glitchTimeline.addLabel("start",0),this.glitchTimeline.to(this.holographic.material.uniforms.scale.value,{delay:()=>$ilwiq.MathUtils.randFloat(2,10),x:()=>$ilwiq.MathUtils.randFloat(10,20)},"start"),this.glitchTimeline.to(this.holographic.material.uniforms.channelOffset.value,{x:()=>$ilwiq.MathUtils.randFloat(-20,20)},"<"),this.glitchTimeline.to(this.holographic.material.uniforms.scale.value,{x:1},">"),this.glitchTimeline.to(this.holographic.material.uniforms.channelOffset.value,{x:2},"<"),this.glitchTimeline.to(this.holographic.material.uniforms.pixelSize,{delay:()=>$ilwiq.MathUtils.randFloat(2,10),value:()=>$ilwiq.MathUtils.randFloat(2,10)},"start"),this.glitchTimeline.to(this.holographic.material.uniforms.pixelSize,{value:2},">"),this.glitchTimeline.play()}initAnimate(){this.initTimeLine=new $21bb7f0d2894673a$export$e6a97ba2cae5bb94({delay:1,paused:!1});const e=$213ead1fc3ee47d5$export$116b12203755670f.config({template:$21bb7f0d2894673a$export$f301627d437cff88.easeOut,strength:2,points:20,taper:"none",randomize:!0,clamp:!1}),t=$213ead1fc3ee47d5$export$116b12203755670f.config({template:$21bb7f0d2894673a$export$f301627d437cff88.easeOut,strength:1,points:10,taper:"none",randomize:!0,clamp:!1});this.initTimeLine.to(this.yellowCircle.material.color,{...new(0,$ilwiq.Color)(16753920),duration:2,ease:e},"0"),this.initTimeLine.to(this.yellowCircle.material.color,{...new(0,$ilwiq.Color)(9395200),duration:5,repeat:-1,yoyo:!0,ease:t},">");$213ead1fc3ee47d5$export$116b12203755670f.config({template:$21bb7f0d2894673a$export$f301627d437cff88.easeOut,strength:1,points:20,taper:"none",randomize:!0,clamp:!1});this.initTimeLine.call((()=>this.switchAnimate()),[],"0+=1"),this.initTimeLine.play()}handleResize(){this.viewSize.width;this.viewSize.set(window.innerWidth,window.innerHeight),this.controller.renderer.getDrawingBufferSize(this.bufferSize),this.volume.setSize(this.bufferSize.width/4,this.bufferSize.height/4),this.dof&&(this.dof.setSize(this.bufferSize.width/2,this.bufferSize.height/2),this.dof.s8.uniforms.resolution.value.copy(this.bufferSize)),this.bloom.setSize(this.bufferSize.width/4,this.bufferSize.height/4),this.noise.i8.uniforms.resolution.value.set(this.bufferSize.width,this.bufferSize.height),this.lc.setSize(this.bufferSize.width,this.bufferSize.height),this.ccv.setSize(this.bufferSize.width,this.bufferSize.height),this.holographic.material.uniforms.resolution.value.copy(this.bufferSize)}initEffect(){this.volume=new $70b1be387e93016a$export$2e2bcd8739ae039(this.controller.renderer,this.baseScene,this.controller.cameras.perspective,this.bufferSize.width/4,this.bufferSize.height/4),this.volume.lightSource=this.yellowCircle,this.volume.scene=this.baseScene,this.bloom=new $6cc70b0d79866c6f$export$2e2bcd8739ae039(this.controller.renderer,this.bufferSize.width/4,this.bufferSize.height/4),this.bloom.ii7.uniforms.strength.value=.7,this.bloom.ii7.uniforms.contrast.value=1.2,this.bloom.s8.uniforms.offset.value=.4,this.noise=new $ffce460c26a55d20$export$2e2bcd8739ae039(this.controller.renderer,this.bufferSize.width,this.bufferSize.height,this.resources.items.dirtTexture),this.dof=new $f23b4bbf0e1eaac8$export$2e2bcd8739ae039(this.controller.renderer,this.bufferSize.width/2,this.bufferSize.height/2),this.dof.ki7.uniforms.near.value=this.controller.cameras.perspective.near,this.dof.ki7.uniforms.far.value=this.controller.cameras.perspective.far,this.dof.s8.uniforms.resolution.value.copy(this.bufferSize)}initSpace(){this.space=new $a6f5caf5f547dba6$export$eef1e68107c58ef2({name:"space",deep:10,specialColor:new $ilwiq.Color(0)}),this.boxContainer=new $ilwiq.Object3D,this.boxScene=this.resources.items.box.scene,this.hbase=this.resources.items.hbase.scene.getObjectByName("Room"),this.hbaseIridescent=new $3a7986dd1d38fda7$export$2e2bcd8739ae039({resources:this.resources,texture:null,color:"#333333",metalness:.6,roughness:.3,bumpScale:1e-4,fesnelFrequency:4,positionFrequency:1.5,brightnessFrequency:.2,brightnessOffset:.3,intensity:1}),this.hbase.material=this.hbaseIridescent.material,this.hbase.rotation.x=.5*-Math.PI,this.hbase.rotation.y=.25*-Math.PI,this.hbase.position.set(.01,.025,1.4),this.hbase.userData[$fb44001dfc502d98$export$2e2bcd8739ae039.isShadingObject]=!0,this.boxScene.add(this.hbase),this.boxScene.rotation.order="YXZ",this.boxScene.rotation.x=.5*Math.PI,this.boxContainer.add(this.boxScene),this.plasticCover=this.boxScene.getObjectByName("plasticCover004"),this.plasticCover.material=new $ilwiq.MeshStandardMaterial({color:16777215,metalness:1,roughness:.25,opacity:.2,transparent:!0}),this.plasticCover.renderOrder=1,this.base=this.boxScene.getObjectByName("base002"),this.base.material=new $ilwiq.MeshStandardMaterial({metalness:.2,roughness:.5,color:3486775}),this.iridescent=new $3a7986dd1d38fda7$export$2e2bcd8739ae039({resources:this.resources,texture:this.textures.stickerSmiley,color:"#afafaf",metalness:0,roughness:.3,bumpScale:1e-4,fesnelFrequency:4,positionFrequency:4.5,brightnessFrequency:.2,brightnessOffset:-1,intensity:2}),this.smiley=this.boxScene.getObjectByName("stickerSmiley002"),this.smiley.material=this.iridescent.material,this.smiley.material.userData.updateEncoding=!1,this.moldIridescent=new $3a7986dd1d38fda7$export$2e2bcd8739ae039({resources:this.resources,texture:null,color:"#353437",metalness:.45,roughness:.65,bumpScale:2e-4,fesnelFrequency:2,positionFrequency:.1,brightnessFrequency:1,brightnessOffset:-1,intensity:.5}),this.mold=this.boxScene.getObjectByName("mold007"),this.mold.material=this.moldIridescent.material,this.stickerCornerIridescent=new $3a7986dd1d38fda7$export$2e2bcd8739ae039({resources:this.resources,texture:this.textures.stickerOnscout,color:"#ffffff",iridescentColor:"#7a7a7a",metalness:.3,roughness:.3,bumpScale:1e-4,fesnelFrequency:2,positionFrequency:4.5,brightnessFrequency:.2,brightnessOffset:-1,intensity:2}),this.stickerCorner=this.boxScene.getObjectByName("stickerCorner001"),this.stickerCorner.material=this.stickerCornerIridescent.material,this.title=this.getHoloMesh(this.textures.title),this.title.position.set(-.1,-.8,.62),this.baseScene.add(this.title);let e=this.textures.studio;this.studioGeometry=new $ilwiq.PlaneBufferGeometry(8e-4*e.image.width,8e-4*e.image.height),this.studioMaterial=new $ilwiq.MeshStandardMaterial({metalness:0,roughness:.5,alphaMap:this.textures.studio,transparent:!0,alphaTest:.1}),this.studio=new $ilwiq.Mesh(this.studioGeometry,this.studioMaterial),this.studio.position.set(.65,.85,.62),this.baseScene.add(this.studio);let t=this.textures.side;this.sideGeometry=new $ilwiq.PlaneBufferGeometry(8e-4*t.image.width,8e-4*t.image.height),this.sideMaterial=new $ilwiq.MeshStandardMaterial({color:16777215,metalness:1,roughness:1,alphaMap:this.textures.side,transparent:!0,alphaTest:.1}),this.side=new $ilwiq.Mesh(this.sideGeometry,this.sideMaterial),this.side.position.set(-1.05,-.5,0),this.side.rotation.x=.5*-Math.PI,this.side.rotation.y=.5*-Math.PI,this.baseScene.add(this.side);let r=this.textures.partners;this.partnersGeometry=new $ilwiq.PlaneBufferGeometry(8e-4*r.image.width,8e-4*r.image.height),this.partnersMaterial=new $ilwiq.MeshStandardMaterial({color:16777215,metalness:0,roughness:0,alphaMap:this.textures.partners,transparent:!0,alphaTest:.1}),this.partners=new $ilwiq.Mesh(this.partnersGeometry,this.partnersMaterial),this.partners.scale.divideScalar(1.5),this.partners.position.set(1.05,.5,-.2),this.partners.rotation.x=.5*-Math.PI,this.partners.rotation.y=.5*Math.PI,this.baseScene.add(this.partners),this.yellowCircle=new(0,$ilwiq.Mesh)(new(0,$ilwiq.CircleGeometry)(.45,32),new $ilwiq.MeshStandardMaterial({color:9395200})),this.yellowCircle.userData[$fb44001dfc502d98$export$2e2bcd8739ae039.isLightSource]=!0,this.yellowCircle.position.y=-.9,this.yellowCircle.rotation.x=-Math.PI/2,this.yellowCircle.scale.divideScalar(1.8),this.baseScene.add(this.yellowCircle),this.smoke=new $6e4cdf76216f8c5b$export$2e2bcd8739ae039({noiseTexture:this.resources.items.noiseTexture,maskTexture:this.resources.items.maskTexture}),this.smoke.scale.divideScalar(3),this.smoke.position.set(0,-1,0),this.baseScene.add(this.smoke),this.nameGeometry=new $ilwiq.PlaneBufferGeometry(1.5,1.5),this.nameMaterial=new $ilwiq.ShaderMaterial({vertexShader:"\n            varying vec2 vUv;\n\n            void main()\n            {\n                vUv = uv;\n                gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n            }\n            ",fragmentShader:"                                    \n                uniform sampler2D uTexture;\n                uniform float uTime;\n                varying vec2 vUv;\n\n                void main() {\n                    vec4 color = texture2D(uTexture, vUv);\n                    if(color.r<0.5){\n                        discard;\n                    }\n                    float e = sin(vUv.y * 4.0 + vUv.x * 1.2 + uTime * 20.0);\n                    vec4 outputColor = mix(vec4(0.9882352941176471,0.9254901960784314,0.21568627450980393,1.),vec4(1.,0.9921568627450981,0.4392156862745098,1.),e) * color;\n                    gl_FragColor = outputColor;\n                }\n                ",uniforms:{uTime:{value:2432.12*Math.random()},uTexture:{value:this.textures.name}},transparent:!0,depthWrite:!1,blending:$ilwiq.AdditiveBlending}),this.nameMesh=new $ilwiq.Mesh(this.nameGeometry,this.nameMaterial),this.nameMesh.position.set(0,0,-.55),this.baseScene.add(this.nameMesh),this.boxContainer.traverse((e=>{e.isMesh&&"plasticCover004"!=e.name&&(e.userData[$fb44001dfc502d98$export$2e2bcd8739ae039.isShadingObject]=!0)})),this.baseSnap=new $a525edbe2fa7e694$export$2e2bcd8739ae039(this.controller.renderer,this.baseScene,this.controller.cameras.perspective),this.holographicSnap=new $a525edbe2fa7e694$export$2e2bcd8739ae039(this.controller.renderer,this.holographicScene,this.controller.cameras.perspective),this.holographic=new $0fbb78e194f0e9a6$export$2e2bcd8739ae039(!0),this.holographic.material.uniforms.resolution.value.copy(this.bufferSize),this.baseScene.add(this.holographic),this.tankMaterial=new(0,$ilwiq.RawShaderMaterial)({vertexShader:"\n            uniform mat4 projectionMatrix;\n            uniform mat4 modelMatrix;\n            uniform mat4 viewMatrix;\n            attribute vec3 position;\n            attribute vec3 normal;\n            varying vec3 vPos;\n            varying vec3 vNormal;\n            void main(){\n                vec4 A;\n                A.w=1.;\n                A.xyz=position;\n                vec4 B;\n                B=(modelMatrix*A);\n                vPos=B.xyz;\n                vec4 C;\n                C.w=0.;\n                C.xyz=normal;\n                vNormal=normalize((modelMatrix*C).xyz);\n                gl_Position=((projectionMatrix*viewMatrix)*B);\n            }\n            ",fragmentShader:"\n            precision highp float;\n            uniform vec3 cameraPosition;\n            uniform vec3 colorA;\n            uniform vec3 colorB;\n            varying vec3 vPos;\n            varying vec3 vNormal;\n            void main(){\n                mediump vec4 A;\n                A.w=1.;\n                A.xyz=mix(colorA,colorB,clamp((1.-dot(normalize((cameraPosition-vPos)),vNormal)),0.,1.));\n                A.xyz = 1.2*pow(A.xyz, vec3(1.));\n                A.a = 0.9;\n                gl_FragColor=A;\n            }\n            ",uniforms:{colorA:{value:new(0,$ilwiq.Color)(16753920)},colorB:{value:new(0,$ilwiq.Color)(14540253)}},transparent:!0}),this.tankContainer=new(0,$ilwiq.Object3D),this.holographicScene.add(this.tankContainer),this.baseScene.add(this.boxContainer),this.controller.allowRender.add("space"),this.controller.addSpace(this.space),this.controller.setFBODebug(this.space.output,""),this.spotLight=new $ilwiq.SpotLight(16777215,25,0,Math.PI/1.5),this.spotLight.position.set(2.90234,5.81491,3),this.baseScene.add(this.spotLight),this.space.animate=e=>{this.title.material.uniforms.timer.value=.001*this.space.time,this.coreCube&&(this.coreCube.rotation.y+=5e-4*e,this.coreCube.rotation.x+=7e-4*e),this.smoke.material.uniforms.elapsedTime.value=.001*this.space.time,this.noise.i8.uniforms.elapsedTime.value=.005*this.space.time,this.nameMaterial.uniforms.uTime.value=1e-4*this.space.time,this.tankContainer&&(this.tankContainer.rotation.y+=5e-4*e),this.holographic.material.uniforms.elapsedTime.value=5e-4*this.space.time},this.space.renderSpace=()=>{let e=this.controller.renderer.getRenderTarget();const t=this.volume.render();this.controller.renderer.setRenderTarget(this.ccv),this.controller.renderer.clear(!0,!0,!1),this.holographicSnap.render(this.ccv),this.holographic.material.uniforms.inputTexture.value=this.ccv.texture,this.holographic.material.uniforms.depthTexture.value=this.ccv.depthTexture,this.controller.renderer.setRenderTarget(this.lc),this.controller.renderer.clear(!0,!0,!1),this.baseSnap.render(this.lc),this.bloom.render(this.lc.texture,this.bloom.output),this.controller.renderer.setRenderTarget(e),this.noise.render(this.lc.texture,this.bloom.output.texture,t)}}initRenderTarget(){this.lc=new(0,$ilwiq.WebGLRenderTarget)(this.bufferSize.width,this.bufferSize.height),this.lc.depthTexture=new(0,$ilwiq.DepthTexture)(this.bufferSize.width,this.bufferSize.height),this.ccv=new(0,$ilwiq.WebGLRenderTarget)(this.bufferSize.width,this.bufferSize.height),this.ccv.depthTexture=new(0,$ilwiq.DepthTexture)(this.bufferSize.width,this.bufferSize.height)}loadSource(){this.resources.loader.load([{name:"environmentModel",source:"./resources/environmentModel.gltf"},{name:"box",source:"./resources/box2.glb"},{name:"hbase",source:"./resources/hbase.glb"},{name:"stickerSmiley",source:"./resources/stickerSmiley.png",type:"texture"},{name:"stickerOnscout",source:"./resources/stickerOnscout.png",type:"texture"},{name:"blueNoise32x32",source:"./resources/HDR_L_2.png",type:"texture"},{name:"title",source:"./resources/title.png",type:"texture"},{name:"noise",source:"./resources/noise.jpg",type:"texture"},{name:"mask",source:"./resources/mask.jpg",type:"texture"},{name:"dirt",source:"./resources/dirt.jpg",type:"texture"},{name:"name",source:"./resources/name.jpg",type:"texture"},{name:"studio",source:"./resources/studio.jpg",type:"texture"},{name:"side",source:"./resources/side.jpg",type:"texture"},{name:"partners",source:"./resources/partners.png",type:"texture"}]);let e=document.querySelector(".barInner");this.resources.on("progress",(t=>{$357b3f2d5f2ec9d5$export$99ee26438460406a.to(e,{duration:.5,width:this.percentToPixel(e,100*t)+"px"})})),this.resources.on("loadReady",(()=>{this.init(),setTimeout((()=>{document.querySelector(".curtain").classList.add("loaded"),this.controller.work=!0}),500)}))}percentToPixel(e,t){return e.parentElement.offsetWidth/100*parseFloat(t)}getHoloMesh(e){e.flipY=!0;let t=.003*e.image.width,r=.003*e.image.height,n=new $ilwiq.PlaneBufferGeometry(t,r);return $ca25cbc5d24b662f$export$2e2bcd8739ae039.getHolo(n,e,{special:!1,nogrid:!1,instancing:!1})}setTextures(){this.textures={};let e=this.textures;e.stickerSmiley=this.resources.items.stickerSmileyTexture,e.stickerOnscout=this.resources.items.stickerOnscoutTexture;for(const t in e){const r=e[t];r.minFilter=$ilwiq.LinearMipmapLinearFilter,r.magFilter=$ilwiq.LinearFilter,r.wrapS=$ilwiq.ClampToEdgeWrapping,r.wrapT=$ilwiq.ClampToEdgeWrapping,r.flipY=!1}e.name=this.resources.items.nameTexture,e.name.minFilter=$ilwiq.LinearFilter,e.name.magFilter=$ilwiq.LinearFilter,e.studio=this.resources.items.studioTexture,e.studio.minFilter=$ilwiq.LinearFilter,e.studio.magFilter=$ilwiq.LinearFilter,e.side=this.resources.items.sideTexture,e.side.minFilter=$ilwiq.LinearFilter,e.side.magFilter=$ilwiq.LinearFilter,e.partners=this.resources.items.partnersTexture,e.partners.minFilter=$ilwiq.LinearFilter,e.partners.magFilter=$ilwiq.LinearFilter,e.title=this.resources.items.titleTexture,e.title.minFilter=$ilwiq.LinearFilter,e.title.magFilter=$ilwiq.LinearFilter,e.title.flipY=!1}}window.addEventListener("load",(()=>{new $5ba8325ee1ac8528$export$c3d83ca6855fa0d0}));
